const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DC55qVI8.js","./function-CA7TTpN2.js","./wrapNativeSuper-ezTqcbMv.js","./index-uubelm5h.js","./iframe-DgUMyP4l.js","./index.module-DxXt3xcv.js","./wasm-C3nci4kN.js","./index-BK_xiHMm.js","./button-ePKmQEOz.js","./index-TW2i6qtr.js","./function-C84Z0V97.css"])))=>i.map(i=>d[i]);
import{_ as St,j as E}from"./wrapNativeSuper-ezTqcbMv.js";import{r as S,R as j,c as Bs,g as Cw}from"./index-uubelm5h.js";import{j as Ew,k as Sw,l as Aw,D as a0,p as ft,b as fn,g as su,f as u0,P as c0,R as ou,a as Jc,I as Nw,c as Fw,H as Tw}from"./diff-icon-D2Ih-KQh.js";import{ae as $s,K as l0,L as Ji,M as Iw,X as d0,af as Bw,H as f0,N as Rw,C as xo,u as au,c as Vn,a0 as kw,ag as Mw,n as Ow,a2 as zw,m as $w,Q as Pw,a3 as jw,a8 as Lw,q as Hw,a as Vw,aF as Uw,I as At,z as je,a9 as ze,i as Zs,aa as dn,a7 as Qn,t as Ww}from"./wasm-C3nci4kN.js";import{b as Gw,r as Zw,c as qw,d as Ps,M as Zl,N as Ze,D as Yw,e as ql,F as Dr,f as hl,g as h0,R as Xw,a as Kw,h as Jw,i as Qw}from"./dt-D8YQkDwU.js";import{N as e2,a as gi,b as t2,c as n2,u as r2,d as i2,A as s2,D as Xs,s as Rt,T as p0,S as o2,e as a2}from"./index.module-DxXt3xcv.js";import{r as g0}from"./index-BK_xiHMm.js";import{E as u2}from"./expression-sLmbxeTY.js";import{c as Ge,T as wt,R as c2}from"./ce-NTwPBOZy.js";import{R as l2,r as d2,B as et}from"./button-ePKmQEOz.js";import{P as f2,a as Qc,c as pl,R as h2,b as Zh,S as Yl,e as p2,d as g2,p as m2}from"./function-CA7TTpN2.js";import{_ as y2}from"./iframe-DgUMyP4l.js";const v2=e=>{const{componentCls:t,notificationMarginEdge:n,animationMaxHeight:i}=e,o=`${t}-notice`,a=new $s("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),u=new $s("antNotificationTopFadeIn",{"0%":{top:-i,opacity:0},"100%":{top:0,opacity:1}}),l=new $s("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(i).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),d=new $s("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[o]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:u}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:l}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:a}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[o]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:d}}}}},_2=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],D2={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},x2=(e,t)=>{const{componentCls:n}=e;return{[`${n}-${t}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[D2[t]]:{value:0,_skip_check_:!0}}}}},w2=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},b2=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)},C2=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`all ${e.motionDurationSlow}, backdrop-filter 0s`,position:"absolute"},w2(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},b2(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},_2.map(n=>x2(e,n)).reduce((n,i)=>Object.assign(Object.assign({},n),i),{}))},m0=e=>{const{iconCls:t,componentCls:n,boxShadow:i,fontSizeLG:o,notificationMarginBottom:a,borderRadiusLG:u,colorSuccess:l,colorInfo:d,colorWarning:f,colorError:h,colorTextHeading:g,notificationBg:m,notificationPadding:D,notificationMarginEdge:C,notificationProgressBg:v,notificationProgressHeight:w,fontSize:_,lineHeight:T,width:A,notificationIconSize:F,colorText:M}=e,P=`${n}-notice`;return{position:"relative",marginBottom:a,marginInlineStart:"auto",background:m,borderRadius:u,boxShadow:i,[P]:{padding:D,width:A,maxWidth:`calc(100vw - ${Ji(e.calc(C).mul(2).equal())})`,overflow:"hidden",lineHeight:T,wordWrap:"break-word"},[`${P}-message`]:{marginBottom:e.marginXS,color:g,fontSize:o,lineHeight:e.lineHeightLG},[`${P}-description`]:{fontSize:_,color:M},[`${P}-closable ${P}-message`]:{paddingInlineEnd:e.paddingLG},[`${P}-with-icon ${P}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(F).equal(),fontSize:o},[`${P}-with-icon ${P}-description`]:{marginInlineStart:e.calc(e.marginSM).add(F).equal(),fontSize:_},[`${P}-icon`]:{position:"absolute",fontSize:F,lineHeight:1,[`&-success${t}`]:{color:l},[`&-info${t}`]:{color:d},[`&-warning${t}`]:{color:f},[`&-error${t}`]:{color:h}},[`${P}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},Iw(e)),[`${P}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${Ji(u)} * 2)`,left:{_skip_check_:!0,value:u},right:{_skip_check_:!0,value:u},bottom:0,blockSize:w,border:0,"&, &::-webkit-progress-bar":{borderRadius:u,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:v},"&::-webkit-progress-value":{borderRadius:u,background:v}},[`${P}-btn`]:{float:"right",marginTop:e.marginSM}}},E2=e=>{const{componentCls:t,notificationMarginBottom:n,notificationMarginEdge:i,motionDurationMid:o,motionEaseInOut:a}=e,u=`${t}-notice`,l=new $s("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},d0(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:i,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:a,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:a,animationFillMode:"both",animationDuration:o,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:l,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${u}-btn`]:{float:"left"}}})},{[t]:{[`${u}-wrapper`]:Object.assign({},m0(e))}}]},y0=e=>({zIndexPopup:e.zIndexPopupBase+Bw+50,width:384}),v0=e=>{const t=e.paddingMD,n=e.paddingLG;return f0(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:n,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${Ji(e.paddingMD)} ${Ji(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})},_0=l0("Notification",e=>{const t=v0(e);return[E2(t),v2(t),C2(t)]},y0),S2=Rw(["Notification","PurePanel"],e=>{const t=`${e.componentCls}-notice`,n=v0(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},m0(n)),{width:n.width,maxWidth:`calc(100vw - ${Ji(e.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}},y0);var A2=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};function Xl(e,t){return t===null||t===!1?null:t||S.createElement(gi,{className:`${e}-close-icon`})}const N2={success:t2,info:n2,error:kw,warning:l2},D0=e=>{const{prefixCls:t,icon:n,type:i,message:o,description:a,btn:u,role:l="alert"}=e;let d=null;return n?d=S.createElement("span",{className:`${t}-icon`},n):i&&(d=S.createElement(N2[i]||null,{className:Vn(`${t}-icon`,`${t}-icon-${i}`)})),S.createElement("div",{className:Vn({[`${t}-with-icon`]:d}),role:l},d,S.createElement("div",{className:`${t}-message`},o),S.createElement("div",{className:`${t}-description`},a),u&&S.createElement("div",{className:`${t}-btn`},u))},F2=e=>{const{prefixCls:t,className:n,icon:i,type:o,message:a,description:u,btn:l,closable:d=!0,closeIcon:f,className:h}=e,g=A2(e,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:m}=S.useContext(xo),D=t||m("notification"),C=`${D}-notice`,v=au(D),[w,_,T]=_0(D,v);return w(S.createElement("div",{className:Vn(`${C}-pure-panel`,_,n,T,v)},S.createElement(S2,{prefixCls:D}),S.createElement(e2,Object.assign({},g,{prefixCls:D,eventKey:"pure",duration:null,closable:d,className:Vn({notificationClassName:h}),closeIcon:Xl(D,f),content:S.createElement(D0,{prefixCls:C,icon:i,type:o,message:a,description:u,btn:l})}))))};function T2(e,t,n){let i;switch(e){case"top":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":i={left:0,top:t,bottom:"auto"};break;case"topRight":i={right:0,top:t,bottom:"auto"};break;case"bottom":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":i={left:0,top:"auto",bottom:n};break;default:i={right:0,top:"auto",bottom:n};break}return i}function I2(e){return{motionName:`${e}-fade`}}var B2=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};const qh=24,R2=4.5,k2="topRight",M2=e=>{let{children:t,prefixCls:n}=e;const i=au(n),[o,a,u]=_0(n,i);return o(j.createElement(i2,{classNames:{list:Vn(a,u,i)}},t))},O2=(e,t)=>{let{prefixCls:n,key:i}=t;return j.createElement(M2,{prefixCls:n,key:i},e)},z2=j.forwardRef((e,t)=>{const{top:n,bottom:i,prefixCls:o,getContainer:a,maxCount:u,rtl:l,onAllRemoved:d,stack:f,duration:h,pauseOnHover:g=!0,showProgress:m}=e,{getPrefixCls:D,getPopupContainer:C,notification:v,direction:w}=S.useContext(xo),[,_]=Ow(),T=o||D("notification"),A=q=>T2(q,n??qh,i??qh),F=()=>Vn({[`${T}-rtl`]:l??w==="rtl"}),M=()=>I2(T),[P,H]=r2({prefixCls:T,style:A,className:F,motion:M,closable:!0,closeIcon:Xl(T),duration:h??R2,getContainer:()=>a?.()||C?.()||document.body,maxCount:u,pauseOnHover:g,showProgress:m,onAllRemoved:d,renderNotifications:O2,stack:f===!1?!1:{threshold:typeof f=="object"?f?.threshold:void 0,offset:8,gap:_.margin}});return j.useImperativeHandle(t,()=>Object.assign(Object.assign({},P),{prefixCls:T,notification:v})),H});function x0(e){const t=j.useRef(null);return Mw(),[j.useMemo(()=>{const i=l=>{var d;if(!t.current)return;const{open:f,prefixCls:h,notification:g}=t.current,m=`${h}-notice`,{message:D,description:C,icon:v,type:w,btn:_,className:T,style:A,role:F="alert",closeIcon:M,closable:P}=l,H=B2(l,["message","description","icon","type","btn","className","style","role","closeIcon","closable"]),q=Xl(m,typeof M<"u"?M:g?.closeIcon);return f(Object.assign(Object.assign({placement:(d=e?.placement)!==null&&d!==void 0?d:k2},H),{content:j.createElement(D0,{prefixCls:m,icon:v,type:w,message:D,description:C,btn:_,role:F}),className:Vn(w&&`${m}-${w}`,T,g?.className),style:Object.assign(Object.assign({},g?.style),A),closeIcon:q,closable:P??!!q}))},a={open:i,destroy:l=>{var d,f;l!==void 0?(d=t.current)===null||d===void 0||d.close(l):(f=t.current)===null||f===void 0||f.destroy()}};return["success","info","warning","error"].forEach(l=>{a[l]=d=>i(Object.assign(Object.assign({},d),{type:l}))}),a},[]),j.createElement(z2,Object.assign({key:"notification-holder"},e,{ref:t}))]}function $2(e){return x0(e)}function P2(){const[,e]=S.useReducer(t=>t+1,0);return e}function j2(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const t=S.useRef({}),n=P2(),i=Gw();return zw(()=>{const o=i.subscribe(a=>{t.current=a,e&&n()});return()=>i.unsubscribe(o)},[]),t.current}const gl=S.createContext({}),L2=e=>{const{antCls:t,componentCls:n,iconCls:i,avatarBg:o,avatarColor:a,containerSize:u,containerSizeLG:l,containerSizeSM:d,textFontSize:f,textFontSizeLG:h,textFontSizeSM:g,borderRadius:m,borderRadiusLG:D,borderRadiusSM:C,lineWidth:v,lineType:w}=e,_=(T,A,F)=>({width:T,height:T,borderRadius:"50%",[`&${n}-square`]:{borderRadius:F},[`&${n}-icon`]:{fontSize:A,[`> ${i}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},d0(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:a,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${Ji(v)} ${w} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),_(u,f,m)),{"&-lg":Object.assign({},_(l,h,D)),"&-sm":Object.assign({},_(d,g,C)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},H2=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:i,groupSpace:o}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:i}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:o}}}},V2=e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:i,fontSize:o,fontSizeLG:a,fontSizeXL:u,fontSizeHeading3:l,marginXS:d,marginXXS:f,colorBorderBg:h}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:i,textFontSize:Math.round((a+u)/2),textFontSizeLG:l,textFontSizeSM:o,groupSpace:f,groupOverlapping:-d,groupBorderColor:h}},w0=l0("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,i=f0(e,{avatarBg:n,avatarColor:t});return[L2(i),H2(i)]},V2);var U2=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};const W2=(e,t)=>{const[n,i]=S.useState(1),[o,a]=S.useState(!1),[u,l]=S.useState(!0),d=S.useRef(null),f=S.useRef(null),h=$w(t,d),{getPrefixCls:g,avatar:m}=S.useContext(xo),D=S.useContext(gl),C=()=>{if(!f.current||!d.current)return;const ye=f.current.offsetWidth,Ce=d.current.offsetWidth;if(ye!==0&&Ce!==0){const{gap:$e=4}=e;$e*2<Ce&&i(Ce-$e*2<ye?(Ce-$e*2)/ye:1)}};S.useEffect(()=>{a(!0)},[]),S.useEffect(()=>{l(!0),i(1)},[e.src]),S.useEffect(C,[e.gap]);const v=()=>{const{onError:ye}=e;ye?.()!==!1&&l(!1)},{prefixCls:w,shape:_,size:T,src:A,srcSet:F,icon:M,className:P,rootClassName:H,alt:q,draggable:k,children:W,crossOrigin:Q}=e,J=U2(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),G=Pw(ye=>{var Ce,$e;return($e=(Ce=T??D?.size)!==null&&Ce!==void 0?Ce:ye)!==null&&$e!==void 0?$e:"default"}),N=Object.keys(typeof G=="object"?G||{}:{}).some(ye=>["xs","sm","md","lg","xl","xxl"].includes(ye)),$=j2(N),z=S.useMemo(()=>{if(typeof G!="object")return{};const ye=Zw.find($e=>$[$e]),Ce=G[ye];return Ce?{width:Ce,height:Ce,fontSize:Ce&&(M||W)?Ce/2:18}:{}},[$,G]),U=g("avatar",w),ee=au(U),[L,te,re]=w0(U,ee),oe=Vn({[`${U}-lg`]:G==="large",[`${U}-sm`]:G==="small"}),fe=S.isValidElement(A),de=_||D?.shape||"circle",_e=Vn(U,oe,m?.className,`${U}-${de}`,{[`${U}-image`]:fe||A&&u,[`${U}-icon`]:!!M},re,ee,P,H,te),ke=typeof G=="number"?{width:G,height:G,fontSize:M?G/2:18}:{};let Me;if(typeof A=="string"&&u)Me=S.createElement("img",{src:A,draggable:k,srcSet:F,onError:v,alt:q,crossOrigin:Q});else if(fe)Me=A;else if(M)Me=M;else if(o||n!==1){const ye=`scale(${n})`,Ce={msTransform:ye,WebkitTransform:ye,transform:ye};Me=S.createElement(jw,{onResize:C},S.createElement("span",{className:`${U}-string`,ref:f,style:Object.assign({},Ce)},W))}else Me=S.createElement("span",{className:`${U}-string`,style:{opacity:0},ref:f},W);return delete J.onError,delete J.gap,L(S.createElement("span",Object.assign({},J,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ke),z),m?.style),J.style),className:_e,ref:h}),Me))},b0=S.forwardRef(W2),Yh=e=>{const{size:t,shape:n}=S.useContext(gl),i=S.useMemo(()=>({size:e.size||t,shape:e.shape||n}),[e.size,e.shape,t,n]);return S.createElement(gl.Provider,{value:i},e.children)},G2=e=>{var t,n,i;const{getPrefixCls:o,direction:a}=S.useContext(xo),{prefixCls:u,className:l,rootClassName:d,style:f,maxCount:h,maxStyle:g,size:m,shape:D,maxPopoverPlacement:C,maxPopoverTrigger:v,children:w,max:_}=e,T=o("avatar",u),A=`${T}-group`,F=au(T),[M,P,H]=w0(T,F),q=Vn(A,{[`${A}-rtl`]:a==="rtl"},H,F,l,d,P),k=Lw(w).map((J,G)=>Hw(J,{key:`avatar-key-${G}`})),W=_?.count||h,Q=k.length;if(W&&W<Q){const J=k.slice(0,W),G=k.slice(W,Q),N=_?.style||g,$=((t=_?.popover)===null||t===void 0?void 0:t.trigger)||v||"hover",z=((n=_?.popover)===null||n===void 0?void 0:n.placement)||C||"top",U=Object.assign(Object.assign({content:G},_?.popover),{overlayClassName:Vn(`${A}-popover`,(i=_?.popover)===null||i===void 0?void 0:i.overlayClassName),placement:z,trigger:$});return J.push(S.createElement(Ew,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},U),S.createElement(b0,{style:N},`+${Q-W}`))),M(S.createElement(Yh,{shape:D,size:m},S.createElement("div",{className:q,style:f},J)))}return M(S.createElement(Yh,{shape:D,size:m},S.createElement("div",{className:q,style:f},k)))},C0=b0;C0.Group=G2;let On=null,Ia=e=>e(),$a=[],Ks={};function Xh(){const{getContainer:e,rtl:t,maxCount:n,top:i,bottom:o,showProgress:a,pauseOnHover:u}=Ks,l=e?.()||document.body;return{getContainer:()=>l,rtl:t,maxCount:n,top:i,bottom:o,showProgress:a,pauseOnHover:u}}const Z2=j.forwardRef((e,t)=>{const{notificationConfig:n,sync:i}=e,{getPrefixCls:o}=S.useContext(xo),a=Ks.prefixCls||o("notification"),u=S.useContext(s2),[l,d]=x0(Object.assign(Object.assign(Object.assign({},n),{prefixCls:a}),u.notification));return j.useEffect(i,[]),j.useImperativeHandle(t,()=>{const f=Object.assign({},l);return Object.keys(f).forEach(h=>{f[h]=function(){return i(),l[h].apply(l,arguments)}}),{instance:f,sync:i}}),d}),q2=j.forwardRef((e,t)=>{const[n,i]=j.useState(Xh),o=()=>{i(Xh)};j.useEffect(o,[]);const a=Uw(),u=a.getRootPrefixCls(),l=a.getIconPrefixCls(),d=a.getTheme(),f=j.createElement(Z2,{ref:t,sync:o,notificationConfig:n});return j.createElement(Vw,{prefixCls:u,iconPrefixCls:l,theme:d},a.holderRender?a.holderRender(f):f)});function Kl(){if(!On){const e=document.createDocumentFragment(),t={fragment:e};On=t,Ia(()=>{d2(j.createElement(q2,{ref:n=>{const{instance:i,sync:o}=n||{};Promise.resolve().then(()=>{!t.instance&&i&&(t.instance=i,t.sync=o,Kl())})}}),e)});return}On.instance&&($a.forEach(e=>{switch(e.type){case"open":{Ia(()=>{On.instance.open(Object.assign(Object.assign({},Ks),e.config))});break}case"destroy":Ia(()=>{On?.instance.destroy(e.key)});break}}),$a=[])}function Y2(e){Ks=Object.assign(Object.assign({},Ks),e),Ia(()=>{var t;(t=On?.sync)===null||t===void 0||t.call(On)})}function E0(e){$a.push({type:"open",config:e}),Kl()}const X2=e=>{$a.push({type:"destroy",key:e}),Kl()},K2=["success","info","warning","error"],J2={open:E0,destroy:X2,config:Y2,useNotification:$2,_InternalPanelDoNotUseOrYouWillBeFired:F2},ml=J2;K2.forEach(e=>{ml[e]=t=>E0(Object.assign(Object.assign({},t),{type:e}))});var Q2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},eb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:Q2}))},S0=S.forwardRef(eb),tb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M740 161c-61.8 0-112 50.2-112 112 0 50.1 33.1 92.6 78.5 106.9v95.9L320 602.4V318.1c44.2-15 76-56.9 76-106.1 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 49.2 31.8 91 76 106.1V706c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-27.8l423.5-138.7a50.52 50.52 0 0034.9-48.2V378.2c42.9-15.8 73.6-57 73.6-105.2 0-61.8-50.2-112-112-112zm-504 51a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm96 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm408-491a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"branches",theme:"outlined"},nb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:tb}))},rb=S.forwardRef(nb),ib={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:t}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:n}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:t}}]}},name:"check-circle",theme:"twotone"},sb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:ib}))},ob=S.forwardRef(sb),ab={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},ub=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:ab}))},cb=S.forwardRef(ub),lb={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:t}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2 0 4.5-3.6 8-8 8l-66-.3-99.3-118.4-99.3 118.5-66.1.3c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 01-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3 99.3 118.4 99.4-118.5 66-.3c4.4 0 8 3.6 8 8 0 1.9-.6 3.8-1.8 5.2l-130.1 155 129.9 154.9z",fill:n}},{tag:"path",attrs:{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3-99.4 118.5-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155-130.1 154.9a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3 99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",fill:t}}]}},name:"close-circle",theme:"twotone"},db=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:lb}))},fb=S.forwardRef(db),hb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},pb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:hb}))},gb=S.forwardRef(pb),mb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},yb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:mb}))},vb=S.forwardRef(yb),_b={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M326 664H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V696c0-17.7-14.3-32-32-32zm16-576h-48c-8.8 0-16 7.2-16 16v176H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V104c0-8.8-7.2-16-16-16zm578 576H698c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V744h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm0-384H746V104c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16z"}}]},name:"compress",theme:"outlined"},Db=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:_b}))},xb=S.forwardRef(Db),wb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"}}]},name:"deployment-unit",theme:"outlined"},bb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:wb}))},Cb=S.forwardRef(bb),Eb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},Sb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:Eb}))},Ab=S.forwardRef(Sb),Nb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"},Fb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:Nb}))},Tb=S.forwardRef(Fb),Ib={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},Bb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:Ib}))},Rb=S.forwardRef(Bb),kb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 394c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H400V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v236H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h228v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h164c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V394h164zM628 630H400V394h228v236z"}}]},name:"number",theme:"outlined"},Mb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:kb}))},Ob=S.forwardRef(Mb),zb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},$b=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:zb}))},Pb=S.forwardRef($b),jb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},Lb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:jb}))},A0=S.forwardRef(Lb),Hb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},Vb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:Hb}))},Ub=S.forwardRef(Vb),Wb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},Gb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:Wb}))},Zb=S.forwardRef(Gb),qb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},Yb=function(t,n){return S.createElement(At,St({},t,{ref:n,icon:qb}))},Xb=S.forwardRef(Yb),Kb=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,Jb=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,Qb=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,el={Space_Separator:Kb,ID_Start:Jb,ID_Continue:Qb},mt={isSpaceSeparator(e){return typeof e=="string"&&el.Space_Separator.test(e)},isIdStartChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||el.ID_Start.test(e))},isIdContinueChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e===""||e===""||el.ID_Continue.test(e))},isDigit(e){return typeof e=="string"&&/[0-9]/.test(e)},isHexDigit(e){return typeof e=="string"&&/[0-9A-Fa-f]/.test(e)}};let yl,Vt,xr,Pa,Ur,jn,Ct,Jl,qs;var eC=function(t,n){yl=String(t),Vt="start",xr=[],Pa=0,Ur=1,jn=0,Ct=void 0,Jl=void 0,qs=void 0;do Ct=tC(),iC[Vt]();while(Ct.type!=="eof");return typeof n=="function"?vl({"":qs},"",n):qs};function vl(e,t,n){const i=e[t];if(i!=null&&typeof i=="object")if(Array.isArray(i))for(let o=0;o<i.length;o++){const a=String(o),u=vl(i,a,n);u===void 0?delete i[a]:Object.defineProperty(i,a,{value:u,writable:!0,enumerable:!0,configurable:!0})}else for(const o in i){const a=vl(i,o,n);a===void 0?delete i[o]:Object.defineProperty(i,o,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n.call(e,t,i)}let Ie,Ae,js,vr,He;function tC(){for(Ie="default",Ae="",js=!1,vr=1;;){He=br();const e=N0[Ie]();if(e)return e}}function br(){if(yl[Pa])return String.fromCodePoint(yl.codePointAt(Pa))}function K(){const e=br();return e===`
`?(Ur++,jn=0):e?jn+=e.length:jn++,e&&(Pa+=e.length),e}const N0={default(){switch(He){case"	":case"\v":case"\f":case" ":case"":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":K();return;case"/":K(),Ie="comment";return;case void 0:return K(),rt("eof")}if(mt.isSpaceSeparator(He)){K();return}return N0[Vt]()},comment(){switch(He){case"*":K(),Ie="multiLineComment";return;case"/":K(),Ie="singleLineComment";return}throw it(K())},multiLineComment(){switch(He){case"*":K(),Ie="multiLineCommentAsterisk";return;case void 0:throw it(K())}K()},multiLineCommentAsterisk(){switch(He){case"*":K();return;case"/":K(),Ie="default";return;case void 0:throw it(K())}K(),Ie="multiLineComment"},singleLineComment(){switch(He){case`
`:case"\r":case"\u2028":case"\u2029":K(),Ie="default";return;case void 0:return K(),rt("eof")}K()},value(){switch(He){case"{":case"[":return rt("punctuator",K());case"n":return K(),ui("ull"),rt("null",null);case"t":return K(),ui("rue"),rt("boolean",!0);case"f":return K(),ui("alse"),rt("boolean",!1);case"-":case"+":K()==="-"&&(vr=-1),Ie="sign";return;case".":Ae=K(),Ie="decimalPointLeading";return;case"0":Ae=K(),Ie="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ae=K(),Ie="decimalInteger";return;case"I":return K(),ui("nfinity"),rt("numeric",1/0);case"N":return K(),ui("aN"),rt("numeric",NaN);case'"':case"'":js=K()==='"',Ae="",Ie="string";return}throw it(K())},identifierNameStartEscape(){if(He!=="u")throw it(K());K();const e=_l();switch(e){case"$":case"_":break;default:if(!mt.isIdStartChar(e))throw Kh();break}Ae+=e,Ie="identifierName"},identifierName(){switch(He){case"$":case"_":case"":case"":Ae+=K();return;case"\\":K(),Ie="identifierNameEscape";return}if(mt.isIdContinueChar(He)){Ae+=K();return}return rt("identifier",Ae)},identifierNameEscape(){if(He!=="u")throw it(K());K();const e=_l();switch(e){case"$":case"_":case"":case"":break;default:if(!mt.isIdContinueChar(e))throw Kh();break}Ae+=e,Ie="identifierName"},sign(){switch(He){case".":Ae=K(),Ie="decimalPointLeading";return;case"0":Ae=K(),Ie="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ae=K(),Ie="decimalInteger";return;case"I":return K(),ui("nfinity"),rt("numeric",vr*(1/0));case"N":return K(),ui("aN"),rt("numeric",NaN)}throw it(K())},zero(){switch(He){case".":Ae+=K(),Ie="decimalPoint";return;case"e":case"E":Ae+=K(),Ie="decimalExponent";return;case"x":case"X":Ae+=K(),Ie="hexadecimal";return}return rt("numeric",vr*0)},decimalInteger(){switch(He){case".":Ae+=K(),Ie="decimalPoint";return;case"e":case"E":Ae+=K(),Ie="decimalExponent";return}if(mt.isDigit(He)){Ae+=K();return}return rt("numeric",vr*Number(Ae))},decimalPointLeading(){if(mt.isDigit(He)){Ae+=K(),Ie="decimalFraction";return}throw it(K())},decimalPoint(){switch(He){case"e":case"E":Ae+=K(),Ie="decimalExponent";return}if(mt.isDigit(He)){Ae+=K(),Ie="decimalFraction";return}return rt("numeric",vr*Number(Ae))},decimalFraction(){switch(He){case"e":case"E":Ae+=K(),Ie="decimalExponent";return}if(mt.isDigit(He)){Ae+=K();return}return rt("numeric",vr*Number(Ae))},decimalExponent(){switch(He){case"+":case"-":Ae+=K(),Ie="decimalExponentSign";return}if(mt.isDigit(He)){Ae+=K(),Ie="decimalExponentInteger";return}throw it(K())},decimalExponentSign(){if(mt.isDigit(He)){Ae+=K(),Ie="decimalExponentInteger";return}throw it(K())},decimalExponentInteger(){if(mt.isDigit(He)){Ae+=K();return}return rt("numeric",vr*Number(Ae))},hexadecimal(){if(mt.isHexDigit(He)){Ae+=K(),Ie="hexadecimalInteger";return}throw it(K())},hexadecimalInteger(){if(mt.isHexDigit(He)){Ae+=K();return}return rt("numeric",vr*Number(Ae))},string(){switch(He){case"\\":K(),Ae+=nC();return;case'"':if(js)return K(),rt("string",Ae);Ae+=K();return;case"'":if(!js)return K(),rt("string",Ae);Ae+=K();return;case`
`:case"\r":throw it(K());case"\u2028":case"\u2029":sC(He);break;case void 0:throw it(K())}Ae+=K()},start(){switch(He){case"{":case"[":return rt("punctuator",K())}Ie="value"},beforePropertyName(){switch(He){case"$":case"_":Ae=K(),Ie="identifierName";return;case"\\":K(),Ie="identifierNameStartEscape";return;case"}":return rt("punctuator",K());case'"':case"'":js=K()==='"',Ie="string";return}if(mt.isIdStartChar(He)){Ae+=K(),Ie="identifierName";return}throw it(K())},afterPropertyName(){if(He===":")return rt("punctuator",K());throw it(K())},beforePropertyValue(){Ie="value"},afterPropertyValue(){switch(He){case",":case"}":return rt("punctuator",K())}throw it(K())},beforeArrayValue(){if(He==="]")return rt("punctuator",K());Ie="value"},afterArrayValue(){switch(He){case",":case"]":return rt("punctuator",K())}throw it(K())},end(){throw it(K())}};function rt(e,t){return{type:e,value:t,line:Ur,column:jn}}function ui(e){for(const t of e){if(br()!==t)throw it(K());K()}}function nC(){switch(br()){case"b":return K(),"\b";case"f":return K(),"\f";case"n":return K(),`
`;case"r":return K(),"\r";case"t":return K(),"	";case"v":return K(),"\v";case"0":if(K(),mt.isDigit(br()))throw it(K());return"\0";case"x":return K(),rC();case"u":return K(),_l();case`
`:case"\u2028":case"\u2029":return K(),"";case"\r":return K(),br()===`
`&&K(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw it(K());case void 0:throw it(K())}return K()}function rC(){let e="",t=br();if(!mt.isHexDigit(t)||(e+=K(),t=br(),!mt.isHexDigit(t)))throw it(K());return e+=K(),String.fromCodePoint(parseInt(e,16))}function _l(){let e="",t=4;for(;t-- >0;){const n=br();if(!mt.isHexDigit(n))throw it(K());e+=K()}return String.fromCodePoint(parseInt(e,16))}const iC={start(){if(Ct.type==="eof")throw ci();tl()},beforePropertyName(){switch(Ct.type){case"identifier":case"string":Jl=Ct.value,Vt="afterPropertyName";return;case"punctuator":ma();return;case"eof":throw ci()}},afterPropertyName(){if(Ct.type==="eof")throw ci();Vt="beforePropertyValue"},beforePropertyValue(){if(Ct.type==="eof")throw ci();tl()},beforeArrayValue(){if(Ct.type==="eof")throw ci();if(Ct.type==="punctuator"&&Ct.value==="]"){ma();return}tl()},afterPropertyValue(){if(Ct.type==="eof")throw ci();switch(Ct.value){case",":Vt="beforePropertyName";return;case"}":ma()}},afterArrayValue(){if(Ct.type==="eof")throw ci();switch(Ct.value){case",":Vt="beforeArrayValue";return;case"]":ma()}},end(){}};function tl(){let e;switch(Ct.type){case"punctuator":switch(Ct.value){case"{":e={};break;case"[":e=[];break}break;case"null":case"boolean":case"numeric":case"string":e=Ct.value;break}if(qs===void 0)qs=e;else{const t=xr[xr.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,Jl,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(e!==null&&typeof e=="object")xr.push(e),Array.isArray(e)?Vt="beforeArrayValue":Vt="beforePropertyName";else{const t=xr[xr.length-1];t==null?Vt="end":Array.isArray(t)?Vt="afterArrayValue":Vt="afterPropertyValue"}}function ma(){xr.pop();const e=xr[xr.length-1];e==null?Vt="end":Array.isArray(e)?Vt="afterArrayValue":Vt="afterPropertyValue"}function it(e){return ja(e===void 0?`JSON5: invalid end of input at ${Ur}:${jn}`:`JSON5: invalid character '${F0(e)}' at ${Ur}:${jn}`)}function ci(){return ja(`JSON5: invalid end of input at ${Ur}:${jn}`)}function Kh(){return jn-=5,ja(`JSON5: invalid identifier character at ${Ur}:${jn}`)}function sC(e){console.warn(`JSON5: '${F0(e)}' in strings is not valid ECMAScript; consider escaping`)}function F0(e){const t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){const n=e.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return e}function ja(e){const t=new SyntaxError(e);return t.lineNumber=Ur,t.columnNumber=jn,t}var oC=function(t,n,i){const o=[];let a="",u,l,d="",f;if(n!=null&&typeof n=="object"&&!Array.isArray(n)&&(i=n.space,f=n.quote,n=n.replacer),typeof n=="function")l=n;else if(Array.isArray(n)){u=[];for(const v of n){let w;typeof v=="string"?w=v:(typeof v=="number"||v instanceof String||v instanceof Number)&&(w=String(v)),w!==void 0&&u.indexOf(w)<0&&u.push(w)}}return i instanceof Number?i=Number(i):i instanceof String&&(i=String(i)),typeof i=="number"?i>0&&(i=Math.min(10,Math.floor(i)),d="          ".substr(0,i)):typeof i=="string"&&(d=i.substr(0,10)),h("",{"":t});function h(v,w){let _=w[v];switch(_!=null&&(typeof _.toJSON5=="function"?_=_.toJSON5(v):typeof _.toJSON=="function"&&(_=_.toJSON(v))),l&&(_=l.call(w,v,_)),_ instanceof Number?_=Number(_):_ instanceof String?_=String(_):_ instanceof Boolean&&(_=_.valueOf()),_){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof _=="string")return g(_);if(typeof _=="number")return String(_);if(typeof _=="object")return Array.isArray(_)?C(_):m(_)}function g(v){const w={"'":.1,'"':.2},_={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let T="";for(let F=0;F<v.length;F++){const M=v[F];switch(M){case"'":case'"':w[M]++,T+=M;continue;case"\0":if(mt.isDigit(v[F+1])){T+="\\x00";continue}}if(_[M]){T+=_[M];continue}if(M<" "){let P=M.charCodeAt(0).toString(16);T+="\\x"+("00"+P).substring(P.length);continue}T+=M}const A=f||Object.keys(w).reduce((F,M)=>w[F]<w[M]?F:M);return T=T.replace(new RegExp(A,"g"),_[A]),A+T+A}function m(v){if(o.indexOf(v)>=0)throw TypeError("Converting circular structure to JSON5");o.push(v);let w=a;a=a+d;let _=u||Object.keys(v),T=[];for(const F of _){const M=h(F,v);if(M!==void 0){let P=D(F)+":";d!==""&&(P+=" "),P+=M,T.push(P)}}let A;if(T.length===0)A="{}";else{let F;if(d==="")F=T.join(","),A="{"+F+"}";else{let M=`,
`+a;F=T.join(M),A=`{
`+a+F+`,
`+w+"}"}}return o.pop(),a=w,A}function D(v){if(v.length===0)return g(v);const w=String.fromCodePoint(v.codePointAt(0));if(!mt.isIdStartChar(w))return g(v);for(let _=w.length;_<v.length;_++)if(!mt.isIdContinueChar(String.fromCodePoint(v.codePointAt(_))))return g(v);return v}function C(v){if(o.indexOf(v)>=0)throw TypeError("Converting circular structure to JSON5");o.push(v);let w=a;a=a+d;let _=[];for(let A=0;A<v.length;A++){const F=h(String(A),v);_.push(F!==void 0?F:"null")}let T;if(_.length===0)T="[]";else if(d==="")T="["+_.join(",")+"]";else{let A=`,
`+a,F=_.join(A);T=`[
`+a+F+`,
`+w+"]"}return o.pop(),a=w,T}};const aC={parse:eC,stringify:oC};var Ls=aC;function Wt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=Wt(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const{useDebugValue:uC}=j,{useSyncExternalStoreWithSelector:cC}=Sw,lC=e=>e;function T0(e,t=lC,n){const i=cC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return uC(i),i}const Jh=(e,t)=>{const n=Aw(e),i=(o,a=t)=>T0(n,o,a);return Object.assign(i,n),i},dC=(e,t)=>e?Jh(e,t):Jh;function zt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,o]of e)if(!Object.is(o,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}var fC={value:()=>{}};function uu(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ba(n)}function Ba(e){this._=e}function hC(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ba.prototype=uu.prototype={constructor:Ba,on:function(e,t){var n=this._,i=hC(e+"",n),o,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((o=(e=i[a]).type)&&(o=pC(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<u;)if(o=(e=i[a]).type)n[o]=Qh(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Qh(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ba(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(t,n)}};function pC(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function Qh(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=fC,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Dl="http://www.w3.org/1999/xhtml";const ep={svg:"http://www.w3.org/2000/svg",xhtml:Dl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ep.hasOwnProperty(t)?{space:ep[t],local:e}:e}function gC(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Dl&&t.documentElement.namespaceURI===Dl?t.createElement(e):t.createElementNS(n,e)}}function mC(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function I0(e){var t=cu(e);return(t.local?mC:gC)(t)}function yC(){}function Ql(e){return e==null?yC:function(){return this.querySelector(e)}}function vC(e){typeof e!="function"&&(e=Ql(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var a=t[o],u=a.length,l=i[o]=new Array(u),d,f,h=0;h<u;++h)(d=a[h])&&(f=e.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),l[h]=f);return new pn(i,this._parents)}function _C(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function DC(){return[]}function B0(e){return e==null?DC:function(){return this.querySelectorAll(e)}}function xC(e){return function(){return _C(e.apply(this,arguments))}}function wC(e){typeof e=="function"?e=xC(e):e=B0(e);for(var t=this._groups,n=t.length,i=[],o=[],a=0;a<n;++a)for(var u=t[a],l=u.length,d,f=0;f<l;++f)(d=u[f])&&(i.push(e.call(d,d.__data__,f,u)),o.push(d));return new pn(i,o)}function R0(e){return function(){return this.matches(e)}}function k0(e){return function(t){return t.matches(e)}}var bC=Array.prototype.find;function CC(e){return function(){return bC.call(this.children,e)}}function EC(){return this.firstElementChild}function SC(e){return this.select(e==null?EC:CC(typeof e=="function"?e:k0(e)))}var AC=Array.prototype.filter;function NC(){return Array.from(this.children)}function FC(e){return function(){return AC.call(this.children,e)}}function TC(e){return this.selectAll(e==null?NC:FC(typeof e=="function"?e:k0(e)))}function IC(e){typeof e!="function"&&(e=R0(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var a=t[o],u=a.length,l=i[o]=[],d,f=0;f<u;++f)(d=a[f])&&e.call(d,d.__data__,f,a)&&l.push(d);return new pn(i,this._parents)}function M0(e){return new Array(e.length)}function BC(){return new pn(this._enter||this._groups.map(M0),this._parents)}function La(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}La.prototype={constructor:La,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function RC(e){return function(){return e}}function kC(e,t,n,i,o,a){for(var u=0,l,d=t.length,f=a.length;u<f;++u)(l=t[u])?(l.__data__=a[u],i[u]=l):n[u]=new La(e,a[u]);for(;u<d;++u)(l=t[u])&&(o[u]=l)}function MC(e,t,n,i,o,a,u){var l,d,f=new Map,h=t.length,g=a.length,m=new Array(h),D;for(l=0;l<h;++l)(d=t[l])&&(m[l]=D=u.call(d,d.__data__,l,t)+"",f.has(D)?o[l]=d:f.set(D,d));for(l=0;l<g;++l)D=u.call(e,a[l],l,a)+"",(d=f.get(D))?(i[l]=d,d.__data__=a[l],f.delete(D)):n[l]=new La(e,a[l]);for(l=0;l<h;++l)(d=t[l])&&f.get(m[l])===d&&(o[l]=d)}function OC(e){return e.__data__}function zC(e,t){if(!arguments.length)return Array.from(this,OC);var n=t?MC:kC,i=this._parents,o=this._groups;typeof e!="function"&&(e=RC(e));for(var a=o.length,u=new Array(a),l=new Array(a),d=new Array(a),f=0;f<a;++f){var h=i[f],g=o[f],m=g.length,D=$C(e.call(h,h&&h.__data__,f,i)),C=D.length,v=l[f]=new Array(C),w=u[f]=new Array(C),_=d[f]=new Array(m);n(h,g,v,w,_,D,t);for(var T=0,A=0,F,M;T<C;++T)if(F=v[T]){for(T>=A&&(A=T+1);!(M=w[A])&&++A<C;);F._next=M||null}}return u=new pn(u,i),u._enter=l,u._exit=d,u}function $C(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PC(){return new pn(this._exit||this._groups.map(M0),this._parents)}function jC(e,t,n){var i=this.enter(),o=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function LC(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,a=i.length,u=Math.min(o,a),l=new Array(o),d=0;d<u;++d)for(var f=n[d],h=i[d],g=f.length,m=l[d]=new Array(g),D,C=0;C<g;++C)(D=f[C]||h[C])&&(m[C]=D);for(;d<o;++d)l[d]=n[d];return new pn(l,this._parents)}function HC(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,a=i[o],u;--o>=0;)(u=i[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function VC(e){e||(e=UC);function t(g,m){return g&&m?e(g.__data__,m.__data__):!g-!m}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var u=n[a],l=u.length,d=o[a]=new Array(l),f,h=0;h<l;++h)(f=u[h])&&(d[h]=f);d.sort(t)}return new pn(o,this._parents).order()}function UC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function WC(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function GC(){return Array.from(this)}function ZC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null}function qC(){let e=0;for(const t of this)++e;return e}function YC(){return!this.node()}function XC(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],a=0,u=o.length,l;a<u;++a)(l=o[a])&&e.call(l,l.__data__,a,o);return this}function KC(e){return function(){this.removeAttribute(e)}}function JC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QC(e,t){return function(){this.setAttribute(e,t)}}function eE(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function tE(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function nE(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function rE(e,t){var n=cu(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?JC:KC:typeof t=="function"?n.local?nE:tE:n.local?eE:QC)(n,t))}function O0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function iE(e){return function(){this.style.removeProperty(e)}}function sE(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oE(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function aE(e,t,n){return arguments.length>1?this.each((t==null?iE:typeof t=="function"?oE:sE)(e,t,n??"")):Qi(this.node(),e)}function Qi(e,t){return e.style.getPropertyValue(t)||O0(e).getComputedStyle(e,null).getPropertyValue(t)}function uE(e){return function(){delete this[e]}}function cE(e,t){return function(){this[e]=t}}function lE(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function dE(e,t){return arguments.length>1?this.each((t==null?uE:typeof t=="function"?lE:cE)(e,t)):this.node()[e]}function z0(e){return e.trim().split(/^|\s+/)}function ed(e){return e.classList||new $0(e)}function $0(e){this._node=e,this._names=z0(e.getAttribute("class")||"")}$0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function P0(e,t){for(var n=ed(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function j0(e,t){for(var n=ed(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function fE(e){return function(){P0(this,e)}}function hE(e){return function(){j0(this,e)}}function pE(e,t){return function(){(t.apply(this,arguments)?P0:j0)(this,e)}}function gE(e,t){var n=z0(e+"");if(arguments.length<2){for(var i=ed(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?pE:t?fE:hE)(n,t))}function mE(){this.textContent=""}function yE(e){return function(){this.textContent=e}}function vE(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function _E(e){return arguments.length?this.each(e==null?mE:(typeof e=="function"?vE:yE)(e)):this.node().textContent}function DE(){this.innerHTML=""}function xE(e){return function(){this.innerHTML=e}}function wE(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function bE(e){return arguments.length?this.each(e==null?DE:(typeof e=="function"?wE:xE)(e)):this.node().innerHTML}function CE(){this.nextSibling&&this.parentNode.appendChild(this)}function EE(){return this.each(CE)}function SE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function AE(){return this.each(SE)}function NE(e){var t=typeof e=="function"?e:I0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function FE(){return null}function TE(e,t){var n=typeof e=="function"?e:I0(e),i=t==null?FE:typeof t=="function"?t:Ql(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function IE(){var e=this.parentNode;e&&e.removeChild(this)}function BE(){return this.each(IE)}function RE(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kE(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ME(e){return this.select(e?kE:RE)}function OE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function zE(e){return function(t){e.call(this,t,this.__data__)}}function $E(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function PE(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function jE(e,t,n){return function(){var i=this.__on,o,a=zE(t);if(i){for(var u=0,l=i.length;u<l;++u)if((o=i[u]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(o):this.__on=[o]}}function LE(e,t,n){var i=$E(e+""),o,a=i.length,u;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,f=l.length,h;d<f;++d)for(o=0,h=l[d];o<a;++o)if((u=i[o]).type===h.type&&u.name===h.name)return h.value}return}for(l=t?jE:PE,o=0;o<a;++o)this.each(l(i[o],t,n));return this}function L0(e,t,n){var i=O0(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function HE(e,t){return function(){return L0(this,e,t)}}function VE(e,t){return function(){return L0(this,e,t.apply(this,arguments))}}function UE(e,t){return this.each((typeof t=="function"?VE:HE)(e,t))}function*WE(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,a=i.length,u;o<a;++o)(u=i[o])&&(yield u)}var H0=[null];function pn(e,t){this._groups=e,this._parents=t}function wo(){return new pn([[document.documentElement]],H0)}function GE(){return this}pn.prototype=wo.prototype={constructor:pn,select:vC,selectAll:wC,selectChild:SC,selectChildren:TC,filter:IC,data:zC,enter:BC,exit:PC,join:jC,merge:LC,selection:GE,order:HC,sort:VC,call:WC,nodes:GC,node:ZC,size:qC,empty:YC,each:XC,attr:rE,style:aE,property:dE,classed:gE,text:_E,html:bE,raise:EE,lower:AE,append:NE,insert:TE,remove:BE,clone:ME,datum:OE,on:LE,dispatch:UE,[Symbol.iterator]:WE};function zn(e){return typeof e=="string"?new pn([[document.querySelector(e)]],[document.documentElement]):new pn([[e]],H0)}function ZE(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Jn(e,t){if(e=ZE(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const qE={passive:!1},Js={capture:!0,passive:!1};function nl(e){e.stopImmediatePropagation()}function Zi(e){e.preventDefault(),e.stopImmediatePropagation()}function V0(e){var t=e.document.documentElement,n=zn(e).on("dragstart.drag",Zi,Js);"onselectstart"in t?n.on("selectstart.drag",Zi,Js):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function U0(e,t){var n=e.document.documentElement,i=zn(e).on("dragstart.drag",null);t&&(i.on("click.drag",Zi,Js),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ya=e=>()=>e;function xl(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:a,x:u,y:l,dx:d,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}xl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function YE(e){return!e.ctrlKey&&!e.button}function XE(){return this.parentNode}function KE(e,t){return t??{x:e.x,y:e.y}}function JE(){return navigator.maxTouchPoints||"ontouchstart"in this}function QE(){var e=YE,t=XE,n=KE,i=JE,o={},a=uu("start","drag","end"),u=0,l,d,f,h,g=0;function m(F){F.on("mousedown.drag",D).filter(i).on("touchstart.drag",w).on("touchmove.drag",_,qE).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function D(F,M){if(!(h||!e.call(this,F,M))){var P=A(this,t.call(this,F,M),F,M,"mouse");P&&(zn(F.view).on("mousemove.drag",C,Js).on("mouseup.drag",v,Js),V0(F.view),nl(F),f=!1,l=F.clientX,d=F.clientY,P("start",F))}}function C(F){if(Zi(F),!f){var M=F.clientX-l,P=F.clientY-d;f=M*M+P*P>g}o.mouse("drag",F)}function v(F){zn(F.view).on("mousemove.drag mouseup.drag",null),U0(F.view,f),Zi(F),o.mouse("end",F)}function w(F,M){if(e.call(this,F,M)){var P=F.changedTouches,H=t.call(this,F,M),q=P.length,k,W;for(k=0;k<q;++k)(W=A(this,H,F,M,P[k].identifier,P[k]))&&(nl(F),W("start",F,P[k]))}}function _(F){var M=F.changedTouches,P=M.length,H,q;for(H=0;H<P;++H)(q=o[M[H].identifier])&&(Zi(F),q("drag",F,M[H]))}function T(F){var M=F.changedTouches,P=M.length,H,q;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),H=0;H<P;++H)(q=o[M[H].identifier])&&(nl(F),q("end",F,M[H]))}function A(F,M,P,H,q,k){var W=a.copy(),Q=Jn(k||P,M),J,G,N;if((N=n.call(F,new xl("beforestart",{sourceEvent:P,target:m,identifier:q,active:u,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:W}),H))!=null)return J=N.x-Q[0]||0,G=N.y-Q[1]||0,function $(z,U,ee){var L=Q,te;switch(z){case"start":o[q]=$,te=u++;break;case"end":delete o[q],--u;case"drag":Q=Jn(ee||U,M),te=u;break}W.call(z,F,new xl(z,{sourceEvent:U,subject:N,target:m,identifier:q,active:te,x:Q[0]+J,y:Q[1]+G,dx:Q[0]-L[0],dy:Q[1]-L[1],dispatch:W}),H)}}return m.filter=function(F){return arguments.length?(e=typeof F=="function"?F:ya(!!F),m):e},m.container=function(F){return arguments.length?(t=typeof F=="function"?F:ya(F),m):t},m.subject=function(F){return arguments.length?(n=typeof F=="function"?F:ya(F),m):n},m.touchable=function(F){return arguments.length?(i=typeof F=="function"?F:ya(!!F),m):i},m.on=function(){var F=a.on.apply(a,arguments);return F===a?m:F},m.clickDistance=function(F){return arguments.length?(g=(F=+F)*F,m):Math.sqrt(g)},m}function td(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function W0(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function bo(){}var Qs=.7,Ha=1/Qs,qi="\\s*([+-]?\\d+)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e3=/^#([0-9a-f]{3,8})$/,t3=new RegExp(`^rgb\\(${qi},${qi},${qi}\\)$`),n3=new RegExp(`^rgb\\(${er},${er},${er}\\)$`),r3=new RegExp(`^rgba\\(${qi},${qi},${qi},${eo}\\)$`),i3=new RegExp(`^rgba\\(${er},${er},${er},${eo}\\)$`),s3=new RegExp(`^hsl\\(${eo},${er},${er}\\)$`),o3=new RegExp(`^hsla\\(${eo},${er},${er},${eo}\\)$`),tp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};td(bo,to,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:np,formatHex:np,formatHex8:a3,formatHsl:u3,formatRgb:rp,toString:rp});function np(){return this.rgb().formatHex()}function a3(){return this.rgb().formatHex8()}function u3(){return G0(this).formatHsl()}function rp(){return this.rgb().formatRgb()}function to(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=e3.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ip(t):n===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?va(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?va(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=t3.exec(e))?new en(t[1],t[2],t[3],1):(t=n3.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=r3.exec(e))?va(t[1],t[2],t[3],t[4]):(t=i3.exec(e))?va(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=s3.exec(e))?ap(t[1],t[2]/100,t[3]/100,1):(t=o3.exec(e))?ap(t[1],t[2]/100,t[3]/100,t[4]):tp.hasOwnProperty(e)?ip(tp[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function ip(e){return new en(e>>16&255,e>>8&255,e&255,1)}function va(e,t,n,i){return i<=0&&(e=t=n=NaN),new en(e,t,n,i)}function c3(e){return e instanceof bo||(e=to(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function wl(e,t,n,i){return arguments.length===1?c3(e):new en(e,t,n,i??1)}function en(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}td(en,wl,W0(bo,{brighter(e){return e=e==null?Ha:Math.pow(Ha,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qs:Math.pow(Qs,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(hi(this.r),hi(this.g),hi(this.b),Va(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sp,formatHex:sp,formatHex8:l3,formatRgb:op,toString:op}));function sp(){return`#${di(this.r)}${di(this.g)}${di(this.b)}`}function l3(){return`#${di(this.r)}${di(this.g)}${di(this.b)}${di((isNaN(this.opacity)?1:this.opacity)*255)}`}function op(){const e=Va(this.opacity);return`${e===1?"rgb(":"rgba("}${hi(this.r)}, ${hi(this.g)}, ${hi(this.b)}${e===1?")":`, ${e})`}`}function Va(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function di(e){return e=hi(e),(e<16?"0":"")+e.toString(16)}function ap(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $n(e,t,n,i)}function G0(e){if(e instanceof $n)return new $n(e.h,e.s,e.l,e.opacity);if(e instanceof bo||(e=to(e)),!e)return new $n;if(e instanceof $n)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),a=Math.max(t,n,i),u=NaN,l=a-o,d=(a+o)/2;return l?(t===a?u=(n-i)/l+(n<i)*6:n===a?u=(i-t)/l+2:u=(t-n)/l+4,l/=d<.5?a+o:2-a-o,u*=60):l=d>0&&d<1?0:u,new $n(u,l,d,e.opacity)}function d3(e,t,n,i){return arguments.length===1?G0(e):new $n(e,t,n,i??1)}function $n(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}td($n,d3,W0(bo,{brighter(e){return e=e==null?Ha:Math.pow(Ha,e),new $n(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qs:Math.pow(Qs,e),new $n(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new en(rl(e>=240?e-240:e+120,o,i),rl(e,o,i),rl(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new $n(up(this.h),_a(this.s),_a(this.l),Va(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Va(this.opacity);return`${e===1?"hsl(":"hsla("}${up(this.h)}, ${_a(this.s)*100}%, ${_a(this.l)*100}%${e===1?")":`, ${e})`}`}}));function up(e){return e=(e||0)%360,e<0?e+360:e}function _a(e){return Math.max(0,Math.min(1,e||0))}function rl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Z0=e=>()=>e;function f3(e,t){return function(n){return e+n*t}}function h3(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function p3(e){return(e=+e)==1?q0:function(t,n){return n-t?h3(t,n,e):Z0(isNaN(t)?n:t)}}function q0(e,t){var n=t-e;return n?f3(e,n):Z0(isNaN(e)?t:e)}const cp=function e(t){var n=p3(t);function i(o,a){var u=n((o=wl(o)).r,(a=wl(a)).r),l=n(o.g,a.g),d=n(o.b,a.b),f=q0(o.opacity,a.opacity);return function(h){return o.r=u(h),o.g=l(h),o.b=d(h),o.opacity=f(h),o+""}}return i.gamma=e,i}(1);function $r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var bl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,il=new RegExp(bl.source,"g");function g3(e){return function(){return e}}function m3(e){return function(t){return e(t)+""}}function y3(e,t){var n=bl.lastIndex=il.lastIndex=0,i,o,a,u=-1,l=[],d=[];for(e=e+"",t=t+"";(i=bl.exec(e))&&(o=il.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),l[u]?l[u]+=a:l[++u]=a),(i=i[0])===(o=o[0])?l[u]?l[u]+=o:l[++u]=o:(l[++u]=null,d.push({i:u,x:$r(i,o)})),n=il.lastIndex;return n<t.length&&(a=t.slice(n),l[u]?l[u]+=a:l[++u]=a),l.length<2?d[0]?m3(d[0].x):g3(t):(t=d.length,function(f){for(var h=0,g;h<t;++h)l[(g=d[h]).i]=g.x(f);return l.join("")})}var lp=180/Math.PI,Cl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Y0(e,t,n,i,o,a){var u,l,d;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(d=e*n+t*i)&&(n-=e*d,i-=t*d),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,d/=l),e*i<t*n&&(e=-e,t=-t,d=-d,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*lp,skewX:Math.atan(d)*lp,scaleX:u,scaleY:l}}var Da;function v3(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Cl:Y0(t.a,t.b,t.c,t.d,t.e,t.f)}function _3(e){return e==null||(Da||(Da=document.createElementNS("http://www.w3.org/2000/svg","g")),Da.setAttribute("transform",e),!(e=Da.transform.baseVal.consolidate()))?Cl:(e=e.matrix,Y0(e.a,e.b,e.c,e.d,e.e,e.f))}function X0(e,t,n,i){function o(f){return f.length?f.pop()+" ":""}function a(f,h,g,m,D,C){if(f!==g||h!==m){var v=D.push("translate(",null,t,null,n);C.push({i:v-4,x:$r(f,g)},{i:v-2,x:$r(h,m)})}else(g||m)&&D.push("translate("+g+t+m+n)}function u(f,h,g,m){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),m.push({i:g.push(o(g)+"rotate(",null,i)-2,x:$r(f,h)})):h&&g.push(o(g)+"rotate("+h+i)}function l(f,h,g,m){f!==h?m.push({i:g.push(o(g)+"skewX(",null,i)-2,x:$r(f,h)}):h&&g.push(o(g)+"skewX("+h+i)}function d(f,h,g,m,D,C){if(f!==g||h!==m){var v=D.push(o(D)+"scale(",null,",",null,")");C.push({i:v-4,x:$r(f,g)},{i:v-2,x:$r(h,m)})}else(g!==1||m!==1)&&D.push(o(D)+"scale("+g+","+m+")")}return function(f,h){var g=[],m=[];return f=e(f),h=e(h),a(f.translateX,f.translateY,h.translateX,h.translateY,g,m),u(f.rotate,h.rotate,g,m),l(f.skewX,h.skewX,g,m),d(f.scaleX,f.scaleY,h.scaleX,h.scaleY,g,m),f=h=null,function(D){for(var C=-1,v=m.length,w;++C<v;)g[(w=m[C]).i]=w.x(D);return g.join("")}}}var D3=X0(v3,"px, ","px)","deg)"),x3=X0(_3,", ",")",")"),w3=1e-12;function dp(e){return((e=Math.exp(e))+1/e)/2}function b3(e){return((e=Math.exp(e))-1/e)/2}function C3(e){return((e=Math.exp(2*e))-1)/(e+1)}const E3=function e(t,n,i){function o(a,u){var l=a[0],d=a[1],f=a[2],h=u[0],g=u[1],m=u[2],D=h-l,C=g-d,v=D*D+C*C,w,_;if(v<w3)_=Math.log(m/f)/t,w=function(H){return[l+H*D,d+H*C,f*Math.exp(t*H*_)]};else{var T=Math.sqrt(v),A=(m*m-f*f+i*v)/(2*f*n*T),F=(m*m-f*f-i*v)/(2*m*n*T),M=Math.log(Math.sqrt(A*A+1)-A),P=Math.log(Math.sqrt(F*F+1)-F);_=(P-M)/t,w=function(H){var q=H*_,k=dp(M),W=f/(n*T)*(k*C3(t*q+M)-b3(M));return[l+W*D,d+W*C,f*k/dp(t*q+M)]}}return w.duration=_*1e3*t/Math.SQRT2,w}return o.rho=function(a){var u=Math.max(.001,+a),l=u*u,d=l*l;return e(u,l,d)},o}(Math.SQRT2,2,4);var es=0,Hs=0,Rs=0,K0=1e3,Ua,Vs,Wa=0,mi=0,lu=0,no=typeof performance=="object"&&performance.now?performance:Date,J0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nd(){return mi||(J0(S3),mi=no.now()+lu)}function S3(){mi=0}function Ga(){this._call=this._time=this._next=null}Ga.prototype=Q0.prototype={constructor:Ga,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?nd():+n)+(t==null?0:+t),!this._next&&Vs!==this&&(Vs?Vs._next=this:Ua=this,Vs=this),this._call=e,this._time=n,El()},stop:function(){this._call&&(this._call=null,this._time=1/0,El())}};function Q0(e,t,n){var i=new Ga;return i.restart(e,t,n),i}function A3(){nd(),++es;for(var e=Ua,t;e;)(t=mi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--es}function fp(){mi=(Wa=no.now())+lu,es=Hs=0;try{A3()}finally{es=0,F3(),mi=0}}function N3(){var e=no.now(),t=e-Wa;t>K0&&(lu-=t,Wa=e)}function F3(){for(var e,t=Ua,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ua=n);Vs=e,El(i)}function El(e){if(!es){Hs&&(Hs=clearTimeout(Hs));var t=e-mi;t>24?(e<1/0&&(Hs=setTimeout(fp,e-no.now()-lu)),Rs&&(Rs=clearInterval(Rs))):(Rs||(Wa=no.now(),Rs=setInterval(N3,K0)),es=1,J0(fp))}}function hp(e,t,n){var i=new Ga;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var T3=uu("start","end","cancel","interrupt"),I3=[],eg=0,pp=1,Sl=2,Ra=3,gp=4,Al=5,ka=6;function du(e,t,n,i,o,a){var u=e.__transition;if(!u)e.__transition={};else if(n in u)return;B3(e,n,{name:t,index:i,group:o,on:T3,tween:I3,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:eg})}function rd(e,t){var n=Wn(e,t);if(n.state>eg)throw new Error("too late; already scheduled");return n}function ir(e,t){var n=Wn(e,t);if(n.state>Ra)throw new Error("too late; already running");return n}function Wn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function B3(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=Q0(a,0,n.time);function a(f){n.state=pp,n.timer.restart(u,n.delay,n.time),n.delay<=f&&u(f-n.delay)}function u(f){var h,g,m,D;if(n.state!==pp)return d();for(h in i)if(D=i[h],D.name===n.name){if(D.state===Ra)return hp(u);D.state===gp?(D.state=ka,D.timer.stop(),D.on.call("interrupt",e,e.__data__,D.index,D.group),delete i[h]):+h<t&&(D.state=ka,D.timer.stop(),D.on.call("cancel",e,e.__data__,D.index,D.group),delete i[h])}if(hp(function(){n.state===Ra&&(n.state=gp,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=Sl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Sl){for(n.state=Ra,o=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(D=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++g]=D);o.length=g+1}}function l(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=Al,1),g=-1,m=o.length;++g<m;)o[g].call(e,h);n.state===Al&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=ka,n.timer.stop(),delete i[t];for(var f in i)return;delete e.__transition}}function Ma(e,t){var n=e.__transition,i,o,a=!0,u;if(n){t=t==null?null:t+"";for(u in n){if((i=n[u]).name!==t){a=!1;continue}o=i.state>Sl&&i.state<Al,i.state=ka,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[u]}a&&delete e.__transition}}function R3(e){return this.each(function(){Ma(this,e)})}function k3(e,t){var n,i;return function(){var o=ir(this,e),a=o.tween;if(a!==n){i=n=a;for(var u=0,l=i.length;u<l;++u)if(i[u].name===t){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function M3(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=ir(this,e),u=a.tween;if(u!==i){o=(i=u).slice();for(var l={name:t,value:n},d=0,f=o.length;d<f;++d)if(o[d].name===t){o[d]=l;break}d===f&&o.push(l)}a.tween=o}}function O3(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Wn(this.node(),n).tween,o=0,a=i.length,u;o<a;++o)if((u=i[o]).name===e)return u.value;return null}return this.each((t==null?k3:M3)(n,e,t))}function id(e,t,n){var i=e._id;return e.each(function(){var o=ir(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Wn(o,i).value[t]}}function tg(e,t){var n;return(typeof t=="number"?$r:t instanceof to?cp:(n=to(t))?(t=n,cp):y3)(e,t)}function z3(e){return function(){this.removeAttribute(e)}}function $3(e){return function(){this.removeAttributeNS(e.space,e.local)}}function P3(e,t,n){var i,o=n+"",a;return function(){var u=this.getAttribute(e);return u===o?null:u===i?a:a=t(i=u,n)}}function j3(e,t,n){var i,o=n+"",a;return function(){var u=this.getAttributeNS(e.space,e.local);return u===o?null:u===i?a:a=t(i=u,n)}}function L3(e,t,n){var i,o,a;return function(){var u,l=n(this),d;return l==null?void this.removeAttribute(e):(u=this.getAttribute(e),d=l+"",u===d?null:u===i&&d===o?a:(o=d,a=t(i=u,l)))}}function H3(e,t,n){var i,o,a;return function(){var u,l=n(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),d=l+"",u===d?null:u===i&&d===o?a:(o=d,a=t(i=u,l)))}}function V3(e,t){var n=cu(e),i=n==="transform"?x3:tg;return this.attrTween(e,typeof t=="function"?(n.local?H3:L3)(n,i,id(this,"attr."+e,t)):t==null?(n.local?$3:z3)(n):(n.local?j3:P3)(n,i,t))}function U3(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function W3(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function G3(e,t){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&W3(e,a)),n}return o._value=t,o}function Z3(e,t){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&U3(e,a)),n}return o._value=t,o}function q3(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=cu(e);return this.tween(n,(i.local?G3:Z3)(i,t))}function Y3(e,t){return function(){rd(this,e).delay=+t.apply(this,arguments)}}function X3(e,t){return t=+t,function(){rd(this,e).delay=t}}function K3(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Y3:X3)(t,e)):Wn(this.node(),t).delay}function J3(e,t){return function(){ir(this,e).duration=+t.apply(this,arguments)}}function Q3(e,t){return t=+t,function(){ir(this,e).duration=t}}function e6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?J3:Q3)(t,e)):Wn(this.node(),t).duration}function t6(e,t){if(typeof t!="function")throw new Error;return function(){ir(this,e).ease=t}}function n6(e){var t=this._id;return arguments.length?this.each(t6(t,e)):Wn(this.node(),t).ease}function r6(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ir(this,e).ease=n}}function i6(e){if(typeof e!="function")throw new Error;return this.each(r6(this._id,e))}function s6(e){typeof e!="function"&&(e=R0(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var a=t[o],u=a.length,l=i[o]=[],d,f=0;f<u;++f)(d=a[f])&&e.call(d,d.__data__,f,a)&&l.push(d);return new Cr(i,this._parents,this._name,this._id)}function o6(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var d=t[l],f=n[l],h=d.length,g=u[l]=new Array(h),m,D=0;D<h;++D)(m=d[D]||f[D])&&(g[D]=m);for(;l<i;++l)u[l]=t[l];return new Cr(u,this._parents,this._name,this._id)}function a6(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function u6(e,t,n){var i,o,a=a6(t)?rd:ir;return function(){var u=a(this,e),l=u.on;l!==i&&(o=(i=l).copy()).on(t,n),u.on=o}}function c6(e,t){var n=this._id;return arguments.length<2?Wn(this.node(),n).on.on(e):this.each(u6(n,e,t))}function l6(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function d6(){return this.on("end.remove",l6(this._id))}function f6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ql(e));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var l=i[u],d=l.length,f=a[u]=new Array(d),h,g,m=0;m<d;++m)(h=l[m])&&(g=e.call(h,h.__data__,m,l))&&("__data__"in h&&(g.__data__=h.__data__),f[m]=g,du(f[m],t,n,m,f,Wn(h,n)));return new Cr(a,this._parents,t,n)}function h6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=B0(e));for(var i=this._groups,o=i.length,a=[],u=[],l=0;l<o;++l)for(var d=i[l],f=d.length,h,g=0;g<f;++g)if(h=d[g]){for(var m=e.call(h,h.__data__,g,d),D,C=Wn(h,n),v=0,w=m.length;v<w;++v)(D=m[v])&&du(D,t,n,v,m,C);a.push(m),u.push(h)}return new Cr(a,u,t,n)}var p6=wo.prototype.constructor;function g6(){return new p6(this._groups,this._parents)}function m6(e,t){var n,i,o;return function(){var a=Qi(this,e),u=(this.style.removeProperty(e),Qi(this,e));return a===u?null:a===n&&u===i?o:o=t(n=a,i=u)}}function ng(e){return function(){this.style.removeProperty(e)}}function y6(e,t,n){var i,o=n+"",a;return function(){var u=Qi(this,e);return u===o?null:u===i?a:a=t(i=u,n)}}function v6(e,t,n){var i,o,a;return function(){var u=Qi(this,e),l=n(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),Qi(this,e))),u===d?null:u===i&&d===o?a:(o=d,a=t(i=u,l))}}function _6(e,t){var n,i,o,a="style."+t,u="end."+a,l;return function(){var d=ir(this,e),f=d.on,h=d.value[a]==null?l||(l=ng(t)):void 0;(f!==n||o!==h)&&(i=(n=f).copy()).on(u,o=h),d.on=i}}function D6(e,t,n){var i=(e+="")=="transform"?D3:tg;return t==null?this.styleTween(e,m6(e,i)).on("end.style."+e,ng(e)):typeof t=="function"?this.styleTween(e,v6(e,i,id(this,"style."+e,t))).each(_6(this._id,e)):this.styleTween(e,y6(e,i,t),n).on("end.style."+e,null)}function x6(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function w6(e,t,n){var i,o;function a(){var u=t.apply(this,arguments);return u!==o&&(i=(o=u)&&x6(e,u,n)),i}return a._value=t,a}function b6(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,w6(e,t,n??""))}function C6(e){return function(){this.textContent=e}}function E6(e){return function(){var t=e(this);this.textContent=t??""}}function S6(e){return this.tween("text",typeof e=="function"?E6(id(this,"text",e)):C6(e==null?"":e+""))}function A6(e){return function(t){this.textContent=e.call(this,t)}}function N6(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&A6(o)),t}return i._value=e,i}function F6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,N6(e))}function T6(){for(var e=this._name,t=this._id,n=rg(),i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],l=u.length,d,f=0;f<l;++f)if(d=u[f]){var h=Wn(d,t);du(d,e,n,f,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Cr(i,this._parents,e,n)}function I6(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(a,u){var l={value:u},d={value:function(){--o===0&&a()}};n.each(function(){var f=ir(this,i),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),f.on=t}),o===0&&a()})}var B6=0;function Cr(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function rg(){return++B6}var yr=wo.prototype;Cr.prototype={constructor:Cr,select:f6,selectAll:h6,selectChild:yr.selectChild,selectChildren:yr.selectChildren,filter:s6,merge:o6,selection:g6,transition:T6,call:yr.call,nodes:yr.nodes,node:yr.node,size:yr.size,empty:yr.empty,each:yr.each,on:c6,attr:V3,attrTween:q3,style:D6,styleTween:b6,text:S6,textTween:F6,remove:d6,tween:O3,delay:K3,duration:e6,ease:n6,easeVarying:i6,end:I6,[Symbol.iterator]:yr[Symbol.iterator]};function R6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var k6={time:null,delay:0,duration:250,ease:R6};function M6(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function O6(e){var t,n;e instanceof Cr?(t=e._id,e=e._name):(t=rg(),(n=k6).time=nd(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],l=u.length,d,f=0;f<l;++f)(d=u[f])&&du(d,e,t,f,u,n||M6(d,t));return new Cr(i,this._parents,e,t)}wo.prototype.interrupt=R3;wo.prototype.transition=O6;const xa=e=>()=>e;function z6(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function wr(e,t,n){this.k=e,this.x=t,this.y=n}wr.prototype={constructor:wr,scale:function(e){return e===1?this:new wr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new wr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Hr=new wr(1,0,0);wr.prototype;function sl(e){e.stopImmediatePropagation()}function ks(e){e.preventDefault(),e.stopImmediatePropagation()}function $6(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function P6(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function mp(){return this.__zoom||Hr}function j6(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function L6(){return navigator.maxTouchPoints||"ontouchstart"in this}function H6(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],u=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function V6(){var e=$6,t=P6,n=H6,i=j6,o=L6,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],l=250,d=E3,f=uu("start","zoom","end"),h,g,m,D=500,C=150,v=0,w=10;function _(N){N.property("__zoom",mp).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",W).filter(o).on("touchstart.zoom",Q).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(N,$,z,U){var ee=N.selection?N.selection():N;ee.property("__zoom",mp),N!==ee?M(N,$,z,U):ee.interrupt().each(function(){P(this,arguments).event(U).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},_.scaleBy=function(N,$,z,U){_.scaleTo(N,function(){var ee=this.__zoom.k,L=typeof $=="function"?$.apply(this,arguments):$;return ee*L},z,U)},_.scaleTo=function(N,$,z,U){_.transform(N,function(){var ee=t.apply(this,arguments),L=this.__zoom,te=z==null?F(ee):typeof z=="function"?z.apply(this,arguments):z,re=L.invert(te),oe=typeof $=="function"?$.apply(this,arguments):$;return n(A(T(L,oe),te,re),ee,u)},z,U)},_.translateBy=function(N,$,z,U){_.transform(N,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof z=="function"?z.apply(this,arguments):z),t.apply(this,arguments),u)},null,U)},_.translateTo=function(N,$,z,U,ee){_.transform(N,function(){var L=t.apply(this,arguments),te=this.__zoom,re=U==null?F(L):typeof U=="function"?U.apply(this,arguments):U;return n(Hr.translate(re[0],re[1]).scale(te.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof z=="function"?-z.apply(this,arguments):-z),L,u)},U,ee)};function T(N,$){return $=Math.max(a[0],Math.min(a[1],$)),$===N.k?N:new wr($,N.x,N.y)}function A(N,$,z){var U=$[0]-z[0]*N.k,ee=$[1]-z[1]*N.k;return U===N.x&&ee===N.y?N:new wr(N.k,U,ee)}function F(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function M(N,$,z,U){N.on("start.zoom",function(){P(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(U).end()}).tween("zoom",function(){var ee=this,L=arguments,te=P(ee,L).event(U),re=t.apply(ee,L),oe=z==null?F(re):typeof z=="function"?z.apply(ee,L):z,fe=Math.max(re[1][0]-re[0][0],re[1][1]-re[0][1]),de=ee.__zoom,_e=typeof $=="function"?$.apply(ee,L):$,ke=d(de.invert(oe).concat(fe/de.k),_e.invert(oe).concat(fe/_e.k));return function(Me){if(Me===1)Me=_e;else{var ye=ke(Me),Ce=fe/ye[2];Me=new wr(Ce,oe[0]-ye[0]*Ce,oe[1]-ye[1]*Ce)}te.zoom(null,Me)}})}function P(N,$,z){return!z&&N.__zooming||new H(N,$)}function H(N,$){this.that=N,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,$),this.taps=0}H.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,$){return this.mouse&&N!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var $=zn(this.that).datum();f.call(N,this.that,new z6(N,{sourceEvent:this.sourceEvent,target:_,type:N,transform:this.that.__zoom,dispatch:f}),$)}};function q(N,...$){if(!e.apply(this,arguments))return;var z=P(this,$).event(N),U=this.__zoom,ee=Math.max(a[0],Math.min(a[1],U.k*Math.pow(2,i.apply(this,arguments)))),L=Jn(N);if(z.wheel)(z.mouse[0][0]!==L[0]||z.mouse[0][1]!==L[1])&&(z.mouse[1]=U.invert(z.mouse[0]=L)),clearTimeout(z.wheel);else{if(U.k===ee)return;z.mouse=[L,U.invert(L)],Ma(this),z.start()}ks(N),z.wheel=setTimeout(te,C),z.zoom("mouse",n(A(T(U,ee),z.mouse[0],z.mouse[1]),z.extent,u));function te(){z.wheel=null,z.end()}}function k(N,...$){if(m||!e.apply(this,arguments))return;var z=N.currentTarget,U=P(this,$,!0).event(N),ee=zn(N.view).on("mousemove.zoom",oe,!0).on("mouseup.zoom",fe,!0),L=Jn(N,z),te=N.clientX,re=N.clientY;V0(N.view),sl(N),U.mouse=[L,this.__zoom.invert(L)],Ma(this),U.start();function oe(de){if(ks(de),!U.moved){var _e=de.clientX-te,ke=de.clientY-re;U.moved=_e*_e+ke*ke>v}U.event(de).zoom("mouse",n(A(U.that.__zoom,U.mouse[0]=Jn(de,z),U.mouse[1]),U.extent,u))}function fe(de){ee.on("mousemove.zoom mouseup.zoom",null),U0(de.view,U.moved),ks(de),U.event(de).end()}}function W(N,...$){if(e.apply(this,arguments)){var z=this.__zoom,U=Jn(N.changedTouches?N.changedTouches[0]:N,this),ee=z.invert(U),L=z.k*(N.shiftKey?.5:2),te=n(A(T(z,L),U,ee),t.apply(this,$),u);ks(N),l>0?zn(this).transition().duration(l).call(M,te,U,N):zn(this).call(_.transform,te,U,N)}}function Q(N,...$){if(e.apply(this,arguments)){var z=N.touches,U=z.length,ee=P(this,$,N.changedTouches.length===U).event(N),L,te,re,oe;for(sl(N),te=0;te<U;++te)re=z[te],oe=Jn(re,this),oe=[oe,this.__zoom.invert(oe),re.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==oe[2]&&(ee.touch1=oe,ee.taps=0):(ee.touch0=oe,L=!0,ee.taps=1+!!h);h&&(h=clearTimeout(h)),L&&(ee.taps<2&&(g=oe[0],h=setTimeout(function(){h=null},D)),Ma(this),ee.start())}}function J(N,...$){if(this.__zooming){var z=P(this,$).event(N),U=N.changedTouches,ee=U.length,L,te,re,oe;for(ks(N),L=0;L<ee;++L)te=U[L],re=Jn(te,this),z.touch0&&z.touch0[2]===te.identifier?z.touch0[0]=re:z.touch1&&z.touch1[2]===te.identifier&&(z.touch1[0]=re);if(te=z.that.__zoom,z.touch1){var fe=z.touch0[0],de=z.touch0[1],_e=z.touch1[0],ke=z.touch1[1],Me=(Me=_e[0]-fe[0])*Me+(Me=_e[1]-fe[1])*Me,ye=(ye=ke[0]-de[0])*ye+(ye=ke[1]-de[1])*ye;te=T(te,Math.sqrt(Me/ye)),re=[(fe[0]+_e[0])/2,(fe[1]+_e[1])/2],oe=[(de[0]+ke[0])/2,(de[1]+ke[1])/2]}else if(z.touch0)re=z.touch0[0],oe=z.touch0[1];else return;z.zoom("touch",n(A(te,re,oe),z.extent,u))}}function G(N,...$){if(this.__zooming){var z=P(this,$).event(N),U=N.changedTouches,ee=U.length,L,te;for(sl(N),m&&clearTimeout(m),m=setTimeout(function(){m=null},D),L=0;L<ee;++L)te=U[L],z.touch0&&z.touch0[2]===te.identifier?delete z.touch0:z.touch1&&z.touch1[2]===te.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(te=Jn(te,this),Math.hypot(g[0]-te[0],g[1]-te[1])<w)){var re=zn(this).on("dblclick.zoom");re&&re.apply(this,arguments)}}}return _.wheelDelta=function(N){return arguments.length?(i=typeof N=="function"?N:xa(+N),_):i},_.filter=function(N){return arguments.length?(e=typeof N=="function"?N:xa(!!N),_):e},_.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:xa(!!N),_):o},_.extent=function(N){return arguments.length?(t=typeof N=="function"?N:xa([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),_):t},_.scaleExtent=function(N){return arguments.length?(a[0]=+N[0],a[1]=+N[1],_):[a[0],a[1]]},_.translateExtent=function(N){return arguments.length?(u[0][0]=+N[0][0],u[1][0]=+N[1][0],u[0][1]=+N[0][1],u[1][1]=+N[1][1],_):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},_.constrain=function(N){return arguments.length?(n=N,_):n},_.duration=function(N){return arguments.length?(l=+N,_):l},_.interpolate=function(N){return arguments.length?(d=N,_):d},_.on=function(){var N=f.on.apply(f,arguments);return N===f?_:N},_.clickDistance=function(N){return arguments.length?(v=(N=+N)*N,_):Math.sqrt(v)},_.tapDistance=function(N){return arguments.length?(w=+N,_):w},_}const fu=S.createContext(null),U6=fu.Provider,Er={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},ig=Er.error001();function ut(e,t){const n=S.useContext(fu);if(n===null)throw new Error(ig);return T0(n,e,t)}const Nt=()=>{const e=S.useContext(fu);if(e===null)throw new Error(ig);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},W6=e=>e.userSelectionActive?"none":"all";function sg({position:e,children:t,className:n,style:i,...o}){const a=ut(W6),u=`${e}`.split("-");return j.createElement("div",{className:Wt(["react-flow__panel",n,...u]),style:{...i,pointerEvents:a},...o},t)}function G6({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:j.createElement(sg,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},j.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Z6=({x:e,y:t,label:n,labelStyle:i={},labelShowBg:o=!0,labelBgStyle:a={},labelBgPadding:u=[2,4],labelBgBorderRadius:l=2,children:d,className:f,...h})=>{const g=S.useRef(null),[m,D]=S.useState({x:0,y:0,width:0,height:0}),C=Wt(["react-flow__edge-textwrapper",f]);return S.useEffect(()=>{if(g.current){const v=g.current.getBBox();D({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:j.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:C,visibility:m.width?"visible":"hidden",...h},o&&j.createElement("rect",{width:m.width+2*u[0],x:-u[0],y:-u[1],height:m.height+2*u[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),j.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:g,style:i},n),d)};var q6=S.memo(Z6);const sd=e=>({width:e.offsetWidth,height:e.offsetHeight}),ts=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),od=(e={x:0,y:0},t)=>({x:ts(e.x,t[0][0],t[1][0]),y:ts(e.y,t[0][1],t[1][1])}),yp=(e,t,n)=>e<t?ts(Math.abs(e-t),1,50)/50:e>n?-ts(Math.abs(e-n),1,50)/50:0,og=(e,t)=>{const n=yp(e.x,35,t.width-35)*20,i=yp(e.y,35,t.height-35)*20;return[n,i]},ag=e=>e.getRootNode?.()||window?.document,Y6=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ad=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),X6=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),vp=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Nl=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},K6=e=>Sn(e.width)&&Sn(e.height)&&Sn(e.x)&&Sn(e.y),Sn=e=>!isNaN(e)&&isFinite(e),ht=Symbol.for("internals"),ug=["Enter"," ","Escape"],J6=(e,t)=>{},Q6=e=>"nativeEvent"in e;function Fl(e){const n=(Q6(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const cg=e=>"clientX"in e,Vr=(e,t)=>{const n=cg(e),i=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:i-(t?.left??0),y:o-(t?.top??0)}},Za=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,os=({id:e,path:t,labelX:n,labelY:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:m,interactionWidth:D=20})=>j.createElement(j.Fragment,null,j.createElement("path",{id:e,style:h,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:g,markerStart:m}),D&&j.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:D,className:"react-flow__edge-interaction"}),o&&Sn(n)&&Sn(i)?j.createElement(q6,{x:n,y:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f}):null);os.displayName="BaseEdge";function Ms(e,t,n){return n===void 0?n:i=>{const o=t().edges.find(a=>a.id===e);o&&n(i,{...o})}}function lg({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,a=n<e?n+o:n-o,u=Math.abs(i-t)/2,l=i<t?i+u:i-u;return[a,l,o,u]}function dg({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:u,targetControlY:l}){const d=e*.125+o*.375+u*.375+n*.125,f=t*.125+a*.375+l*.375+i*.125,h=Math.abs(d-e),g=Math.abs(f-t);return[d,f,h,g]}var yi;(function(e){e.Strict="strict",e.Loose="loose"})(yi||(yi={}));var fi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(fi||(fi={}));var ns;(function(e){e.Partial="partial",e.Full="full"})(ns||(ns={}));var jr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(jr||(jr={}));var ro;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ro||(ro={}));var pe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(pe||(pe={}));function _p({pos:e,x1:t,y1:n,x2:i,y2:o}){return e===pe.Left||e===pe.Right?[.5*(t+i),n]:[t,.5*(n+o)]}function fg({sourceX:e,sourceY:t,sourcePosition:n=pe.Bottom,targetX:i,targetY:o,targetPosition:a=pe.Top}){const[u,l]=_p({pos:n,x1:e,y1:t,x2:i,y2:o}),[d,f]=_p({pos:a,x1:i,y1:o,x2:e,y2:t}),[h,g,m,D]=dg({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:u,sourceControlY:l,targetControlX:d,targetControlY:f});return[`M${e},${t} C${u},${l} ${d},${f} ${i},${o}`,h,g,m,D]}const ud=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:o=pe.Bottom,targetPosition:a=pe.Top,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:D,markerStart:C,interactionWidth:v})=>{const[w,_,T]=fg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:i,targetPosition:a});return j.createElement(os,{path:w,labelX:_,labelY:T,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:D,markerStart:C,interactionWidth:v})});ud.displayName="SimpleBezierEdge";const Dp={[pe.Left]:{x:-1,y:0},[pe.Right]:{x:1,y:0},[pe.Top]:{x:0,y:-1},[pe.Bottom]:{x:0,y:1}},eS=({source:e,sourcePosition:t=pe.Bottom,target:n})=>t===pe.Left||t===pe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},xp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function tS({source:e,sourcePosition:t=pe.Bottom,target:n,targetPosition:i=pe.Top,center:o,offset:a}){const u=Dp[t],l=Dp[i],d={x:e.x+u.x*a,y:e.y+u.y*a},f={x:n.x+l.x*a,y:n.y+l.y*a},h=eS({source:d,sourcePosition:t,target:f}),g=h.x!==0?"x":"y",m=h[g];let D=[],C,v;const w={x:0,y:0},_={x:0,y:0},[T,A,F,M]=lg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[g]*l[g]===-1){C=o.x??T,v=o.y??A;const H=[{x:C,y:d.y},{x:C,y:f.y}],q=[{x:d.x,y:v},{x:f.x,y:v}];u[g]===m?D=g==="x"?H:q:D=g==="x"?q:H}else{const H=[{x:d.x,y:f.y}],q=[{x:f.x,y:d.y}];if(g==="x"?D=u.x===m?q:H:D=u.y===m?H:q,t===i){const G=Math.abs(e[g]-n[g]);if(G<=a){const N=Math.min(a-1,a-G);u[g]===m?w[g]=(d[g]>e[g]?-1:1)*N:_[g]=(f[g]>n[g]?-1:1)*N}}if(t!==i){const G=g==="x"?"y":"x",N=u[g]===l[G],$=d[G]>f[G],z=d[G]<f[G];(u[g]===1&&(!N&&$||N&&z)||u[g]!==1&&(!N&&z||N&&$))&&(D=g==="x"?H:q)}const k={x:d.x+w.x,y:d.y+w.y},W={x:f.x+_.x,y:f.y+_.y},Q=Math.max(Math.abs(k.x-D[0].x),Math.abs(W.x-D[0].x)),J=Math.max(Math.abs(k.y-D[0].y),Math.abs(W.y-D[0].y));Q>=J?(C=(k.x+W.x)/2,v=D[0].y):(C=D[0].x,v=(k.y+W.y)/2)}return[[e,{x:d.x+w.x,y:d.y+w.y},...D,{x:f.x+_.x,y:f.y+_.y},n],C,v,F,M]}function nS(e,t,n,i){const o=Math.min(xp(e,t)/2,xp(t,n)/2,i),{x:a,y:u}=t;if(e.x===a&&a===n.x||e.y===u&&u===n.y)return`L${a} ${u}`;if(e.y===u){const f=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${a+o*f},${u}Q ${a},${u} ${a},${u+o*h}`}const l=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${a},${u+o*d}Q ${a},${u} ${a+o*l},${u}`}function Tl({sourceX:e,sourceY:t,sourcePosition:n=pe.Bottom,targetX:i,targetY:o,targetPosition:a=pe.Top,borderRadius:u=5,centerX:l,centerY:d,offset:f=20}){const[h,g,m,D,C]=tS({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:a,center:{x:l,y:d},offset:f});return[h.reduce((w,_,T)=>{let A="";return T>0&&T<h.length-1?A=nS(h[T-1],_,h[T+1],u):A=`${T===0?"M":"L"}${_.x} ${_.y}`,w+=A,w},""),g,m,D,C]}const hu=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:g=pe.Bottom,targetPosition:m=pe.Top,markerEnd:D,markerStart:C,pathOptions:v,interactionWidth:w})=>{const[_,T,A]=Tl({sourceX:e,sourceY:t,sourcePosition:g,targetX:n,targetY:i,targetPosition:m,borderRadius:v?.borderRadius,offset:v?.offset});return j.createElement(os,{path:_,labelX:T,labelY:A,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:D,markerStart:C,interactionWidth:w})});hu.displayName="SmoothStepEdge";const cd=S.memo(e=>j.createElement(hu,{...e,pathOptions:S.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));cd.displayName="StepEdge";function rS({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,a,u,l]=lg({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,a,u,l]}const ld=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:m,interactionWidth:D})=>{const[C,v,w]=rS({sourceX:e,sourceY:t,targetX:n,targetY:i});return j.createElement(os,{path:C,labelX:v,labelY:w,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:m,interactionWidth:D})});ld.displayName="StraightEdge";function wa(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function wp({pos:e,x1:t,y1:n,x2:i,y2:o,c:a}){switch(e){case pe.Left:return[t-wa(t-i,a),n];case pe.Right:return[t+wa(i-t,a),n];case pe.Top:return[t,n-wa(n-o,a)];case pe.Bottom:return[t,n+wa(o-n,a)]}}function dd({sourceX:e,sourceY:t,sourcePosition:n=pe.Bottom,targetX:i,targetY:o,targetPosition:a=pe.Top,curvature:u=.25}){const[l,d]=wp({pos:n,x1:e,y1:t,x2:i,y2:o,c:u}),[f,h]=wp({pos:a,x1:i,y1:o,x2:e,y2:t,c:u}),[g,m,D,C]=dg({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:l,sourceControlY:d,targetControlX:f,targetControlY:h});return[`M${e},${t} C${l},${d} ${f},${h} ${i},${o}`,g,m,D,C]}const qa=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:o=pe.Bottom,targetPosition:a=pe.Top,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:D,markerStart:C,pathOptions:v,interactionWidth:w})=>{const[_,T,A]=dd({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:i,targetPosition:a,curvature:v?.curvature});return j.createElement(os,{path:_,labelX:T,labelY:A,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:D,markerStart:C,interactionWidth:w})});qa.displayName="BezierEdge";const fd=S.createContext(null),iS=fd.Provider;fd.Consumer;const sS=()=>S.useContext(fd),oS=e=>"id"in e&&"source"in e&&"target"in e,hg=e=>"id"in e&&!("source"in e)&&!("target"in e),Ya=(e,t,n)=>{if(!hg(e))return[];const i=n.filter(o=>o.source===e.id).map(o=>o.target);return t.filter(o=>i.includes(o.id))},aS=(e,t,n)=>{if(!hg(e))return[];const i=n.filter(o=>o.target===e.id).map(o=>o.source);return t.filter(o=>i.includes(o.id))},uS=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`reactflow__edge-${e}${t||""}-${n}${i||""}`,Il=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`,cS=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),lS=(e,t)=>{if(!e.source||!e.target)return t;let n;return oS(e)?n={...e}:n={...e,id:uS(e)},cS(n,t)?t:t.concat(n)},Bl=({x:e,y:t},[n,i,o],a,[u,l])=>{const d={x:(e-n)/o,y:(t-i)/o};return a?{x:u*Math.round(d.x/u),y:l*Math.round(d.y/l)}:d},pg=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i}),Yi=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],i=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-i};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-i}:o}},hd=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,o)=>{const{x:a,y:u}=Yi(o,t).positionAbsolute;return Y6(i,ad({x:a,y:u,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return X6(n)},gg=(e,t,[n,i,o]=[0,0,1],a=!1,u=!1,l=[0,0])=>{const d={x:(t.x-n)/o,y:(t.y-i)/o,width:t.width/o,height:t.height/o},f=[];return e.forEach(h=>{const{width:g,height:m,selectable:D=!0,hidden:C=!1}=h;if(u&&!D||C)return!1;const{positionAbsolute:v}=Yi(h,l),w={x:v.x,y:v.y,width:g||0,height:m||0},_=Nl(d,w),T=typeof g>"u"||typeof m>"u"||g===null||m===null,A=a&&_>0,F=(g||0)*(m||0);(T||A||_>=F||h.dragging)&&f.push(h)}),f},mg=(e,t)=>{const n=e.map(i=>i.id);return t.filter(i=>n.includes(i.source)||n.includes(i.target))},yg=(e,t,n,i,o,a=.1)=>{const u=t/(e.width*(1+a)),l=n/(e.height*(1+a)),d=Math.min(u,l),f=ts(d,i,o),h=e.x+e.width/2,g=e.y+e.height/2,m=t/2-h*f,D=n/2-g*f;return{x:m,y:D,zoom:f}},li=(e,t=0)=>e.transition().duration(t);function bp(e,t,n,i){return(t[n]||[]).reduce((o,a)=>(`${e.id}-${a.id}-${n}`!==i&&o.push({id:a.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+a.x+a.width/2,y:(e.positionAbsolute?.y??0)+a.y+a.height/2}),o),[])}function dS(e,t,n,i,o,a){const{x:u,y:l}=Vr(e),f=t.elementsFromPoint(u,l).find(C=>C.classList.contains("react-flow__handle"));if(f){const C=f.getAttribute("data-nodeid");if(C){const v=pd(void 0,f),w=f.getAttribute("data-handleid"),_=a({nodeId:C,id:w,type:v});if(_){const T=o.find(A=>A.nodeId===C&&A.type===v&&A.id===w);return{handle:{id:w,type:v,nodeId:C,x:T?.x||n.x,y:T?.y||n.y},validHandleResult:_}}}}let h=[],g=1/0;if(o.forEach(C=>{const v=Math.sqrt((C.x-n.x)**2+(C.y-n.y)**2);if(v<=i){const w=a(C);v<=g&&(v<g?h=[{handle:C,validHandleResult:w}]:v===g&&h.push({handle:C,validHandleResult:w}),g=v)}}),!h.length)return{handle:null,validHandleResult:vg()};if(h.length===1)return h[0];const m=h.some(({validHandleResult:C})=>C.isValid),D=h.some(({handle:C})=>C.type==="target");return h.find(({handle:C,validHandleResult:v})=>D?C.type==="target":m?v.isValid:!0)||h[0]}const fS={source:null,target:null,sourceHandle:null,targetHandle:null},vg=()=>({handleDomNode:null,isValid:!1,connection:fS,endHandle:null});function _g(e,t,n,i,o,a,u){const l=o==="target",d=u.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),f={...vg(),handleDomNode:d};if(d){const h=pd(void 0,d),g=d.getAttribute("data-nodeid"),m=d.getAttribute("data-handleid"),D=d.classList.contains("connectable"),C=d.classList.contains("connectableend"),v={source:l?g:n,sourceHandle:l?m:i,target:l?n:g,targetHandle:l?i:m};f.connection=v,D&&C&&(t===yi.Strict?l&&h==="source"||!l&&h==="target":g!==n||m!==i)&&(f.endHandle={nodeId:g,handleId:m,type:h},f.isValid=a(v))}return f}function hS({nodes:e,nodeId:t,handleId:n,handleType:i}){return e.reduce((o,a)=>{if(a[ht]){const{handleBounds:u}=a[ht];let l=[],d=[];u&&(l=bp(a,u,"source",`${t}-${n}-${i}`),d=bp(a,u,"target",`${t}-${n}-${i}`)),o.push(...l,...d)}return o},[])}function pd(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function ol(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function pS(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Dg({event:e,handleId:t,nodeId:n,onConnect:i,isTarget:o,getState:a,setState:u,isValidConnection:l,edgeUpdaterType:d,onReconnectEnd:f}){const h=ag(e.target),{connectionMode:g,domNode:m,autoPanOnConnect:D,connectionRadius:C,onConnectStart:v,panBy:w,getNodes:_,cancelConnection:T}=a();let A=0,F;const{x:M,y:P}=Vr(e),H=h?.elementFromPoint(M,P),q=pd(d,H),k=m?.getBoundingClientRect();if(!k||!q)return;let W,Q=Vr(e,k),J=!1,G=null,N=!1,$=null;const z=hS({nodes:_(),nodeId:n,handleId:t,handleType:q}),U=()=>{if(!D)return;const[te,re]=og(Q,k);w({x:te,y:re}),A=requestAnimationFrame(U)};u({connectionPosition:Q,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:q,connectionStartHandle:{nodeId:n,handleId:t,type:q},connectionEndHandle:null}),v?.(e,{nodeId:n,handleId:t,handleType:q});function ee(te){const{transform:re}=a();Q=Vr(te,k);const{handle:oe,validHandleResult:fe}=dS(te,h,Bl(Q,re,!1,[1,1]),C,z,de=>_g(de,g,n,t,o?"target":"source",l,h));if(F=oe,J||(U(),J=!0),$=fe.handleDomNode,G=fe.connection,N=fe.isValid,u({connectionPosition:F&&N?pg({x:F.x,y:F.y},re):Q,connectionStatus:pS(!!F,N),connectionEndHandle:fe.endHandle}),!F&&!N&&!$)return ol(W);G.source!==G.target&&$&&(ol(W),W=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",N),$.classList.toggle("react-flow__handle-valid",N))}function L(te){(F||$)&&G&&N&&i?.(G),a().onConnectEnd?.(te),d&&f?.(te),ol(W),T(),cancelAnimationFrame(A),J=!1,N=!1,G=null,$=null,h.removeEventListener("mousemove",ee),h.removeEventListener("mouseup",L),h.removeEventListener("touchmove",ee),h.removeEventListener("touchend",L)}h.addEventListener("mousemove",ee),h.addEventListener("mouseup",L),h.addEventListener("touchmove",ee),h.addEventListener("touchend",L)}const Cp=()=>!0,gS=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),mS=(e,t,n)=>i=>{const{connectionStartHandle:o,connectionEndHandle:a,connectionClickStartHandle:u}=i;return{connecting:o?.nodeId===e&&o?.handleId===t&&o?.type===n||a?.nodeId===e&&a?.handleId===t&&a?.type===n,clickConnecting:u?.nodeId===e&&u?.handleId===t&&u?.type===n}},xg=S.forwardRef(({type:e="source",position:t=pe.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:o=!0,isConnectableEnd:a=!0,id:u,onConnect:l,children:d,className:f,onMouseDown:h,onTouchStart:g,...m},D)=>{const C=u||null,v=e==="target",w=Nt(),_=sS(),{connectOnClick:T,noPanClassName:A}=ut(gS,zt),{connecting:F,clickConnecting:M}=ut(mS(_,C,e),zt);_||w.getState().onError?.("010",Er.error010());const P=k=>{const{defaultEdgeOptions:W,onConnect:Q,hasDefaultEdges:J}=w.getState(),G={...W,...k};if(J){const{edges:N,setEdges:$}=w.getState();$(lS(G,N))}Q?.(G),l?.(G)},H=k=>{if(!_)return;const W=cg(k);o&&(W&&k.button===0||!W)&&Dg({event:k,handleId:C,nodeId:_,onConnect:P,isTarget:v,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||Cp}),W?h?.(k):g?.(k)},q=k=>{const{onClickConnectStart:W,onClickConnectEnd:Q,connectionClickStartHandle:J,connectionMode:G,isValidConnection:N}=w.getState();if(!_||!J&&!o)return;if(!J){W?.(k,{nodeId:_,handleId:C,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:_,type:e,handleId:C}});return}const $=ag(k.target),z=n||N||Cp,{connection:U,isValid:ee}=_g({nodeId:_,id:C,type:e},G,J.nodeId,J.handleId||null,J.type,z,$);ee&&P(U),Q?.(k),w.setState({connectionClickStartHandle:null})};return j.createElement("div",{"data-handleid":C,"data-nodeid":_,"data-handlepos":t,"data-id":`${_}-${C}-${e}`,className:Wt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",A,f,{source:!v,target:v,connectable:i,connectablestart:o,connectableend:a,connecting:M,connectionindicator:i&&(o&&!F||a&&F)}]),onMouseDown:H,onTouchStart:H,onClick:T?q:void 0,ref:D,...m},d)});xg.displayName="Handle";var Wr=S.memo(xg);const wg=({data:e,isConnectable:t,targetPosition:n=pe.Top,sourcePosition:i=pe.Bottom})=>j.createElement(j.Fragment,null,j.createElement(Wr,{type:"target",position:n,isConnectable:t}),e?.label,j.createElement(Wr,{type:"source",position:i,isConnectable:t}));wg.displayName="DefaultNode";var Rl=S.memo(wg);const bg=({data:e,isConnectable:t,sourcePosition:n=pe.Bottom})=>j.createElement(j.Fragment,null,e?.label,j.createElement(Wr,{type:"source",position:n,isConnectable:t}));bg.displayName="InputNode";var Cg=S.memo(bg);const Eg=({data:e,isConnectable:t,targetPosition:n=pe.Top})=>j.createElement(j.Fragment,null,j.createElement(Wr,{type:"target",position:n,isConnectable:t}),e?.label);Eg.displayName="OutputNode";var Sg=S.memo(Eg);const gd=()=>null;gd.displayName="GroupNode";const yS=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),ba=e=>e.id;function vS(e,t){return zt(e.selectedNodes.map(ba),t.selectedNodes.map(ba))&&zt(e.selectedEdges.map(ba),t.selectedEdges.map(ba))}const Ag=S.memo(({onSelectionChange:e})=>{const t=Nt(),{selectedNodes:n,selectedEdges:i}=ut(yS,vS);return S.useEffect(()=>{const o={nodes:n,edges:i};e?.(o),t.getState().onSelectionChange.forEach(a=>a(o))},[n,i,e]),null});Ag.displayName="SelectionListener";const _S=e=>!!e.onSelectionChange;function DS({onSelectionChange:e}){const t=ut(_S);return e||t?j.createElement(Ag,{onSelectionChange:e}):null}const xS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function $i(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Oe(e,t,n){S.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const wS=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:o,onConnectStart:a,onConnectEnd:u,onClickConnectStart:l,onClickConnectEnd:d,nodesDraggable:f,nodesConnectable:h,nodesFocusable:g,edgesFocusable:m,edgesUpdatable:D,elevateNodesOnSelect:C,minZoom:v,maxZoom:w,nodeExtent:_,onNodesChange:T,onEdgesChange:A,elementsSelectable:F,connectionMode:M,snapGrid:P,snapToGrid:H,translateExtent:q,connectOnClick:k,defaultEdgeOptions:W,fitView:Q,fitViewOptions:J,onNodesDelete:G,onEdgesDelete:N,onNodeDrag:$,onNodeDragStart:z,onNodeDragStop:U,onSelectionDrag:ee,onSelectionDragStart:L,onSelectionDragStop:te,noPanClassName:re,nodeOrigin:oe,rfId:fe,autoPanOnConnect:de,autoPanOnNodeDrag:_e,onError:ke,connectionRadius:Me,isValidConnection:ye,nodeDragThreshold:Ce})=>{const{setNodes:$e,setEdges:kt,setDefaultNodesAndEdges:Ft,setMinZoom:Gt,setMaxZoom:ot,setTranslateExtent:tt,setNodeExtent:gn,reset:Ve}=ut(xS,zt),me=Nt();return S.useEffect(()=>{const Pt=i?.map(tn=>({...tn,...W}));return Ft(n,Pt),()=>{Ve()}},[]),Oe("defaultEdgeOptions",W,me.setState),Oe("connectionMode",M,me.setState),Oe("onConnect",o,me.setState),Oe("onConnectStart",a,me.setState),Oe("onConnectEnd",u,me.setState),Oe("onClickConnectStart",l,me.setState),Oe("onClickConnectEnd",d,me.setState),Oe("nodesDraggable",f,me.setState),Oe("nodesConnectable",h,me.setState),Oe("nodesFocusable",g,me.setState),Oe("edgesFocusable",m,me.setState),Oe("edgesUpdatable",D,me.setState),Oe("elementsSelectable",F,me.setState),Oe("elevateNodesOnSelect",C,me.setState),Oe("snapToGrid",H,me.setState),Oe("snapGrid",P,me.setState),Oe("onNodesChange",T,me.setState),Oe("onEdgesChange",A,me.setState),Oe("connectOnClick",k,me.setState),Oe("fitViewOnInit",Q,me.setState),Oe("fitViewOnInitOptions",J,me.setState),Oe("onNodesDelete",G,me.setState),Oe("onEdgesDelete",N,me.setState),Oe("onNodeDrag",$,me.setState),Oe("onNodeDragStart",z,me.setState),Oe("onNodeDragStop",U,me.setState),Oe("onSelectionDrag",ee,me.setState),Oe("onSelectionDragStart",L,me.setState),Oe("onSelectionDragStop",te,me.setState),Oe("noPanClassName",re,me.setState),Oe("nodeOrigin",oe,me.setState),Oe("rfId",fe,me.setState),Oe("autoPanOnConnect",de,me.setState),Oe("autoPanOnNodeDrag",_e,me.setState),Oe("onError",ke,me.setState),Oe("connectionRadius",Me,me.setState),Oe("isValidConnection",ye,me.setState),Oe("nodeDragThreshold",Ce,me.setState),$i(e,$e),$i(t,kt),$i(v,Gt),$i(w,ot),$i(q,tt),$i(_,gn),null},Ep={display:"none"},bS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ng="react-flow__node-desc",Fg="react-flow__edge-desc",CS="react-flow__aria-live",ES=e=>e.ariaLiveMessage;function SS({rfId:e}){const t=ut(ES);return j.createElement("div",{id:`${CS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:bS},t)}function AS({rfId:e,disableKeyboardA11y:t}){return j.createElement(j.Fragment,null,j.createElement("div",{id:`${Ng}-${e}`,style:Ep},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),j.createElement("div",{id:`${Fg}-${e}`,style:Ep},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&j.createElement(SS,{rfId:e}))}var io=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,i]=S.useState(!1),o=S.useRef(!1),a=S.useRef(new Set([])),[u,l]=S.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.split("+")),h=f.reduce((g,m)=>g.concat(...m),[]);return[f,h]}return[[],[]]},[e]);return S.useEffect(()=>{const d=typeof document<"u"?document:null,f=t?.target||d;if(e!==null){const h=D=>{if(o.current=D.ctrlKey||D.metaKey||D.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Fl(D))return!1;const v=Ap(D.code,l);a.current.add(D[v]),Sp(u,a.current,!1)&&(D.preventDefault(),i(!0))},g=D=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Fl(D))return!1;const v=Ap(D.code,l);Sp(u,a.current,!0)?(i(!1),a.current.clear()):a.current.delete(D[v]),D.key==="Meta"&&a.current.clear(),o.current=!1},m=()=>{a.current.clear(),i(!1)};return f?.addEventListener("keydown",h),f?.addEventListener("keyup",g),window.addEventListener("blur",m),()=>{f?.removeEventListener("keydown",h),f?.removeEventListener("keyup",g),window.removeEventListener("blur",m)}}},[e,i]),n};function Sp(e,t,n){return e.filter(i=>n||i.length===t.size).some(i=>i.every(o=>t.has(o)))}function Ap(e,t){return t.includes(e)?"code":"key"}function Tg(e,t,n,i){const o=e.parentNode||e.parentId;if(!o)return n;const a=t.get(o),u=Yi(a,i);return Tg(a,t,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(a[ht]?.z??0)>(n.z??0)?a[ht]?.z??0:n.z??0},i)}function Ig(e,t,n){e.forEach(i=>{const o=i.parentNode||i.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n?.[i.id]){const{x:a,y:u,z:l}=Tg(i,e,{...i.position,z:i[ht]?.z??0},t);i.positionAbsolute={x:a,y:u},i[ht].z=l,n?.[i.id]&&(i[ht].isParent=!0)}})}function al(e,t,n,i){const o=new Map,a={},u=i?1e3:0;return e.forEach(l=>{const d=(Sn(l.zIndex)?l.zIndex:0)+(l.selected?u:0),f=t.get(l.id),h={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},g=l.parentNode||l.parentId;g&&(a[g]=!0);const m=f?.type&&f?.type!==l.type;Object.defineProperty(h,ht,{enumerable:!1,value:{handleBounds:m?void 0:f?.[ht]?.handleBounds,z:d}}),o.set(l.id,h)}),Ig(o,n,a),o}function Bg(e,t={}){const{getNodes:n,width:i,height:o,minZoom:a,maxZoom:u,d3Zoom:l,d3Selection:d,fitViewOnInitDone:f,fitViewOnInit:h,nodeOrigin:g}=e(),m=t.initial&&!f&&h;if(l&&d&&(m||!t.initial)){const C=n().filter(w=>{const _=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return t.nodes?.length?_&&t.nodes.some(T=>T.id===w.id):_}),v=C.every(w=>w.width&&w.height);if(C.length>0&&v){const w=hd(C,g),{x:_,y:T,zoom:A}=yg(w,i,o,t.minZoom??a,t.maxZoom??u,t.padding??.1),F=Hr.translate(_,T).scale(A);return typeof t.duration=="number"&&t.duration>0?l.transform(li(d,t.duration),F):l.transform(d,F),!0}}return!1}function NS(e,t){return e.forEach(n=>{const i=t.get(n.id);i&&t.set(i.id,{...i,[ht]:i[ht],selected:n.selected})}),new Map(t)}function FS(e,t){return t.map(n=>{const i=e.find(o=>o.id===n.id);return i&&(n.selected=i.selected),n})}function Ca({changedNodes:e,changedEdges:t,get:n,set:i}){const{nodeInternals:o,edges:a,onNodesChange:u,onEdgesChange:l,hasDefaultNodes:d,hasDefaultEdges:f}=n();e?.length&&(d&&i({nodeInternals:NS(e,o)}),u?.(e)),t?.length&&(f&&i({edges:FS(t,a)}),l?.(t))}const Pi=()=>{},TS={zoomIn:Pi,zoomOut:Pi,zoomTo:Pi,getZoom:()=>1,setViewport:Pi,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Pi,fitBounds:Pi,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},IS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),BS=()=>{const e=Nt(),{d3Zoom:t,d3Selection:n}=ut(IS,zt);return S.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(li(n,o?.duration),1.2),zoomOut:o=>t.scaleBy(li(n,o?.duration),1/1.2),zoomTo:(o,a)=>t.scaleTo(li(n,a?.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,a)=>{const[u,l,d]=e.getState().transform,f=Hr.translate(o.x??u,o.y??l).scale(o.zoom??d);t.transform(li(n,a?.duration),f)},getViewport:()=>{const[o,a,u]=e.getState().transform;return{x:o,y:a,zoom:u}},fitView:o=>Bg(e.getState,o),setCenter:(o,a,u)=>{const{width:l,height:d,maxZoom:f}=e.getState(),h=typeof u?.zoom<"u"?u.zoom:f,g=l/2-o*h,m=d/2-a*h,D=Hr.translate(g,m).scale(h);t.transform(li(n,u?.duration),D)},fitBounds:(o,a)=>{const{width:u,height:l,minZoom:d,maxZoom:f}=e.getState(),{x:h,y:g,zoom:m}=yg(o,u,l,d,f,a?.padding??.1),D=Hr.translate(h,g).scale(m);t.transform(li(n,a?.duration),D)},project:o=>{const{transform:a,snapToGrid:u,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Bl(o,a,u,l)},screenToFlowPosition:o=>{const{transform:a,snapToGrid:u,snapGrid:l,domNode:d}=e.getState();if(!d)return o;const{x:f,y:h}=d.getBoundingClientRect(),g={x:o.x-f,y:o.y-h};return Bl(g,a,u,l)},flowToScreenPosition:o=>{const{transform:a,domNode:u}=e.getState();if(!u)return o;const{x:l,y:d}=u.getBoundingClientRect(),f=pg(o,a);return{x:f.x+l,y:f.y+d}},viewportInitialized:!0}:TS,[t,n])};function md(){const e=BS(),t=Nt(),n=S.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),i=S.useCallback(v=>t.getState().nodeInternals.get(v),[]),o=S.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(w=>({...w}))},[]),a=S.useCallback(v=>{const{edges:w=[]}=t.getState();return w.find(_=>_.id===v)},[]),u=S.useCallback(v=>{const{getNodes:w,setNodes:_,hasDefaultNodes:T,onNodesChange:A}=t.getState(),F=w(),M=typeof v=="function"?v(F):v;if(T)_(M);else if(A){const P=M.length===0?F.map(H=>({type:"remove",id:H.id})):M.map(H=>({item:H,type:"reset"}));A(P)}},[]),l=S.useCallback(v=>{const{edges:w=[],setEdges:_,hasDefaultEdges:T,onEdgesChange:A}=t.getState(),F=typeof v=="function"?v(w):v;if(T)_(F);else if(A){const M=F.length===0?w.map(P=>({type:"remove",id:P.id})):F.map(P=>({item:P,type:"reset"}));A(M)}},[]),d=S.useCallback(v=>{const w=Array.isArray(v)?v:[v],{getNodes:_,setNodes:T,hasDefaultNodes:A,onNodesChange:F}=t.getState();if(A){const P=[..._(),...w];T(P)}else if(F){const M=w.map(P=>({item:P,type:"add"}));F(M)}},[]),f=S.useCallback(v=>{const w=Array.isArray(v)?v:[v],{edges:_=[],setEdges:T,hasDefaultEdges:A,onEdgesChange:F}=t.getState();if(A)T([..._,...w]);else if(F){const M=w.map(P=>({item:P,type:"add"}));F(M)}},[]),h=S.useCallback(()=>{const{getNodes:v,edges:w=[],transform:_}=t.getState(),[T,A,F]=_;return{nodes:v().map(M=>({...M})),edges:w.map(M=>({...M})),viewport:{x:T,y:A,zoom:F}}},[]),g=S.useCallback(({nodes:v,edges:w})=>{const{nodeInternals:_,getNodes:T,edges:A,hasDefaultNodes:F,hasDefaultEdges:M,onNodesDelete:P,onEdgesDelete:H,onNodesChange:q,onEdgesChange:k}=t.getState(),W=(v||[]).map($=>$.id),Q=(w||[]).map($=>$.id),J=T().reduce(($,z)=>{const U=z.parentNode||z.parentId,ee=!W.includes(z.id)&&U&&$.find(te=>te.id===U);return(typeof z.deletable=="boolean"?z.deletable:!0)&&(W.includes(z.id)||ee)&&$.push(z),$},[]),G=A.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),N=G.filter($=>Q.includes($.id));if(J||N){const $=mg(J,G),z=[...N,...$],U=z.reduce((ee,L)=>(ee.includes(L.id)||ee.push(L.id),ee),[]);if((M||F)&&(M&&t.setState({edges:A.filter(ee=>!U.includes(ee.id))}),F&&(J.forEach(ee=>{_.delete(ee.id)}),t.setState({nodeInternals:new Map(_)}))),U.length>0&&(H?.(z),k&&k(U.map(ee=>({id:ee,type:"remove"})))),J.length>0&&(P?.(J),q)){const ee=J.map(L=>({id:L.id,type:"remove"}));q(ee)}}},[]),m=S.useCallback(v=>{const w=K6(v),_=w?null:t.getState().nodeInternals.get(v.id);return!w&&!_?[null,null,w]:[w?v:vp(_),_,w]},[]),D=S.useCallback((v,w=!0,_)=>{const[T,A,F]=m(v);return T?(_||t.getState().getNodes()).filter(M=>{if(!F&&(M.id===A.id||!M.positionAbsolute))return!1;const P=vp(M),H=Nl(P,T);return w&&H>0||H>=T.width*T.height}):[]},[]),C=S.useCallback((v,w,_=!0)=>{const[T]=m(v);if(!T)return!1;const A=Nl(T,w);return _&&A>0||A>=T.width*T.height},[]);return S.useMemo(()=>({...e,getNodes:n,getNode:i,getEdges:o,getEdge:a,setNodes:u,setEdges:l,addNodes:d,addEdges:f,toObject:h,deleteElements:g,getIntersectingNodes:D,isNodeIntersecting:C}),[e,n,i,o,a,u,l,d,f,h,g,D,C])}const RS={actInsideInputWithModifier:!1};var kS=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Nt(),{deleteElements:i}=md(),o=io(e,RS),a=io(t);S.useEffect(()=>{if(o){const{edges:u,getNodes:l}=n.getState(),d=l().filter(h=>h.selected),f=u.filter(h=>h.selected);i({nodes:d,edges:f}),n.setState({nodesSelectionActive:!1})}},[o]),S.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function MS(e){const t=Nt();S.useEffect(()=>{let n;const i=()=>{if(!e.current)return;const o=sd(e.current);(o.height===0||o.width===0)&&t.getState().onError?.("004",Er.error004()),t.setState({width:o.width||500,height:o.height||500})};return i(),window.addEventListener("resize",i),e.current&&(n=new ResizeObserver(()=>i()),n.observe(e.current)),()=>{window.removeEventListener("resize",i),n&&e.current&&n.unobserve(e.current)}},[])}const yd={position:"absolute",width:"100%",height:"100%",top:0,left:0},OS=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ea=e=>({x:e.x,y:e.y,zoom:e.k}),ji=(e,t)=>e.target.closest(`.${t}`),Np=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Fp=e=>{const t=e.ctrlKey&&Za()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},zS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),$S=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:i,zoomOnScroll:o=!0,zoomOnPinch:a=!0,panOnScroll:u=!1,panOnScrollSpeed:l=.5,panOnScrollMode:d=fi.Free,zoomOnDoubleClick:f=!0,elementsSelectable:h,panOnDrag:g=!0,defaultViewport:m,translateExtent:D,minZoom:C,maxZoom:v,zoomActivationKeyCode:w,preventScrolling:_=!0,children:T,noWheelClassName:A,noPanClassName:F})=>{const M=S.useRef(),P=Nt(),H=S.useRef(!1),q=S.useRef(!1),k=S.useRef(null),W=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:Q,d3Selection:J,d3ZoomHandler:G,userSelectionActive:N}=ut(zS,zt),$=io(w),z=S.useRef(0),U=S.useRef(!1),ee=S.useRef();return MS(k),S.useEffect(()=>{if(k.current){const L=k.current.getBoundingClientRect(),te=V6().scaleExtent([C,v]).translateExtent(D),re=zn(k.current).call(te),oe=Hr.translate(m.x,m.y).scale(ts(m.zoom,C,v)),fe=[[0,0],[L.width,L.height]],de=te.constrain()(oe,fe,D);te.transform(re,de),te.wheelDelta(Fp),P.setState({d3Zoom:te,d3Selection:re,d3ZoomHandler:re.on("wheel.zoom"),transform:[de.x,de.y,de.k],domNode:k.current.closest(".react-flow")})}},[]),S.useEffect(()=>{J&&Q&&(u&&!$&&!N?J.on("wheel.zoom",L=>{if(ji(L,A))return!1;L.preventDefault(),L.stopImmediatePropagation();const te=J.property("__zoom").k||1;if(L.ctrlKey&&a){const ye=Jn(L),Ce=Fp(L),$e=te*Math.pow(2,Ce);Q.scaleTo(J,$e,ye,L);return}const re=L.deltaMode===1?20:1;let oe=d===fi.Vertical?0:L.deltaX*re,fe=d===fi.Horizontal?0:L.deltaY*re;!Za()&&L.shiftKey&&d!==fi.Vertical&&(oe=L.deltaY*re,fe=0),Q.translateBy(J,-(oe/te)*l,-(fe/te)*l,{internal:!0});const de=Ea(J.property("__zoom")),{onViewportChangeStart:_e,onViewportChange:ke,onViewportChangeEnd:Me}=P.getState();clearTimeout(ee.current),U.current||(U.current=!0,t?.(L,de),_e?.(de)),U.current&&(e?.(L,de),ke?.(de),ee.current=setTimeout(()=>{n?.(L,de),Me?.(de),U.current=!1},150))},{passive:!1}):typeof G<"u"&&J.on("wheel.zoom",function(L,te){if(!_&&L.type==="wheel"&&!L.ctrlKey||ji(L,A))return null;L.preventDefault(),G.call(this,L,te)},{passive:!1}))},[N,u,d,J,Q,G,$,a,_,A,t,e,n]),S.useEffect(()=>{Q&&Q.on("start",L=>{if(!L.sourceEvent||L.sourceEvent.internal)return null;z.current=L.sourceEvent?.button;const{onViewportChangeStart:te}=P.getState(),re=Ea(L.transform);H.current=!0,W.current=re,L.sourceEvent?.type==="mousedown"&&P.setState({paneDragging:!0}),te?.(re),t?.(L.sourceEvent,re)})},[Q,t]),S.useEffect(()=>{Q&&(N&&!H.current?Q.on("zoom",null):N||Q.on("zoom",L=>{const{onViewportChange:te}=P.getState();if(P.setState({transform:[L.transform.x,L.transform.y,L.transform.k]}),q.current=!!(i&&Np(g,z.current??0)),(e||te)&&!L.sourceEvent?.internal){const re=Ea(L.transform);te?.(re),e?.(L.sourceEvent,re)}}))},[N,Q,e,g,i]),S.useEffect(()=>{Q&&Q.on("end",L=>{if(!L.sourceEvent||L.sourceEvent.internal)return null;const{onViewportChangeEnd:te}=P.getState();if(H.current=!1,P.setState({paneDragging:!1}),i&&Np(g,z.current??0)&&!q.current&&i(L.sourceEvent),q.current=!1,(n||te)&&OS(W.current,L.transform)){const re=Ea(L.transform);W.current=re,clearTimeout(M.current),M.current=setTimeout(()=>{te?.(re),n?.(L.sourceEvent,re)},u?150:0)}})},[Q,u,g,n,i]),S.useEffect(()=>{Q&&Q.filter(L=>{const te=$||o,re=a&&L.ctrlKey;if((g===!0||Array.isArray(g)&&g.includes(1))&&L.button===1&&L.type==="mousedown"&&(ji(L,"react-flow__node")||ji(L,"react-flow__edge")))return!0;if(!g&&!te&&!u&&!f&&!a||N||!f&&L.type==="dblclick"||ji(L,A)&&L.type==="wheel"||ji(L,F)&&(L.type!=="wheel"||u&&L.type==="wheel"&&!$)||!a&&L.ctrlKey&&L.type==="wheel"||!te&&!u&&!re&&L.type==="wheel"||!g&&(L.type==="mousedown"||L.type==="touchstart")||Array.isArray(g)&&!g.includes(L.button)&&L.type==="mousedown")return!1;const oe=Array.isArray(g)&&g.includes(L.button)||!L.button||L.button<=1;return(!L.ctrlKey||L.type==="wheel")&&oe})},[N,Q,o,a,u,f,g,h,$]),j.createElement("div",{className:"react-flow__renderer",ref:k,style:yd},T)},PS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function jS(){const{userSelectionActive:e,userSelectionRect:t}=ut(PS,zt);return e&&t?j.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Tp(e,t){const n=t.parentNode||t.parentId,i=e.find(o=>o.id===n);if(i){const o=t.position.x+t.width-i.width,a=t.position.y+t.height-i.height;if(o>0||a>0||t.position.x<0||t.position.y<0){if(i.style={...i.style},i.style.width=i.style.width??i.width,i.style.height=i.style.height??i.height,o>0&&(i.style.width+=o),a>0&&(i.style.height+=a),t.position.x<0){const u=Math.abs(t.position.x);i.position.x=i.position.x-u,i.style.width+=u,t.position.x=0}if(t.position.y<0){const u=Math.abs(t.position.y);i.position.y=i.position.y-u,i.style.height+=u,t.position.y=0}i.width=i.style.width,i.height=i.style.height}}}function Rg(e,t){if(e.some(i=>i.type==="reset"))return e.filter(i=>i.type==="reset").map(i=>i.item);const n=e.filter(i=>i.type==="add").map(i=>i.item);return t.reduce((i,o)=>{const a=e.filter(l=>l.id===o.id);if(a.length===0)return i.push(o),i;const u={...o};for(const l of a)if(l)switch(l.type){case"select":{u.selected=l.selected;break}case"position":{typeof l.position<"u"&&(u.position=l.position),typeof l.positionAbsolute<"u"&&(u.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(u.dragging=l.dragging),u.expandParent&&Tp(i,u);break}case"dimensions":{typeof l.dimensions<"u"&&(u.width=l.dimensions.width,u.height=l.dimensions.height),typeof l.updateStyle<"u"&&(u.style={...u.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(u.resizing=l.resizing),u.expandParent&&Tp(i,u);break}case"remove":return i}return i.push(u),i},n)}function kg(e,t){return Rg(e,t)}function LS(e,t){return Rg(e,t)}const Pr=(e,t)=>({id:e,type:"select",selected:t});function Ui(e,t){return e.reduce((n,i)=>{const o=t.includes(i.id);return!i.selected&&o?(i.selected=!0,n.push(Pr(i.id,!0))):i.selected&&!o&&(i.selected=!1,n.push(Pr(i.id,!1))),n},[])}const ul=(e,t)=>n=>{n.target===t.current&&e?.(n)},HS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Mg=S.memo(({isSelecting:e,selectionMode:t=ns.Full,panOnDrag:n,onSelectionStart:i,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:l,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:h,children:g})=>{const m=S.useRef(null),D=Nt(),C=S.useRef(0),v=S.useRef(0),w=S.useRef(),{userSelectionActive:_,elementsSelectable:T,dragging:A}=ut(HS,zt),F=()=>{D.setState({userSelectionActive:!1,userSelectionRect:null}),C.current=0,v.current=0},M=G=>{a?.(G),D.getState().resetSelectedElements(),D.setState({nodesSelectionActive:!1})},P=G=>{if(Array.isArray(n)&&n?.includes(2)){G.preventDefault();return}u?.(G)},H=l?G=>l(G):void 0,q=G=>{const{resetSelectedElements:N,domNode:$}=D.getState();if(w.current=$?.getBoundingClientRect(),!T||!e||G.button!==0||G.target!==m.current||!w.current)return;const{x:z,y:U}=Vr(G,w.current);N(),D.setState({userSelectionRect:{width:0,height:0,startX:z,startY:U,x:z,y:U}}),i?.(G)},k=G=>{const{userSelectionRect:N,nodeInternals:$,edges:z,transform:U,onNodesChange:ee,onEdgesChange:L,nodeOrigin:te,getNodes:re}=D.getState();if(!e||!w.current||!N)return;D.setState({userSelectionActive:!0,nodesSelectionActive:!1});const oe=Vr(G,w.current),fe=N.startX??0,de=N.startY??0,_e={...N,x:oe.x<fe?oe.x:fe,y:oe.y<de?oe.y:de,width:Math.abs(oe.x-fe),height:Math.abs(oe.y-de)},ke=re(),Me=gg($,_e,U,t===ns.Partial,!0,te),ye=mg(Me,z).map($e=>$e.id),Ce=Me.map($e=>$e.id);if(C.current!==Ce.length){C.current=Ce.length;const $e=Ui(ke,Ce);$e.length&&ee?.($e)}if(v.current!==ye.length){v.current=ye.length;const $e=Ui(z,ye);$e.length&&L?.($e)}D.setState({userSelectionRect:_e})},W=G=>{if(G.button!==0)return;const{userSelectionRect:N}=D.getState();!_&&N&&G.target===m.current&&M?.(G),D.setState({nodesSelectionActive:C.current>0}),F(),o?.(G)},Q=G=>{_&&(D.setState({nodesSelectionActive:C.current>0}),o?.(G)),F()},J=T&&(e||_);return j.createElement("div",{className:Wt(["react-flow__pane",{dragging:A,selection:e}]),onClick:J?void 0:ul(M,m),onContextMenu:ul(P,m),onWheel:ul(H,m),onMouseEnter:J?void 0:d,onMouseDown:J?q:void 0,onMouseMove:J?k:f,onMouseUp:J?W:void 0,onMouseLeave:J?Q:h,ref:m,style:yd},g,j.createElement(jS,null))});Mg.displayName="Pane";function Og(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const i=t.get(n);return i?i.selected?!0:Og(i,t):!1}function Ip(e,t,n){let i=e;do{if(i?.matches(t))return!0;if(i===n.current)return!1;i=i.parentElement}while(i);return!1}function VS(e,t,n,i){return Array.from(e.values()).filter(o=>(o.selected||o.id===i)&&(!o.parentNode||o.parentId||!Og(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>({id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(o.positionAbsolute?.x??0),y:n.y-(o.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}))}function US(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function zg(e,t,n,i,o=[0,0],a){const u=US(e,e.extent||i);let l=u;const d=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(d&&e.width&&e.height){const g=n.get(d),{x:m,y:D}=Yi(g,o).positionAbsolute;l=g&&Sn(m)&&Sn(D)&&Sn(g.width)&&Sn(g.height)?[[m+e.width*o[0],D+e.height*o[1]],[m+g.width-e.width+e.width*o[0],D+g.height-e.height+e.height*o[1]]]:l}else a?.("005",Er.error005()),l=u;else if(e.extent&&d&&e.extent!=="parent"){const g=n.get(d),{x:m,y:D}=Yi(g,o).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+D],[e.extent[1][0]+m,e.extent[1][1]+D]]}let f={x:0,y:0};if(d){const g=n.get(d);f=Yi(g,o).positionAbsolute}const h=l&&l!=="parent"?od(t,l):t;return{position:{x:h.x-f.x,y:h.y-f.y},positionAbsolute:h}}function cl({nodeId:e,dragItems:t,nodeInternals:n}){const i=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?i.find(o=>o.id===e):i[0],i]}const Bp=(e,t,n,i)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const a=Array.from(o),u=t.getBoundingClientRect(),l={x:u.width*i[0],y:u.height*i[1]};return a.map(d=>{const f=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),position:d.getAttribute("data-handlepos"),x:(f.left-u.left-l.x)/n,y:(f.top-u.top-l.y)/n,...sd(d)}})};function Os(e,t,n){return n===void 0?n:i=>{const o=t().nodeInternals.get(e);o&&n(i,{...o})}}function kl({id:e,store:t,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:u,nodeInternals:l,onError:d}=t.getState(),f=l.get(e);if(!f){d?.("012",Er.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&u)&&(a({nodes:[f],edges:[]}),requestAnimationFrame(()=>i?.current?.blur())):o([e])}function WS(){const e=Nt();return S.useCallback(({sourceEvent:n})=>{const{transform:i,snapGrid:o,snapToGrid:a}=e.getState(),u=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,d={x:(u-i[0])/i[2],y:(l-i[1])/i[2]};return{xSnapped:a?o[0]*Math.round(d.x/o[0]):d.x,ySnapped:a?o[1]*Math.round(d.y/o[1]):d.y,...d}},[])}function ll(e){return(t,n,i)=>e?.(t,i)}function $g({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:i,nodeId:o,isSelectable:a,selectNodesOnDrag:u}){const l=Nt(),[d,f]=S.useState(!1),h=S.useRef([]),g=S.useRef({x:null,y:null}),m=S.useRef(0),D=S.useRef(null),C=S.useRef({x:0,y:0}),v=S.useRef(null),w=S.useRef(!1),_=S.useRef(!1),T=S.useRef(!1),A=WS();return S.useEffect(()=>{if(e?.current){const F=zn(e.current),M=({x:q,y:k})=>{const{nodeInternals:W,onNodeDrag:Q,onSelectionDrag:J,updateNodePositions:G,nodeExtent:N,snapGrid:$,snapToGrid:z,nodeOrigin:U,onError:ee}=l.getState();g.current={x:q,y:k};let L=!1,te={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&N){const oe=hd(h.current,U);te=ad(oe)}if(h.current=h.current.map(oe=>{const fe={x:q-oe.distance.x,y:k-oe.distance.y};z&&(fe.x=$[0]*Math.round(fe.x/$[0]),fe.y=$[1]*Math.round(fe.y/$[1]));const de=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];h.current.length>1&&N&&!oe.extent&&(de[0][0]=oe.positionAbsolute.x-te.x+N[0][0],de[1][0]=oe.positionAbsolute.x+(oe.width??0)-te.x2+N[1][0],de[0][1]=oe.positionAbsolute.y-te.y+N[0][1],de[1][1]=oe.positionAbsolute.y+(oe.height??0)-te.y2+N[1][1]);const _e=zg(oe,fe,W,de,U,ee);return L=L||oe.position.x!==_e.position.x||oe.position.y!==_e.position.y,oe.position=_e.position,oe.positionAbsolute=_e.positionAbsolute,oe}),!L)return;G(h.current,!0,!0),f(!0);const re=o?Q:ll(J);if(re&&v.current){const[oe,fe]=cl({nodeId:o,dragItems:h.current,nodeInternals:W});re(v.current,oe,fe)}},P=()=>{if(!D.current)return;const[q,k]=og(C.current,D.current);if(q!==0||k!==0){const{transform:W,panBy:Q}=l.getState();g.current.x=(g.current.x??0)-q/W[2],g.current.y=(g.current.y??0)-k/W[2],Q({x:q,y:k})&&M(g.current)}m.current=requestAnimationFrame(P)},H=q=>{const{nodeInternals:k,multiSelectionActive:W,nodesDraggable:Q,unselectNodesAndEdges:J,onNodeDragStart:G,onSelectionDragStart:N}=l.getState();_.current=!0;const $=o?G:ll(N);(!u||!a)&&!W&&o&&(k.get(o)?.selected||J()),o&&a&&u&&kl({id:o,store:l,nodeRef:e});const z=A(q);if(g.current=z,h.current=VS(k,Q,z,o),$&&h.current){const[U,ee]=cl({nodeId:o,dragItems:h.current,nodeInternals:k});$(q.sourceEvent,U,ee)}};if(t)F.on(".drag",null);else{const q=QE().on("start",k=>{const{domNode:W,nodeDragThreshold:Q}=l.getState();Q===0&&H(k),T.current=!1;const J=A(k);g.current=J,D.current=W?.getBoundingClientRect()||null,C.current=Vr(k.sourceEvent,D.current)}).on("drag",k=>{const W=A(k),{autoPanOnNodeDrag:Q,nodeDragThreshold:J}=l.getState();if(k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1&&(T.current=!0),!T.current){if(!w.current&&_.current&&Q&&(w.current=!0,P()),!_.current){const G=W.xSnapped-(g?.current?.x??0),N=W.ySnapped-(g?.current?.y??0);Math.sqrt(G*G+N*N)>J&&H(k)}(g.current.x!==W.xSnapped||g.current.y!==W.ySnapped)&&h.current&&_.current&&(v.current=k.sourceEvent,C.current=Vr(k.sourceEvent,D.current),M(W))}}).on("end",k=>{if(!(!_.current||T.current)&&(f(!1),w.current=!1,_.current=!1,cancelAnimationFrame(m.current),h.current)){const{updateNodePositions:W,nodeInternals:Q,onNodeDragStop:J,onSelectionDragStop:G}=l.getState(),N=o?J:ll(G);if(W(h.current,!1,!1),N){const[$,z]=cl({nodeId:o,dragItems:h.current,nodeInternals:Q});N(k.sourceEvent,$,z)}}}).filter(k=>{const W=k.target;return!k.button&&(!n||!Ip(W,`.${n}`,e))&&(!i||Ip(W,i,e))});return F.call(q),()=>{F.on(".drag",null)}}}},[e,t,n,i,a,l,o,u,A]),d}function Pg(){const e=Nt();return S.useCallback(n=>{const{nodeInternals:i,nodeExtent:o,updateNodePositions:a,getNodes:u,snapToGrid:l,snapGrid:d,onError:f,nodesDraggable:h}=e.getState(),g=u().filter(T=>T.selected&&(T.draggable||h&&typeof T.draggable>"u")),m=l?d[0]:5,D=l?d[1]:5,C=n.isShiftPressed?4:1,v=n.x*m*C,w=n.y*D*C,_=g.map(T=>{if(T.positionAbsolute){const A={x:T.positionAbsolute.x+v,y:T.positionAbsolute.y+w};l&&(A.x=d[0]*Math.round(A.x/d[0]),A.y=d[1]*Math.round(A.y/d[1]));const{positionAbsolute:F,position:M}=zg(T,A,i,o,void 0,f);T.position=M,T.positionAbsolute=F}return T});a(_,!0,!1)},[])}const Xi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var zs=e=>{const t=({id:n,type:i,data:o,xPos:a,yPos:u,xPosOrigin:l,yPosOrigin:d,selected:f,onClick:h,onMouseEnter:g,onMouseMove:m,onMouseLeave:D,onContextMenu:C,onDoubleClick:v,style:w,className:_,isDraggable:T,isSelectable:A,isConnectable:F,isFocusable:M,selectNodesOnDrag:P,sourcePosition:H,targetPosition:q,hidden:k,resizeObserver:W,dragHandle:Q,zIndex:J,isParent:G,noDragClassName:N,noPanClassName:$,initialized:z,disableKeyboardA11y:U,ariaLabel:ee,rfId:L,hasHandleBounds:te})=>{const re=Nt(),oe=S.useRef(null),fe=S.useRef(null),de=S.useRef(H),_e=S.useRef(q),ke=S.useRef(i),Me=A||T||h||g||m||D,ye=Pg(),Ce=Os(n,re.getState,g),$e=Os(n,re.getState,m),kt=Os(n,re.getState,D),Ft=Os(n,re.getState,C),Gt=Os(n,re.getState,v),ot=Ve=>{const{nodeDragThreshold:me}=re.getState();if(A&&(!P||!T||me>0)&&kl({id:n,store:re,nodeRef:oe}),h){const Pt=re.getState().nodeInternals.get(n);Pt&&h(Ve,{...Pt})}},tt=Ve=>{if(!Fl(Ve)&&!U)if(ug.includes(Ve.key)&&A){const me=Ve.key==="Escape";kl({id:n,store:re,unselect:me,nodeRef:oe})}else T&&f&&Object.prototype.hasOwnProperty.call(Xi,Ve.key)&&(re.setState({ariaLiveMessage:`Moved selected node ${Ve.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~u}`}),ye({x:Xi[Ve.key].x,y:Xi[Ve.key].y,isShiftPressed:Ve.shiftKey}))};S.useEffect(()=>()=>{fe.current&&(W?.unobserve(fe.current),fe.current=null)},[]),S.useEffect(()=>{if(oe.current&&!k){const Ve=oe.current;(!z||!te||fe.current!==Ve)&&(fe.current&&W?.unobserve(fe.current),W?.observe(Ve),fe.current=Ve)}},[k,z,te]),S.useEffect(()=>{const Ve=ke.current!==i,me=de.current!==H,Pt=_e.current!==q;oe.current&&(Ve||me||Pt)&&(Ve&&(ke.current=i),me&&(de.current=H),Pt&&(_e.current=q),re.getState().updateNodeDimensions([{id:n,nodeElement:oe.current,forceUpdate:!0}]))},[n,i,H,q]);const gn=$g({nodeRef:oe,disabled:k||!T,noDragClassName:N,handleSelector:Q,nodeId:n,isSelectable:A,selectNodesOnDrag:P});return k?null:j.createElement("div",{className:Wt(["react-flow__node",`react-flow__node-${i}`,{[$]:T},_,{selected:f,selectable:A,parent:G,dragging:gn}]),ref:oe,style:{zIndex:J,transform:`translate(${l}px,${d}px)`,pointerEvents:Me?"all":"none",visibility:z?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Ce,onMouseMove:$e,onMouseLeave:kt,onContextMenu:Ft,onClick:ot,onDoubleClick:Gt,onKeyDown:M?tt:void 0,tabIndex:M?0:void 0,role:M?"button":void 0,"aria-describedby":U?void 0:`${Ng}-${L}`,"aria-label":ee},j.createElement(iS,{value:n},j.createElement(e,{id:n,data:o,type:i,xPos:a,yPos:u,selected:f,isConnectable:F,sourcePosition:H,targetPosition:q,dragging:gn,dragHandle:Q,zIndex:J})))};return t.displayName="NodeWrapper",S.memo(t)};const GS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...hd(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function ZS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const i=Nt(),{width:o,height:a,x:u,y:l,transformString:d,userSelectionActive:f}=ut(GS,zt),h=Pg(),g=S.useRef(null);if(S.useEffect(()=>{n||g.current?.focus({preventScroll:!0})},[n]),$g({nodeRef:g}),f||!o||!a)return null;const m=e?C=>{const v=i.getState().getNodes().filter(w=>w.selected);e(C,v)}:void 0,D=C=>{Object.prototype.hasOwnProperty.call(Xi,C.key)&&h({x:Xi[C.key].x,y:Xi[C.key].y,isShiftPressed:C.shiftKey})};return j.createElement("div",{className:Wt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:d}},j.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:D,style:{width:o,height:a,top:l,left:u}}))}var qS=S.memo(ZS);const YS=e=>e.nodesSelectionActive,jg=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:u,deleteKeyCode:l,onMove:d,onMoveStart:f,onMoveEnd:h,selectionKeyCode:g,selectionOnDrag:m,selectionMode:D,onSelectionStart:C,onSelectionEnd:v,multiSelectionKeyCode:w,panActivationKeyCode:_,zoomActivationKeyCode:T,elementsSelectable:A,zoomOnScroll:F,zoomOnPinch:M,panOnScroll:P,panOnScrollSpeed:H,panOnScrollMode:q,zoomOnDoubleClick:k,panOnDrag:W,defaultViewport:Q,translateExtent:J,minZoom:G,maxZoom:N,preventScrolling:$,onSelectionContextMenu:z,noWheelClassName:U,noPanClassName:ee,disableKeyboardA11y:L})=>{const te=ut(YS),re=io(g),oe=io(_),fe=oe||W,de=oe||P,_e=re||m&&fe!==!0;return kS({deleteKeyCode:l,multiSelectionKeyCode:w}),j.createElement($S,{onMove:d,onMoveStart:f,onMoveEnd:h,onPaneContextMenu:a,elementsSelectable:A,zoomOnScroll:F,zoomOnPinch:M,panOnScroll:de,panOnScrollSpeed:H,panOnScrollMode:q,zoomOnDoubleClick:k,panOnDrag:!re&&fe,defaultViewport:Q,translateExtent:J,minZoom:G,maxZoom:N,zoomActivationKeyCode:T,preventScrolling:$,noWheelClassName:U,noPanClassName:ee},j.createElement(Mg,{onSelectionStart:C,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:u,panOnDrag:fe,isSelecting:!!_e,selectionMode:D},e,te&&j.createElement(qS,{onSelectionContextMenu:z,noPanClassName:ee,disableKeyboardA11y:L})))};jg.displayName="FlowRenderer";var XS=S.memo(jg);function KS(e){return ut(S.useCallback(n=>e?gg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function JS(e){const t={input:zs(e.input||Cg),default:zs(e.default||Rl),output:zs(e.output||Sg),group:zs(e.group||gd)},n={},i=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,a)=>(o[a]=zs(e[a]||Rl),o),n);return{...t,...i}}const QS=({x:e,y:t,width:n,height:i,origin:o})=>!n||!i?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-i*o[1]},eA=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Lg=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:o,updateNodeDimensions:a,onError:u}=ut(eA,zt),l=KS(e.onlyRenderVisibleElements),d=S.useRef(),f=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(g=>{const m=g.map(D=>({id:D.target.getAttribute("data-id"),nodeElement:D.target,forceUpdate:!0}));a(m)});return d.current=h,h},[]);return S.useEffect(()=>()=>{d?.current?.disconnect()},[]),j.createElement("div",{className:"react-flow__nodes",style:yd},l.map(h=>{let g=h.type||"default";e.nodeTypes[g]||(u?.("003",Er.error003(g)),g="default");const m=e.nodeTypes[g]||e.nodeTypes.default,D=!!(h.draggable||t&&typeof h.draggable>"u"),C=!!(h.selectable||o&&typeof h.selectable>"u"),v=!!(h.connectable||n&&typeof h.connectable>"u"),w=!!(h.focusable||i&&typeof h.focusable>"u"),_=e.nodeExtent?od(h.positionAbsolute,e.nodeExtent):h.positionAbsolute,T=_?.x??0,A=_?.y??0,F=QS({x:T,y:A,width:h.width??0,height:h.height??0,origin:e.nodeOrigin});return j.createElement(m,{key:h.id,id:h.id,className:h.className,style:h.style,type:g,data:h.data,sourcePosition:h.sourcePosition||pe.Bottom,targetPosition:h.targetPosition||pe.Top,hidden:h.hidden,xPos:T,yPos:A,xPosOrigin:F.x,yPosOrigin:F.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:D,isSelectable:C,isConnectable:v,isFocusable:w,resizeObserver:f,dragHandle:h.dragHandle,zIndex:h[ht]?.z??0,isParent:!!h[ht]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:h.ariaLabel,hasHandleBounds:!!h[ht]?.handleBounds})}))};Lg.displayName="NodeRenderer";var tA=S.memo(Lg);const nA=(e,t,n)=>n===pe.Left?e-t:n===pe.Right?e+t:e,rA=(e,t,n)=>n===pe.Top?e-t:n===pe.Bottom?e+t:e,Rp="react-flow__edgeupdater",kp=({position:e,centerX:t,centerY:n,radius:i=10,onMouseDown:o,onMouseEnter:a,onMouseOut:u,type:l})=>j.createElement("circle",{onMouseDown:o,onMouseEnter:a,onMouseOut:u,className:Wt([Rp,`${Rp}-${l}`]),cx:nA(t,i,e),cy:rA(n,i,e),r:i,stroke:"transparent",fill:"transparent"}),iA=()=>!0;var Li=e=>{const t=({id:n,className:i,type:o,data:a,onClick:u,onEdgeDoubleClick:l,selected:d,animated:f,label:h,labelStyle:g,labelShowBg:m,labelBgStyle:D,labelBgPadding:C,labelBgBorderRadius:v,style:w,source:_,target:T,sourceX:A,sourceY:F,targetX:M,targetY:P,sourcePosition:H,targetPosition:q,elementsSelectable:k,hidden:W,sourceHandleId:Q,targetHandleId:J,onContextMenu:G,onMouseEnter:N,onMouseMove:$,onMouseLeave:z,reconnectRadius:U,onReconnect:ee,onReconnectStart:L,onReconnectEnd:te,markerEnd:re,markerStart:oe,rfId:fe,ariaLabel:de,isFocusable:_e,isReconnectable:ke,pathOptions:Me,interactionWidth:ye,disableKeyboardA11y:Ce})=>{const $e=S.useRef(null),[kt,Ft]=S.useState(!1),[Gt,ot]=S.useState(!1),tt=Nt(),gn=S.useMemo(()=>`url('#${Il(oe,fe)}')`,[oe,fe]),Ve=S.useMemo(()=>`url('#${Il(re,fe)}')`,[re,fe]);if(W)return null;const me=yt=>{const{edges:Zt,addSelectedEdges:Fn,unselectNodesAndEdges:Tn,multiSelectionActive:Zn}=tt.getState(),qt=Zt.find(In=>In.id===n);qt&&(k&&(tt.setState({nodesSelectionActive:!1}),qt.selected&&Zn?(Tn({nodes:[],edges:[qt]}),$e.current?.blur()):Fn([n])),u&&u(yt,qt))},Pt=Ms(n,tt.getState,l),tn=Ms(n,tt.getState,G),Tt=Ms(n,tt.getState,N),mn=Ms(n,tt.getState,$),An=Ms(n,tt.getState,z),Nn=(yt,Zt)=>{if(yt.button!==0)return;const{edges:Fn,isValidConnection:Tn}=tt.getState(),Zn=Zt?T:_,qt=(Zt?J:Q)||null,In=Zt?"target":"source",ls=Tn||iA,ds=Zt,Kr=Fn.find(ar=>ar.id===n);ot(!0),L?.(yt,Kr,In);const wi=ar=>{ot(!1),te?.(ar,Kr,In)};Dg({event:yt,handleId:qt,nodeId:Zn,onConnect:ar=>ee?.(Kr,ar),isTarget:ds,getState:tt.getState,setState:tt.setState,isValidConnection:ls,edgeUpdaterType:In,onReconnectEnd:wi})},yn=yt=>Nn(yt,!0),sr=yt=>Nn(yt,!1),nn=()=>Ft(!0),rn=()=>Ft(!1),Gn=!k&&!u,or=yt=>{if(!Ce&&ug.includes(yt.key)&&k){const{unselectNodesAndEdges:Zt,addSelectedEdges:Fn,edges:Tn}=tt.getState();yt.key==="Escape"?($e.current?.blur(),Zt({edges:[Tn.find(qt=>qt.id===n)]})):Fn([n])}};return j.createElement("g",{className:Wt(["react-flow__edge",`react-flow__edge-${o}`,i,{selected:d,animated:f,inactive:Gn,updating:kt}]),onClick:me,onDoubleClick:Pt,onContextMenu:tn,onMouseEnter:Tt,onMouseMove:mn,onMouseLeave:An,onKeyDown:_e?or:void 0,tabIndex:_e?0:void 0,role:_e?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":de===null?void 0:de||`Edge from ${_} to ${T}`,"aria-describedby":_e?`${Fg}-${fe}`:void 0,ref:$e},!Gt&&j.createElement(e,{id:n,source:_,target:T,selected:d,animated:f,label:h,labelStyle:g,labelShowBg:m,labelBgStyle:D,labelBgPadding:C,labelBgBorderRadius:v,data:a,style:w,sourceX:A,sourceY:F,targetX:M,targetY:P,sourcePosition:H,targetPosition:q,sourceHandleId:Q,targetHandleId:J,markerStart:gn,markerEnd:Ve,pathOptions:Me,interactionWidth:ye}),ke&&j.createElement(j.Fragment,null,(ke==="source"||ke===!0)&&j.createElement(kp,{position:H,centerX:A,centerY:F,radius:U,onMouseDown:yn,onMouseEnter:nn,onMouseOut:rn,type:"source"}),(ke==="target"||ke===!0)&&j.createElement(kp,{position:q,centerX:M,centerY:P,radius:U,onMouseDown:sr,onMouseEnter:nn,onMouseOut:rn,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function sA(e){const t={default:Li(e.default||qa),straight:Li(e.bezier||ld),step:Li(e.step||cd),smoothstep:Li(e.step||hu),simplebezier:Li(e.simplebezier||ud)},n={},i=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,a)=>(o[a]=Li(e[a]||qa),o),n);return{...t,...i}}function Mp(e,t,n=null){const i=(n?.x||0)+t.x,o=(n?.y||0)+t.y,a=n?.width||t.width,u=n?.height||t.height;switch(e){case pe.Top:return{x:i+a/2,y:o};case pe.Right:return{x:i+a,y:o+u/2};case pe.Bottom:return{x:i+a/2,y:o+u};case pe.Left:return{x:i,y:o+u/2}}}function Op(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const oA=(e,t,n,i,o,a)=>{const u=Mp(n,e,t),l=Mp(a,i,o);return{sourceX:u.x,sourceY:u.y,targetX:l.x,targetY:l.y}};function aA({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:i,targetWidth:o,targetHeight:a,width:u,height:l,transform:d}){const f={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+i,t.y+a)};f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const h=ad({x:(0-d[0])/d[2],y:(0-d[1])/d[2],width:u/d[2],height:l/d[2]}),g=Math.max(0,Math.min(h.x2,f.x2)-Math.max(h.x,f.x)),m=Math.max(0,Math.min(h.y2,f.y2)-Math.max(h.y,f.y));return Math.ceil(g*m)>0}function zp(e){const t=e?.[ht]?.handleBounds||null,n=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const uA=[{level:0,isMaxLevel:!0,edges:[]}];function cA(e,t,n=!1){let i=-1;const o=e.reduce((u,l)=>{const d=Sn(l.zIndex);let f=d?l.zIndex:0;if(n){const h=t.get(l.target),g=t.get(l.source),m=l.selected||h?.selected||g?.selected,D=Math.max(g?.[ht]?.z||0,h?.[ht]?.z||0,1e3);f=(d?l.zIndex:0)+(m?D:0)}return u[f]?u[f].push(l):u[f]=[l],i=f>i?f:i,u},{}),a=Object.entries(o).map(([u,l])=>{const d=+u;return{edges:l,level:d,isMaxLevel:d===i}});return a.length===0?uA:a}function lA(e,t,n){const i=ut(S.useCallback(o=>e?o.edges.filter(a=>{const u=t.get(a.source),l=t.get(a.target);return u?.width&&u?.height&&l?.width&&l?.height&&aA({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return cA(i,t,n)}const dA=({color:e="none",strokeWidth:t=1})=>j.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),fA=({color:e="none",strokeWidth:t=1})=>j.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),$p={[ro.Arrow]:dA,[ro.ArrowClosed]:fA};function hA(e){const t=Nt();return S.useMemo(()=>Object.prototype.hasOwnProperty.call($p,e)?$p[e]:(t.getState().onError?.("009",Er.error009(e)),null),[e])}const pA=({id:e,type:t,color:n,width:i=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:u,orient:l="auto-start-reverse"})=>{const d=hA(t);return d?j.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0"},j.createElement(d,{color:n,strokeWidth:u})):null},gA=({defaultColor:e,rfId:t})=>n=>{const i=[];return n.edges.reduce((o,a)=>([a.markerStart,a.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const l=Il(u,t);i.includes(l)||(o.push({id:l,color:u.color||e,...u}),i.push(l))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))},Hg=({defaultColor:e,rfId:t})=>{const n=ut(S.useCallback(gA({defaultColor:e,rfId:t}),[e,t]),(i,o)=>!(i.length!==o.length||i.some((a,u)=>a.id!==o[u].id)));return j.createElement("defs",null,n.map(i=>j.createElement(pA,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})))};Hg.displayName="MarkerDefinitions";var mA=S.memo(Hg);const yA=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Vg=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:i,edgeTypes:o,noPanClassName:a,onEdgeContextMenu:u,onEdgeMouseEnter:l,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:h,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:D,onReconnectEnd:C,reconnectRadius:v,children:w,disableKeyboardA11y:_})=>{const{edgesFocusable:T,edgesUpdatable:A,elementsSelectable:F,width:M,height:P,connectionMode:H,nodeInternals:q,onError:k}=ut(yA,zt),W=lA(t,q,n);return M?j.createElement(j.Fragment,null,W.map(({level:Q,edges:J,isMaxLevel:G})=>j.createElement("svg",{key:Q,style:{zIndex:Q},width:M,height:P,className:"react-flow__edges react-flow__container"},G&&j.createElement(mA,{defaultColor:e,rfId:i}),j.createElement("g",null,J.map(N=>{const[$,z,U]=zp(q.get(N.source)),[ee,L,te]=zp(q.get(N.target));if(!U||!te)return null;let re=N.type||"default";o[re]||(k?.("011",Er.error011(re)),re="default");const oe=o[re]||o.default,fe=H===yi.Strict?L.target:(L.target??[]).concat(L.source??[]),de=Op(z.source,N.sourceHandle),_e=Op(fe,N.targetHandle),ke=de?.position||pe.Bottom,Me=_e?.position||pe.Top,ye=!!(N.focusable||T&&typeof N.focusable>"u"),Ce=N.reconnectable||N.updatable,$e=typeof m<"u"&&(Ce||A&&typeof Ce>"u");if(!de||!_e)return k?.("008",Er.error008(de,N)),null;const{sourceX:kt,sourceY:Ft,targetX:Gt,targetY:ot}=oA($,de,ke,ee,_e,Me);return j.createElement(oe,{key:N.id,id:N.id,className:Wt([N.className,a]),type:re,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:kt,sourceY:Ft,targetX:Gt,targetY:ot,sourcePosition:ke,targetPosition:Me,elementsSelectable:F,onContextMenu:u,onMouseEnter:l,onMouseMove:d,onMouseLeave:f,onClick:h,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:D,onReconnectEnd:C,reconnectRadius:v,rfId:i,ariaLabel:N.ariaLabel,isFocusable:ye,isReconnectable:$e,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:_})})))),w):null};Vg.displayName="EdgeRenderer";var vA=S.memo(Vg);const _A=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function DA({children:e}){const t=ut(_A);return j.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function xA(e){const t=md(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const wA={[pe.Left]:pe.Right,[pe.Right]:pe.Left,[pe.Top]:pe.Bottom,[pe.Bottom]:pe.Top},Ug=({nodeId:e,handleType:t,style:n,type:i=jr.Bezier,CustomComponent:o,connectionStatus:a})=>{const{fromNode:u,handleId:l,toX:d,toY:f,connectionMode:h}=ut(S.useCallback(P=>({fromNode:P.nodeInternals.get(e),handleId:P.connectionHandleId,toX:(P.connectionPosition.x-P.transform[0])/P.transform[2],toY:(P.connectionPosition.y-P.transform[1])/P.transform[2],connectionMode:P.connectionMode}),[e]),zt),g=u?.[ht]?.handleBounds;let m=g?.[t];if(h===yi.Loose&&(m=m||g?.[t==="source"?"target":"source"]),!u||!m)return null;const D=l?m.find(P=>P.id===l):m[0],C=D?D.x+D.width/2:(u.width??0)/2,v=D?D.y+D.height/2:u.height??0,w=(u.positionAbsolute?.x??0)+C,_=(u.positionAbsolute?.y??0)+v,T=D?.position,A=T?wA[T]:null;if(!T||!A)return null;if(o)return j.createElement(o,{connectionLineType:i,connectionLineStyle:n,fromNode:u,fromHandle:D,fromX:w,fromY:_,toX:d,toY:f,fromPosition:T,toPosition:A,connectionStatus:a});let F="";const M={sourceX:w,sourceY:_,sourcePosition:T,targetX:d,targetY:f,targetPosition:A};return i===jr.Bezier?[F]=dd(M):i===jr.Step?[F]=Tl({...M,borderRadius:0}):i===jr.SmoothStep?[F]=Tl(M):i===jr.SimpleBezier?[F]=fg(M):F=`M${w},${_} ${d},${f}`,j.createElement("path",{d:F,fill:"none",className:"react-flow__connection-path",style:n})};Ug.displayName="ConnectionLine";const bA=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function CA({containerStyle:e,style:t,type:n,component:i}){const{nodeId:o,handleType:a,nodesConnectable:u,width:l,height:d,connectionStatus:f}=ut(bA,zt);return!(o&&a&&l&&u)?null:j.createElement("svg",{style:e,width:l,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},j.createElement("g",{className:Wt(["react-flow__connection",f])},j.createElement(Ug,{nodeId:o,handleType:a,style:t,type:n,CustomComponent:i,connectionStatus:f})))}function Pp(e,t){return S.useRef(null),Nt(),S.useMemo(()=>t(e),[e])}const Wg=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:i,onMoveEnd:o,onInit:a,onNodeClick:u,onEdgeClick:l,onNodeDoubleClick:d,onEdgeDoubleClick:f,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:m,onNodeContextMenu:D,onSelectionContextMenu:C,onSelectionStart:v,onSelectionEnd:w,connectionLineType:_,connectionLineStyle:T,connectionLineComponent:A,connectionLineContainerStyle:F,selectionKeyCode:M,selectionOnDrag:P,selectionMode:H,multiSelectionKeyCode:q,panActivationKeyCode:k,zoomActivationKeyCode:W,deleteKeyCode:Q,onlyRenderVisibleElements:J,elementsSelectable:G,selectNodesOnDrag:N,defaultViewport:$,translateExtent:z,minZoom:U,maxZoom:ee,preventScrolling:L,defaultMarkerColor:te,zoomOnScroll:re,zoomOnPinch:oe,panOnScroll:fe,panOnScrollSpeed:de,panOnScrollMode:_e,zoomOnDoubleClick:ke,panOnDrag:Me,onPaneClick:ye,onPaneMouseEnter:Ce,onPaneMouseMove:$e,onPaneMouseLeave:kt,onPaneScroll:Ft,onPaneContextMenu:Gt,onEdgeContextMenu:ot,onEdgeMouseEnter:tt,onEdgeMouseMove:gn,onEdgeMouseLeave:Ve,onReconnect:me,onReconnectStart:Pt,onReconnectEnd:tn,reconnectRadius:Tt,noDragClassName:mn,noWheelClassName:An,noPanClassName:Nn,elevateEdgesOnSelect:yn,disableKeyboardA11y:sr,nodeOrigin:nn,nodeExtent:rn,rfId:Gn})=>{const or=Pp(e,JS),yt=Pp(t,sA);return xA(a),j.createElement(XS,{onPaneClick:ye,onPaneMouseEnter:Ce,onPaneMouseMove:$e,onPaneMouseLeave:kt,onPaneContextMenu:Gt,onPaneScroll:Ft,deleteKeyCode:Q,selectionKeyCode:M,selectionOnDrag:P,selectionMode:H,onSelectionStart:v,onSelectionEnd:w,multiSelectionKeyCode:q,panActivationKeyCode:k,zoomActivationKeyCode:W,elementsSelectable:G,onMove:n,onMoveStart:i,onMoveEnd:o,zoomOnScroll:re,zoomOnPinch:oe,zoomOnDoubleClick:ke,panOnScroll:fe,panOnScrollSpeed:de,panOnScrollMode:_e,panOnDrag:Me,defaultViewport:$,translateExtent:z,minZoom:U,maxZoom:ee,onSelectionContextMenu:C,preventScrolling:L,noDragClassName:mn,noWheelClassName:An,noPanClassName:Nn,disableKeyboardA11y:sr},j.createElement(DA,null,j.createElement(vA,{edgeTypes:yt,onEdgeClick:l,onEdgeDoubleClick:f,onlyRenderVisibleElements:J,onEdgeContextMenu:ot,onEdgeMouseEnter:tt,onEdgeMouseMove:gn,onEdgeMouseLeave:Ve,onReconnect:me,onReconnectStart:Pt,onReconnectEnd:tn,reconnectRadius:Tt,defaultMarkerColor:te,noPanClassName:Nn,elevateEdgesOnSelect:!!yn,disableKeyboardA11y:sr,rfId:Gn},j.createElement(CA,{style:T,type:_,component:A,containerStyle:F})),j.createElement("div",{className:"react-flow__edgelabel-renderer"}),j.createElement(tA,{nodeTypes:or,onNodeClick:u,onNodeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:m,onNodeContextMenu:D,selectNodesOnDrag:N,onlyRenderVisibleElements:J,noPanClassName:Nn,noDragClassName:mn,disableKeyboardA11y:sr,nodeOrigin:nn,nodeExtent:rn,rfId:Gn})))};Wg.displayName="GraphView";var EA=S.memo(Wg);const Ml=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],zr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ml,nodeExtent:Ml,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:yi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:J6,isValidConnection:void 0},SA=()=>dC((e,t)=>({...zr,setNodes:n=>{const{nodeInternals:i,nodeOrigin:o,elevateNodesOnSelect:a}=t();e({nodeInternals:al(n,i,o,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:i={}}=t();e({edges:n.map(o=>({...i,...o}))})},setDefaultNodesAndEdges:(n,i)=>{const o=typeof n<"u",a=typeof i<"u",u=o?al(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:u,edges:a?i:[],hasDefaultNodes:o,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:i,nodeInternals:o,fitViewOnInit:a,fitViewOnInitDone:u,fitViewOnInitOptions:l,domNode:d,nodeOrigin:f}=t(),h=d?.querySelector(".react-flow__viewport");if(!h)return;const g=window.getComputedStyle(h),{m22:m}=new window.DOMMatrixReadOnly(g.transform),D=n.reduce((v,w)=>{const _=o.get(w.id);if(_?.hidden)o.set(_.id,{..._,[ht]:{..._[ht],handleBounds:void 0}});else if(_){const T=sd(w.nodeElement);!!(T.width&&T.height&&(_.width!==T.width||_.height!==T.height||w.forceUpdate))&&(o.set(_.id,{..._,[ht]:{..._[ht],handleBounds:{source:Bp(".source",w.nodeElement,m,f),target:Bp(".target",w.nodeElement,m,f)}},...T}),v.push({id:_.id,type:"dimensions",dimensions:T}))}return v},[]);Ig(o,f);const C=u||a&&!u&&Bg(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:C}),D?.length>0&&i?.(D)},updateNodePositions:(n,i=!0,o=!1)=>{const{triggerNodeChanges:a}=t(),u=n.map(l=>{const d={id:l.id,type:"position",dragging:o};return i&&(d.positionAbsolute=l.positionAbsolute,d.position=l.position),d});a(u)},triggerNodeChanges:n=>{const{onNodesChange:i,nodeInternals:o,hasDefaultNodes:a,nodeOrigin:u,getNodes:l,elevateNodesOnSelect:d}=t();if(n?.length){if(a){const f=kg(n,l()),h=al(f,o,u,d);e({nodeInternals:h})}i?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:i,edges:o,getNodes:a}=t();let u,l=null;i?u=n.map(d=>Pr(d,!0)):(u=Ui(a(),n),l=Ui(o,[])),Ca({changedNodes:u,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:i,edges:o,getNodes:a}=t();let u,l=null;i?u=n.map(d=>Pr(d,!0)):(u=Ui(o,n),l=Ui(a(),[])),Ca({changedNodes:l,changedEdges:u,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:i}={})=>{const{edges:o,getNodes:a}=t(),u=n||a(),l=i||o,d=u.map(h=>(h.selected=!1,Pr(h.id,!1))),f=l.map(h=>Pr(h.id,!1));Ca({changedNodes:d,changedEdges:f,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:i,maxZoom:o}=t();i?.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:i,minZoom:o}=t();i?.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:i}=t(),a=i().filter(l=>l.selected).map(l=>Pr(l.id,!1)),u=n.filter(l=>l.selected).map(l=>Pr(l.id,!1));Ca({changedNodes:a,changedEdges:u,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:i}=t();i.forEach(o=>{o.positionAbsolute=od(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(i)})},panBy:n=>{const{transform:i,width:o,height:a,d3Zoom:u,d3Selection:l,translateExtent:d}=t();if(!u||!l||!n.x&&!n.y)return!1;const f=Hr.translate(i[0]+n.x,i[1]+n.y).scale(i[2]),h=[[0,0],[o,a]],g=u?.constrain()(f,h,d);return u.transform(l,g),i[0]!==g.x||i[1]!==g.y||i[2]!==g.k},cancelConnection:()=>e({connectionNodeId:zr.connectionNodeId,connectionHandleId:zr.connectionHandleId,connectionHandleType:zr.connectionHandleType,connectionStatus:zr.connectionStatus,connectionStartHandle:zr.connectionStartHandle,connectionEndHandle:zr.connectionEndHandle}),reset:()=>e({...zr})}),Object.is),vd=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=SA()),j.createElement(U6,{value:t.current},e)};vd.displayName="ReactFlowProvider";const Gg=({children:e})=>S.useContext(fu)?j.createElement(j.Fragment,null,e):j.createElement(vd,null,e);Gg.displayName="ReactFlowWrapper";const AA={input:Cg,default:Rl,output:Sg,group:gd},NA={default:qa,straight:ld,step:cd,smoothstep:hu,simplebezier:ud},FA=[0,0],TA=[15,15],IA={x:0,y:0,zoom:1},BA={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Zg=S.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,className:o,nodeTypes:a=AA,edgeTypes:u=NA,onNodeClick:l,onEdgeClick:d,onInit:f,onMove:h,onMoveStart:g,onMoveEnd:m,onConnect:D,onConnectStart:C,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:_,onNodeMouseEnter:T,onNodeMouseMove:A,onNodeMouseLeave:F,onNodeContextMenu:M,onNodeDoubleClick:P,onNodeDragStart:H,onNodeDrag:q,onNodeDragStop:k,onNodesDelete:W,onEdgesDelete:Q,onSelectionChange:J,onSelectionDragStart:G,onSelectionDrag:N,onSelectionDragStop:$,onSelectionContextMenu:z,onSelectionStart:U,onSelectionEnd:ee,connectionMode:L=yi.Strict,connectionLineType:te=jr.Bezier,connectionLineStyle:re,connectionLineComponent:oe,connectionLineContainerStyle:fe,deleteKeyCode:de="Backspace",selectionKeyCode:_e="Shift",selectionOnDrag:ke=!1,selectionMode:Me=ns.Full,panActivationKeyCode:ye="Space",multiSelectionKeyCode:Ce=Za()?"Meta":"Control",zoomActivationKeyCode:$e=Za()?"Meta":"Control",snapToGrid:kt=!1,snapGrid:Ft=TA,onlyRenderVisibleElements:Gt=!1,selectNodesOnDrag:ot=!0,nodesDraggable:tt,nodesConnectable:gn,nodesFocusable:Ve,nodeOrigin:me=FA,edgesFocusable:Pt,edgesUpdatable:tn,elementsSelectable:Tt,defaultViewport:mn=IA,minZoom:An=.5,maxZoom:Nn=2,translateExtent:yn=Ml,preventScrolling:sr=!0,nodeExtent:nn,defaultMarkerColor:rn="#b1b1b7",zoomOnScroll:Gn=!0,zoomOnPinch:or=!0,panOnScroll:yt=!1,panOnScrollSpeed:Zt=.5,panOnScrollMode:Fn=fi.Free,zoomOnDoubleClick:Tn=!0,panOnDrag:Zn=!0,onPaneClick:qt,onPaneMouseEnter:In,onPaneMouseMove:ls,onPaneMouseLeave:ds,onPaneScroll:Kr,onPaneContextMenu:wi,children:fs,onEdgeContextMenu:ar,onEdgeDoubleClick:mu,onEdgeMouseEnter:yu,onEdgeMouseMove:vu,onEdgeMouseLeave:Eo,onEdgeUpdate:_u,onEdgeUpdateStart:Du,onEdgeUpdateEnd:xu,onReconnect:hs,onReconnectStart:wu,onReconnectEnd:ps,reconnectRadius:bu=10,edgeUpdaterRadius:Cu=10,onNodesChange:Eu,onEdgesChange:Su,noDragClassName:Au="nodrag",noWheelClassName:Nu="nowheel",noPanClassName:So="nopan",fitView:Fu=!1,fitViewOptions:Ao,connectOnClick:Tu=!0,attributionPosition:Iu,proOptions:Bu,defaultEdgeOptions:Ru,elevateNodesOnSelect:ku=!0,elevateEdgesOnSelect:Mu=!1,disableKeyboardA11y:Jr=!1,autoPanOnConnect:Ou=!0,autoPanOnNodeDrag:bi=!0,connectionRadius:zu=20,isValidConnection:$u,onError:Pu,style:No,id:gs,nodeDragThreshold:Fo,...ju},Lu)=>{const ms=gs||"1";return j.createElement("div",{...ju,style:{...No,...BA},ref:Lu,className:Wt(["react-flow",o]),"data-testid":"rf__wrapper",id:gs},j.createElement(Gg,null,j.createElement(EA,{onInit:f,onMove:h,onMoveStart:g,onMoveEnd:m,onNodeClick:l,onEdgeClick:d,onNodeMouseEnter:T,onNodeMouseMove:A,onNodeMouseLeave:F,onNodeContextMenu:M,onNodeDoubleClick:P,nodeTypes:a,edgeTypes:u,connectionLineType:te,connectionLineStyle:re,connectionLineComponent:oe,connectionLineContainerStyle:fe,selectionKeyCode:_e,selectionOnDrag:ke,selectionMode:Me,deleteKeyCode:de,multiSelectionKeyCode:Ce,panActivationKeyCode:ye,zoomActivationKeyCode:$e,onlyRenderVisibleElements:Gt,selectNodesOnDrag:ot,defaultViewport:mn,translateExtent:yn,minZoom:An,maxZoom:Nn,preventScrolling:sr,zoomOnScroll:Gn,zoomOnPinch:or,zoomOnDoubleClick:Tn,panOnScroll:yt,panOnScrollSpeed:Zt,panOnScrollMode:Fn,panOnDrag:Zn,onPaneClick:qt,onPaneMouseEnter:In,onPaneMouseMove:ls,onPaneMouseLeave:ds,onPaneScroll:Kr,onPaneContextMenu:wi,onSelectionContextMenu:z,onSelectionStart:U,onSelectionEnd:ee,onEdgeContextMenu:ar,onEdgeDoubleClick:mu,onEdgeMouseEnter:yu,onEdgeMouseMove:vu,onEdgeMouseLeave:Eo,onReconnect:hs??_u,onReconnectStart:wu??Du,onReconnectEnd:ps??xu,reconnectRadius:bu??Cu,defaultMarkerColor:rn,noDragClassName:Au,noWheelClassName:Nu,noPanClassName:So,elevateEdgesOnSelect:Mu,rfId:ms,disableKeyboardA11y:Jr,nodeOrigin:me,nodeExtent:nn}),j.createElement(wS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:D,onConnectStart:C,onConnectEnd:v,onClickConnectStart:w,onClickConnectEnd:_,nodesDraggable:tt,nodesConnectable:gn,nodesFocusable:Ve,edgesFocusable:Pt,edgesUpdatable:tn,elementsSelectable:Tt,elevateNodesOnSelect:ku,minZoom:An,maxZoom:Nn,nodeExtent:nn,onNodesChange:Eu,onEdgesChange:Su,snapToGrid:kt,snapGrid:Ft,connectionMode:L,translateExtent:yn,connectOnClick:Tu,defaultEdgeOptions:Ru,fitView:Fu,fitViewOptions:Ao,onNodesDelete:W,onEdgesDelete:Q,onNodeDragStart:H,onNodeDrag:q,onNodeDragStop:k,onSelectionDrag:N,onSelectionDragStart:G,onSelectionDragStop:$,noPanClassName:So,nodeOrigin:me,rfId:ms,autoPanOnConnect:Ou,autoPanOnNodeDrag:bi,onError:Pu,connectionRadius:zu,isValidConnection:$u,nodeDragThreshold:Fo}),j.createElement(DS,{onSelectionChange:J}),fs,j.createElement(G6,{proOptions:Bu,position:Iu}),j.createElement(AS,{rfId:ms,disableKeyboardA11y:Jr})))});Zg.displayName="ReactFlow";const RA=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function kA({children:e}){const t=ut(RA);return t?g0.createPortal(e,t):null}function qg(e){return t=>{const[n,i]=S.useState(t),o=S.useCallback(a=>i(u=>e(a,u)),[]);return[n,i,o]}}const MA=qg(kg),OA=qg(LS);function zA(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},j.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function $A(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},j.createElement("path",{d:"M0 0h32v4.2H0z"}))}function PA(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},j.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function jA(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},j.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function LA(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},j.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Wi=({children:e,className:t,...n})=>j.createElement("button",{type:"button",className:Wt(["react-flow__controls-button",t]),...n},e);Wi.displayName="ControlButton";const HA=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Yg=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:o,onZoomIn:a,onZoomOut:u,onFitView:l,onInteractiveChange:d,className:f,children:h,position:g="bottom-left"})=>{const m=Nt(),[D,C]=S.useState(!1),{isInteractive:v,minZoomReached:w,maxZoomReached:_}=ut(HA,zt),{zoomIn:T,zoomOut:A,fitView:F}=md();if(S.useEffect(()=>{C(!0)},[]),!D)return null;const M=()=>{T(),a?.()},P=()=>{A(),u?.()},H=()=>{F(o),l?.()},q=()=>{m.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),d?.(!v)};return j.createElement(sg,{className:Wt(["react-flow__controls",f]),position:g,style:e,"data-testid":"rf__controls"},t&&j.createElement(j.Fragment,null,j.createElement(Wi,{onClick:M,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:_},j.createElement(zA,null)),j.createElement(Wi,{onClick:P,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},j.createElement($A,null))),n&&j.createElement(Wi,{className:"react-flow__controls-fitview",onClick:H,title:"fit view","aria-label":"fit view"},j.createElement(PA,null)),i&&j.createElement(Wi,{className:"react-flow__controls-interactive",onClick:q,title:"toggle interactivity","aria-label":"toggle interactivity"},v?j.createElement(LA,null):j.createElement(jA,null)),h)};Yg.displayName="Controls";var VA=S.memo(Yg),Ln;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ln||(Ln={}));function UA({color:e,dimensions:t,lineWidth:n}){return j.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function WA({color:e,radius:t}){return j.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const GA={[Ln.Dots]:"#91919a",[Ln.Lines]:"#eee",[Ln.Cross]:"#e2e2e2"},ZA={[Ln.Dots]:1,[Ln.Lines]:1,[Ln.Cross]:6},qA=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Xg({id:e,variant:t=Ln.Dots,gap:n=20,size:i,lineWidth:o=1,offset:a=2,color:u,style:l,className:d}){const f=S.useRef(null),{transform:h,patternId:g}=ut(qA,zt),m=u||GA[t],D=i||ZA[t],C=t===Ln.Dots,v=t===Ln.Cross,w=Array.isArray(n)?n:[n,n],_=[w[0]*h[2]||1,w[1]*h[2]||1],T=D*h[2],A=v?[T,T]:_,F=C?[T/a,T/a]:[A[0]/a,A[1]/a];return j.createElement("svg",{className:Wt(["react-flow__background",d]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:f,"data-testid":"rf__background"},j.createElement("pattern",{id:g+e,x:h[0]%_[0],y:h[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${F[0]},-${F[1]})`},C?j.createElement(WA,{color:m,radius:T/a}):j.createElement(UA,{dimensions:A,color:m,lineWidth:o})),j.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${g+e})`}))}Xg.displayName="Background";var YA=S.memo(Xg),Xa={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Xa.exports;(function(e,t){(function(){var n,i="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",g=1,m=2,D=4,C=1,v=2,w=1,_=2,T=4,A=8,F=16,M=32,P=64,H=128,q=256,k=512,W=30,Q="...",J=800,G=16,N=1,$=2,z=3,U=1/0,ee=9007199254740991,L=17976931348623157e292,te=NaN,re=4294967295,oe=re-1,fe=re>>>1,de=[["ary",H],["bind",w],["bindKey",_],["curry",A],["curryRight",F],["flip",k],["partial",M],["partialRight",P],["rearg",q]],_e="[object Arguments]",ke="[object Array]",Me="[object AsyncFunction]",ye="[object Boolean]",Ce="[object Date]",$e="[object DOMException]",kt="[object Error]",Ft="[object Function]",Gt="[object GeneratorFunction]",ot="[object Map]",tt="[object Number]",gn="[object Null]",Ve="[object Object]",me="[object Promise]",Pt="[object Proxy]",tn="[object RegExp]",Tt="[object Set]",mn="[object String]",An="[object Symbol]",Nn="[object Undefined]",yn="[object WeakMap]",sr="[object WeakSet]",nn="[object ArrayBuffer]",rn="[object DataView]",Gn="[object Float32Array]",or="[object Float64Array]",yt="[object Int8Array]",Zt="[object Int16Array]",Fn="[object Int32Array]",Tn="[object Uint8Array]",Zn="[object Uint8ClampedArray]",qt="[object Uint16Array]",In="[object Uint32Array]",ls=/\b__p \+= '';/g,ds=/\b(__p \+=) '' \+/g,Kr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wi=/&(?:amp|lt|gt|quot|#39);/g,fs=/[&<>"']/g,ar=RegExp(wi.source),mu=RegExp(fs.source),yu=/<%-([\s\S]+?)%>/g,vu=/<%([\s\S]+?)%>/g,Eo=/<%=([\s\S]+?)%>/g,_u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Du=/^\w*$/,xu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hs=/[\\^$.*+?()[\]{}|]/g,wu=RegExp(hs.source),ps=/^\s+/,bu=/\s/,Cu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Eu=/\{\n\/\* \[wrapped with (.+)\] \*/,Su=/,? & /,Au=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nu=/[()=,{}\[\]\/\s]/,So=/\\(\\)?/g,Fu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ao=/\w*$/,Tu=/^[-+]0x[0-9a-f]+$/i,Iu=/^0b[01]+$/i,Bu=/^\[object .+?Constructor\]$/,Ru=/^0o[0-7]+$/i,ku=/^(?:0|[1-9]\d*)$/,Mu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jr=/($^)/,Ou=/['\n\r\u2028\u2029\\]/g,bi="\\ud800-\\udfff",zu="\\u0300-\\u036f",$u="\\ufe20-\\ufe2f",Pu="\\u20d0-\\u20ff",No=zu+$u+Pu,gs="\\u2700-\\u27bf",Fo="a-z\\xdf-\\xf6\\xf8-\\xff",ju="\\xac\\xb1\\xd7\\xf7",Lu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ms="\\u2000-\\u206f",bm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cd="A-Z\\xc0-\\xd6\\xd8-\\xde",Ed="\\ufe0e\\ufe0f",Sd=ju+Lu+ms+bm,Hu="[']",Cm="["+bi+"]",Ad="["+Sd+"]",To="["+No+"]",Nd="\\d+",Em="["+gs+"]",Fd="["+Fo+"]",Td="[^"+bi+Sd+Nd+gs+Fo+Cd+"]",Vu="\\ud83c[\\udffb-\\udfff]",Sm="(?:"+To+"|"+Vu+")",Id="[^"+bi+"]",Uu="(?:\\ud83c[\\udde6-\\uddff]){2}",Wu="[\\ud800-\\udbff][\\udc00-\\udfff]",Ci="["+Cd+"]",Bd="\\u200d",Rd="(?:"+Fd+"|"+Td+")",Am="(?:"+Ci+"|"+Td+")",kd="(?:"+Hu+"(?:d|ll|m|re|s|t|ve))?",Md="(?:"+Hu+"(?:D|LL|M|RE|S|T|VE))?",Od=Sm+"?",zd="["+Ed+"]?",Nm="(?:"+Bd+"(?:"+[Id,Uu,Wu].join("|")+")"+zd+Od+")*",Fm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$d=zd+Od+Nm,Im="(?:"+[Em,Uu,Wu].join("|")+")"+$d,Bm="(?:"+[Id+To+"?",To,Uu,Wu,Cm].join("|")+")",Rm=RegExp(Hu,"g"),km=RegExp(To,"g"),Gu=RegExp(Vu+"(?="+Vu+")|"+Bm+$d,"g"),Mm=RegExp([Ci+"?"+Fd+"+"+kd+"(?="+[Ad,Ci,"$"].join("|")+")",Am+"+"+Md+"(?="+[Ad,Ci+Rd,"$"].join("|")+")",Ci+"?"+Rd+"+"+kd,Ci+"+"+Md,Tm,Fm,Nd,Im].join("|"),"g"),Om=RegExp("["+Bd+bi+No+Ed+"]"),zm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,$m=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pm=-1,nt={};nt[Gn]=nt[or]=nt[yt]=nt[Zt]=nt[Fn]=nt[Tn]=nt[Zn]=nt[qt]=nt[In]=!0,nt[_e]=nt[ke]=nt[nn]=nt[ye]=nt[rn]=nt[Ce]=nt[kt]=nt[Ft]=nt[ot]=nt[tt]=nt[Ve]=nt[tn]=nt[Tt]=nt[mn]=nt[yn]=!1;var Je={};Je[_e]=Je[ke]=Je[nn]=Je[rn]=Je[ye]=Je[Ce]=Je[Gn]=Je[or]=Je[yt]=Je[Zt]=Je[Fn]=Je[ot]=Je[tt]=Je[Ve]=Je[tn]=Je[Tt]=Je[mn]=Je[An]=Je[Tn]=Je[Zn]=Je[qt]=Je[In]=!0,Je[kt]=Je[Ft]=Je[yn]=!1;var jm={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Lm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Hm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Vm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Um=parseFloat,Wm=parseInt,Pd=typeof Bs=="object"&&Bs&&Bs.Object===Object&&Bs,Gm=typeof self=="object"&&self&&self.Object===Object&&self,It=Pd||Gm||Function("return this")(),Zu=t&&!t.nodeType&&t,Qr=Zu&&!0&&e&&!e.nodeType&&e,jd=Qr&&Qr.exports===Zu,qu=jd&&Pd.process,vn=function(){try{var R=Qr&&Qr.require&&Qr.require("util").types;return R||qu&&qu.binding&&qu.binding("util")}catch{}}(),Ld=vn&&vn.isArrayBuffer,Hd=vn&&vn.isDate,Vd=vn&&vn.isMap,Ud=vn&&vn.isRegExp,Wd=vn&&vn.isSet,Gd=vn&&vn.isTypedArray;function sn(R,Z,V){switch(V.length){case 0:return R.call(Z);case 1:return R.call(Z,V[0]);case 2:return R.call(Z,V[0],V[1]);case 3:return R.call(Z,V[0],V[1],V[2])}return R.apply(Z,V)}function Zm(R,Z,V,le){for(var Ee=-1,qe=R==null?0:R.length;++Ee<qe;){var Dt=R[Ee];Z(le,Dt,V(Dt),R)}return le}function _n(R,Z){for(var V=-1,le=R==null?0:R.length;++V<le&&Z(R[V],V,R)!==!1;);return R}function qm(R,Z){for(var V=R==null?0:R.length;V--&&Z(R[V],V,R)!==!1;);return R}function Zd(R,Z){for(var V=-1,le=R==null?0:R.length;++V<le;)if(!Z(R[V],V,R))return!1;return!0}function Nr(R,Z){for(var V=-1,le=R==null?0:R.length,Ee=0,qe=[];++V<le;){var Dt=R[V];Z(Dt,V,R)&&(qe[Ee++]=Dt)}return qe}function Io(R,Z){var V=R==null?0:R.length;return!!V&&Ei(R,Z,0)>-1}function Yu(R,Z,V){for(var le=-1,Ee=R==null?0:R.length;++le<Ee;)if(V(Z,R[le]))return!0;return!1}function at(R,Z){for(var V=-1,le=R==null?0:R.length,Ee=Array(le);++V<le;)Ee[V]=Z(R[V],V,R);return Ee}function Fr(R,Z){for(var V=-1,le=Z.length,Ee=R.length;++V<le;)R[Ee+V]=Z[V];return R}function Xu(R,Z,V,le){var Ee=-1,qe=R==null?0:R.length;for(le&&qe&&(V=R[++Ee]);++Ee<qe;)V=Z(V,R[Ee],Ee,R);return V}function Ym(R,Z,V,le){var Ee=R==null?0:R.length;for(le&&Ee&&(V=R[--Ee]);Ee--;)V=Z(V,R[Ee],Ee,R);return V}function Ku(R,Z){for(var V=-1,le=R==null?0:R.length;++V<le;)if(Z(R[V],V,R))return!0;return!1}var Xm=Ju("length");function Km(R){return R.split("")}function Jm(R){return R.match(Au)||[]}function qd(R,Z,V){var le;return V(R,function(Ee,qe,Dt){if(Z(Ee,qe,Dt))return le=qe,!1}),le}function Bo(R,Z,V,le){for(var Ee=R.length,qe=V+(le?1:-1);le?qe--:++qe<Ee;)if(Z(R[qe],qe,R))return qe;return-1}function Ei(R,Z,V){return Z===Z?ly(R,Z,V):Bo(R,Yd,V)}function Qm(R,Z,V,le){for(var Ee=V-1,qe=R.length;++Ee<qe;)if(le(R[Ee],Z))return Ee;return-1}function Yd(R){return R!==R}function Xd(R,Z){var V=R==null?0:R.length;return V?ec(R,Z)/V:te}function Ju(R){return function(Z){return Z==null?n:Z[R]}}function Qu(R){return function(Z){return R==null?n:R[Z]}}function Kd(R,Z,V,le,Ee){return Ee(R,function(qe,Dt,Ke){V=le?(le=!1,qe):Z(V,qe,Dt,Ke)}),V}function ey(R,Z){var V=R.length;for(R.sort(Z);V--;)R[V]=R[V].value;return R}function ec(R,Z){for(var V,le=-1,Ee=R.length;++le<Ee;){var qe=Z(R[le]);qe!==n&&(V=V===n?qe:V+qe)}return V}function tc(R,Z){for(var V=-1,le=Array(R);++V<R;)le[V]=Z(V);return le}function ty(R,Z){return at(Z,function(V){return[V,R[V]]})}function Jd(R){return R&&R.slice(0,nf(R)+1).replace(ps,"")}function on(R){return function(Z){return R(Z)}}function nc(R,Z){return at(Z,function(V){return R[V]})}function ys(R,Z){return R.has(Z)}function Qd(R,Z){for(var V=-1,le=R.length;++V<le&&Ei(Z,R[V],0)>-1;);return V}function ef(R,Z){for(var V=R.length;V--&&Ei(Z,R[V],0)>-1;);return V}function ny(R,Z){for(var V=R.length,le=0;V--;)R[V]===Z&&++le;return le}var ry=Qu(jm),iy=Qu(Lm);function sy(R){return"\\"+Vm[R]}function oy(R,Z){return R==null?n:R[Z]}function Si(R){return Om.test(R)}function ay(R){return zm.test(R)}function uy(R){for(var Z,V=[];!(Z=R.next()).done;)V.push(Z.value);return V}function rc(R){var Z=-1,V=Array(R.size);return R.forEach(function(le,Ee){V[++Z]=[Ee,le]}),V}function tf(R,Z){return function(V){return R(Z(V))}}function Tr(R,Z){for(var V=-1,le=R.length,Ee=0,qe=[];++V<le;){var Dt=R[V];(Dt===Z||Dt===h)&&(R[V]=h,qe[Ee++]=V)}return qe}function Ro(R){var Z=-1,V=Array(R.size);return R.forEach(function(le){V[++Z]=le}),V}function cy(R){var Z=-1,V=Array(R.size);return R.forEach(function(le){V[++Z]=[le,le]}),V}function ly(R,Z,V){for(var le=V-1,Ee=R.length;++le<Ee;)if(R[le]===Z)return le;return-1}function dy(R,Z,V){for(var le=V+1;le--;)if(R[le]===Z)return le;return le}function Ai(R){return Si(R)?hy(R):Xm(R)}function Bn(R){return Si(R)?py(R):Km(R)}function nf(R){for(var Z=R.length;Z--&&bu.test(R.charAt(Z)););return Z}var fy=Qu(Hm);function hy(R){for(var Z=Gu.lastIndex=0;Gu.test(R);)++Z;return Z}function py(R){return R.match(Gu)||[]}function gy(R){return R.match(Mm)||[]}var my=function R(Z){Z=Z==null?It:Ni.defaults(It.Object(),Z,Ni.pick(It,$m));var V=Z.Array,le=Z.Date,Ee=Z.Error,qe=Z.Function,Dt=Z.Math,Ke=Z.Object,ic=Z.RegExp,yy=Z.String,Dn=Z.TypeError,ko=V.prototype,vy=qe.prototype,Fi=Ke.prototype,Mo=Z["__core-js_shared__"],Oo=vy.toString,Xe=Fi.hasOwnProperty,_y=0,rf=function(){var r=/[^.]+$/.exec(Mo&&Mo.keys&&Mo.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),zo=Fi.toString,Dy=Oo.call(Ke),xy=It._,wy=ic("^"+Oo.call(Xe).replace(hs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$o=jd?Z.Buffer:n,Ir=Z.Symbol,Po=Z.Uint8Array,sf=$o?$o.allocUnsafe:n,jo=tf(Ke.getPrototypeOf,Ke),of=Ke.create,af=Fi.propertyIsEnumerable,Lo=ko.splice,uf=Ir?Ir.isConcatSpreadable:n,vs=Ir?Ir.iterator:n,ei=Ir?Ir.toStringTag:n,Ho=function(){try{var r=si(Ke,"defineProperty");return r({},"",{}),r}catch{}}(),by=Z.clearTimeout!==It.clearTimeout&&Z.clearTimeout,Cy=le&&le.now!==It.Date.now&&le.now,Ey=Z.setTimeout!==It.setTimeout&&Z.setTimeout,Vo=Dt.ceil,Uo=Dt.floor,sc=Ke.getOwnPropertySymbols,Sy=$o?$o.isBuffer:n,cf=Z.isFinite,Ay=ko.join,Ny=tf(Ke.keys,Ke),xt=Dt.max,Mt=Dt.min,Fy=le.now,Ty=Z.parseInt,lf=Dt.random,Iy=ko.reverse,oc=si(Z,"DataView"),_s=si(Z,"Map"),ac=si(Z,"Promise"),Ti=si(Z,"Set"),Ds=si(Z,"WeakMap"),xs=si(Ke,"create"),Wo=Ds&&new Ds,Ii={},By=oi(oc),Ry=oi(_s),ky=oi(ac),My=oi(Ti),Oy=oi(Ds),Go=Ir?Ir.prototype:n,ws=Go?Go.valueOf:n,df=Go?Go.toString:n;function x(r){if(dt(r)&&!Se(r)&&!(r instanceof Le)){if(r instanceof xn)return r;if(Xe.call(r,"__wrapped__"))return fh(r)}return new xn(r)}var Bi=function(){function r(){}return function(s){if(!ct(s))return{};if(of)return of(s);r.prototype=s;var c=new r;return r.prototype=n,c}}();function Zo(){}function xn(r,s){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=n}x.templateSettings={escape:yu,evaluate:vu,interpolate:Eo,variable:"",imports:{_:x}},x.prototype=Zo.prototype,x.prototype.constructor=x,xn.prototype=Bi(Zo.prototype),xn.prototype.constructor=xn;function Le(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function zy(){var r=new Le(this.__wrapped__);return r.__actions__=Yt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Yt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Yt(this.__views__),r}function $y(){if(this.__filtered__){var r=new Le(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function Py(){var r=this.__wrapped__.value(),s=this.__dir__,c=Se(r),p=s<0,y=c?r.length:0,b=K1(0,y,this.__views__),I=b.start,B=b.end,O=B-I,Y=p?B:I-1,X=this.__iteratees__,ne=X.length,ae=0,he=Mt(O,this.__takeCount__);if(!c||!p&&y==O&&he==O)return Mf(r,this.__actions__);var De=[];e:for(;O--&&ae<he;){Y+=s;for(var Te=-1,xe=r[Y];++Te<ne;){var Pe=X[Te],Ue=Pe.iteratee,cn=Pe.type,Ht=Ue(xe);if(cn==$)xe=Ht;else if(!Ht){if(cn==N)continue e;break e}}De[ae++]=xe}return De}Le.prototype=Bi(Zo.prototype),Le.prototype.constructor=Le;function ti(r){var s=-1,c=r==null?0:r.length;for(this.clear();++s<c;){var p=r[s];this.set(p[0],p[1])}}function jy(){this.__data__=xs?xs(null):{},this.size=0}function Ly(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s}function Hy(r){var s=this.__data__;if(xs){var c=s[r];return c===d?n:c}return Xe.call(s,r)?s[r]:n}function Vy(r){var s=this.__data__;return xs?s[r]!==n:Xe.call(s,r)}function Uy(r,s){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=xs&&s===n?d:s,this}ti.prototype.clear=jy,ti.prototype.delete=Ly,ti.prototype.get=Hy,ti.prototype.has=Vy,ti.prototype.set=Uy;function ur(r){var s=-1,c=r==null?0:r.length;for(this.clear();++s<c;){var p=r[s];this.set(p[0],p[1])}}function Wy(){this.__data__=[],this.size=0}function Gy(r){var s=this.__data__,c=qo(s,r);if(c<0)return!1;var p=s.length-1;return c==p?s.pop():Lo.call(s,c,1),--this.size,!0}function Zy(r){var s=this.__data__,c=qo(s,r);return c<0?n:s[c][1]}function qy(r){return qo(this.__data__,r)>-1}function Yy(r,s){var c=this.__data__,p=qo(c,r);return p<0?(++this.size,c.push([r,s])):c[p][1]=s,this}ur.prototype.clear=Wy,ur.prototype.delete=Gy,ur.prototype.get=Zy,ur.prototype.has=qy,ur.prototype.set=Yy;function cr(r){var s=-1,c=r==null?0:r.length;for(this.clear();++s<c;){var p=r[s];this.set(p[0],p[1])}}function Xy(){this.size=0,this.__data__={hash:new ti,map:new(_s||ur),string:new ti}}function Ky(r){var s=oa(this,r).delete(r);return this.size-=s?1:0,s}function Jy(r){return oa(this,r).get(r)}function Qy(r){return oa(this,r).has(r)}function e1(r,s){var c=oa(this,r),p=c.size;return c.set(r,s),this.size+=c.size==p?0:1,this}cr.prototype.clear=Xy,cr.prototype.delete=Ky,cr.prototype.get=Jy,cr.prototype.has=Qy,cr.prototype.set=e1;function ni(r){var s=-1,c=r==null?0:r.length;for(this.__data__=new cr;++s<c;)this.add(r[s])}function t1(r){return this.__data__.set(r,d),this}function n1(r){return this.__data__.has(r)}ni.prototype.add=ni.prototype.push=t1,ni.prototype.has=n1;function Rn(r){var s=this.__data__=new ur(r);this.size=s.size}function r1(){this.__data__=new ur,this.size=0}function i1(r){var s=this.__data__,c=s.delete(r);return this.size=s.size,c}function s1(r){return this.__data__.get(r)}function o1(r){return this.__data__.has(r)}function a1(r,s){var c=this.__data__;if(c instanceof ur){var p=c.__data__;if(!_s||p.length<o-1)return p.push([r,s]),this.size=++c.size,this;c=this.__data__=new cr(p)}return c.set(r,s),this.size=c.size,this}Rn.prototype.clear=r1,Rn.prototype.delete=i1,Rn.prototype.get=s1,Rn.prototype.has=o1,Rn.prototype.set=a1;function ff(r,s){var c=Se(r),p=!c&&ai(r),y=!c&&!p&&Or(r),b=!c&&!p&&!y&&Oi(r),I=c||p||y||b,B=I?tc(r.length,yy):[],O=B.length;for(var Y in r)(s||Xe.call(r,Y))&&!(I&&(Y=="length"||y&&(Y=="offset"||Y=="parent")||b&&(Y=="buffer"||Y=="byteLength"||Y=="byteOffset")||hr(Y,O)))&&B.push(Y);return B}function hf(r){var s=r.length;return s?r[vc(0,s-1)]:n}function u1(r,s){return aa(Yt(r),ri(s,0,r.length))}function c1(r){return aa(Yt(r))}function uc(r,s,c){(c!==n&&!kn(r[s],c)||c===n&&!(s in r))&&lr(r,s,c)}function bs(r,s,c){var p=r[s];(!(Xe.call(r,s)&&kn(p,c))||c===n&&!(s in r))&&lr(r,s,c)}function qo(r,s){for(var c=r.length;c--;)if(kn(r[c][0],s))return c;return-1}function l1(r,s,c,p){return Br(r,function(y,b,I){s(p,y,c(y),I)}),p}function pf(r,s){return r&&Yn(s,bt(s),r)}function d1(r,s){return r&&Yn(s,Kt(s),r)}function lr(r,s,c){s=="__proto__"&&Ho?Ho(r,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[s]=c}function cc(r,s){for(var c=-1,p=s.length,y=V(p),b=r==null;++c<p;)y[c]=b?n:Vc(r,s[c]);return y}function ri(r,s,c){return r===r&&(c!==n&&(r=r<=c?r:c),s!==n&&(r=r>=s?r:s)),r}function wn(r,s,c,p,y,b){var I,B=s&g,O=s&m,Y=s&D;if(c&&(I=y?c(r,p,y,b):c(r)),I!==n)return I;if(!ct(r))return r;var X=Se(r);if(X){if(I=Q1(r),!B)return Yt(r,I)}else{var ne=Ot(r),ae=ne==Ft||ne==Gt;if(Or(r))return $f(r,B);if(ne==Ve||ne==_e||ae&&!y){if(I=O||ae?{}:rh(r),!B)return O?H1(r,d1(I,r)):L1(r,pf(I,r))}else{if(!Je[ne])return y?r:{};I=ev(r,ne,B)}}b||(b=new Rn);var he=b.get(r);if(he)return he;b.set(r,I),Bh(r)?r.forEach(function(xe){I.add(wn(xe,s,c,xe,r,b))}):Th(r)&&r.forEach(function(xe,Pe){I.set(Pe,wn(xe,s,c,Pe,r,b))});var De=Y?O?Fc:Nc:O?Kt:bt,Te=X?n:De(r);return _n(Te||r,function(xe,Pe){Te&&(Pe=xe,xe=r[Pe]),bs(I,Pe,wn(xe,s,c,Pe,r,b))}),I}function f1(r){var s=bt(r);return function(c){return gf(c,r,s)}}function gf(r,s,c){var p=c.length;if(r==null)return!p;for(r=Ke(r);p--;){var y=c[p],b=s[y],I=r[y];if(I===n&&!(y in r)||!b(I))return!1}return!0}function mf(r,s,c){if(typeof r!="function")throw new Dn(u);return Ts(function(){r.apply(n,c)},s)}function Cs(r,s,c,p){var y=-1,b=Io,I=!0,B=r.length,O=[],Y=s.length;if(!B)return O;c&&(s=at(s,on(c))),p?(b=Yu,I=!1):s.length>=o&&(b=ys,I=!1,s=new ni(s));e:for(;++y<B;){var X=r[y],ne=c==null?X:c(X);if(X=p||X!==0?X:0,I&&ne===ne){for(var ae=Y;ae--;)if(s[ae]===ne)continue e;O.push(X)}else b(s,ne,p)||O.push(X)}return O}var Br=Vf(qn),yf=Vf(dc,!0);function h1(r,s){var c=!0;return Br(r,function(p,y,b){return c=!!s(p,y,b),c}),c}function Yo(r,s,c){for(var p=-1,y=r.length;++p<y;){var b=r[p],I=s(b);if(I!=null&&(B===n?I===I&&!un(I):c(I,B)))var B=I,O=b}return O}function p1(r,s,c,p){var y=r.length;for(c=Fe(c),c<0&&(c=-c>y?0:y+c),p=p===n||p>y?y:Fe(p),p<0&&(p+=y),p=c>p?0:kh(p);c<p;)r[c++]=s;return r}function vf(r,s){var c=[];return Br(r,function(p,y,b){s(p,y,b)&&c.push(p)}),c}function Bt(r,s,c,p,y){var b=-1,I=r.length;for(c||(c=nv),y||(y=[]);++b<I;){var B=r[b];s>0&&c(B)?s>1?Bt(B,s-1,c,p,y):Fr(y,B):p||(y[y.length]=B)}return y}var lc=Uf(),_f=Uf(!0);function qn(r,s){return r&&lc(r,s,bt)}function dc(r,s){return r&&_f(r,s,bt)}function Xo(r,s){return Nr(s,function(c){return pr(r[c])})}function ii(r,s){s=kr(s,r);for(var c=0,p=s.length;r!=null&&c<p;)r=r[Xn(s[c++])];return c&&c==p?r:n}function Df(r,s,c){var p=s(r);return Se(r)?p:Fr(p,c(r))}function jt(r){return r==null?r===n?Nn:gn:ei&&ei in Ke(r)?X1(r):cv(r)}function fc(r,s){return r>s}function g1(r,s){return r!=null&&Xe.call(r,s)}function m1(r,s){return r!=null&&s in Ke(r)}function y1(r,s,c){return r>=Mt(s,c)&&r<xt(s,c)}function hc(r,s,c){for(var p=c?Yu:Io,y=r[0].length,b=r.length,I=b,B=V(b),O=1/0,Y=[];I--;){var X=r[I];I&&s&&(X=at(X,on(s))),O=Mt(X.length,O),B[I]=!c&&(s||y>=120&&X.length>=120)?new ni(I&&X):n}X=r[0];var ne=-1,ae=B[0];e:for(;++ne<y&&Y.length<O;){var he=X[ne],De=s?s(he):he;if(he=c||he!==0?he:0,!(ae?ys(ae,De):p(Y,De,c))){for(I=b;--I;){var Te=B[I];if(!(Te?ys(Te,De):p(r[I],De,c)))continue e}ae&&ae.push(De),Y.push(he)}}return Y}function v1(r,s,c,p){return qn(r,function(y,b,I){s(p,c(y),b,I)}),p}function Es(r,s,c){s=kr(s,r),r=ah(r,s);var p=r==null?r:r[Xn(Cn(s))];return p==null?n:sn(p,r,c)}function xf(r){return dt(r)&&jt(r)==_e}function _1(r){return dt(r)&&jt(r)==nn}function D1(r){return dt(r)&&jt(r)==Ce}function Ss(r,s,c,p,y){return r===s?!0:r==null||s==null||!dt(r)&&!dt(s)?r!==r&&s!==s:x1(r,s,c,p,Ss,y)}function x1(r,s,c,p,y,b){var I=Se(r),B=Se(s),O=I?ke:Ot(r),Y=B?ke:Ot(s);O=O==_e?Ve:O,Y=Y==_e?Ve:Y;var X=O==Ve,ne=Y==Ve,ae=O==Y;if(ae&&Or(r)){if(!Or(s))return!1;I=!0,X=!1}if(ae&&!X)return b||(b=new Rn),I||Oi(r)?eh(r,s,c,p,y,b):q1(r,s,O,c,p,y,b);if(!(c&C)){var he=X&&Xe.call(r,"__wrapped__"),De=ne&&Xe.call(s,"__wrapped__");if(he||De){var Te=he?r.value():r,xe=De?s.value():s;return b||(b=new Rn),y(Te,xe,c,p,b)}}return ae?(b||(b=new Rn),Y1(r,s,c,p,y,b)):!1}function w1(r){return dt(r)&&Ot(r)==ot}function pc(r,s,c,p){var y=c.length,b=y,I=!p;if(r==null)return!b;for(r=Ke(r);y--;){var B=c[y];if(I&&B[2]?B[1]!==r[B[0]]:!(B[0]in r))return!1}for(;++y<b;){B=c[y];var O=B[0],Y=r[O],X=B[1];if(I&&B[2]){if(Y===n&&!(O in r))return!1}else{var ne=new Rn;if(p)var ae=p(Y,X,O,r,s,ne);if(!(ae===n?Ss(X,Y,C|v,p,ne):ae))return!1}}return!0}function wf(r){if(!ct(r)||iv(r))return!1;var s=pr(r)?wy:Bu;return s.test(oi(r))}function b1(r){return dt(r)&&jt(r)==tn}function C1(r){return dt(r)&&Ot(r)==Tt}function E1(r){return dt(r)&&ha(r.length)&&!!nt[jt(r)]}function bf(r){return typeof r=="function"?r:r==null?Jt:typeof r=="object"?Se(r)?Sf(r[0],r[1]):Ef(r):Wh(r)}function gc(r){if(!Fs(r))return Ny(r);var s=[];for(var c in Ke(r))Xe.call(r,c)&&c!="constructor"&&s.push(c);return s}function S1(r){if(!ct(r))return uv(r);var s=Fs(r),c=[];for(var p in r)p=="constructor"&&(s||!Xe.call(r,p))||c.push(p);return c}function mc(r,s){return r<s}function Cf(r,s){var c=-1,p=Xt(r)?V(r.length):[];return Br(r,function(y,b,I){p[++c]=s(y,b,I)}),p}function Ef(r){var s=Ic(r);return s.length==1&&s[0][2]?sh(s[0][0],s[0][1]):function(c){return c===r||pc(c,r,s)}}function Sf(r,s){return Rc(r)&&ih(s)?sh(Xn(r),s):function(c){var p=Vc(c,r);return p===n&&p===s?Uc(c,r):Ss(s,p,C|v)}}function Ko(r,s,c,p,y){r!==s&&lc(s,function(b,I){if(y||(y=new Rn),ct(b))A1(r,s,I,c,Ko,p,y);else{var B=p?p(Mc(r,I),b,I+"",r,s,y):n;B===n&&(B=b),uc(r,I,B)}},Kt)}function A1(r,s,c,p,y,b,I){var B=Mc(r,c),O=Mc(s,c),Y=I.get(O);if(Y){uc(r,c,Y);return}var X=b?b(B,O,c+"",r,s,I):n,ne=X===n;if(ne){var ae=Se(O),he=!ae&&Or(O),De=!ae&&!he&&Oi(O);X=O,ae||he||De?Se(B)?X=B:pt(B)?X=Yt(B):he?(ne=!1,X=$f(O,!0)):De?(ne=!1,X=Pf(O,!0)):X=[]:Is(O)||ai(O)?(X=B,ai(B)?X=Mh(B):(!ct(B)||pr(B))&&(X=rh(O))):ne=!1}ne&&(I.set(O,X),y(X,O,p,b,I),I.delete(O)),uc(r,c,X)}function Af(r,s){var c=r.length;if(c)return s+=s<0?c:0,hr(s,c)?r[s]:n}function Nf(r,s,c){s.length?s=at(s,function(b){return Se(b)?function(I){return ii(I,b.length===1?b[0]:b)}:b}):s=[Jt];var p=-1;s=at(s,on(ve()));var y=Cf(r,function(b,I,B){var O=at(s,function(Y){return Y(b)});return{criteria:O,index:++p,value:b}});return ey(y,function(b,I){return j1(b,I,c)})}function N1(r,s){return Ff(r,s,function(c,p){return Uc(r,p)})}function Ff(r,s,c){for(var p=-1,y=s.length,b={};++p<y;){var I=s[p],B=ii(r,I);c(B,I)&&As(b,kr(I,r),B)}return b}function F1(r){return function(s){return ii(s,r)}}function yc(r,s,c,p){var y=p?Qm:Ei,b=-1,I=s.length,B=r;for(r===s&&(s=Yt(s)),c&&(B=at(r,on(c)));++b<I;)for(var O=0,Y=s[b],X=c?c(Y):Y;(O=y(B,X,O,p))>-1;)B!==r&&Lo.call(B,O,1),Lo.call(r,O,1);return r}function Tf(r,s){for(var c=r?s.length:0,p=c-1;c--;){var y=s[c];if(c==p||y!==b){var b=y;hr(y)?Lo.call(r,y,1):xc(r,y)}}return r}function vc(r,s){return r+Uo(lf()*(s-r+1))}function T1(r,s,c,p){for(var y=-1,b=xt(Vo((s-r)/(c||1)),0),I=V(b);b--;)I[p?b:++y]=r,r+=c;return I}function _c(r,s){var c="";if(!r||s<1||s>ee)return c;do s%2&&(c+=r),s=Uo(s/2),s&&(r+=r);while(s);return c}function Re(r,s){return Oc(oh(r,s,Jt),r+"")}function I1(r){return hf(zi(r))}function B1(r,s){var c=zi(r);return aa(c,ri(s,0,c.length))}function As(r,s,c,p){if(!ct(r))return r;s=kr(s,r);for(var y=-1,b=s.length,I=b-1,B=r;B!=null&&++y<b;){var O=Xn(s[y]),Y=c;if(O==="__proto__"||O==="constructor"||O==="prototype")return r;if(y!=I){var X=B[O];Y=p?p(X,O,B):n,Y===n&&(Y=ct(X)?X:hr(s[y+1])?[]:{})}bs(B,O,Y),B=B[O]}return r}var If=Wo?function(r,s){return Wo.set(r,s),r}:Jt,R1=Ho?function(r,s){return Ho(r,"toString",{configurable:!0,enumerable:!1,value:Gc(s),writable:!0})}:Jt;function k1(r){return aa(zi(r))}function bn(r,s,c){var p=-1,y=r.length;s<0&&(s=-s>y?0:y+s),c=c>y?y:c,c<0&&(c+=y),y=s>c?0:c-s>>>0,s>>>=0;for(var b=V(y);++p<y;)b[p]=r[p+s];return b}function M1(r,s){var c;return Br(r,function(p,y,b){return c=s(p,y,b),!c}),!!c}function Jo(r,s,c){var p=0,y=r==null?p:r.length;if(typeof s=="number"&&s===s&&y<=fe){for(;p<y;){var b=p+y>>>1,I=r[b];I!==null&&!un(I)&&(c?I<=s:I<s)?p=b+1:y=b}return y}return Dc(r,s,Jt,c)}function Dc(r,s,c,p){var y=0,b=r==null?0:r.length;if(b===0)return 0;s=c(s);for(var I=s!==s,B=s===null,O=un(s),Y=s===n;y<b;){var X=Uo((y+b)/2),ne=c(r[X]),ae=ne!==n,he=ne===null,De=ne===ne,Te=un(ne);if(I)var xe=p||De;else Y?xe=De&&(p||ae):B?xe=De&&ae&&(p||!he):O?xe=De&&ae&&!he&&(p||!Te):he||Te?xe=!1:xe=p?ne<=s:ne<s;xe?y=X+1:b=X}return Mt(b,oe)}function Bf(r,s){for(var c=-1,p=r.length,y=0,b=[];++c<p;){var I=r[c],B=s?s(I):I;if(!c||!kn(B,O)){var O=B;b[y++]=I===0?0:I}}return b}function Rf(r){return typeof r=="number"?r:un(r)?te:+r}function an(r){if(typeof r=="string")return r;if(Se(r))return at(r,an)+"";if(un(r))return df?df.call(r):"";var s=r+"";return s=="0"&&1/r==-U?"-0":s}function Rr(r,s,c){var p=-1,y=Io,b=r.length,I=!0,B=[],O=B;if(c)I=!1,y=Yu;else if(b>=o){var Y=s?null:G1(r);if(Y)return Ro(Y);I=!1,y=ys,O=new ni}else O=s?[]:B;e:for(;++p<b;){var X=r[p],ne=s?s(X):X;if(X=c||X!==0?X:0,I&&ne===ne){for(var ae=O.length;ae--;)if(O[ae]===ne)continue e;s&&O.push(ne),B.push(X)}else y(O,ne,c)||(O!==B&&O.push(ne),B.push(X))}return B}function xc(r,s){return s=kr(s,r),r=ah(r,s),r==null||delete r[Xn(Cn(s))]}function kf(r,s,c,p){return As(r,s,c(ii(r,s)),p)}function Qo(r,s,c,p){for(var y=r.length,b=p?y:-1;(p?b--:++b<y)&&s(r[b],b,r););return c?bn(r,p?0:b,p?b+1:y):bn(r,p?b+1:0,p?y:b)}function Mf(r,s){var c=r;return c instanceof Le&&(c=c.value()),Xu(s,function(p,y){return y.func.apply(y.thisArg,Fr([p],y.args))},c)}function wc(r,s,c){var p=r.length;if(p<2)return p?Rr(r[0]):[];for(var y=-1,b=V(p);++y<p;)for(var I=r[y],B=-1;++B<p;)B!=y&&(b[y]=Cs(b[y]||I,r[B],s,c));return Rr(Bt(b,1),s,c)}function Of(r,s,c){for(var p=-1,y=r.length,b=s.length,I={};++p<y;){var B=p<b?s[p]:n;c(I,r[p],B)}return I}function bc(r){return pt(r)?r:[]}function Cc(r){return typeof r=="function"?r:Jt}function kr(r,s){return Se(r)?r:Rc(r,s)?[r]:dh(Ye(r))}var O1=Re;function Mr(r,s,c){var p=r.length;return c=c===n?p:c,!s&&c>=p?r:bn(r,s,c)}var zf=by||function(r){return It.clearTimeout(r)};function $f(r,s){if(s)return r.slice();var c=r.length,p=sf?sf(c):new r.constructor(c);return r.copy(p),p}function Ec(r){var s=new r.constructor(r.byteLength);return new Po(s).set(new Po(r)),s}function z1(r,s){var c=s?Ec(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function $1(r){var s=new r.constructor(r.source,Ao.exec(r));return s.lastIndex=r.lastIndex,s}function P1(r){return ws?Ke(ws.call(r)):{}}function Pf(r,s){var c=s?Ec(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function jf(r,s){if(r!==s){var c=r!==n,p=r===null,y=r===r,b=un(r),I=s!==n,B=s===null,O=s===s,Y=un(s);if(!B&&!Y&&!b&&r>s||b&&I&&O&&!B&&!Y||p&&I&&O||!c&&O||!y)return 1;if(!p&&!b&&!Y&&r<s||Y&&c&&y&&!p&&!b||B&&c&&y||!I&&y||!O)return-1}return 0}function j1(r,s,c){for(var p=-1,y=r.criteria,b=s.criteria,I=y.length,B=c.length;++p<I;){var O=jf(y[p],b[p]);if(O){if(p>=B)return O;var Y=c[p];return O*(Y=="desc"?-1:1)}}return r.index-s.index}function Lf(r,s,c,p){for(var y=-1,b=r.length,I=c.length,B=-1,O=s.length,Y=xt(b-I,0),X=V(O+Y),ne=!p;++B<O;)X[B]=s[B];for(;++y<I;)(ne||y<b)&&(X[c[y]]=r[y]);for(;Y--;)X[B++]=r[y++];return X}function Hf(r,s,c,p){for(var y=-1,b=r.length,I=-1,B=c.length,O=-1,Y=s.length,X=xt(b-B,0),ne=V(X+Y),ae=!p;++y<X;)ne[y]=r[y];for(var he=y;++O<Y;)ne[he+O]=s[O];for(;++I<B;)(ae||y<b)&&(ne[he+c[I]]=r[y++]);return ne}function Yt(r,s){var c=-1,p=r.length;for(s||(s=V(p));++c<p;)s[c]=r[c];return s}function Yn(r,s,c,p){var y=!c;c||(c={});for(var b=-1,I=s.length;++b<I;){var B=s[b],O=p?p(c[B],r[B],B,c,r):n;O===n&&(O=r[B]),y?lr(c,B,O):bs(c,B,O)}return c}function L1(r,s){return Yn(r,Bc(r),s)}function H1(r,s){return Yn(r,th(r),s)}function ea(r,s){return function(c,p){var y=Se(c)?Zm:l1,b=s?s():{};return y(c,r,ve(p,2),b)}}function Ri(r){return Re(function(s,c){var p=-1,y=c.length,b=y>1?c[y-1]:n,I=y>2?c[2]:n;for(b=r.length>3&&typeof b=="function"?(y--,b):n,I&&Lt(c[0],c[1],I)&&(b=y<3?n:b,y=1),s=Ke(s);++p<y;){var B=c[p];B&&r(s,B,p,b)}return s})}function Vf(r,s){return function(c,p){if(c==null)return c;if(!Xt(c))return r(c,p);for(var y=c.length,b=s?y:-1,I=Ke(c);(s?b--:++b<y)&&p(I[b],b,I)!==!1;);return c}}function Uf(r){return function(s,c,p){for(var y=-1,b=Ke(s),I=p(s),B=I.length;B--;){var O=I[r?B:++y];if(c(b[O],O,b)===!1)break}return s}}function V1(r,s,c){var p=s&w,y=Ns(r);function b(){var I=this&&this!==It&&this instanceof b?y:r;return I.apply(p?c:this,arguments)}return b}function Wf(r){return function(s){s=Ye(s);var c=Si(s)?Bn(s):n,p=c?c[0]:s.charAt(0),y=c?Mr(c,1).join(""):s.slice(1);return p[r]()+y}}function ki(r){return function(s){return Xu(Vh(Hh(s).replace(Rm,"")),r,"")}}function Ns(r){return function(){var s=arguments;switch(s.length){case 0:return new r;case 1:return new r(s[0]);case 2:return new r(s[0],s[1]);case 3:return new r(s[0],s[1],s[2]);case 4:return new r(s[0],s[1],s[2],s[3]);case 5:return new r(s[0],s[1],s[2],s[3],s[4]);case 6:return new r(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new r(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var c=Bi(r.prototype),p=r.apply(c,s);return ct(p)?p:c}}function U1(r,s,c){var p=Ns(r);function y(){for(var b=arguments.length,I=V(b),B=b,O=Mi(y);B--;)I[B]=arguments[B];var Y=b<3&&I[0]!==O&&I[b-1]!==O?[]:Tr(I,O);if(b-=Y.length,b<c)return Xf(r,s,ta,y.placeholder,n,I,Y,n,n,c-b);var X=this&&this!==It&&this instanceof y?p:r;return sn(X,this,I)}return y}function Gf(r){return function(s,c,p){var y=Ke(s);if(!Xt(s)){var b=ve(c,3);s=bt(s),c=function(B){return b(y[B],B,y)}}var I=r(s,c,p);return I>-1?y[b?s[I]:I]:n}}function Zf(r){return fr(function(s){var c=s.length,p=c,y=xn.prototype.thru;for(r&&s.reverse();p--;){var b=s[p];if(typeof b!="function")throw new Dn(u);if(y&&!I&&sa(b)=="wrapper")var I=new xn([],!0)}for(p=I?p:c;++p<c;){b=s[p];var B=sa(b),O=B=="wrapper"?Tc(b):n;O&&kc(O[0])&&O[1]==(H|A|M|q)&&!O[4].length&&O[9]==1?I=I[sa(O[0])].apply(I,O[3]):I=b.length==1&&kc(b)?I[B]():I.thru(b)}return function(){var Y=arguments,X=Y[0];if(I&&Y.length==1&&Se(X))return I.plant(X).value();for(var ne=0,ae=c?s[ne].apply(this,Y):X;++ne<c;)ae=s[ne].call(this,ae);return ae}})}function ta(r,s,c,p,y,b,I,B,O,Y){var X=s&H,ne=s&w,ae=s&_,he=s&(A|F),De=s&k,Te=ae?n:Ns(r);function xe(){for(var Pe=arguments.length,Ue=V(Pe),cn=Pe;cn--;)Ue[cn]=arguments[cn];if(he)var Ht=Mi(xe),ln=ny(Ue,Ht);if(p&&(Ue=Lf(Ue,p,y,he)),b&&(Ue=Hf(Ue,b,I,he)),Pe-=ln,he&&Pe<Y){var gt=Tr(Ue,Ht);return Xf(r,s,ta,xe.placeholder,c,Ue,gt,B,O,Y-Pe)}var Mn=ne?c:this,mr=ae?Mn[r]:r;return Pe=Ue.length,B?Ue=lv(Ue,B):De&&Pe>1&&Ue.reverse(),X&&O<Pe&&(Ue.length=O),this&&this!==It&&this instanceof xe&&(mr=Te||Ns(mr)),mr.apply(Mn,Ue)}return xe}function qf(r,s){return function(c,p){return v1(c,r,s(p),{})}}function na(r,s){return function(c,p){var y;if(c===n&&p===n)return s;if(c!==n&&(y=c),p!==n){if(y===n)return p;typeof c=="string"||typeof p=="string"?(c=an(c),p=an(p)):(c=Rf(c),p=Rf(p)),y=r(c,p)}return y}}function Sc(r){return fr(function(s){return s=at(s,on(ve())),Re(function(c){var p=this;return r(s,function(y){return sn(y,p,c)})})})}function ra(r,s){s=s===n?" ":an(s);var c=s.length;if(c<2)return c?_c(s,r):s;var p=_c(s,Vo(r/Ai(s)));return Si(s)?Mr(Bn(p),0,r).join(""):p.slice(0,r)}function W1(r,s,c,p){var y=s&w,b=Ns(r);function I(){for(var B=-1,O=arguments.length,Y=-1,X=p.length,ne=V(X+O),ae=this&&this!==It&&this instanceof I?b:r;++Y<X;)ne[Y]=p[Y];for(;O--;)ne[Y++]=arguments[++B];return sn(ae,y?c:this,ne)}return I}function Yf(r){return function(s,c,p){return p&&typeof p!="number"&&Lt(s,c,p)&&(c=p=n),s=gr(s),c===n?(c=s,s=0):c=gr(c),p=p===n?s<c?1:-1:gr(p),T1(s,c,p,r)}}function ia(r){return function(s,c){return typeof s=="string"&&typeof c=="string"||(s=En(s),c=En(c)),r(s,c)}}function Xf(r,s,c,p,y,b,I,B,O,Y){var X=s&A,ne=X?I:n,ae=X?n:I,he=X?b:n,De=X?n:b;s|=X?M:P,s&=~(X?P:M),s&T||(s&=~(w|_));var Te=[r,s,y,he,ne,De,ae,B,O,Y],xe=c.apply(n,Te);return kc(r)&&uh(xe,Te),xe.placeholder=p,ch(xe,r,s)}function Ac(r){var s=Dt[r];return function(c,p){if(c=En(c),p=p==null?0:Mt(Fe(p),292),p&&cf(c)){var y=(Ye(c)+"e").split("e"),b=s(y[0]+"e"+(+y[1]+p));return y=(Ye(b)+"e").split("e"),+(y[0]+"e"+(+y[1]-p))}return s(c)}}var G1=Ti&&1/Ro(new Ti([,-0]))[1]==U?function(r){return new Ti(r)}:Yc;function Kf(r){return function(s){var c=Ot(s);return c==ot?rc(s):c==Tt?cy(s):ty(s,r(s))}}function dr(r,s,c,p,y,b,I,B){var O=s&_;if(!O&&typeof r!="function")throw new Dn(u);var Y=p?p.length:0;if(Y||(s&=~(M|P),p=y=n),I=I===n?I:xt(Fe(I),0),B=B===n?B:Fe(B),Y-=y?y.length:0,s&P){var X=p,ne=y;p=y=n}var ae=O?n:Tc(r),he=[r,s,c,p,y,X,ne,b,I,B];if(ae&&av(he,ae),r=he[0],s=he[1],c=he[2],p=he[3],y=he[4],B=he[9]=he[9]===n?O?0:r.length:xt(he[9]-Y,0),!B&&s&(A|F)&&(s&=~(A|F)),!s||s==w)var De=V1(r,s,c);else s==A||s==F?De=U1(r,s,B):(s==M||s==(w|M))&&!y.length?De=W1(r,s,c,p):De=ta.apply(n,he);var Te=ae?If:uh;return ch(Te(De,he),r,s)}function Jf(r,s,c,p){return r===n||kn(r,Fi[c])&&!Xe.call(p,c)?s:r}function Qf(r,s,c,p,y,b){return ct(r)&&ct(s)&&(b.set(s,r),Ko(r,s,n,Qf,b),b.delete(s)),r}function Z1(r){return Is(r)?n:r}function eh(r,s,c,p,y,b){var I=c&C,B=r.length,O=s.length;if(B!=O&&!(I&&O>B))return!1;var Y=b.get(r),X=b.get(s);if(Y&&X)return Y==s&&X==r;var ne=-1,ae=!0,he=c&v?new ni:n;for(b.set(r,s),b.set(s,r);++ne<B;){var De=r[ne],Te=s[ne];if(p)var xe=I?p(Te,De,ne,s,r,b):p(De,Te,ne,r,s,b);if(xe!==n){if(xe)continue;ae=!1;break}if(he){if(!Ku(s,function(Pe,Ue){if(!ys(he,Ue)&&(De===Pe||y(De,Pe,c,p,b)))return he.push(Ue)})){ae=!1;break}}else if(!(De===Te||y(De,Te,c,p,b))){ae=!1;break}}return b.delete(r),b.delete(s),ae}function q1(r,s,c,p,y,b,I){switch(c){case rn:if(r.byteLength!=s.byteLength||r.byteOffset!=s.byteOffset)return!1;r=r.buffer,s=s.buffer;case nn:return!(r.byteLength!=s.byteLength||!b(new Po(r),new Po(s)));case ye:case Ce:case tt:return kn(+r,+s);case kt:return r.name==s.name&&r.message==s.message;case tn:case mn:return r==s+"";case ot:var B=rc;case Tt:var O=p&C;if(B||(B=Ro),r.size!=s.size&&!O)return!1;var Y=I.get(r);if(Y)return Y==s;p|=v,I.set(r,s);var X=eh(B(r),B(s),p,y,b,I);return I.delete(r),X;case An:if(ws)return ws.call(r)==ws.call(s)}return!1}function Y1(r,s,c,p,y,b){var I=c&C,B=Nc(r),O=B.length,Y=Nc(s),X=Y.length;if(O!=X&&!I)return!1;for(var ne=O;ne--;){var ae=B[ne];if(!(I?ae in s:Xe.call(s,ae)))return!1}var he=b.get(r),De=b.get(s);if(he&&De)return he==s&&De==r;var Te=!0;b.set(r,s),b.set(s,r);for(var xe=I;++ne<O;){ae=B[ne];var Pe=r[ae],Ue=s[ae];if(p)var cn=I?p(Ue,Pe,ae,s,r,b):p(Pe,Ue,ae,r,s,b);if(!(cn===n?Pe===Ue||y(Pe,Ue,c,p,b):cn)){Te=!1;break}xe||(xe=ae=="constructor")}if(Te&&!xe){var Ht=r.constructor,ln=s.constructor;Ht!=ln&&"constructor"in r&&"constructor"in s&&!(typeof Ht=="function"&&Ht instanceof Ht&&typeof ln=="function"&&ln instanceof ln)&&(Te=!1)}return b.delete(r),b.delete(s),Te}function fr(r){return Oc(oh(r,n,gh),r+"")}function Nc(r){return Df(r,bt,Bc)}function Fc(r){return Df(r,Kt,th)}var Tc=Wo?function(r){return Wo.get(r)}:Yc;function sa(r){for(var s=r.name+"",c=Ii[s],p=Xe.call(Ii,s)?c.length:0;p--;){var y=c[p],b=y.func;if(b==null||b==r)return y.name}return s}function Mi(r){var s=Xe.call(x,"placeholder")?x:r;return s.placeholder}function ve(){var r=x.iteratee||Zc;return r=r===Zc?bf:r,arguments.length?r(arguments[0],arguments[1]):r}function oa(r,s){var c=r.__data__;return rv(s)?c[typeof s=="string"?"string":"hash"]:c.map}function Ic(r){for(var s=bt(r),c=s.length;c--;){var p=s[c],y=r[p];s[c]=[p,y,ih(y)]}return s}function si(r,s){var c=oy(r,s);return wf(c)?c:n}function X1(r){var s=Xe.call(r,ei),c=r[ei];try{r[ei]=n;var p=!0}catch{}var y=zo.call(r);return p&&(s?r[ei]=c:delete r[ei]),y}var Bc=sc?function(r){return r==null?[]:(r=Ke(r),Nr(sc(r),function(s){return af.call(r,s)}))}:Xc,th=sc?function(r){for(var s=[];r;)Fr(s,Bc(r)),r=jo(r);return s}:Xc,Ot=jt;(oc&&Ot(new oc(new ArrayBuffer(1)))!=rn||_s&&Ot(new _s)!=ot||ac&&Ot(ac.resolve())!=me||Ti&&Ot(new Ti)!=Tt||Ds&&Ot(new Ds)!=yn)&&(Ot=function(r){var s=jt(r),c=s==Ve?r.constructor:n,p=c?oi(c):"";if(p)switch(p){case By:return rn;case Ry:return ot;case ky:return me;case My:return Tt;case Oy:return yn}return s});function K1(r,s,c){for(var p=-1,y=c.length;++p<y;){var b=c[p],I=b.size;switch(b.type){case"drop":r+=I;break;case"dropRight":s-=I;break;case"take":s=Mt(s,r+I);break;case"takeRight":r=xt(r,s-I);break}}return{start:r,end:s}}function J1(r){var s=r.match(Eu);return s?s[1].split(Su):[]}function nh(r,s,c){s=kr(s,r);for(var p=-1,y=s.length,b=!1;++p<y;){var I=Xn(s[p]);if(!(b=r!=null&&c(r,I)))break;r=r[I]}return b||++p!=y?b:(y=r==null?0:r.length,!!y&&ha(y)&&hr(I,y)&&(Se(r)||ai(r)))}function Q1(r){var s=r.length,c=new r.constructor(s);return s&&typeof r[0]=="string"&&Xe.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function rh(r){return typeof r.constructor=="function"&&!Fs(r)?Bi(jo(r)):{}}function ev(r,s,c){var p=r.constructor;switch(s){case nn:return Ec(r);case ye:case Ce:return new p(+r);case rn:return z1(r,c);case Gn:case or:case yt:case Zt:case Fn:case Tn:case Zn:case qt:case In:return Pf(r,c);case ot:return new p;case tt:case mn:return new p(r);case tn:return $1(r);case Tt:return new p;case An:return P1(r)}}function tv(r,s){var c=s.length;if(!c)return r;var p=c-1;return s[p]=(c>1?"& ":"")+s[p],s=s.join(c>2?", ":" "),r.replace(Cu,`{
/* [wrapped with `+s+`] */
`)}function nv(r){return Se(r)||ai(r)||!!(uf&&r&&r[uf])}function hr(r,s){var c=typeof r;return s=s??ee,!!s&&(c=="number"||c!="symbol"&&ku.test(r))&&r>-1&&r%1==0&&r<s}function Lt(r,s,c){if(!ct(c))return!1;var p=typeof s;return(p=="number"?Xt(c)&&hr(s,c.length):p=="string"&&s in c)?kn(c[s],r):!1}function Rc(r,s){if(Se(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||un(r)?!0:Du.test(r)||!_u.test(r)||s!=null&&r in Ke(s)}function rv(r){var s=typeof r;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?r!=="__proto__":r===null}function kc(r){var s=sa(r),c=x[s];if(typeof c!="function"||!(s in Le.prototype))return!1;if(r===c)return!0;var p=Tc(c);return!!p&&r===p[0]}function iv(r){return!!rf&&rf in r}var sv=Mo?pr:Kc;function Fs(r){var s=r&&r.constructor,c=typeof s=="function"&&s.prototype||Fi;return r===c}function ih(r){return r===r&&!ct(r)}function sh(r,s){return function(c){return c==null?!1:c[r]===s&&(s!==n||r in Ke(c))}}function ov(r){var s=da(r,function(p){return c.size===f&&c.clear(),p}),c=s.cache;return s}function av(r,s){var c=r[1],p=s[1],y=c|p,b=y<(w|_|H),I=p==H&&c==A||p==H&&c==q&&r[7].length<=s[8]||p==(H|q)&&s[7].length<=s[8]&&c==A;if(!(b||I))return r;p&w&&(r[2]=s[2],y|=c&w?0:T);var B=s[3];if(B){var O=r[3];r[3]=O?Lf(O,B,s[4]):B,r[4]=O?Tr(r[3],h):s[4]}return B=s[5],B&&(O=r[5],r[5]=O?Hf(O,B,s[6]):B,r[6]=O?Tr(r[5],h):s[6]),B=s[7],B&&(r[7]=B),p&H&&(r[8]=r[8]==null?s[8]:Mt(r[8],s[8])),r[9]==null&&(r[9]=s[9]),r[0]=s[0],r[1]=y,r}function uv(r){var s=[];if(r!=null)for(var c in Ke(r))s.push(c);return s}function cv(r){return zo.call(r)}function oh(r,s,c){return s=xt(s===n?r.length-1:s,0),function(){for(var p=arguments,y=-1,b=xt(p.length-s,0),I=V(b);++y<b;)I[y]=p[s+y];y=-1;for(var B=V(s+1);++y<s;)B[y]=p[y];return B[s]=c(I),sn(r,this,B)}}function ah(r,s){return s.length<2?r:ii(r,bn(s,0,-1))}function lv(r,s){for(var c=r.length,p=Mt(s.length,c),y=Yt(r);p--;){var b=s[p];r[p]=hr(b,c)?y[b]:n}return r}function Mc(r,s){if(!(s==="constructor"&&typeof r[s]=="function")&&s!="__proto__")return r[s]}var uh=lh(If),Ts=Ey||function(r,s){return It.setTimeout(r,s)},Oc=lh(R1);function ch(r,s,c){var p=s+"";return Oc(r,tv(p,dv(J1(p),c)))}function lh(r){var s=0,c=0;return function(){var p=Fy(),y=G-(p-c);if(c=p,y>0){if(++s>=J)return arguments[0]}else s=0;return r.apply(n,arguments)}}function aa(r,s){var c=-1,p=r.length,y=p-1;for(s=s===n?p:s;++c<s;){var b=vc(c,y),I=r[b];r[b]=r[c],r[c]=I}return r.length=s,r}var dh=ov(function(r){var s=[];return r.charCodeAt(0)===46&&s.push(""),r.replace(xu,function(c,p,y,b){s.push(y?b.replace(So,"$1"):p||c)}),s});function Xn(r){if(typeof r=="string"||un(r))return r;var s=r+"";return s=="0"&&1/r==-U?"-0":s}function oi(r){if(r!=null){try{return Oo.call(r)}catch{}try{return r+""}catch{}}return""}function dv(r,s){return _n(de,function(c){var p="_."+c[0];s&c[1]&&!Io(r,p)&&r.push(p)}),r.sort()}function fh(r){if(r instanceof Le)return r.clone();var s=new xn(r.__wrapped__,r.__chain__);return s.__actions__=Yt(r.__actions__),s.__index__=r.__index__,s.__values__=r.__values__,s}function fv(r,s,c){(c?Lt(r,s,c):s===n)?s=1:s=xt(Fe(s),0);var p=r==null?0:r.length;if(!p||s<1)return[];for(var y=0,b=0,I=V(Vo(p/s));y<p;)I[b++]=bn(r,y,y+=s);return I}function hv(r){for(var s=-1,c=r==null?0:r.length,p=0,y=[];++s<c;){var b=r[s];b&&(y[p++]=b)}return y}function pv(){var r=arguments.length;if(!r)return[];for(var s=V(r-1),c=arguments[0],p=r;p--;)s[p-1]=arguments[p];return Fr(Se(c)?Yt(c):[c],Bt(s,1))}var gv=Re(function(r,s){return pt(r)?Cs(r,Bt(s,1,pt,!0)):[]}),mv=Re(function(r,s){var c=Cn(s);return pt(c)&&(c=n),pt(r)?Cs(r,Bt(s,1,pt,!0),ve(c,2)):[]}),yv=Re(function(r,s){var c=Cn(s);return pt(c)&&(c=n),pt(r)?Cs(r,Bt(s,1,pt,!0),n,c):[]});function vv(r,s,c){var p=r==null?0:r.length;return p?(s=c||s===n?1:Fe(s),bn(r,s<0?0:s,p)):[]}function _v(r,s,c){var p=r==null?0:r.length;return p?(s=c||s===n?1:Fe(s),s=p-s,bn(r,0,s<0?0:s)):[]}function Dv(r,s){return r&&r.length?Qo(r,ve(s,3),!0,!0):[]}function xv(r,s){return r&&r.length?Qo(r,ve(s,3),!0):[]}function wv(r,s,c,p){var y=r==null?0:r.length;return y?(c&&typeof c!="number"&&Lt(r,s,c)&&(c=0,p=y),p1(r,s,c,p)):[]}function hh(r,s,c){var p=r==null?0:r.length;if(!p)return-1;var y=c==null?0:Fe(c);return y<0&&(y=xt(p+y,0)),Bo(r,ve(s,3),y)}function ph(r,s,c){var p=r==null?0:r.length;if(!p)return-1;var y=p-1;return c!==n&&(y=Fe(c),y=c<0?xt(p+y,0):Mt(y,p-1)),Bo(r,ve(s,3),y,!0)}function gh(r){var s=r==null?0:r.length;return s?Bt(r,1):[]}function bv(r){var s=r==null?0:r.length;return s?Bt(r,U):[]}function Cv(r,s){var c=r==null?0:r.length;return c?(s=s===n?1:Fe(s),Bt(r,s)):[]}function Ev(r){for(var s=-1,c=r==null?0:r.length,p={};++s<c;){var y=r[s];p[y[0]]=y[1]}return p}function mh(r){return r&&r.length?r[0]:n}function Sv(r,s,c){var p=r==null?0:r.length;if(!p)return-1;var y=c==null?0:Fe(c);return y<0&&(y=xt(p+y,0)),Ei(r,s,y)}function Av(r){var s=r==null?0:r.length;return s?bn(r,0,-1):[]}var Nv=Re(function(r){var s=at(r,bc);return s.length&&s[0]===r[0]?hc(s):[]}),Fv=Re(function(r){var s=Cn(r),c=at(r,bc);return s===Cn(c)?s=n:c.pop(),c.length&&c[0]===r[0]?hc(c,ve(s,2)):[]}),Tv=Re(function(r){var s=Cn(r),c=at(r,bc);return s=typeof s=="function"?s:n,s&&c.pop(),c.length&&c[0]===r[0]?hc(c,n,s):[]});function Iv(r,s){return r==null?"":Ay.call(r,s)}function Cn(r){var s=r==null?0:r.length;return s?r[s-1]:n}function Bv(r,s,c){var p=r==null?0:r.length;if(!p)return-1;var y=p;return c!==n&&(y=Fe(c),y=y<0?xt(p+y,0):Mt(y,p-1)),s===s?dy(r,s,y):Bo(r,Yd,y,!0)}function Rv(r,s){return r&&r.length?Af(r,Fe(s)):n}var kv=Re(yh);function yh(r,s){return r&&r.length&&s&&s.length?yc(r,s):r}function Mv(r,s,c){return r&&r.length&&s&&s.length?yc(r,s,ve(c,2)):r}function Ov(r,s,c){return r&&r.length&&s&&s.length?yc(r,s,n,c):r}var zv=fr(function(r,s){var c=r==null?0:r.length,p=cc(r,s);return Tf(r,at(s,function(y){return hr(y,c)?+y:y}).sort(jf)),p});function $v(r,s){var c=[];if(!(r&&r.length))return c;var p=-1,y=[],b=r.length;for(s=ve(s,3);++p<b;){var I=r[p];s(I,p,r)&&(c.push(I),y.push(p))}return Tf(r,y),c}function zc(r){return r==null?r:Iy.call(r)}function Pv(r,s,c){var p=r==null?0:r.length;return p?(c&&typeof c!="number"&&Lt(r,s,c)?(s=0,c=p):(s=s==null?0:Fe(s),c=c===n?p:Fe(c)),bn(r,s,c)):[]}function jv(r,s){return Jo(r,s)}function Lv(r,s,c){return Dc(r,s,ve(c,2))}function Hv(r,s){var c=r==null?0:r.length;if(c){var p=Jo(r,s);if(p<c&&kn(r[p],s))return p}return-1}function Vv(r,s){return Jo(r,s,!0)}function Uv(r,s,c){return Dc(r,s,ve(c,2),!0)}function Wv(r,s){var c=r==null?0:r.length;if(c){var p=Jo(r,s,!0)-1;if(kn(r[p],s))return p}return-1}function Gv(r){return r&&r.length?Bf(r):[]}function Zv(r,s){return r&&r.length?Bf(r,ve(s,2)):[]}function qv(r){var s=r==null?0:r.length;return s?bn(r,1,s):[]}function Yv(r,s,c){return r&&r.length?(s=c||s===n?1:Fe(s),bn(r,0,s<0?0:s)):[]}function Xv(r,s,c){var p=r==null?0:r.length;return p?(s=c||s===n?1:Fe(s),s=p-s,bn(r,s<0?0:s,p)):[]}function Kv(r,s){return r&&r.length?Qo(r,ve(s,3),!1,!0):[]}function Jv(r,s){return r&&r.length?Qo(r,ve(s,3)):[]}var Qv=Re(function(r){return Rr(Bt(r,1,pt,!0))}),e_=Re(function(r){var s=Cn(r);return pt(s)&&(s=n),Rr(Bt(r,1,pt,!0),ve(s,2))}),t_=Re(function(r){var s=Cn(r);return s=typeof s=="function"?s:n,Rr(Bt(r,1,pt,!0),n,s)});function n_(r){return r&&r.length?Rr(r):[]}function r_(r,s){return r&&r.length?Rr(r,ve(s,2)):[]}function i_(r,s){return s=typeof s=="function"?s:n,r&&r.length?Rr(r,n,s):[]}function $c(r){if(!(r&&r.length))return[];var s=0;return r=Nr(r,function(c){if(pt(c))return s=xt(c.length,s),!0}),tc(s,function(c){return at(r,Ju(c))})}function vh(r,s){if(!(r&&r.length))return[];var c=$c(r);return s==null?c:at(c,function(p){return sn(s,n,p)})}var s_=Re(function(r,s){return pt(r)?Cs(r,s):[]}),o_=Re(function(r){return wc(Nr(r,pt))}),a_=Re(function(r){var s=Cn(r);return pt(s)&&(s=n),wc(Nr(r,pt),ve(s,2))}),u_=Re(function(r){var s=Cn(r);return s=typeof s=="function"?s:n,wc(Nr(r,pt),n,s)}),c_=Re($c);function l_(r,s){return Of(r||[],s||[],bs)}function d_(r,s){return Of(r||[],s||[],As)}var f_=Re(function(r){var s=r.length,c=s>1?r[s-1]:n;return c=typeof c=="function"?(r.pop(),c):n,vh(r,c)});function _h(r){var s=x(r);return s.__chain__=!0,s}function h_(r,s){return s(r),r}function ua(r,s){return s(r)}var p_=fr(function(r){var s=r.length,c=s?r[0]:0,p=this.__wrapped__,y=function(b){return cc(b,r)};return s>1||this.__actions__.length||!(p instanceof Le)||!hr(c)?this.thru(y):(p=p.slice(c,+c+(s?1:0)),p.__actions__.push({func:ua,args:[y],thisArg:n}),new xn(p,this.__chain__).thru(function(b){return s&&!b.length&&b.push(n),b}))});function g_(){return _h(this)}function m_(){return new xn(this.value(),this.__chain__)}function y_(){this.__values__===n&&(this.__values__=Rh(this.value()));var r=this.__index__>=this.__values__.length,s=r?n:this.__values__[this.__index__++];return{done:r,value:s}}function v_(){return this}function __(r){for(var s,c=this;c instanceof Zo;){var p=fh(c);p.__index__=0,p.__values__=n,s?y.__wrapped__=p:s=p;var y=p;c=c.__wrapped__}return y.__wrapped__=r,s}function D_(){var r=this.__wrapped__;if(r instanceof Le){var s=r;return this.__actions__.length&&(s=new Le(this)),s=s.reverse(),s.__actions__.push({func:ua,args:[zc],thisArg:n}),new xn(s,this.__chain__)}return this.thru(zc)}function x_(){return Mf(this.__wrapped__,this.__actions__)}var w_=ea(function(r,s,c){Xe.call(r,c)?++r[c]:lr(r,c,1)});function b_(r,s,c){var p=Se(r)?Zd:h1;return c&&Lt(r,s,c)&&(s=n),p(r,ve(s,3))}function C_(r,s){var c=Se(r)?Nr:vf;return c(r,ve(s,3))}var E_=Gf(hh),S_=Gf(ph);function A_(r,s){return Bt(ca(r,s),1)}function N_(r,s){return Bt(ca(r,s),U)}function F_(r,s,c){return c=c===n?1:Fe(c),Bt(ca(r,s),c)}function Dh(r,s){var c=Se(r)?_n:Br;return c(r,ve(s,3))}function xh(r,s){var c=Se(r)?qm:yf;return c(r,ve(s,3))}var T_=ea(function(r,s,c){Xe.call(r,c)?r[c].push(s):lr(r,c,[s])});function I_(r,s,c,p){r=Xt(r)?r:zi(r),c=c&&!p?Fe(c):0;var y=r.length;return c<0&&(c=xt(y+c,0)),pa(r)?c<=y&&r.indexOf(s,c)>-1:!!y&&Ei(r,s,c)>-1}var B_=Re(function(r,s,c){var p=-1,y=typeof s=="function",b=Xt(r)?V(r.length):[];return Br(r,function(I){b[++p]=y?sn(s,I,c):Es(I,s,c)}),b}),R_=ea(function(r,s,c){lr(r,c,s)});function ca(r,s){var c=Se(r)?at:Cf;return c(r,ve(s,3))}function k_(r,s,c,p){return r==null?[]:(Se(s)||(s=s==null?[]:[s]),c=p?n:c,Se(c)||(c=c==null?[]:[c]),Nf(r,s,c))}var M_=ea(function(r,s,c){r[c?0:1].push(s)},function(){return[[],[]]});function O_(r,s,c){var p=Se(r)?Xu:Kd,y=arguments.length<3;return p(r,ve(s,4),c,y,Br)}function z_(r,s,c){var p=Se(r)?Ym:Kd,y=arguments.length<3;return p(r,ve(s,4),c,y,yf)}function $_(r,s){var c=Se(r)?Nr:vf;return c(r,fa(ve(s,3)))}function P_(r){var s=Se(r)?hf:I1;return s(r)}function j_(r,s,c){(c?Lt(r,s,c):s===n)?s=1:s=Fe(s);var p=Se(r)?u1:B1;return p(r,s)}function L_(r){var s=Se(r)?c1:k1;return s(r)}function H_(r){if(r==null)return 0;if(Xt(r))return pa(r)?Ai(r):r.length;var s=Ot(r);return s==ot||s==Tt?r.size:gc(r).length}function V_(r,s,c){var p=Se(r)?Ku:M1;return c&&Lt(r,s,c)&&(s=n),p(r,ve(s,3))}var U_=Re(function(r,s){if(r==null)return[];var c=s.length;return c>1&&Lt(r,s[0],s[1])?s=[]:c>2&&Lt(s[0],s[1],s[2])&&(s=[s[0]]),Nf(r,Bt(s,1),[])}),la=Cy||function(){return It.Date.now()};function W_(r,s){if(typeof s!="function")throw new Dn(u);return r=Fe(r),function(){if(--r<1)return s.apply(this,arguments)}}function wh(r,s,c){return s=c?n:s,s=r&&s==null?r.length:s,dr(r,H,n,n,n,n,s)}function bh(r,s){var c;if(typeof s!="function")throw new Dn(u);return r=Fe(r),function(){return--r>0&&(c=s.apply(this,arguments)),r<=1&&(s=n),c}}var Pc=Re(function(r,s,c){var p=w;if(c.length){var y=Tr(c,Mi(Pc));p|=M}return dr(r,p,s,c,y)}),Ch=Re(function(r,s,c){var p=w|_;if(c.length){var y=Tr(c,Mi(Ch));p|=M}return dr(s,p,r,c,y)});function Eh(r,s,c){s=c?n:s;var p=dr(r,A,n,n,n,n,n,s);return p.placeholder=Eh.placeholder,p}function Sh(r,s,c){s=c?n:s;var p=dr(r,F,n,n,n,n,n,s);return p.placeholder=Sh.placeholder,p}function Ah(r,s,c){var p,y,b,I,B,O,Y=0,X=!1,ne=!1,ae=!0;if(typeof r!="function")throw new Dn(u);s=En(s)||0,ct(c)&&(X=!!c.leading,ne="maxWait"in c,b=ne?xt(En(c.maxWait)||0,s):b,ae="trailing"in c?!!c.trailing:ae);function he(gt){var Mn=p,mr=y;return p=y=n,Y=gt,I=r.apply(mr,Mn),I}function De(gt){return Y=gt,B=Ts(Pe,s),X?he(gt):I}function Te(gt){var Mn=gt-O,mr=gt-Y,Gh=s-Mn;return ne?Mt(Gh,b-mr):Gh}function xe(gt){var Mn=gt-O,mr=gt-Y;return O===n||Mn>=s||Mn<0||ne&&mr>=b}function Pe(){var gt=la();if(xe(gt))return Ue(gt);B=Ts(Pe,Te(gt))}function Ue(gt){return B=n,ae&&p?he(gt):(p=y=n,I)}function cn(){B!==n&&zf(B),Y=0,p=O=y=B=n}function Ht(){return B===n?I:Ue(la())}function ln(){var gt=la(),Mn=xe(gt);if(p=arguments,y=this,O=gt,Mn){if(B===n)return De(O);if(ne)return zf(B),B=Ts(Pe,s),he(O)}return B===n&&(B=Ts(Pe,s)),I}return ln.cancel=cn,ln.flush=Ht,ln}var G_=Re(function(r,s){return mf(r,1,s)}),Z_=Re(function(r,s,c){return mf(r,En(s)||0,c)});function q_(r){return dr(r,k)}function da(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new Dn(u);var c=function(){var p=arguments,y=s?s.apply(this,p):p[0],b=c.cache;if(b.has(y))return b.get(y);var I=r.apply(this,p);return c.cache=b.set(y,I)||b,I};return c.cache=new(da.Cache||cr),c}da.Cache=cr;function fa(r){if(typeof r!="function")throw new Dn(u);return function(){var s=arguments;switch(s.length){case 0:return!r.call(this);case 1:return!r.call(this,s[0]);case 2:return!r.call(this,s[0],s[1]);case 3:return!r.call(this,s[0],s[1],s[2])}return!r.apply(this,s)}}function Y_(r){return bh(2,r)}var X_=O1(function(r,s){s=s.length==1&&Se(s[0])?at(s[0],on(ve())):at(Bt(s,1),on(ve()));var c=s.length;return Re(function(p){for(var y=-1,b=Mt(p.length,c);++y<b;)p[y]=s[y].call(this,p[y]);return sn(r,this,p)})}),jc=Re(function(r,s){var c=Tr(s,Mi(jc));return dr(r,M,n,s,c)}),Nh=Re(function(r,s){var c=Tr(s,Mi(Nh));return dr(r,P,n,s,c)}),K_=fr(function(r,s){return dr(r,q,n,n,n,s)});function J_(r,s){if(typeof r!="function")throw new Dn(u);return s=s===n?s:Fe(s),Re(r,s)}function Q_(r,s){if(typeof r!="function")throw new Dn(u);return s=s==null?0:xt(Fe(s),0),Re(function(c){var p=c[s],y=Mr(c,0,s);return p&&Fr(y,p),sn(r,this,y)})}function eD(r,s,c){var p=!0,y=!0;if(typeof r!="function")throw new Dn(u);return ct(c)&&(p="leading"in c?!!c.leading:p,y="trailing"in c?!!c.trailing:y),Ah(r,s,{leading:p,maxWait:s,trailing:y})}function tD(r){return wh(r,1)}function nD(r,s){return jc(Cc(s),r)}function rD(){if(!arguments.length)return[];var r=arguments[0];return Se(r)?r:[r]}function iD(r){return wn(r,D)}function sD(r,s){return s=typeof s=="function"?s:n,wn(r,D,s)}function oD(r){return wn(r,g|D)}function aD(r,s){return s=typeof s=="function"?s:n,wn(r,g|D,s)}function uD(r,s){return s==null||gf(r,s,bt(s))}function kn(r,s){return r===s||r!==r&&s!==s}var cD=ia(fc),lD=ia(function(r,s){return r>=s}),ai=xf(function(){return arguments}())?xf:function(r){return dt(r)&&Xe.call(r,"callee")&&!af.call(r,"callee")},Se=V.isArray,dD=Ld?on(Ld):_1;function Xt(r){return r!=null&&ha(r.length)&&!pr(r)}function pt(r){return dt(r)&&Xt(r)}function fD(r){return r===!0||r===!1||dt(r)&&jt(r)==ye}var Or=Sy||Kc,hD=Hd?on(Hd):D1;function pD(r){return dt(r)&&r.nodeType===1&&!Is(r)}function gD(r){if(r==null)return!0;if(Xt(r)&&(Se(r)||typeof r=="string"||typeof r.splice=="function"||Or(r)||Oi(r)||ai(r)))return!r.length;var s=Ot(r);if(s==ot||s==Tt)return!r.size;if(Fs(r))return!gc(r).length;for(var c in r)if(Xe.call(r,c))return!1;return!0}function mD(r,s){return Ss(r,s)}function yD(r,s,c){c=typeof c=="function"?c:n;var p=c?c(r,s):n;return p===n?Ss(r,s,n,c):!!p}function Lc(r){if(!dt(r))return!1;var s=jt(r);return s==kt||s==$e||typeof r.message=="string"&&typeof r.name=="string"&&!Is(r)}function vD(r){return typeof r=="number"&&cf(r)}function pr(r){if(!ct(r))return!1;var s=jt(r);return s==Ft||s==Gt||s==Me||s==Pt}function Fh(r){return typeof r=="number"&&r==Fe(r)}function ha(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=ee}function ct(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}function dt(r){return r!=null&&typeof r=="object"}var Th=Vd?on(Vd):w1;function _D(r,s){return r===s||pc(r,s,Ic(s))}function DD(r,s,c){return c=typeof c=="function"?c:n,pc(r,s,Ic(s),c)}function xD(r){return Ih(r)&&r!=+r}function wD(r){if(sv(r))throw new Ee(a);return wf(r)}function bD(r){return r===null}function CD(r){return r==null}function Ih(r){return typeof r=="number"||dt(r)&&jt(r)==tt}function Is(r){if(!dt(r)||jt(r)!=Ve)return!1;var s=jo(r);if(s===null)return!0;var c=Xe.call(s,"constructor")&&s.constructor;return typeof c=="function"&&c instanceof c&&Oo.call(c)==Dy}var Hc=Ud?on(Ud):b1;function ED(r){return Fh(r)&&r>=-ee&&r<=ee}var Bh=Wd?on(Wd):C1;function pa(r){return typeof r=="string"||!Se(r)&&dt(r)&&jt(r)==mn}function un(r){return typeof r=="symbol"||dt(r)&&jt(r)==An}var Oi=Gd?on(Gd):E1;function SD(r){return r===n}function AD(r){return dt(r)&&Ot(r)==yn}function ND(r){return dt(r)&&jt(r)==sr}var FD=ia(mc),TD=ia(function(r,s){return r<=s});function Rh(r){if(!r)return[];if(Xt(r))return pa(r)?Bn(r):Yt(r);if(vs&&r[vs])return uy(r[vs]());var s=Ot(r),c=s==ot?rc:s==Tt?Ro:zi;return c(r)}function gr(r){if(!r)return r===0?r:0;if(r=En(r),r===U||r===-U){var s=r<0?-1:1;return s*L}return r===r?r:0}function Fe(r){var s=gr(r),c=s%1;return s===s?c?s-c:s:0}function kh(r){return r?ri(Fe(r),0,re):0}function En(r){if(typeof r=="number")return r;if(un(r))return te;if(ct(r)){var s=typeof r.valueOf=="function"?r.valueOf():r;r=ct(s)?s+"":s}if(typeof r!="string")return r===0?r:+r;r=Jd(r);var c=Iu.test(r);return c||Ru.test(r)?Wm(r.slice(2),c?2:8):Tu.test(r)?te:+r}function Mh(r){return Yn(r,Kt(r))}function ID(r){return r?ri(Fe(r),-ee,ee):r===0?r:0}function Ye(r){return r==null?"":an(r)}var BD=Ri(function(r,s){if(Fs(s)||Xt(s)){Yn(s,bt(s),r);return}for(var c in s)Xe.call(s,c)&&bs(r,c,s[c])}),Oh=Ri(function(r,s){Yn(s,Kt(s),r)}),ga=Ri(function(r,s,c,p){Yn(s,Kt(s),r,p)}),RD=Ri(function(r,s,c,p){Yn(s,bt(s),r,p)}),kD=fr(cc);function MD(r,s){var c=Bi(r);return s==null?c:pf(c,s)}var OD=Re(function(r,s){r=Ke(r);var c=-1,p=s.length,y=p>2?s[2]:n;for(y&&Lt(s[0],s[1],y)&&(p=1);++c<p;)for(var b=s[c],I=Kt(b),B=-1,O=I.length;++B<O;){var Y=I[B],X=r[Y];(X===n||kn(X,Fi[Y])&&!Xe.call(r,Y))&&(r[Y]=b[Y])}return r}),zD=Re(function(r){return r.push(n,Qf),sn(zh,n,r)});function $D(r,s){return qd(r,ve(s,3),qn)}function PD(r,s){return qd(r,ve(s,3),dc)}function jD(r,s){return r==null?r:lc(r,ve(s,3),Kt)}function LD(r,s){return r==null?r:_f(r,ve(s,3),Kt)}function HD(r,s){return r&&qn(r,ve(s,3))}function VD(r,s){return r&&dc(r,ve(s,3))}function UD(r){return r==null?[]:Xo(r,bt(r))}function WD(r){return r==null?[]:Xo(r,Kt(r))}function Vc(r,s,c){var p=r==null?n:ii(r,s);return p===n?c:p}function GD(r,s){return r!=null&&nh(r,s,g1)}function Uc(r,s){return r!=null&&nh(r,s,m1)}var ZD=qf(function(r,s,c){s!=null&&typeof s.toString!="function"&&(s=zo.call(s)),r[s]=c},Gc(Jt)),qD=qf(function(r,s,c){s!=null&&typeof s.toString!="function"&&(s=zo.call(s)),Xe.call(r,s)?r[s].push(c):r[s]=[c]},ve),YD=Re(Es);function bt(r){return Xt(r)?ff(r):gc(r)}function Kt(r){return Xt(r)?ff(r,!0):S1(r)}function XD(r,s){var c={};return s=ve(s,3),qn(r,function(p,y,b){lr(c,s(p,y,b),p)}),c}function KD(r,s){var c={};return s=ve(s,3),qn(r,function(p,y,b){lr(c,y,s(p,y,b))}),c}var JD=Ri(function(r,s,c){Ko(r,s,c)}),zh=Ri(function(r,s,c,p){Ko(r,s,c,p)}),QD=fr(function(r,s){var c={};if(r==null)return c;var p=!1;s=at(s,function(b){return b=kr(b,r),p||(p=b.length>1),b}),Yn(r,Fc(r),c),p&&(c=wn(c,g|m|D,Z1));for(var y=s.length;y--;)xc(c,s[y]);return c});function ex(r,s){return $h(r,fa(ve(s)))}var tx=fr(function(r,s){return r==null?{}:N1(r,s)});function $h(r,s){if(r==null)return{};var c=at(Fc(r),function(p){return[p]});return s=ve(s),Ff(r,c,function(p,y){return s(p,y[0])})}function nx(r,s,c){s=kr(s,r);var p=-1,y=s.length;for(y||(y=1,r=n);++p<y;){var b=r==null?n:r[Xn(s[p])];b===n&&(p=y,b=c),r=pr(b)?b.call(r):b}return r}function rx(r,s,c){return r==null?r:As(r,s,c)}function ix(r,s,c,p){return p=typeof p=="function"?p:n,r==null?r:As(r,s,c,p)}var Ph=Kf(bt),jh=Kf(Kt);function sx(r,s,c){var p=Se(r),y=p||Or(r)||Oi(r);if(s=ve(s,4),c==null){var b=r&&r.constructor;y?c=p?new b:[]:ct(r)?c=pr(b)?Bi(jo(r)):{}:c={}}return(y?_n:qn)(r,function(I,B,O){return s(c,I,B,O)}),c}function ox(r,s){return r==null?!0:xc(r,s)}function ax(r,s,c){return r==null?r:kf(r,s,Cc(c))}function ux(r,s,c,p){return p=typeof p=="function"?p:n,r==null?r:kf(r,s,Cc(c),p)}function zi(r){return r==null?[]:nc(r,bt(r))}function cx(r){return r==null?[]:nc(r,Kt(r))}function lx(r,s,c){return c===n&&(c=s,s=n),c!==n&&(c=En(c),c=c===c?c:0),s!==n&&(s=En(s),s=s===s?s:0),ri(En(r),s,c)}function dx(r,s,c){return s=gr(s),c===n?(c=s,s=0):c=gr(c),r=En(r),y1(r,s,c)}function fx(r,s,c){if(c&&typeof c!="boolean"&&Lt(r,s,c)&&(s=c=n),c===n&&(typeof s=="boolean"?(c=s,s=n):typeof r=="boolean"&&(c=r,r=n)),r===n&&s===n?(r=0,s=1):(r=gr(r),s===n?(s=r,r=0):s=gr(s)),r>s){var p=r;r=s,s=p}if(c||r%1||s%1){var y=lf();return Mt(r+y*(s-r+Um("1e-"+((y+"").length-1))),s)}return vc(r,s)}var hx=ki(function(r,s,c){return s=s.toLowerCase(),r+(c?Lh(s):s)});function Lh(r){return Wc(Ye(r).toLowerCase())}function Hh(r){return r=Ye(r),r&&r.replace(Mu,ry).replace(km,"")}function px(r,s,c){r=Ye(r),s=an(s);var p=r.length;c=c===n?p:ri(Fe(c),0,p);var y=c;return c-=s.length,c>=0&&r.slice(c,y)==s}function gx(r){return r=Ye(r),r&&mu.test(r)?r.replace(fs,iy):r}function mx(r){return r=Ye(r),r&&wu.test(r)?r.replace(hs,"\\$&"):r}var yx=ki(function(r,s,c){return r+(c?"-":"")+s.toLowerCase()}),vx=ki(function(r,s,c){return r+(c?" ":"")+s.toLowerCase()}),_x=Wf("toLowerCase");function Dx(r,s,c){r=Ye(r),s=Fe(s);var p=s?Ai(r):0;if(!s||p>=s)return r;var y=(s-p)/2;return ra(Uo(y),c)+r+ra(Vo(y),c)}function xx(r,s,c){r=Ye(r),s=Fe(s);var p=s?Ai(r):0;return s&&p<s?r+ra(s-p,c):r}function wx(r,s,c){r=Ye(r),s=Fe(s);var p=s?Ai(r):0;return s&&p<s?ra(s-p,c)+r:r}function bx(r,s,c){return c||s==null?s=0:s&&(s=+s),Ty(Ye(r).replace(ps,""),s||0)}function Cx(r,s,c){return(c?Lt(r,s,c):s===n)?s=1:s=Fe(s),_c(Ye(r),s)}function Ex(){var r=arguments,s=Ye(r[0]);return r.length<3?s:s.replace(r[1],r[2])}var Sx=ki(function(r,s,c){return r+(c?"_":"")+s.toLowerCase()});function Ax(r,s,c){return c&&typeof c!="number"&&Lt(r,s,c)&&(s=c=n),c=c===n?re:c>>>0,c?(r=Ye(r),r&&(typeof s=="string"||s!=null&&!Hc(s))&&(s=an(s),!s&&Si(r))?Mr(Bn(r),0,c):r.split(s,c)):[]}var Nx=ki(function(r,s,c){return r+(c?" ":"")+Wc(s)});function Fx(r,s,c){return r=Ye(r),c=c==null?0:ri(Fe(c),0,r.length),s=an(s),r.slice(c,c+s.length)==s}function Tx(r,s,c){var p=x.templateSettings;c&&Lt(r,s,c)&&(s=n),r=Ye(r),s=ga({},s,p,Jf);var y=ga({},s.imports,p.imports,Jf),b=bt(y),I=nc(y,b),B,O,Y=0,X=s.interpolate||Jr,ne="__p += '",ae=ic((s.escape||Jr).source+"|"+X.source+"|"+(X===Eo?Fu:Jr).source+"|"+(s.evaluate||Jr).source+"|$","g"),he="//# sourceURL="+(Xe.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pm+"]")+`
`;r.replace(ae,function(xe,Pe,Ue,cn,Ht,ln){return Ue||(Ue=cn),ne+=r.slice(Y,ln).replace(Ou,sy),Pe&&(B=!0,ne+=`' +
__e(`+Pe+`) +
'`),Ht&&(O=!0,ne+=`';
`+Ht+`;
__p += '`),Ue&&(ne+=`' +
((__t = (`+Ue+`)) == null ? '' : __t) +
'`),Y=ln+xe.length,xe}),ne+=`';
`;var De=Xe.call(s,"variable")&&s.variable;if(!De)ne=`with (obj) {
`+ne+`
}
`;else if(Nu.test(De))throw new Ee(l);ne=(O?ne.replace(ls,""):ne).replace(ds,"$1").replace(Kr,"$1;"),ne="function("+(De||"obj")+`) {
`+(De?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(B?", __e = _.escape":"")+(O?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ne+`return __p
}`;var Te=Uh(function(){return qe(b,he+"return "+ne).apply(n,I)});if(Te.source=ne,Lc(Te))throw Te;return Te}function Ix(r){return Ye(r).toLowerCase()}function Bx(r){return Ye(r).toUpperCase()}function Rx(r,s,c){if(r=Ye(r),r&&(c||s===n))return Jd(r);if(!r||!(s=an(s)))return r;var p=Bn(r),y=Bn(s),b=Qd(p,y),I=ef(p,y)+1;return Mr(p,b,I).join("")}function kx(r,s,c){if(r=Ye(r),r&&(c||s===n))return r.slice(0,nf(r)+1);if(!r||!(s=an(s)))return r;var p=Bn(r),y=ef(p,Bn(s))+1;return Mr(p,0,y).join("")}function Mx(r,s,c){if(r=Ye(r),r&&(c||s===n))return r.replace(ps,"");if(!r||!(s=an(s)))return r;var p=Bn(r),y=Qd(p,Bn(s));return Mr(p,y).join("")}function Ox(r,s){var c=W,p=Q;if(ct(s)){var y="separator"in s?s.separator:y;c="length"in s?Fe(s.length):c,p="omission"in s?an(s.omission):p}r=Ye(r);var b=r.length;if(Si(r)){var I=Bn(r);b=I.length}if(c>=b)return r;var B=c-Ai(p);if(B<1)return p;var O=I?Mr(I,0,B).join(""):r.slice(0,B);if(y===n)return O+p;if(I&&(B+=O.length-B),Hc(y)){if(r.slice(B).search(y)){var Y,X=O;for(y.global||(y=ic(y.source,Ye(Ao.exec(y))+"g")),y.lastIndex=0;Y=y.exec(X);)var ne=Y.index;O=O.slice(0,ne===n?B:ne)}}else if(r.indexOf(an(y),B)!=B){var ae=O.lastIndexOf(y);ae>-1&&(O=O.slice(0,ae))}return O+p}function zx(r){return r=Ye(r),r&&ar.test(r)?r.replace(wi,fy):r}var $x=ki(function(r,s,c){return r+(c?" ":"")+s.toUpperCase()}),Wc=Wf("toUpperCase");function Vh(r,s,c){return r=Ye(r),s=c?n:s,s===n?ay(r)?gy(r):Jm(r):r.match(s)||[]}var Uh=Re(function(r,s){try{return sn(r,n,s)}catch(c){return Lc(c)?c:new Ee(c)}}),Px=fr(function(r,s){return _n(s,function(c){c=Xn(c),lr(r,c,Pc(r[c],r))}),r});function jx(r){var s=r==null?0:r.length,c=ve();return r=s?at(r,function(p){if(typeof p[1]!="function")throw new Dn(u);return[c(p[0]),p[1]]}):[],Re(function(p){for(var y=-1;++y<s;){var b=r[y];if(sn(b[0],this,p))return sn(b[1],this,p)}})}function Lx(r){return f1(wn(r,g))}function Gc(r){return function(){return r}}function Hx(r,s){return r==null||r!==r?s:r}var Vx=Zf(),Ux=Zf(!0);function Jt(r){return r}function Zc(r){return bf(typeof r=="function"?r:wn(r,g))}function Wx(r){return Ef(wn(r,g))}function Gx(r,s){return Sf(r,wn(s,g))}var Zx=Re(function(r,s){return function(c){return Es(c,r,s)}}),qx=Re(function(r,s){return function(c){return Es(r,c,s)}});function qc(r,s,c){var p=bt(s),y=Xo(s,p);c==null&&!(ct(s)&&(y.length||!p.length))&&(c=s,s=r,r=this,y=Xo(s,bt(s)));var b=!(ct(c)&&"chain"in c)||!!c.chain,I=pr(r);return _n(y,function(B){var O=s[B];r[B]=O,I&&(r.prototype[B]=function(){var Y=this.__chain__;if(b||Y){var X=r(this.__wrapped__),ne=X.__actions__=Yt(this.__actions__);return ne.push({func:O,args:arguments,thisArg:r}),X.__chain__=Y,X}return O.apply(r,Fr([this.value()],arguments))})}),r}function Yx(){return It._===this&&(It._=xy),this}function Yc(){}function Xx(r){return r=Fe(r),Re(function(s){return Af(s,r)})}var Kx=Sc(at),Jx=Sc(Zd),Qx=Sc(Ku);function Wh(r){return Rc(r)?Ju(Xn(r)):F1(r)}function ew(r){return function(s){return r==null?n:ii(r,s)}}var tw=Yf(),nw=Yf(!0);function Xc(){return[]}function Kc(){return!1}function rw(){return{}}function iw(){return""}function sw(){return!0}function ow(r,s){if(r=Fe(r),r<1||r>ee)return[];var c=re,p=Mt(r,re);s=ve(s),r-=re;for(var y=tc(p,s);++c<r;)s(c);return y}function aw(r){return Se(r)?at(r,Xn):un(r)?[r]:Yt(dh(Ye(r)))}function uw(r){var s=++_y;return Ye(r)+s}var cw=na(function(r,s){return r+s},0),lw=Ac("ceil"),dw=na(function(r,s){return r/s},1),fw=Ac("floor");function hw(r){return r&&r.length?Yo(r,Jt,fc):n}function pw(r,s){return r&&r.length?Yo(r,ve(s,2),fc):n}function gw(r){return Xd(r,Jt)}function mw(r,s){return Xd(r,ve(s,2))}function yw(r){return r&&r.length?Yo(r,Jt,mc):n}function vw(r,s){return r&&r.length?Yo(r,ve(s,2),mc):n}var _w=na(function(r,s){return r*s},1),Dw=Ac("round"),xw=na(function(r,s){return r-s},0);function ww(r){return r&&r.length?ec(r,Jt):0}function bw(r,s){return r&&r.length?ec(r,ve(s,2)):0}return x.after=W_,x.ary=wh,x.assign=BD,x.assignIn=Oh,x.assignInWith=ga,x.assignWith=RD,x.at=kD,x.before=bh,x.bind=Pc,x.bindAll=Px,x.bindKey=Ch,x.castArray=rD,x.chain=_h,x.chunk=fv,x.compact=hv,x.concat=pv,x.cond=jx,x.conforms=Lx,x.constant=Gc,x.countBy=w_,x.create=MD,x.curry=Eh,x.curryRight=Sh,x.debounce=Ah,x.defaults=OD,x.defaultsDeep=zD,x.defer=G_,x.delay=Z_,x.difference=gv,x.differenceBy=mv,x.differenceWith=yv,x.drop=vv,x.dropRight=_v,x.dropRightWhile=Dv,x.dropWhile=xv,x.fill=wv,x.filter=C_,x.flatMap=A_,x.flatMapDeep=N_,x.flatMapDepth=F_,x.flatten=gh,x.flattenDeep=bv,x.flattenDepth=Cv,x.flip=q_,x.flow=Vx,x.flowRight=Ux,x.fromPairs=Ev,x.functions=UD,x.functionsIn=WD,x.groupBy=T_,x.initial=Av,x.intersection=Nv,x.intersectionBy=Fv,x.intersectionWith=Tv,x.invert=ZD,x.invertBy=qD,x.invokeMap=B_,x.iteratee=Zc,x.keyBy=R_,x.keys=bt,x.keysIn=Kt,x.map=ca,x.mapKeys=XD,x.mapValues=KD,x.matches=Wx,x.matchesProperty=Gx,x.memoize=da,x.merge=JD,x.mergeWith=zh,x.method=Zx,x.methodOf=qx,x.mixin=qc,x.negate=fa,x.nthArg=Xx,x.omit=QD,x.omitBy=ex,x.once=Y_,x.orderBy=k_,x.over=Kx,x.overArgs=X_,x.overEvery=Jx,x.overSome=Qx,x.partial=jc,x.partialRight=Nh,x.partition=M_,x.pick=tx,x.pickBy=$h,x.property=Wh,x.propertyOf=ew,x.pull=kv,x.pullAll=yh,x.pullAllBy=Mv,x.pullAllWith=Ov,x.pullAt=zv,x.range=tw,x.rangeRight=nw,x.rearg=K_,x.reject=$_,x.remove=$v,x.rest=J_,x.reverse=zc,x.sampleSize=j_,x.set=rx,x.setWith=ix,x.shuffle=L_,x.slice=Pv,x.sortBy=U_,x.sortedUniq=Gv,x.sortedUniqBy=Zv,x.split=Ax,x.spread=Q_,x.tail=qv,x.take=Yv,x.takeRight=Xv,x.takeRightWhile=Kv,x.takeWhile=Jv,x.tap=h_,x.throttle=eD,x.thru=ua,x.toArray=Rh,x.toPairs=Ph,x.toPairsIn=jh,x.toPath=aw,x.toPlainObject=Mh,x.transform=sx,x.unary=tD,x.union=Qv,x.unionBy=e_,x.unionWith=t_,x.uniq=n_,x.uniqBy=r_,x.uniqWith=i_,x.unset=ox,x.unzip=$c,x.unzipWith=vh,x.update=ax,x.updateWith=ux,x.values=zi,x.valuesIn=cx,x.without=s_,x.words=Vh,x.wrap=nD,x.xor=o_,x.xorBy=a_,x.xorWith=u_,x.zip=c_,x.zipObject=l_,x.zipObjectDeep=d_,x.zipWith=f_,x.entries=Ph,x.entriesIn=jh,x.extend=Oh,x.extendWith=ga,qc(x,x),x.add=cw,x.attempt=Uh,x.camelCase=hx,x.capitalize=Lh,x.ceil=lw,x.clamp=lx,x.clone=iD,x.cloneDeep=oD,x.cloneDeepWith=aD,x.cloneWith=sD,x.conformsTo=uD,x.deburr=Hh,x.defaultTo=Hx,x.divide=dw,x.endsWith=px,x.eq=kn,x.escape=gx,x.escapeRegExp=mx,x.every=b_,x.find=E_,x.findIndex=hh,x.findKey=$D,x.findLast=S_,x.findLastIndex=ph,x.findLastKey=PD,x.floor=fw,x.forEach=Dh,x.forEachRight=xh,x.forIn=jD,x.forInRight=LD,x.forOwn=HD,x.forOwnRight=VD,x.get=Vc,x.gt=cD,x.gte=lD,x.has=GD,x.hasIn=Uc,x.head=mh,x.identity=Jt,x.includes=I_,x.indexOf=Sv,x.inRange=dx,x.invoke=YD,x.isArguments=ai,x.isArray=Se,x.isArrayBuffer=dD,x.isArrayLike=Xt,x.isArrayLikeObject=pt,x.isBoolean=fD,x.isBuffer=Or,x.isDate=hD,x.isElement=pD,x.isEmpty=gD,x.isEqual=mD,x.isEqualWith=yD,x.isError=Lc,x.isFinite=vD,x.isFunction=pr,x.isInteger=Fh,x.isLength=ha,x.isMap=Th,x.isMatch=_D,x.isMatchWith=DD,x.isNaN=xD,x.isNative=wD,x.isNil=CD,x.isNull=bD,x.isNumber=Ih,x.isObject=ct,x.isObjectLike=dt,x.isPlainObject=Is,x.isRegExp=Hc,x.isSafeInteger=ED,x.isSet=Bh,x.isString=pa,x.isSymbol=un,x.isTypedArray=Oi,x.isUndefined=SD,x.isWeakMap=AD,x.isWeakSet=ND,x.join=Iv,x.kebabCase=yx,x.last=Cn,x.lastIndexOf=Bv,x.lowerCase=vx,x.lowerFirst=_x,x.lt=FD,x.lte=TD,x.max=hw,x.maxBy=pw,x.mean=gw,x.meanBy=mw,x.min=yw,x.minBy=vw,x.stubArray=Xc,x.stubFalse=Kc,x.stubObject=rw,x.stubString=iw,x.stubTrue=sw,x.multiply=_w,x.nth=Rv,x.noConflict=Yx,x.noop=Yc,x.now=la,x.pad=Dx,x.padEnd=xx,x.padStart=wx,x.parseInt=bx,x.random=fx,x.reduce=O_,x.reduceRight=z_,x.repeat=Cx,x.replace=Ex,x.result=nx,x.round=Dw,x.runInContext=R,x.sample=P_,x.size=H_,x.snakeCase=Sx,x.some=V_,x.sortedIndex=jv,x.sortedIndexBy=Lv,x.sortedIndexOf=Hv,x.sortedLastIndex=Vv,x.sortedLastIndexBy=Uv,x.sortedLastIndexOf=Wv,x.startCase=Nx,x.startsWith=Fx,x.subtract=xw,x.sum=ww,x.sumBy=bw,x.template=Tx,x.times=ow,x.toFinite=gr,x.toInteger=Fe,x.toLength=kh,x.toLower=Ix,x.toNumber=En,x.toSafeInteger=ID,x.toString=Ye,x.toUpper=Bx,x.trim=Rx,x.trimEnd=kx,x.trimStart=Mx,x.truncate=Ox,x.unescape=zx,x.uniqueId=uw,x.upperCase=$x,x.upperFirst=Wc,x.each=Dh,x.eachRight=xh,x.first=mh,qc(x,function(){var r={};return qn(x,function(s,c){Xe.call(x.prototype,c)||(r[c]=s)}),r}(),{chain:!1}),x.VERSION=i,_n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){x[r].placeholder=x}),_n(["drop","take"],function(r,s){Le.prototype[r]=function(c){c=c===n?1:xt(Fe(c),0);var p=this.__filtered__&&!s?new Le(this):this.clone();return p.__filtered__?p.__takeCount__=Mt(c,p.__takeCount__):p.__views__.push({size:Mt(c,re),type:r+(p.__dir__<0?"Right":"")}),p},Le.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),_n(["filter","map","takeWhile"],function(r,s){var c=s+1,p=c==N||c==z;Le.prototype[r]=function(y){var b=this.clone();return b.__iteratees__.push({iteratee:ve(y,3),type:c}),b.__filtered__=b.__filtered__||p,b}}),_n(["head","last"],function(r,s){var c="take"+(s?"Right":"");Le.prototype[r]=function(){return this[c](1).value()[0]}}),_n(["initial","tail"],function(r,s){var c="drop"+(s?"":"Right");Le.prototype[r]=function(){return this.__filtered__?new Le(this):this[c](1)}}),Le.prototype.compact=function(){return this.filter(Jt)},Le.prototype.find=function(r){return this.filter(r).head()},Le.prototype.findLast=function(r){return this.reverse().find(r)},Le.prototype.invokeMap=Re(function(r,s){return typeof r=="function"?new Le(this):this.map(function(c){return Es(c,r,s)})}),Le.prototype.reject=function(r){return this.filter(fa(ve(r)))},Le.prototype.slice=function(r,s){r=Fe(r);var c=this;return c.__filtered__&&(r>0||s<0)?new Le(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),s!==n&&(s=Fe(s),c=s<0?c.dropRight(-s):c.take(s-r)),c)},Le.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Le.prototype.toArray=function(){return this.take(re)},qn(Le.prototype,function(r,s){var c=/^(?:filter|find|map|reject)|While$/.test(s),p=/^(?:head|last)$/.test(s),y=x[p?"take"+(s=="last"?"Right":""):s],b=p||/^find/.test(s);y&&(x.prototype[s]=function(){var I=this.__wrapped__,B=p?[1]:arguments,O=I instanceof Le,Y=B[0],X=O||Se(I),ne=function(Pe){var Ue=y.apply(x,Fr([Pe],B));return p&&ae?Ue[0]:Ue};X&&c&&typeof Y=="function"&&Y.length!=1&&(O=X=!1);var ae=this.__chain__,he=!!this.__actions__.length,De=b&&!ae,Te=O&&!he;if(!b&&X){I=Te?I:new Le(this);var xe=r.apply(I,B);return xe.__actions__.push({func:ua,args:[ne],thisArg:n}),new xn(xe,ae)}return De&&Te?r.apply(this,B):(xe=this.thru(ne),De?p?xe.value()[0]:xe.value():xe)})}),_n(["pop","push","shift","sort","splice","unshift"],function(r){var s=ko[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",p=/^(?:pop|shift)$/.test(r);x.prototype[r]=function(){var y=arguments;if(p&&!this.__chain__){var b=this.value();return s.apply(Se(b)?b:[],y)}return this[c](function(I){return s.apply(Se(I)?I:[],y)})}}),qn(Le.prototype,function(r,s){var c=x[s];if(c){var p=c.name+"";Xe.call(Ii,p)||(Ii[p]=[]),Ii[p].push({name:s,func:c})}}),Ii[ta(n,_).name]=[{name:"wrapper",func:n}],Le.prototype.clone=zy,Le.prototype.reverse=$y,Le.prototype.value=Py,x.prototype.at=p_,x.prototype.chain=g_,x.prototype.commit=m_,x.prototype.next=y_,x.prototype.plant=__,x.prototype.reverse=D_,x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=x_,x.prototype.first=x.prototype.head,vs&&(x.prototype[vs]=v_),x},Ni=my();Qr?((Qr.exports=Ni)._=Ni,Zu._=Ni):It._=Ni}).call(Bs)})(Xa,Xa.exports);var XA=Xa.exports;const _t=Cw(XA),KA=navigator.platform.includes("Mac"),jp={Ctrl:"",Backspace:"",Alt:""},Oa={shortcut:e=>KA?Object.keys(jp).reduce((t,n)=>t.replaceAll(n,jp[n]),e):e},Lp={},Ka=(e,t)=>{const[n,i]=S.useState(()=>Lp?.[e]??t);return S.useEffect(()=>{Lp[e]=n},[n]),[n,i]};function Hp(e,t=0){const n=performance.now(),i={};function o(){i.id=requestAnimationFrame(a=>{a-n>t?e():o()})}return o(),i}function Vp(e){e.id&&cancelAnimationFrame(e.id)}function JA(e,t){const[n,i]=S.useState(e?"enter":"from"),o=S.useRef({}),[a,u]=S.useState(e);return S.useEffect(function(){return Vp(o.current),e?(i("from"),u(!0),Hp(()=>{i("enter")})):(i("leave"),o.current=Hp(()=>{u(!1)},t)),()=>{Vp(o.current)}},[e,t]),{stage:n,shouldMount:a}}function QA({state:e,timeout:t,children:n}){const{stage:i,shouldMount:o}=JA(e,t);return n(i,o)}const Ol=({className:e,...t})=>E.jsx("div",{className:Ge("grl-dn__graphCard",e),...t});Ol.__docgenInfo={description:"",methods:[],displayName:"GraphCard"};var xi=(e=>(e.Blue="var(--node-color-blue)",e.Purple="var(--node-color-purple)",e.Orange="var(--node-color-orange)",e.Green="var(--node-color-green)",e))(xi||{});const _d=({icon:e,name:t,children:n,actions:i=[],disabled:o=!1,isSelected:a=!1,noBodyPadding:u=!1,color:l="primary",onNameChange:d,menuItems:f=[],status:h,diffStatus:g,compactMode:m,listMode:D,helper:C,details:v,detailsOpen:w=!1,detailsTitle:_="Details",onDetailsClose:T})=>{const[A,F]=S.useState(!1),M=S.useRef(null);S.useEffect(()=>{M.current&&A&&(M.current.value=t,M.current.focus(),M.current.select())},[A]);const P=je(l).with("primary",()=>xi.Blue).otherwise(H=>H);return E.jsxs("div",{className:Ge("grl-dn",m&&"grl-dn--compact",D&&"grl-dn--list",!g&&a&&"grl-dn--selected",h&&`grl-dn--${h}`,g&&`grl-dn--diff-${g}`),style:{"--node-color":P},onKeyDown:H=>H.stopPropagation(),children:[E.jsxs(Ol,{children:[E.jsxs("div",{className:"grl-dn__status-bar",children:[Array.isArray(C)&&C.filter(H=>!!H).map((H,q)=>E.jsx("div",{className:Ge("grl-dn__status-icon"),children:H},q)),h==="error"&&E.jsx("div",{className:Ge("grl-dn__status-icon",`grl-dn__status-icon--${h}`),children:E.jsx(gi,{})}),E.jsx(a0,{status:g,style:{fontSize:16}})]}),E.jsxs("div",{className:Ge("grl-dn__header",m&&"compact"),children:[E.jsx("div",{className:Ge("grl-dn__header__icon",m&&"compact"),children:e}),E.jsxs("div",{className:"grl-dn__header__text",children:[!A&&E.jsx(wt.Text,{className:Ge("grl-dn__header__text__name"),onClick:()=>{o||F(!0)},children:t}),A&&E.jsx("input",{ref:M,className:Ge("grl-dn__header__text__name-input","nodrag"),onBlur:H=>{H.target.value?.trim?.()?.length>0&&d?.(M?.current?.value),H.preventDefault(),F(!1)},onKeyDown:H=>{H.key==="Enter"?(H.currentTarget.blur(),H.preventDefault()):H.key==="Escape"&&(M.current&&(M.current.value=t),F(!1),H.preventDefault())}})]}),f.length>0&&E.jsx("div",{className:Ge("grl-dn__header__actions","nodrag"),children:E.jsx(Xs,{trigger:["click"],overlayStyle:{minWidth:250},menu:{items:f},children:E.jsx(et,{type:"text",size:"small",icon:E.jsx(qw,{})})})})]}),n&&E.jsx("div",{className:Ge("grl-dn__body",i.length===0&&"grl-dn__body--no-footer",u&&"grl-dn__body--no-padding"),children:n}),i.length>0&&E.jsx("div",{className:Ge("grl-dn__footer","nodrag"),children:E.jsx("div",{className:"grl-dn__footer__actions",children:i})})]}),E.jsx(QA,{state:w,timeout:100,children:(H,q)=>q&&E.jsx(Ol,{className:"nodrag",style:{transition:"0.1s ease-in-out",transform:H==="enter"?"translateY(0)":"translateY(-10px)",opacity:H==="enter"?1:0},children:E.jsxs("div",{className:"grl-dn__details",children:[E.jsxs("div",{className:"grl-dn__details__header",children:[E.jsx(wt.Text,{className:"grl-dn__details__header__text",children:_}),E.jsx(et,{type:"text",size:"small",className:"grl-dn__details__header__close",icon:E.jsx(gi,{style:{fontSize:8}}),onClick:T})]}),E.jsx("div",{className:"grl-dn__details__body",children:v})]})})})]})};_d.__docgenInfo={description:"",methods:[],displayName:"DecisionNode",props:{name:{required:!1,tsType:{name:"string"},description:""},icon:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},type:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},helper:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(React.ReactNode | false)[]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSelected:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},description:"",defaultValue:{value:"[]",computed:!1}},status:{required:!1,tsType:{name:"union",raw:"'error' | 'success' | 'warning'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'warning'"}]},description:""},diffStatus:{required:!1,tsType:{name:"union",raw:"'removed' | 'added' | 'modified' | 'moved'",elements:[{name:"literal",value:"'removed'"},{name:"literal",value:"'added'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'moved'"}]},description:""},noBodyPadding:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},color:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | string",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"string"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},menuItems:{required:!1,tsType:{name:"MenuProps['items']",raw:"MenuProps['items']"},description:"",defaultValue:{value:"[]",computed:!1}},onNameChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(name: string) => void",signature:{arguments:[{type:{name:"string"},name:"name"}],return:{name:"void"}}},description:""},compactMode:{required:!1,tsType:{name:"boolean"},description:""},listMode:{required:!1,tsType:{name:"boolean"},description:""},details:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},detailsOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},detailsTitle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Details'",computed:!1}},onDetailsClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Xr=j.forwardRef(({id:e,handleLeft:t=!0,handleRight:n=!0,className:i,specification:o,name:a,displayError:u,helper:l,actions:d,...f},h)=>{const[g,m]=Ka(`node:details:${e}`,0),[D,C]=Ka(`node:detailsOpen:${e}`,!1),v=Et(),{nodeError:w,nodeTrace:_,disabled:T,compactMode:A}=st(({simulate:H,disabled:q,compactMode:k})=>({disabled:q,nodeTrace:je(H).with({result:ze._},({result:W})=>W?.trace?.[e]).otherwise(()=>null),nodeError:je(H).with({error:{data:{nodeId:e}}},({error:W})=>W).otherwise(()=>null),compactMode:k})),{diff:F}=pu(e),M=o.renderSettings,P=[o.documentationUrl?{key:"documentation",label:E.jsx(Ps,{left:"Documentation",right:E.jsx(S0,{})}),onClick:()=>window.open(o.documentationUrl,"_href")}:null,o.documentationUrl?{key:"divider-1",type:"divider"}:null,!u&&{key:"copy-clipboard",label:E.jsx(Ps,{left:"Copy to clipboard",right:Oa.shortcut("Ctrl + C")}),onClick:()=>{}},!u&&{key:"duplicate",disabled:T,label:E.jsx(Ps,{left:"Duplicate",right:Oa.shortcut("Ctrl + D")}),onClick:()=>v.duplicateNodes([e])},!u&&{key:"divider-2",type:"divider"},{key:"delete",danger:!0,label:E.jsx(Ps,{left:"Delete",right:Oa.shortcut("Backspace")}),disabled:T,onClick:()=>Zl.confirm({icon:null,title:"Delete node",content:E.jsxs(wt.Text,{children:["Are you sure you want to delete ",E.jsx(wt.Text,{strong:!0,children:a})," node."]}),okButtonProps:{danger:!0},onOk:()=>v.removeNodes([e])})}].filter(H=>H!==!1);return E.jsxs("div",{className:Ge("grl-graph-node",i),style:{minWidth:220,maxWidth:220},ref:h,onClick:H=>{const q=je(navigator.platform.includes("Mac")).with(!0,()=>H.metaKey).otherwise(()=>H.ctrlKey);v.triggerNodeSelect(e,q?"toggle":"only")},children:[t&&E.jsx(Wr,{className:Ge("grl-graph-node__handle-left",A&&"compact"),type:"target",position:pe.Left,...typeof t!="boolean"?t:{}}),E.jsx(_d,{menuItems:P,...f,disabled:T,icon:o.icon,color:o.color,type:o.displayName,helper:l,name:a,details:M?E.jsx(M,{id:e}):void 0,detailsOpen:D,detailsTitle:je(g).with(0,()=>"Settings").otherwise(()=>{}),onDetailsClose:()=>C(!1),actions:M?[...d??[],E.jsx(et,{type:"text",style:{marginLeft:"auto"},onClick:()=>{C(g===0?!D:!0),m(0)},children:"Settings"},"settings")]:d,status:je([_,w,u]).with([ze._,ze._,!0],()=>"error").with([ze._,ze.not(ze.nullish),ze._],()=>"error").with([ze.not(ze.nullish),ze._,ze._],()=>"success").otherwise(()=>{}),diffStatus:je([F]).with([{status:"added"}],()=>"added").with([{status:"modified"}],()=>"modified").with([{status:"removed"}],()=>"removed").with([{status:"moved"}],()=>"moved").otherwise(()=>{}),onNameChange:H=>{v.updateNode(e,q=>(q.name=H,q))},compactMode:A}),n&&E.jsx(Wr,{className:Ge("grl-graph-node__handle-right",A&&"compact"),type:"source",position:pe.Right,...typeof n!="boolean"?n:{}})]})});Xr.__docgenInfo={description:"",methods:[],displayName:"GraphNode",props:{handleLeft:{defaultValue:{value:"true",computed:!1},required:!1},handleRight:{defaultValue:{value:"true",computed:!1},required:!1}}};var Kg=(e=>(e.Output="Output",e.Input="Input",e.Trace="Trace",e))(Kg||{});const e8="Your business context that enters through the Request node, starting the decision process. Supply JSON or JSON5 format.",t8=({defaultRequest:e,onChange:t,onRun:n,onClear:i,loading:o=!1})=>{const[a,u]=S.useState(e),[l,d]=Ka("simulation.search",""),[f,h]=Ka("simulation.segment","Output"),{stateStore:g,actions:m}=cs(),{nodeTypes:D,simulate:C,hasInputNode:v}=st(({decisionGraph:A,simulate:F})=>({simulate:F,hasInputNode:A.nodes.some(M=>M.type===Ze.Input),nodeTypes:(A.nodes??[]).reduce((M,P)=>({...M,[P.id]:P.type}),{})})),[w,_]=S.useState("graph");S.useEffect(()=>{if(!Zs())return;const{decisionGraph:A}=g.getState(),F=A.nodes.find(M=>M.type==="inputNode");if(F)try{const M=a?Ls.parse(a):"Any";m.setNodeType(F.id,Qe.InferredOutput,new dn(M))}catch{}},[a]);const T=S.useMemo(()=>C?"result"in C?Object.entries(C.result?.trace??{}).map(([A,F])=>({...F,nodeId:A})).filter(A=>![Ze.Input,Ze.Output].includes(D?.[A.nodeId])).filter(A=>A.name.toLowerCase().includes(l?.toLowerCase()??"")).sort((A,F)=>(A.order??0)-(F.order??0)):[]:[],[C,l]);return E.jsxs(f2,{className:"grl-dg__simulator",direction:"horizontal",autoSaveId:"jdm-editor:simulator:layout",children:[E.jsxs(Qc,{minSize:20,defaultSize:30,className:"grl-dg__simulator__section grl-dg__simulator__request",children:[E.jsxs("div",{className:"grl-dg__simulator__section__bar grl-dg__simulator__section__bar--request",children:[E.jsx(Qn,{title:e8,children:E.jsxs(wt.Text,{style:{fontSize:13,cursor:"help"},children:["Request",E.jsx(Ab,{style:{fontSize:10,marginLeft:4,opacity:.5,verticalAlign:"text-top"}})]})}),E.jsxs("div",{className:"grl-dg__simulator__section__bar__actions",children:[E.jsx(Qn,{title:"Copy JSON to Clipboard",children:E.jsx(et,{type:"text",size:"small",icon:E.jsx(c2,{}),onClick:async()=>{try{await pl(JSON.stringify(Ls.parse(a??""))),Rt.success("Copied to clipboard!")}catch{Rt.error("Failed to copy to clipboard.")}}})}),E.jsx(Qn,{title:"Format JSON",children:E.jsx(et,{size:"small",type:"text",icon:E.jsx(h2,{}),onClick:()=>{if((a||"").trim().length!==0)try{const A=JSON.stringify(Ls.parse(a||""),null,2);t?.(A),u(A)}catch{ml.error({message:"Invalid format",description:"Unable to format request, invalid JSON format",placement:"top"})}}})}),n&&E.jsx(Qn,{title:v?void 0:"Request node is required to run the graph. Drag-and-drop it from the Components panel.",children:E.jsx(et,{size:"small",type:"primary",loading:o,icon:E.jsx(Pb,{}),disabled:!v,onClick:()=>{try{const A=(a||"").trim().length===0?null:Ls.parse(a||"");n?.({graph:g.getState().decisionGraph,context:A})}catch{ml.error({message:"Invalid format",description:"Unable to format request, invalid JSON format",placement:"top"})}},children:"Run"})})]})]}),E.jsx("div",{className:"grl-dg__simulator__section__content",children:E.jsx(Wp,{value:a,onChange:A=>{u(A),t?.(A??"")}})})]}),E.jsx(Zh,{}),E.jsxs(Qc,{minSize:20,maxSize:20,className:"grl-dg__simulator__section grl-dg__simulator__nodes",children:[E.jsxs("div",{className:"grl-dg__simulator__section__bar grl-dg__simulator__section__bar--nodes",children:[E.jsx("input",{className:"grl-dg__simulator__search",type:"text",placeholder:"Search nodes...",value:l,onChange:A=>d(A.target.value)}),E.jsx("div",{className:"grl-dg__simulator__section__bar__actions",children:i&&E.jsx(Qn,{title:"Clear",children:E.jsx(et,{size:"small",type:"text",icon:E.jsx(cb,{}),onClick:()=>{i?.(),_("graph"),d("")}})})})]}),E.jsx("div",{className:"grl-dg__simulator__section__content",children:E.jsx(Yl,{spinning:o,children:E.jsxs("div",{className:"grl-dg__simulator__nodes-list",children:[!C&&E.jsxs(wt.Text,{type:"secondary",style:{textAlign:"center",marginTop:60,fontSize:13},children:["Ready to simulate!",E.jsx("br",{}),"Run a request to see the node trace in action.",E.jsx("br",{}),E.jsx(wt.Link,{href:"https://docs.gorules.io/docs/simulator",target:"_blank",style:{fontSize:13,marginTop:4,display:"inline-block"},children:"Learn more"})]}),"graph".includes(l?.toLowerCase()??"")&&C&&E.jsxs("div",{className:Ge("grl-dg__simulator__nodes-list__node",w==="graph"&&"active"),onClick:()=>_("graph"),children:[E.jsxs(wt.Text,{"data-role":"name",ellipsis:!0,children:[E.jsx(zl,{status:je(C).with({error:ze.nonNullable},()=>"error").with({result:ze.nonNullable},()=>"success").otherwise(()=>"not-run")}),"Graph"]}),E.jsx(wt.Text,{type:"secondary","data-role":"performance",children:je(C).with({result:ze._},({result:A})=>A?.performance).otherwise(()=>{})})]}),T.map(A=>E.jsxs("div",{className:Ge("grl-dg__simulator__nodes-list__node",A.nodeId===w&&"active"),onClick:()=>_(A.nodeId),children:[E.jsxs(wt.Text,{"data-role":"name",ellipsis:{tooltip:A.name},children:[E.jsx(zl,{status:A.nodeId===C?.error?.data?.nodeId?"error":"success"}),A.name]}),E.jsx(wt.Text,{type:"secondary","data-role":"performance",children:A.performance})]},A.nodeId))]})})})]}),E.jsx(Zh,{}),E.jsxs(Qc,{minSize:30,defaultSize:50,className:"grl-dg__simulator__section grl-dg__simulator__response",children:[E.jsx("div",{className:"grl-dg__simulator__section__bar grl-dg__simulator__section__bar--response",children:E.jsx(p0,{rootClassName:"grl-inline-tabs",size:"small",style:{width:"100%"},onChange:A=>h(A),items:Object.values(Kg).map(A=>({key:A,label:A})),tabBarExtraContent:E.jsx(Qn,{title:"Close panel",children:E.jsx(et,{type:"text",icon:E.jsx(gi,{style:{fontSize:12}}),onClick:()=>m.setActivePanel(void 0)})})})}),E.jsx("div",{className:"grl-dg__simulator__section__content",children:E.jsx(Wp,{readOnly:!0,value:je(C).with({result:ze._},({result:A})=>je(w).with("graph",()=>Up({traceData:A?.trace,output:A?.result},f??"Output")).otherwise(()=>Up(A?.trace[w],f??"Output"))).otherwise(()=>"")})})]})]})},Up=(e,t)=>{const n=je([t,e]).with(["Output",{output:ze._}],([,{output:i}])=>i).with(["Input",{input:ze._}],([,{input:i}])=>i).with(["Trace",{trace:ze._}],([,{trace:i}])=>i).with(["Trace",{traceData:ze._}],([,{traceData:i}])=>i).otherwise(()=>({}));return Ls.stringify(n,void 0,2)},Wp=({value:e,onChange:t,readOnly:n})=>{const{token:i}=Ww.useToken();return E.jsx(p2,{loading:E.jsx(Yl,{size:"large"}),language:"javascript",value:e,onChange:t,theme:i.mode==="dark"?"vs-dark":"light",height:"100%",onMount:(o,a)=>{a.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSyntaxValidation:!0}),a.languages.typescript.javascriptDefaults.setModeConfiguration({codeActions:!1,inlayHints:!1})},options:{readOnly:n,automaticLayout:!0,contextmenu:!1,minimap:{enabled:!1},fontSize:12,fontFamily:"var(--mono-font-family)",tabSize:2,lineDecorationsWidth:2,find:{addExtraSpaceOnTop:!1,seedSearchStringFromSelection:"never"},scrollbar:{verticalSliderSize:4,verticalScrollbarSize:4,horizontalScrollbarSize:4,horizontalSliderSize:4},lineNumbersMinChars:3}})},zl=({status:e})=>e==="not-run"?null:e==="success"?E.jsx(ob,{twoToneColor:["var(--grl-color-success)","var(--grl-color-success-bg)"],style:{marginRight:6,fontSize:12,opacity:.5}}):E.jsx(fb,{twoToneColor:["var(--grl-color-error)","var(--grl-color-error-bg)"],style:{marginRight:5,fontSize:12}});t8.__docgenInfo={description:"",methods:[],displayName:"GraphSimulator",props:{defaultRequest:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(val: string) => void",signature:{arguments:[{type:{name:"string"},name:"val"}],return:{name:"void"}}},description:""},onRun:{required:!1,tsType:{name:"signature",type:"function",raw:"(payload: { graph: DecisionGraphType; context: unknown }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ graph: DecisionGraphType; context: unknown }",signature:{properties:[{key:"graph",value:{name:"signature",type:"object",raw:`{
  nodes: DecisionNode[];
  edges: DecisionEdge[];
  settings?: DecisionSettings;
}`,signature:{properties:[{key:"nodes",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  name: string;
  description?: string;
  type?: NodeSchema['type'] | string;
  content?: T;
  position: Position;
  [privateSymbol]?: {
    dimensions?: { height?: number; width?: number };
    selected?: boolean;
  };
  _diff?: {
    status: DiffStatus;
    fields?: Record<string, DiffMetadata>;
  };
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"description",value:{name:"string",required:!1}},{key:"type",value:{name:"union",raw:"NodeSchema['type'] | string",elements:[{name:"z.infer['type']",raw:"NodeSchema['type']"},{name:"string"}],required:!1}},{key:"content",value:{name:"T",required:!1}},{key:"position",value:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]},required:!0}},{key:"@computed#privateSymbol",value:{name:"signature",type:"object",raw:`{
  dimensions?: { height?: number; width?: number };
  selected?: boolean;
}`,signature:{properties:[{key:"dimensions",value:{name:"signature",type:"object",raw:"{ height?: number; width?: number }",signature:{properties:[{key:"height",value:{name:"number",required:!1}},{key:"width",value:{name:"number",required:!1}}]},required:!1}},{key:"selected",value:{name:"boolean",required:!1}}]},required:!1}},{key:"_diff",value:{name:"signature",type:"object",raw:`{
  status: DiffStatus;
  fields?: Record<string, DiffMetadata>;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}},{key:"fields",value:{name:"Record",elements:[{name:"string"},{name:"signature",type:"object",raw:`{
  status?: DiffStatus;
  previousValue?: T;
  previousIndex?: number;
  currentIndex?: number;
  fields?: Record<string, DiffMetadata>;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}},{key:"previousValue",value:{name:"T",required:!1}},{key:"previousIndex",value:{name:"number",required:!1}},{key:"currentIndex",value:{name:"number",required:!1}},{key:"fields",value:{name:"Record",elements:[{name:"string"},{name:"DiffMetadata"}],raw:"Record<string, DiffMetadata>",required:!1}}]},required:!1}],raw:"Record<string, DiffMetadata>",required:!1}}]},required:!1}}]}}],raw:"DecisionNode[]",required:!0}},{key:"edges",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  name?: string;
  sourceId: string;
  targetId: string;
  sourceHandle?: string | null;
  targetHandle?: string | null;
  type?: string;
  _diff?: {
    status: DiffStatus;
  };
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!1}},{key:"sourceId",value:{name:"string",required:!0}},{key:"targetId",value:{name:"string",required:!0}},{key:"sourceHandle",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"targetHandle",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"type",value:{name:"string",required:!1}},{key:"_diff",value:{name:"signature",type:"object",raw:`{
  status: DiffStatus;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}}]},required:!1}}]}}],raw:"DecisionEdge[]",required:!0}},{key:"settings",value:{name:"intersection",raw:"z.infer<typeof decisionModelSchema>['settings'] & Diff",elements:[{name:"z.infer['settings']",raw:"z.infer<typeof decisionModelSchema>['settings']"},{name:"signature",type:"object",raw:`{
  _diff?: DiffMetadata<T>;
}`,signature:{properties:[{key:"_diff",value:{name:"signature",type:"object",raw:`{
  status?: DiffStatus;
  previousValue?: T;
  previousIndex?: number;
  currentIndex?: number;
  fields?: Record<string, DiffMetadata>;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}},{key:"previousValue",value:{name:"T",required:!1}},{key:"previousIndex",value:{name:"number",required:!1}},{key:"currentIndex",value:{name:"number",required:!1}},{key:"fields",value:{name:"Record",elements:[{name:"string"},{name:"DiffMetadata"}],raw:"Record<string, DiffMetadata>",required:!1}}]},required:!1}}]}}],required:!1}}]},required:!0}},{key:"context",value:{name:"unknown",required:!0}}]}},name:"payload"}],return:{name:"void"}}},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};zl.__docgenInfo={description:"",methods:[],displayName:"StatusIcon",props:{status:{required:!0,tsType:{name:"union",raw:"'success' | 'error' | 'not-run'",elements:[{name:"literal",value:"'success'"},{name:"literal",value:"'error'"},{name:"literal",value:"'not-run'"}]},description:""}}};const n8=(e,t)=>e[t]?.[Qe.Input]??e[t]?.[Qe.InferredInput]??dn.fromJson({Object:{}}),as=(e,{attachGlobals:t=!0,disabled:n=!1}={})=>{const i=st(({nodeTypes:o,globalType:a})=>{if(!(!Zs()||n))return{nodeTypes:o,globalType:a}});return S.useMemo(()=>{if(!i?.nodeTypes)return;const o=n8(i.nodeTypes,e);return t&&Object.entries(i?.globalType??{}).forEach(([a,u])=>o.set(a,u)),o},[i?.globalType,i?.nodeTypes,t])},Jg=({id:e,manager:t})=>{const n=Et(),i=as(e,{attachGlobals:!1}),{nodeTrace:o,disabled:a,configurable:u,content:l,globalType:d}=st(({simulate:g,disabled:m,configurable:D,decisionGraph:C,globalType:v})=>({nodeTrace:je(g).with({result:ze._},({result:w})=>w?.trace?.[e]).otherwise(()=>null),disabled:m,configurable:D,content:(C?.nodes??[]).find(w=>w.id===e)?.content,globalType:v})),f=o?.traceData!==void 0?Array.isArray(o?.traceData)?o?.traceData?.map(g=>g?.rule?._id):[o?.traceData?.rule?._id]:[],h=S.useMemo(()=>{if(!i)return;const g=je(l?.inputField).with(ze.string,D=>i.get(D)).otherwise(()=>i),m=l?.executionMode==="loop"?g.arrayItem():g;return Object.entries(d).forEach(([D,C])=>m.set(D,C)),m},[i,d,l?.inputField,l?.executionMode]);return E.jsx(Yw,{tableHeight:"100%",value:l,onChange:g=>{n.updateNode(e,m=>(Object.assign(m.content,g),m))},manager:t,disabled:a,configurable:u,inputData:h,activeRules:(f||[]).filter(g=>!!g)})};Jg.__docgenInfo={description:"",methods:[],displayName:"TabDecisionTable",props:{id:{required:!0,tsType:{name:"string"},description:""},manager:{required:!1,tsType:{name:"DragDropManager"},description:""}}};const Dd={type:Ze.DecisionTable,icon:E.jsx(Ub,{}),displayName:"Decision table",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/decision-tables",shortDescription:"Rules spreadsheet",renderTab:({id:e,manager:t})=>E.jsx(Jg,{id:e,manager:t}),getDiffContent:(e,t)=>ft(e,n=>{const i={};(e.executionMode??"single")!==(t.executionMode??"single")&&_t.set(i,"executionMode",{status:"modified",previousValue:t.executionMode}),(e.hitPolicy??"first")!==(t.hitPolicy??"first")&&_t.set(i,"hitPolicy",{status:"modified",previousValue:t.hitPolicy}),(e.inputField??"")!==(t.inputField??"")&&_t.set(i,"inputField",{status:"modified",previousValue:t.inputField}),(e.outputPath??"")!==(t.outputPath??"")&&_t.set(i,"outputPath",{status:"modified",previousValue:t.outputPath}),(e.passThrough??!1)!==(t.passThrough??!1)&&_t.set(i,"passThrough",{status:"modified",previousValue:t.passThrough});const o=Ys(e?.inputs||[],t?.inputs||[],{compareFields:(l,d)=>{const f=(l.name??"")!==(d.name??""),h=(l.field??"")!==(d.field??""),g=(l.defaultValue??"")!==(d.defaultValue??"");return{hasChanges:f||h||g,fields:{...f&&{name:{status:"modified",previousValue:d.name}},...h&&{field:{status:"modified",previousValue:d.field}},...g&&{defaultValue:{status:"modified",previousValue:d.defaultValue}}}}}}),a=Ys(e?.outputs||[],t?.outputs||[],{compareFields:(l,d)=>{const f=(l.name??"")!==(d.name??""),h=(l.field??"")!==(d.field??""),g=(l.defaultValue??"")!==(d.defaultValue??"");return{hasChanges:f||h||g,fields:{...f&&{name:{status:"modified",previousValue:d.name}},...h&&{field:{status:"modified",previousValue:d.field}},...g&&{defaultValue:{status:"modified",previousValue:d.defaultValue}}}}}}),u=Ys(e?.rules||[],t?.rules||[],{idField:"_id",compareFields:(l,d)=>{const f=(l._description??"")!==(d._description??""),h={};o.forEach(m=>{m._diff?.status==="added"?h[m.id]={status:"added"}:m._diff?.status==="removed"?h[m.id]={status:"removed"}:(l?.[m.id]??"")!==(d?.[m.id]??"")&&(h[m.id]={status:"modified",previousValue:d?.[m.id]})});const g={};return a.forEach(m=>{m?._diff?.status==="added"?g[m.id]={status:"added"}:m?._diff?.status==="removed"?g[m.id]={status:"removed"}:(l?.[m.id]??"")!==(d?.[m.id]??"")&&(g[m.id]={status:"modified",previousValue:d?.[m.id]})}),{hasChanges:f||Object.keys(h).length>0||Object.keys(g).length>0,fields:{...f&&{_description:{status:"modified",previousValue:d._description}},...h,...g}}}});return n.inputs=o,n.outputs=a,n.rules=u,o.find(l=>l?._diff?.status==="modified"||l?._diff?.status==="added"||l?._diff?.status==="removed")&&_t.set(i,"inputs",{status:"modified"}),a.find(l=>l?._diff?.status==="modified"||l?._diff?.status==="added"||l?._diff?.status==="removed")&&_t.set(i,"outputs",{status:"modified"}),u.find(l=>l?._diff?.status==="modified"||l?._diff?.status==="added"||l?._diff?.status==="removed")&&_t.set(i,"rules",{status:"modified"}),Object.keys(i).length>0&&(n._diff={status:"modified",fields:i}),n}),inferTypes:{needsUpdate:(e,t)=>!fn(e,t),determineOutputType:({content:e,input:t})=>{let n=t.clone(),i=dn.fromJson({Object:{}});if(e.inputField&&(n=t.calculateType(e.inputField)),e.executionMode==="loop"&&(n=n.arrayItem()),(e?.outputs||[]).filter(a=>!!a.field).forEach(a=>{for(const u of e.rules){if(!u[a.id])continue;const l=n.calculateType(u[a.id]),d=l.toJson();if(d!=="Any"&&d!=="Null"){i.set(a.field,l);return}}i.setJson(a.field,"Any")}),e.hitPolicy==="collect"&&(i=i.toArray()),e.executionMode==="loop"&&(i=i.toArray()),e.outputPath){const a=dn.fromJson({Object:{}});a.set(e.outputPath,i),i=a}return e.passThrough&&(i=t.merge(i)),i}},generateNode:({index:e})=>({name:`decisionTable${e}`,content:{hitPolicy:"first",inputs:[{id:crypto.randomUUID(),name:"Input"}],outputs:[{id:crypto.randomUUID(),field:"output",name:"Output"}],rules:[],inputField:null,outputPath:null,passThrough:!0,executionMode:"single"}}),renderNode:({id:e,data:t,selected:n,specification:i})=>{const o=Et(),{passThrough:a,executionMode:u}=st(({decisionGraph:l})=>{const d=(l?.nodes??[]).find(f=>f.id===e)?.content;return{passThrough:d?.passThrough||!1,executionMode:d?.executionMode}});return E.jsx(Xr,{id:e,specification:i,name:t.name,isSelected:n,helper:[u==="loop"&&E.jsx(A0,{}),a&&E.jsx(ql,{})],actions:[E.jsx(et,{type:"text",onClick:()=>o.openTab(e),children:"Edit Table"},"edit-table")]})},renderSettings:({id:e})=>{const t=Et(),n=as(e),{contentDiff:i}=pu(e),{fields:o,disabled:a}=st(({decisionGraph:l,disabled:d})=>{const f=(l?.nodes??[]).find(h=>h.id===e)?.content;return{disabled:d,fields:{passThrough:f?.passThrough||!1,inputField:f?.inputField,outputPath:f?.outputPath,executionMode:f?.executionMode||"single",hitPolicy:f?.hitPolicy||"first"}}}),u=l=>{t.updateNode(e,d=>(Object.assign(d.content,l),d))};return E.jsxs("div",{className:"settings-form",children:[E.jsx(Dr.Item,{label:"Hit Policy",children:E.jsx(o2,{direction:"vertical",size:2,children:E.jsx(hl,{size:"small",previousValue:i?.fields?.hitPolicy?.previousValue,displayDiff:i?.fields?.hitPolicy?.status==="modified",disabled:a,value:o?.hitPolicy,onChange:l=>u({hitPolicy:l?.target?.value}),options:[{value:"first",label:"First"},{value:"collect",label:"Collect"}]})})}),E.jsx(Dr.Item,{label:"Passthrough",children:E.jsx(h0,{disabled:a,size:"small",displayDiff:i?.fields?.passThrough?.status==="modified",checked:o?.passThrough,previousChecked:i?.fields?.passThrough?.previousValue,onChange:l=>u({passThrough:l})})}),E.jsx(Dr.Item,{label:"Input field",children:E.jsx(su,{variableType:n,disabled:a,displayDiff:i?.fields?.inputField?.status==="modified",previousValue:i?.fields?.inputField?.previousValue,style:{fontSize:12,lineHeight:"20px",width:"100%"},expectedVariableType:o?.executionMode==="loop"?{Array:"Any"}:void 0,maxRows:4,value:o?.inputField??"",onChange:l=>u({inputField:l?.trim()||null})})}),E.jsx(Dr.Item,{label:"Output path",children:E.jsx(u0,{size:"small",readOnly:a,displayDiff:i?.fields?.outputPath?.status==="modified",previousValue:i?.fields?.outputPath?.previousValue,value:o?.outputPath??"",onChange:l=>u({outputPath:l?.target?.value?.trim()||null})})}),E.jsx(Dr.Item,{label:"Execution mode",children:E.jsx(hl,{size:"small",disabled:a,displayDiff:i?.fields?.executionMode?.status==="modified",previousValue:i?.fields?.executionMode?.previousValue,value:o?.executionMode,onChange:l=>u({executionMode:l?.target?.value}),options:[{value:"single",label:"Single"},{value:"loop",label:"Loop"}]})})]})}},Qg=({id:e,manager:t})=>{const n=Et(),i=as(e,{attachGlobals:!1}),{disabled:o,configurable:a,content:u,trace:l,globalType:d}=st(({disabled:h,configurable:g,decisionGraph:m,simulate:D,globalType:C})=>({disabled:h,configurable:g,content:(m?.nodes??[]).find(v=>v.id===e)?.content,trace:D&&"result"in D?D.result?.trace[e]:void 0,globalType:C})),f=S.useMemo(()=>{if(!i)return;const h=je(u?.inputField).with(ze.string,m=>i.get(m)).otherwise(()=>i),g=u?.executionMode==="loop"?h.arrayItem():h;return Object.entries(d).forEach(([m,D])=>g.set(m,D)),g},[i,d,u?.inputField,u?.executionMode]);return E.jsx("div",{style:{height:"100%",overflowY:"auto",boxSizing:"border-box"},children:E.jsx(u2,{traceData:l?.traceData,value:u?.expressions,disabled:o,configurable:a,manager:t,inputData:f,onChange:h=>{n.updateNode(e,g=>(g.content.expressions=h,g))}})})};Qg.__docgenInfo={description:"",methods:[],displayName:"TabExpression",props:{id:{required:!0,tsType:{name:"string"},description:""},manager:{required:!1,tsType:{name:"DragDropManager"},description:""}}};const xd={type:Ze.Expression,icon:E.jsx(Ob,{}),displayName:"Expression",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/expression",shortDescription:"Mapping utility",renderTab:({id:e,manager:t})=>E.jsx(Qg,{id:e,manager:t}),getDiffContent:(e,t)=>ft(e,i=>{const o={};(e.executionMode||!1)!==(t.executionMode||!1)&&_t.set(o,"executionMode",{status:"modified",previousValue:t.executionMode}),Sa(e.inputField,t.inputField)||_t.set(o,"inputField",{status:"modified",previousValue:t.inputField}),Sa(e.outputPath,t.outputPath)||_t.set(o,"outputPath",{status:"modified",previousValue:t.outputPath}),(e.passThrough||!1)!==(t.passThrough||!1)&&_t.set(o,"passThrough",{status:"modified",previousValue:t.passThrough});const a=Ys(e?.expressions||[],t?.expressions||[],{compareFields:(u,l)=>{const d=!Sa(u.key,l.key),f=!Sa(u.value,l.value);return{hasChanges:d||f,fields:{...d&&{key:{status:"modified",previousValue:l.key}},...f&&{value:{status:"modified",previousValue:l.value}}}}}});return i.expressions=a,a.find(u=>u?._diff?.status==="modified"||u?._diff?.status==="added"||u?._diff?.status==="removed")&&_t.set(o,"expressions",{status:"modified"}),Object.keys(o).length>0&&(i._diff={status:"modified",fields:o}),i}),inferTypes:{needsUpdate:(e,t)=>!fn(e,t),determineOutputType:({input:e,content:t})=>{let n=e.clone(),i=dn.fromJson({Object:{}});if(t.inputField&&(n=e.calculateType(t.inputField)),t.executionMode==="loop"&&(n=n.arrayItem()),(t.expressions||[]).forEach(o=>{if(!o.key||!o.value)return;const a=n.calculateType(o.value);n.set(`$.${o.key}`,a),i.set(o.key,a)}),t.executionMode==="loop"&&(i=i.toArray()),t.outputPath){const o=dn.fromJson({Object:{}});o.set(t.outputPath,i),i=o}return t.passThrough&&(i=e.merge(i)),i}},generateNode:({index:e})=>({name:`expression${e}`,content:{inputField:null,outputPath:null,expressions:[],passThrough:!0,executionMode:"single"}}),renderNode:({id:e,data:t,selected:n,specification:i})=>{const o=Et(),{passThrough:a,executionMode:u}=st(({decisionGraph:l})=>{const d=(l?.nodes??[]).find(f=>f.id===e)?.content;return{passThrough:d?.passThrough||!1,executionMode:d?.executionMode}});return E.jsx(Xr,{id:e,specification:i,name:t.name,isSelected:n,actions:[E.jsx(et,{type:"text",onClick:()=>o.openTab(e),children:"Edit Expression"},"edit-table")],helper:[u==="loop"&&E.jsx(A0,{}),a&&E.jsx(ql,{})]})},renderSettings:({id:e})=>{const t=Et(),n=as(e),{contentDiff:i}=pu(e),{fields:o,disabled:a}=st(({decisionGraph:l,disabled:d})=>{const f=(l?.nodes??[]).find(h=>h.id===e)?.content;return{disabled:d,fields:{passThrough:f?.passThrough||!1,inputField:f?.inputField,outputPath:f?.outputPath,executionMode:f?.executionMode||"single"}}}),u=l=>{t.updateNode(e,d=>(Object.assign(d.content,l),d))};return E.jsxs("div",{className:"settings-form",children:[E.jsx(Dr.Item,{label:"Passthrough",children:E.jsx(h0,{disabled:a,size:"small",displayDiff:i?.fields?.passThrough?.status==="modified",checked:o?.passThrough,previousChecked:i?.fields?.passThrough?.previousValue,onChange:l=>u({passThrough:l})})}),E.jsx(Dr.Item,{label:"Input field",children:E.jsx(su,{variableType:n,disabled:a,displayDiff:i?.fields?.inputField?.status==="modified",previousValue:i?.fields?.inputField?.previousValue,style:{fontSize:12,lineHeight:"20px",width:"100%"},expectedVariableType:o?.executionMode==="loop"?{Array:"Any"}:void 0,maxRows:4,value:o?.inputField??"",onChange:l=>{u({inputField:l?.trim()||null})}})}),E.jsx(Dr.Item,{label:"Output path",children:E.jsx(u0,{size:"small",readOnly:a,displayDiff:i?.fields?.outputPath?.status==="modified",previousValue:i?.fields?.outputPath?.previousValue,value:o?.outputPath??"",onChange:l=>u({outputPath:l?.target?.value?.trim()||null})})}),E.jsx(Dr.Item,{label:"Execution mode",children:E.jsx(hl,{size:"small",disabled:a,displayDiff:i?.fields?.executionMode?.status==="modified",previousValue:i?.fields?.executionMode?.previousValue,value:o?.executionMode,onChange:l=>u({executionMode:l?.target?.value}),options:[{value:"single",label:"Single"},{value:"loop",label:"Loop"}]})})]})}},r8=j.lazy(async()=>({default:(await y2(()=>import("./index-DC55qVI8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)).Function})),em=({id:e})=>{const t=tm(e),n=Et(),i=im(v=>v.onFunctionReady),[o,a]=S.useState(),u=as(e),{nodeTrace:l,disabled:d,content:f,additionalModules:h,nodeError:g}=st(({simulate:v,disabled:w,configurable:_,decisionGraph:T})=>({nodeTrace:je(v).with({result:ze._},({result:A})=>A?.trace?.[e]).otherwise(()=>null),nodeError:je(v).with({error:{data:{nodeId:e}}},({error:A})=>A).otherwise(()=>null),disabled:w,configurable:_,content:(T?.nodes??[]).find(A=>A.id===e)?.content,additionalModules:(T?.nodes??[]).filter(A=>A.type==="functionNode").map(A=>({id:A.id,name:A.name,content:A.content}))})),{diff:m,contentDiff:D}=pu(e),C=S.useMemo(()=>t===za.Stable?D?.fields?.source?.previousValue:m?.fields?.content?.previousValue,[m,D]);return S.useEffect(()=>{if(!o)return;const v=o.languages.typescript.javascriptDefaults.getExtraLibs(),w=Object.entries(v).map(([_,T])=>({filePath:_,content:T.content})).filter(_=>!_.filePath.startsWith("node:"));h.forEach(_=>{w.push({filePath:`node:${_.name}`,content:`declare module 'node:${_.name}' { ${_.content} }`})}),o.languages.typescript.javascriptDefaults.setExtraLibs(w),i?.(o)},[JSON.stringify(h),o,i]),E.jsx(S.Suspense,{fallback:E.jsx(Yl,{}),children:E.jsx(r8,{onMonacoReady:v=>a(v),value:t===za.Stable?f.source:f,previousValue:typeof C=="string"?C:void 0,error:g??void 0,inputData:u,onChange:v=>{n.updateNode(e,w=>(t===za.Stable?w.content={source:v}:w.content=v,w))},disabled:d,trace:l})})};em.__docgenInfo={description:"",methods:[],displayName:"TabFunction",props:{id:{required:!0,tsType:{name:"string"},description:""}}};const wd={type:Ze.Function,icon:E.jsx(wt.Text,{style:{color:"white",fontSize:"inherit"},children:"JS"}),displayName:"Function",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/functions",shortDescription:"Javascript lambda",color:xi.Orange,renderTab:({id:e})=>E.jsx(em,{id:e}),getDiffContent:(e,t)=>{const n={},i=je(e).with(ze.string,()=>0).otherwise(()=>1);je([e,t]).with([ze.string,ze.string],([a,u])=>{a!==u&&_t.set(n,"source",{previousValue:u,status:"modified"})}).with([{source:ze.string},{source:ze.string}],([a,u])=>{a?.source!==u?.source&&_t.set(n,"source",{previousValue:u.source,status:"modified"})}).otherwise(()=>{});const o=Object.keys(n).length>0;return{...i===0?{source:e}:e,...o&&{_diff:{status:"modified",fields:n}}}},generateNode:({index:e})=>({name:`function${e}`,content:{source:g2}}),renderNode:({id:e,data:t,selected:n,specification:i})=>{const o=Et(),a=tm(e);return E.jsx(Xr,{id:e,specification:{...i,displayName:a===1?"Function":E.jsxs("span",{children:["Function v1 ",E.jsx(Gp,{})]})},name:t.name,isSelected:n,helper:[a===0&&E.jsx(Gp,{size:16})],actions:[E.jsx(et,{type:"text",onClick:()=>o.openTab(e),children:"Edit Function"},"edit-function")]})}};var za=(e=>(e[e.Deprecated=0]="Deprecated",e[e.Stable=1]="Stable",e))(za||{});const tm=e=>{const{kind:t}=st(n=>({kind:je(n.decisionGraph.nodes.find(i=>i.id===e)?.content).with(ze.string,()=>0).otherwise(()=>1)}));return t},Gp=({size:e})=>E.jsx(Qn,{placement:"top",title:'Function v1 will be deprecated in one of the upcoming releases. To use a new Function, drag and drop a new Function Node and copy your logic. For more information click "Documentation". ',children:E.jsx(Zb,{style:{color:"var(--grl-color-warning-text)",fontSize:e}})}),nm={type:Ze.Switch,icon:E.jsx(rb,{}),displayName:"Switch",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/switch",shortDescription:"Conditional branching",color:xi.Purple,getDiffContent:(e,t)=>ft(e,n=>{const i={};(e.hitPolicy??"")!==(t.hitPolicy??"")&&_t.set(i,"hitPolicy",{status:"modified",previousValue:e.hitPolicy});const o=Ys(e?.statements||[],t?.statements||[],{compareFields:(a,u)=>{const l=(a.condition??"")!==u.condition;return{hasChanges:l,fields:{...l&&{condition:{status:"modified",previousValue:u.condition}}}}}});return n.statements=o,o.find(a=>a?._diff?.status==="modified"||a?._diff?.status==="added"||a?._diff?.status==="removed")&&_t.set(i,"statements",{status:"modified"}),Object.keys(i).length>0&&(n._diff={status:"modified",fields:i}),n}),inferTypes:{needsUpdate:()=>!1,determineOutputType:e=>e.input},generateNode:({index:e})=>({name:`switch${e}`,content:{hitPolicy:"first",statements:[{id:crypto.randomUUID(),condition:"",isDefault:!1}]}}),renderNode:({specification:e,...t})=>E.jsx(i8,{specification:e,...t})},i8=({id:e,data:t,selected:n,specification:i})=>{const o=Et(),{content:a,disabled:u,nodeTrace:l,compactMode:d,isGraphActive:f}=st(({decisionGraph:v,disabled:w,simulate:_,compactMode:T,activeTab:A})=>({nodeTrace:je(_).with({result:ze._},({result:F})=>F?.trace?.[e]).otherwise(()=>null),content:(v?.nodes||[]).find(F=>F?.id===e)?.content,disabled:w,compactMode:T,isGraphActive:A==="graph"})),h=as(e,{disabled:!f}),g=a?.statements||[],m=a?.hitPolicy||"first",D=v=>{o.updateNode(e,w=>(w.content.hitPolicy=v,w))},C=S.useMemo(()=>d?o8:s8,[d]);return E.jsx(Xr,{id:e,className:Ge(["switch"]),specification:i,name:t.name,handleRight:!1,helper:[E.jsx(ql,{},"arrow-right")],noBodyPadding:!0,isSelected:n,actions:[E.jsx(et,{type:"text",disabled:u,onClick:()=>{m==="first"&&g?.length>0?o.updateNode(e,v=>(v.content.statements=(v.content.statements||[]).map(w=>(w.isDefault&&(w.isDefault=!1),w)),v.content.statements.push({id:crypto.randomUUID(),condition:"",isDefault:!0}),v)):o.updateNode(e,v=>(v.content.statements=(v.content.statements||[]).map(w=>(w.isDefault&&(w.isDefault=!1),w)),v.content.statements.push({id:crypto.randomUUID(),condition:"",isDefault:!1}),v))},children:"Add Condition"},"add condition"),E.jsx(Xs,{trigger:["click"],placement:"bottomRight",menu:{items:[{key:"first",label:"First",onClick:()=>D("first"),disabled:u},{key:"collect",label:"Collect",disabled:u,onClick:()=>{o.updateNode(e,v=>(v.content.statements=(v.content.statements||[]).map(w=>(w.isDefault&&(w.isDefault=!1),w)),v)),D("collect")}}]},children:E.jsxs(et,{type:"text",style:{textTransform:"capitalize",marginLeft:"auto"},children:[m," ",E.jsx(Xw,{})]})},"hitPolicy")],children:E.jsx("div",{className:"switchNode",children:E.jsxs("div",{className:"switchNode__body edit nodrag",children:[!(g?.length>0)&&E.jsx(wt.Text,{type:"secondary",className:"no-conditions",children:"No conditions"}),g.map((v,w)=>E.jsx(C,{index:w,value:v.condition,diff:v?._diff,id:v.id,isDefault:v.isDefault,totalStatements:g.length,disabled:u,hitPolicy:m,variableType:h,onSetIsDefault:_=>{o.updateNode(e,T=>{const A=T.content.statements.find(F=>F.id===v.id);return _&&(A.condition=""),A.isDefault=_,T})},isActive:je(l?.traceData).with({statements:ze.array(ze._)},({statements:_})=>_.some(T=>typeof T=="object"&&T&&"id"in T&&T.id===v?.id)).otherwise(()=>!1),onDelete:()=>{o.updateNode(e,_=>(_.content.statements=_.content.statements.filter(T=>T?.id!==v?.id),(_.content.statements||[]).length===1&&(_.content.statements=(_.content.statements||[]).map(T=>(T.isDefault&&(T.isDefault=!1),T))),_)),o.removeEdgeByHandleId(v?.id)},onChange:_=>{o.updateNode(e,T=>{const A=T.content.statements.find(F=>F.id===v.id);return A.condition=_,T})}},v.id))]})})})},s8=({id:e,value:t,diff:n,onChange:i,disabled:o,configurable:a=!0,onDelete:u,isActive:l,index:d=0,isDefault:f=!1,onSetIsDefault:h,totalStatements:g,hitPolicy:m,variableType:D})=>{const[C,v]=S.useState(t);S.useLayoutEffect(()=>{C!==t&&v(t)},[t]);const w=A=>{v(A),i?.(A)},_=d===g-1,T=f&&m==="first"&&_&&d>0&&(t||"")?.trim?.()?.length===0;return E.jsxs("div",{className:Ge("switchNode__statement",l&&"active",n?.status&&`diff-${n?.status}`),children:[E.jsxs("div",{className:Ge("switchNode__statement__heading",T&&"switchNode__statement__heading--without-input"),children:[(d===0||m==="collect")&&E.jsx(et,{disabled:o,className:Ge("switchNode__statement__heading__action"),size:"small",type:"text",children:"If"}),m!=="collect"&&d>0&&E.jsx(et,{className:Ge("switchNode__statement__heading__action",T&&"inactive"),size:"small",type:"text",disabled:o,onClick:()=>{_&&m==="first"&&h?.(!1)},children:"Else If"}),m!=="collect"&&d>0&&_&&E.jsx(et,{className:Ge("switchNode__statement__heading__action",!T&&"inactive"),size:"small",type:"text",disabled:o,onClick:()=>{_&&m==="first"&&h?.(!0)},children:"Else"}),E.jsx("div",{style:{flexGrow:1}}),!o&&a&&E.jsx(c0,{title:"Remove condition?",okText:"Remove",onConfirm:()=>u?.(),children:E.jsx(et,{className:"switchNode__statement__delete",size:"small",type:"text",icon:E.jsx(ou,{})})}),E.jsx(Wr,{id:e,type:"source",position:pe.Right,className:Ge(l&&"switchNode__activeHandle")})]}),!T&&E.jsx("div",{className:"switchNode__statement__inputArea",children:E.jsx(su,{style:{fontSize:12,lineHeight:"20px",width:"100%"},displayDiff:n?.fields?.condition?.status==="modified",previousValue:n?.fields?.condition?.previousValue,value:C,maxRows:4,disabled:o,onChange:w,variableType:D})})]})},o8=({id:e,value:t,diff:n,onChange:i,disabled:o,configurable:a=!0,onDelete:u,isActive:l,variableType:d})=>{const[f,h]=S.useState(t);S.useLayoutEffect(()=>{f!==t&&h(t)},[t]);const g=m=>{h(m),i?.(m)};return E.jsxs("div",{className:Ge("switchNode__statement","compact",l&&"active",n?.status&&`diff-${n?.status}`),children:[E.jsx("div",{className:Ge("switchNode__statement__inputArea"),children:E.jsx(su,{style:{fontSize:12,lineHeight:"20px",width:"100%"},displayDiff:n?.fields?.condition?.status==="modified",previousValue:n?.fields?.condition?.previousValue,value:f,maxRows:4,disabled:o,onChange:g,variableType:d})}),!o&&a&&E.jsx("div",{className:"switchNode__statement__button",children:E.jsx(c0,{title:"Remove condition?",okText:"Remove",onConfirm:()=>u?.(),children:E.jsx(et,{className:"switchNode__statement__delete",size:"small",type:"text",icon:E.jsx(ou,{})})})}),E.jsx(Wr,{id:e,type:"source",position:pe.Right,className:Ge(l&&"switchNode__activeHandle")})]})},Sa=(e,t)=>{const n=(e||"").trim(),i=(t||"").trim();return n===i},a8=(e,t,n)=>{const i=u8(e?.nodes??[],t?.nodes??[],n),o=c8(e?.edges??[],t?.edges??[]);return{nodes:i,edges:o,settings:e?.settings}},u8=(e,t,n)=>{const i=n?.components||[],o=n?.customNodes||[],a=new Map;return(e||[]).forEach(u=>{const l=(t||[]).find(d=>d.id===u.id);if(!l)a.set(u.id,{...u,_diff:{status:"added"}});else{const d={};(l.position.x!==u.position.x||l.position.y!==u.position.y)&&_t.set(d,"position",{status:"moved",previousValue:l.position}),l.name!==u.name&&_t.set(d,"name",{status:"modified",previousValue:l.name});const f=je([u.type,l.type]).with([Ze.Expression,Ze.Expression],()=>xd?.getDiffContent?.(u?.content,l?.content)).with([Ze.DecisionTable,Ze.DecisionTable],()=>Dd?.getDiffContent?.(u?.content,l?.content)).with([Ze.Function,Ze.Function],()=>{const h=wd?.getDiffContent?.(u?.content,l?.content);return je(u?.content).with(ze.string,()=>(h?._diff?.fields?.source?.status==="modified"&&_t.set(d,"content",{status:"modified",previousValue:h?._diff?.fields?.source?.previousValue}),h?.source)).otherwise(()=>h)}).with([Ze.Switch,Ze.Switch],()=>nm?.getDiffContent?.(u?.content,l?.content)).otherwise(()=>{const h=i.find(m=>m.type===u.type);if(h)return h?.getDiffContent?.(u?.content,l?.content);const g=o.find(m=>u?.type==="customNode"&&u?.content?.kind===m?.kind);return g?g?.calculateDiff?.(u?.content,l?.content):null});Object.keys(d||{}).filter(h=>h!=="position").length>0||f?._diff?.status==="modified"?a.set(u.id,{...u,content:f??u.content,_diff:{status:"modified",fields:d}}):Object.keys(d||{}).length===1&&d?.position?.status==="moved"?a.set(u.id,{...u,content:f??u.content,_diff:{status:"moved",fields:d}}):a.set(u.id,{...u,_diff:{status:"unchanged"}})}}),(t||[]).forEach(u=>{a.has(u.id)||a.set(u.id,{...u,_diff:{status:"removed"}})}),Array.from(a.values())},c8=(e,t)=>{const n=new Map;return(e||[]).forEach(i=>{(t||[]).find(a=>a.id===i.id)?n.set(i.id,{...i,_diff:{status:"unchanged"}}):n.set(i.id,{...i,_diff:{status:"added"}})}),(t||[]).forEach(i=>{n.has(i.id)||n.set(i.id,{...i,_diff:{status:"removed"}})}),Array.from(n.values())},Ys=(e,t,n={})=>{const{idField:i="id",compareFields:o}=n,a=m=>m[i]||m._id,u=new Map(t.map((m,D)=>[a(m),{...m,index:D}])),l=new Map(e.map((m,D)=>[a(m),{...m,index:D}])),d=[],f=new Set,h=new Set;e.forEach((m,D)=>{u.has(a(m))||f.add(D)}),t.forEach((m,D)=>{l.has(a(m))||h.add(D)});const g=(m,D)=>{const C=Array.from(f).filter(T=>T<D).length,v=Array.from(h).filter(T=>T<m).length,w=D-C;return m-v!==w};return e.forEach((m,D)=>{const C=u.get(a(m));if(!C)d.push({...m,originalIndex:D,_diff:{status:"added",newIndex:D}});else{const v=g(C.index,D),w=o?o(m,C):{hasChanges:!1};w.hasChanges||v?d.push({...m,originalIndex:D,_diff:{status:"modified",positionChanged:v,previousIndex:C.index,newIndex:D,...w.fields?{fields:w.fields}:{}}}):d.push({...m,originalIndex:D,_diff:{status:"unchanged"}})}}),t.forEach((m,D)=>{if(!l.has(a(m))){let C=D;for(;C<d.length&&u.get(a(d[C]))?.index<D;)C++;d.splice(C,0,{...m,originalIndex:D,isRemoved:!0,_diff:{status:"removed",previousIndex:D}})}}),d.map(({originalIndex:m,isRemoved:D,...C})=>C)},Qt=Symbol("private"),l8=e=>({id:e?.id,sourceId:e?.source,type:e?.type,targetId:e?.target,name:e?.label,sourceHandle:e.sourceHandle??void 0,targetHandle:e.targetHandle??void 0}),$l=e=>({id:e.id,type:e.type,position:e.position,height:e[Qt]?.dimensions?.height,width:e[Qt]?.dimensions?.width,selected:e[Qt]?.selected,data:{name:e.name,kind:e?.content?.kind}}),Us=e=>e.map($l),Pl=e=>({id:e.id,source:e.sourceId,type:e?.type||"edge",target:e.targetId,label:e.name,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle,markerEnd:{type:ro.ArrowClosed,width:20,height:20}}),jl=e=>e.filter(t=>t.sourceId&&t.targetId).map(Pl);var Qe=(e=>(e[e.Input=0]="Input",e[e.Output=1]="Output",e[e.InferredInput=2]="InferredInput",e[e.InferredOutput=3]="InferredOutput",e))(Qe||{});const us=j.createContext({}),rm=e=>{const{children:t}=e,n=S.useMemo(()=>Jc()(()=>({id:void 0,simulate:void 0,decisionGraph:{nodes:[],edges:[]},hoveredEdgeId:null,openTabs:[],activeTab:"graph",name:"graph.json",disabled:!1,configurable:!0,components:[],customNodes:[],activePanel:void 0,panels:[],compactMode:localStorage.getItem("jdm-compact-mode")==="true",nodeTypes:{},globalType:{}})),[]),i=S.useMemo(()=>Jc(()=>({onChange:void 0,onPanelsChange:void 0})),[]),o=S.useMemo(()=>Jc(()=>({nodesState:S.createRef(),edgesState:S.createRef(),graphClipboard:S.createRef()})),[]),a=S.useMemo(()=>({handleNodesChange:(u=[])=>{const{nodesState:l}=o.getState(),{decisionGraph:d}=n.getState(),[,,f]=l.current;let h=!1;f?.(u);const g=ft(d,m=>{u.forEach(D=>je(D).with({type:"position"},C=>{const v=m.nodes.find(w=>w.id===C.id);v&&C.position&&!fn(v.position,C.position)&&(h=!0,v.position=C.position)}).with({type:"dimensions"},C=>{const v=m.nodes.find(w=>w.id===C.id);v&&!fn(v[Qt]?.dimensions,C.dimensions)&&(h=!0,v[Qt]??={},v[Qt].dimensions={height:C.dimensions?.height,width:C.dimensions?.width})}).with({type:"select"},C=>{const v=m.nodes.find(w=>w.id===C.id);v&&v[Qt]?.selected!==C.selected&&(h=!0,v[Qt]??={},v[Qt].selected=C.selected)}).otherwise(()=>{}))});h&&(n.setState({decisionGraph:g}),i.getState().onChange?.(g))},handleEdgesChange:(u=[])=>{const{decisionGraph:l}=n.getState(),{edgesState:d}=o.getState();if(d?.current?.[2](u),u.find(f=>f.type==="remove")){const f=ft(l,h=>{const g=(h.edges||[]).map(m=>u.find(C=>"id"in C&&C.id===m.id)?.type==="remove"?null:m).filter(m=>!!m);h.edges=g});n.setState({decisionGraph:f}),i.getState().onChange?.(f)}},setNodes:(u=[])=>{const{nodesState:l}=o.getState(),{decisionGraph:d}=n.getState();l?.current?.[1](Us(u));const f=ft(d,h=>{h.nodes=u});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},addNodes:u=>{const{nodesState:l}=o.getState(),{decisionGraph:d}=n.getState();l.current[0]?.some(g=>g.type===Ze.Input)&&(u=u.filter(g=>g.type!==Ze.Input)),l.current[1]?.(g=>g.concat(Us(u)));const h=ft(d,g=>{g.nodes=(g.nodes||[]).concat(u)});n.setState({decisionGraph:h}),i.getState().onChange?.(h)},duplicateNodes:u=>{const{nodesState:l,edgesState:d}=o.getState(),{decisionGraph:f}=n.getState();let h=(f?.nodes||[]).filter(_=>u.includes(_.id));if(l.current[0]?.some(_=>_.type===Ze.Input)&&(h=h.filter(_=>_.type!==Ze.Input)),h.length===0)return;const m=h.reduce((_,T)=>({..._,[T.id]:crypto.randomUUID()}),{}),D=h.map(_=>({..._,id:m[_.id],position:{x:_.position?.x||0,y:(_.position?.y||0)+140}})),C=Object.keys(m),v=[];D.length>0&&(d.current?.[0]||[]).forEach(_=>{C.includes(_.source)&&C.includes(_.target)&&v.push({id:crypto.randomUUID(),type:_.type,sourceId:m[_.source],targetId:m[_.target],sourceHandle:_.sourceHandle??void 0,targetHandle:_.targetHandle??void 0})}),l.current[1]?.(_=>_.concat(D.map($l))),d.current[1]?.(_=>_.concat(v.map(Pl)));const w=ft(f,_=>{_.nodes.push(...D),_.edges.push(...v)});n.setState({decisionGraph:w}),i.getState().onChange?.(w)},copyNodes:u=>{const{graphClipboard:l,nodesState:d}=o.getState();if(!l.current||!d.current)return;const[f]=d.current,h=f.filter(g=>u.includes(g.id));l.current.copyNodes(h)},pasteNodes:()=>{const{graphClipboard:u}=o.getState();u.current?.pasteNodes?.()},removeNodes:(u=[])=>{const{nodesState:l,edgesState:d}=o.getState(),{decisionGraph:f,nodeTypes:h}=n.getState();l.current[1]?.(D=>D.filter(C=>u.every(v=>C.id!==v))),d.current[1]?.(D=>D.filter(C=>u.every(v=>C.source!==v&&C.target!==v&&C.sourceHandle!==v&&C.targetHandle!==v)));const g=ft(f,D=>{const C=D.nodes||[],v=D.edges||[];D.nodes=C.filter(w=>u.every(_=>w.id!==_)),D.edges=v.filter(w=>u.every(_=>w.sourceId!==_&&w.targetId!==_&&w.sourceHandle!==_&&w.targetHandle!==_))}),m=ft(h,D=>{u.forEach(C=>{C in D&&delete D[C]})});n.setState({decisionGraph:g,nodeTypes:m}),i.getState().onChange?.(g)},addEdges:u=>{const{edgesState:l}=o.getState(),{decisionGraph:d}=n.getState();l.current?.[1]?.(h=>h.concat(u.map(Pl)));const f=ft(d,h=>{h.edges=(h.edges||[]).concat(u)});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},setEdges:(u=[])=>{const{edgesState:l}=o.getState(),{decisionGraph:d}=n.getState();l?.current?.[1]?.(jl(u));const f=ft(d,h=>{h.edges=u});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},removeEdges:u=>{const{edgesState:l}=o.getState(),{decisionGraph:d}=n.getState();l?.current?.[1]?.(h=>h.filter(g=>!u.find(m=>g.id===m)));const f=ft(d,h=>{h.edges=h.edges.filter(g=>!u.find(m=>g.id===m))});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},removeEdgeByHandleId:u=>{if(!u)return;const{edgesState:l}=o.getState(),{decisionGraph:d}=n.getState();l?.current?.[1]?.(h=>h.filter(g=>g.sourceHandle!==u));const f=ft(d,h=>{h.edges=h.edges.filter(g=>g.sourceHandle!==u)});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},updateNode:(u,l)=>{const{decisionGraph:d}=n.getState(),{nodesState:f}=o.getState(),[h,g]=f.current,m=ft(d,w=>{const _=(w.nodes??[]).find(T=>T?.id===u);_&&l(_)}),D=m.nodes.find(w=>w.id===u);if(!D)return;const C=$l(D),v=h.find(w=>w.id===u);fn(C,v)||g(w=>w.map(_=>_.id===u?C:_)),n.setState({decisionGraph:m}),i.getState().onChange?.(m)},setDecisionGraph:(u,l={})=>{const{decisionGraph:d}=n.getState(),{edgesState:f,nodesState:h}=o.getState(),{skipOnChangeEvent:g=!1}=l,m=ft(d,D=>{Object.assign(D,u)});f?.current?.[1](jl(m?.edges??[])),h?.current?.[1](Us(m?.nodes??[])),n.setState({decisionGraph:m}),g||i.getState().onChange?.(m)},calculateDiffGraph:(u,l)=>{const{components:d,customNodes:f}=n.getState();return a8(u,l,{components:d,customNodes:f})},setHoveredEdgeId:u=>n.setState({hoveredEdgeId:u}),openTab:u=>{const{openTabs:l}=n.getState(),d=l.find(f=>f===u);if(u==="graph")return n.setState({activeTab:u});d?n.setState({activeTab:d}):n.setState({openTabs:[...l,u],activeTab:u})},closeTab:(u,l)=>{const{openTabs:d,activeTab:f}=n.getState(),h=d?.findIndex(v=>v===u),g=d?.[h],m=je(l).with(void 0,()=>d.filter(v=>v!==g)).with("close",()=>d.filter(v=>v!==g)).with("close-all",()=>[]).with("close-other",()=>d.filter(v=>v===g)).with("close-right",()=>d.slice(0,h+1)).with("close-left",()=>d.slice(h)).otherwise(()=>d),D={openTabs:m};m?.find(v=>v===f)||(D.activeTab=m?.[h-1]??"graph"),n.setState(D)},setActivePanel:u=>{const{panels:l}=n.getState(),d={activePanel:u===void 0?void 0:(l||[]).find(f=>f.id===u)?.id};i.getState()?.onPanelsChange?.(u),n.setState(d)},setCompactMode:u=>{const l={compactMode:u};localStorage.setItem("jdm-compact-mode",`${u}`),n.setState(l)},toggleCompactMode:()=>{const{compactMode:u}=n.getState(),l=!u,d={compactMode:l};localStorage.setItem("jdm-compact-mode",`${l}`),n.setState(d)},setNodeType:(u,l,d)=>{const{nodeTypes:f}=n.getState(),h=ft(f,g=>{g[u]??={},g[u][l]=d});n.setState({nodeTypes:h})},removeNodeType:(u,l)=>{const{nodeTypes:d}=n.getState(),f=ft(d,h=>{u in h&&(l?l in h[u]&&delete h[u][l]:delete h[u])});n.setState({nodeTypes:f})},triggerNodeSelect:(u,l)=>{const{decisionGraph:d}=n.getState(),{nodesState:f,edgesState:h}=o.getState(),[,g]=f.current,[,m]=h.current,D=ft(d,C=>{const v=C.nodes.find(w=>w.id===u);v&&(l==="only"&&C.nodes.forEach(w=>{w[Qt]&&(w[Qt].selected=!1)}),v[Qt]??={},v[Qt].selected=je(l).with("only",()=>!0).otherwise(()=>!v[Qt]?.selected))});g(Us(D.nodes)),l=="only"&&m(C=>C.map(v=>({...v,selected:!1}))),n.setState({decisionGraph:D}),i.getState().onChange?.(D)}}),[]);return E.jsx(us.Provider,{value:{stateStore:n,referenceStore:o,listenerStore:i,actions:a},children:t})};function st(e,t=fn){return j.useContext(us).stateStore(e,t)}function im(e,t=fn){return j.useContext(us).listenerStore(e,t)}function d8(e,t=fn){return j.useContext(us).referenceStore(e,t)}function Et(){return j.useContext(us).actions}function cs(){return j.useContext(us)}const pu=e=>{const{diff:t,contentDiff:n}=st(i=>{const o=(i?.decisionGraph?.nodes??[]).find(a=>a.id===e);return{diff:o?._diff,contentDiff:o?.content?._diff}});return{diff:t,contentDiff:n}},f8=e=>{const{diff:t}=st(n=>({diff:(n?.decisionGraph?.edges??[]).find(o=>o.id===e)?._diff}));return{diff:t}};rm.__docgenInfo={description:"",methods:[],displayName:"DecisionGraphProvider"};const h8=({id:e,defaultValue:t,value:n,name:i,disabled:o=!1,configurable:a=!0,onChange:u,components:l,customNodes:d,defaultActivePanel:f,panels:h,simulate:g,onPanelsChange:m,onReactFlowInit:D,onCodeExtension:C,onFunctionReady:v})=>{const w=S.useRef(!1),_=Et(),{stateStore:T,listenerStore:A}=cs(),{decisionGraph:F}=st(({decisionGraph:P})=>({decisionGraph:P})),M=a2(P=>{u?.(P)},100);return S.useEffect(()=>{T.setState({id:e,disabled:o,configurable:a,components:Array.isArray(l)?l:[],customNodes:Array.isArray(d)?d:[],panels:h})},[e,o,a,l,d,h]),S.useEffect(()=>{T.setState({name:i??"graph.json"})},[i]),S.useEffect(()=>{T.setState({simulate:g})},[g]),S.useEffect(()=>{A.setState({onReactFlowInit:D,onPanelsChange:m,onCodeExtension:C,onFunctionReady:v})},[D,m,C,v]),S.useEffect(()=>{A.setState({onChange:M})},[M]),S.useEffect(()=>{w.current&&n!==void 0&&!fn(n,F)&&_.setDecisionGraph(n)},[n]),S.useEffect(()=>{n!==void 0?_.setDecisionGraph(n):t!==void 0&&_.setDecisionGraph(t),T.setState({activePanel:f}),w.current=!0},[]),null},p8=()=>{let e=null;return{walk:function*(t){const n=g8(t);if(e&&fn(n,e.digest)){yield*y8(t,e.iterator);return}const i=[];for(const o of m8(t))i.push({id:o.node.id,incomers:o.incomers.map(a=>a.id)}),yield o;e={digest:n,iterator:i}}}},g8=e=>{const t=e.nodes.map(i=>i.id),n=e.edges;return{nodes:t,edges:n}};function*m8(e){const t=Us(e.nodes),n=jl(e.edges),i=e.nodes.find(l=>l.type==="inputNode"),o=t.find(l=>l.id===i?.id);if(!i||!o||v8(o,t,n))return;yield{node:i,incomers:[]};const a=new Set;a.add(i.id);const u=Ya(o,t,n);for(;u.length>0;){const l=u.pop();if(a.has(l.id))continue;const d=aS(l,t,n),f=d.filter(m=>!a.has(m.id));if(f.length>0){u.push(l,...f);continue}a.add(l.id);const h=e.nodes.find(m=>m.id===l.id);if(h){const m=e.nodes.filter(D=>d.some(C=>C.id===D.id));yield{node:h,incomers:m}}const g=Ya(l,t,n);u.push(...g)}}function*y8(e,t){for(const n of t){const i=e.nodes.find(a=>a.id===n.id);if(!i)continue;const o=e.nodes.filter(a=>n.incomers.includes(a.id));yield{node:i,incomers:o}}}const v8=(e,t,n)=>{const i=new Set,o=new Set,a=u=>{i.add(u.id),o.add(u.id);const l=Ya(u,t,n);for(const d of l)if(i.has(d.id)){if(o.has(d.id))return!0}else if(a(d))return!0;return o.delete(u.id),!1};return a(e)},_8={type:Ze.Input,icon:E.jsx(Tb,{}),displayName:"Request",color:xi.Green,documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions",shortDescription:"Provides input context",generateNode:()=>({name:"request"}),renderNode:({id:e,data:t,selected:n,specification:i})=>{const o=Et(),{disabled:a}=st(({disabled:u})=>({disabled:u}));return E.jsx(Xr,{id:e,specification:i,name:t.name,isSelected:n,handleLeft:!1,menuItems:[{key:"documentation",icon:E.jsx(S0,{}),label:"Documentation",onClick:()=>window.open(i.documentationUrl,"_href")},{key:"delete",icon:E.jsx(ou,{}),danger:!0,label:E.jsx(Ps,{left:"Delete",right:Oa.shortcut("Backspace")}),disabled:a,onClick:()=>Zl.confirm({icon:null,title:"Delete node",content:E.jsxs(wt.Text,{children:["Are you sure you want to delete ",E.jsx(wt.Text,{strong:!0,children:t.name})," node."]}),okButtonProps:{danger:!0},onOk:()=>o.removeNodes([e])})}]})}},D8={type:Ze.Output,icon:E.jsx(Rb,{}),color:xi.Green,displayName:"Response",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions",shortDescription:"Outputs the context",generateNode:()=>({name:"response"}),renderNode:({id:e,data:t,selected:n,specification:i})=>E.jsx(Xr,{id:e,specification:i,name:t.name,isSelected:n,handleRight:!1})};const vi={[Ze.Input]:_8,[Ze.Output]:D8,[Ze.DecisionTable]:Dd,[Ze.Expression]:xd,[Ze.Function]:wd,[Ze.Switch]:nm},x8=()=>{const{stateStore:e}=cs();return S.useEffect(()=>{if(Zs())return e.subscribe(({simulate:t,nodeTypes:n,decisionGraph:i},o)=>{if(fn(t,o?.simulate))return;const a=je(t).with({result:ze.nonNullable},({result:d})=>d.trace).otherwise(()=>null);if(a===null){const d=ft(n,f=>{Object.values(f).forEach(h=>{delete h[Qe.Input],delete h[Qe.Output]})});e.setState({nodeTypes:d});return}const u=Object.values(a);if(u.length===0)return;const l=ft(n,d=>{u.forEach(f=>{i.nodes.find(g=>g.id===f.id)?.type!=="inputNode"&&(d[f.id]??={},d[f.id][Qe.Output]=new dn(f.output??{}),d[f.id][Qe.Input]=new dn(f.input??{}))})});e.setState({nodeTypes:l})})},[]),S.useEffect(()=>{if(!Zs())return;const t=p8();return e.subscribe((n,i)=>{const o=Zp(n),a=Zp(i),u=b8(n,i);if(fn(o,a)&&!u)return;const l=w8(n,i,t);l.isModified&&e.setState({nodeTypes:l.nodeTypes})})},[]),S.useEffect(()=>{if(Zs())return e.subscribe((t,n)=>{const i=qp(t),o=qp(n);if(fn(i,o))return;const a=dn.fromJson({Object:{}});t.decisionGraph.nodes.forEach(u=>{const l=t.nodeTypes[u.id],d=l?.[Qe.Output]??l?.[Qe.InferredOutput]??dn.fromJson({Object:{}});a.set(u.name,d)}),e.setState({globalType:{$nodes:a}})})},[]),null},w8=({decisionGraph:e,nodeTypes:t,customNodes:n},i,o)=>{let a=!1;const u=ft(t,l=>{o.walk(e).forEach(({node:d,incomers:f})=>{if(d.type==="inputNode")return;const h=f.map(F=>{const M=l[F.id]??{};return M[Qe.Output]??M[Qe.InferredOutput]}).filter(F=>!!F).map(F=>F.clone()),g=je(h.length).with(1,()=>h[0]).otherwise(()=>dn.fromIncoming(h));l?.[d.id]?.[Qe.InferredInput]?.equal(g)||(a=!0,l[d.id]??={},l[d.id][Qe.InferredInput]=g);const D=vi[d.type]?.inferTypes??n.find(F=>F.kind===d.type)?.inferTypes;if(!D)return;const C=l?.[d.id]?.[Qe.Input]??l?.[d.id]?.[Qe.InferredInput]??dn.fromJson("Any"),v=i.nodeTypes?.[d.id]?.[Qe.Input]??i.nodeTypes?.[d.id]?.[Qe.InferredInput]??dn.fromJson("Any"),w=i.decisionGraph.nodes.find(F=>F.id===d.id)?.content;if(!(D.needsUpdate(d.content,w)||!C.equal(v))&&l?.[d.id]?.[Qe.InferredOutput])return;const T=D.determineOutputType({input:C,content:d.content});l?.[d.id]?.[Qe.InferredOutput]?.equal(T)||(a=!0,l[d.id]??={},l[d.id][Qe.InferredOutput]=T)})});return{isModified:a,nodeTypes:u}},Zp=({decisionGraph:e,nodeTypes:t,customNodes:n})=>{const i=e.edges,o=e.nodes.map(({id:f,type:h})=>({id:f,type:h})),a=n.map(f=>f.kind),u=Object.entries(t).map(([f,h])=>({id:f,input:Ll(h[Qe.Input]),output:Ll(h[Qe.Output])})),l=e.nodes.find(f=>f.type==="inputNode")?.id,d=je(t?.[l??""]?.[Qe.InferredOutput]).with(ze.nonNullable,f=>f.hash()).otherwise(()=>null);return{edgesData:i,nodesData:o,typesData:u,customNodesData:a,inputNodeType:d}},b8=({decisionGraph:e,customNodes:t},n)=>e.nodes.map(o=>{const a=vi[o.type]?.inferTypes??t.find(l=>l.kind===o.type)?.inferTypes;if(!a)return!1;const u=n.decisionGraph.nodes.find(l=>l.id===o.id);return u?a.needsUpdate(o.content,u.content):!0}).some(o=>o),Ll=e=>{if(e)return e.__hash||(e.__hash=e.hash()),e.__hash},qp=e=>({nodeInfo:e.decisionGraph.nodes.map(n=>{const i=e.nodeTypes[n.id],o=i?.[Qe.Output]??i?.[Qe.InferredOutput];return{id:n.id,type:Ll(o),name:n.name}})});var C8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),vt=function(){return vt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},vt.apply(this,arguments)},Yp={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Xp={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Aa={width:"20px",height:"20px",position:"absolute"},E8={top:vt(vt({},Yp),{top:"-5px"}),right:vt(vt({},Xp),{left:void 0,right:"-5px"}),bottom:vt(vt({},Yp),{top:void 0,bottom:"-5px"}),left:vt(vt({},Xp),{left:"-5px"}),topRight:vt(vt({},Aa),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:vt(vt({},Aa),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:vt(vt({},Aa),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:vt(vt({},Aa),{left:"-10px",top:"-10px",cursor:"nw-resize"})},S8=function(e){C8(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.onMouseDown=function(i){n.props.onResizeStart(i,n.props.direction)},n.onTouchStart=function(i){n.props.onResizeStart(i,n.props.direction)},n}return t.prototype.render=function(){return S.createElement("div",{className:this.props.className||"",style:vt(vt({position:"absolute",userSelect:"none"},E8[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(S.PureComponent),A8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},e(t,n)};return function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kn=function(){return Kn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Kn.apply(this,arguments)},N8={width:"auto",height:"auto"},Na=function(e,t,n){return Math.max(Math.min(e,n),t)},Kp=function(e,t,n){var i=Math.round(e/t);return i*t+n*(i-1)},Hi=function(e,t){return new RegExp(e,"i").test(t)},Fa=function(e){return!!(e.touches&&e.touches.length)},F8=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},Jp=function(e,t,n){n===void 0&&(n=0);var i=t.reduce(function(a,u,l){return Math.abs(u-e)<Math.abs(t[a]-e)?l:a},0),o=Math.abs(t[i]-e);return n===0||o<n?t[i]:e},dl=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},Ta=function(e,t,n,i){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return t*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return n*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return i*o}}return e},T8=function(e,t,n,i,o,a,u){return i=Ta(i,e.width,t,n),o=Ta(o,e.height,t,n),a=Ta(a,e.width,t,n),u=Ta(u,e.height,t,n),{maxWidth:typeof i>"u"?void 0:Number(i),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof a>"u"?void 0:Number(a),minHeight:typeof u>"u"?void 0:Number(u)}},I8=function(e){return Array.isArray(e)?e:[e,e]},B8=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Qp="__resizable_base__",R8=function(e){A8(t,e);function t(n){var i,o,a,u,l=e.call(this,n)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.appendBase=function(){if(!l.resizable||!l.window)return null;var d=l.parentNode;if(!d)return null;var f=l.window.document.createElement("div");return f.style.width="100%",f.style.height="100%",f.style.position="absolute",f.style.transform="scale(0, 0)",f.style.left="0",f.style.flex="0 0 100%",f.classList?f.classList.add(Qp):f.className+=Qp,d.appendChild(f),f},l.removeBase=function(d){var f=l.parentNode;f&&f.removeChild(d)},l.state={isResizing:!1,width:(o=(i=l.propsSize)===null||i===void 0?void 0:i.width)!==null&&o!==void 0?o:"auto",height:(u=(a=l.propsSize)===null||a===void 0?void 0:a.height)!==null&&u!==void 0?u:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||N8},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,i=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,a=this.resizable.offsetHeight,u=this.resizable.style.position;u!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,i=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:a,this.resizable.style.position=u}return{width:n,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,i=this.props.size,o=function(l){var d;if(typeof n.state[l]>"u"||n.state[l]==="auto")return"auto";if(n.propsSize&&n.propsSize[l]&&(!((d=n.propsSize[l])===null||d===void 0)&&d.toString().endsWith("%"))){if(n.state[l].toString().endsWith("%"))return n.state[l].toString();var f=n.getParentSize(),h=Number(n.state[l].toString().replace("px","")),g=h/f[l]*100;return g+"%"}return dl(n.state[l])},a=i&&typeof i.width<"u"&&!this.state.isResizing?dl(i.width):o("width"),u=i&&typeof i.height<"u"&&!this.state.isResizing?dl(i.height):o("height");return{width:a,height:u}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var i=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(i=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var a={width:n.offsetWidth,height:n.offsetHeight};return i&&(this.parentNode.style.flexWrap=o),this.removeBase(n),a},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,i){var o=this.propsSize&&this.propsSize[i];return this.state[i]==="auto"&&this.state.original[i]===n&&(typeof o>"u"||o==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,i){var o=this.props.boundsByDirection,a=this.state.direction,u=o&&Hi("left",a),l=o&&Hi("top",a),d,f;if(this.props.bounds==="parent"){var h=this.parentNode;h&&(d=u?this.resizableRight-this.parentLeft:h.offsetWidth+(this.parentLeft-this.resizableLeft),f=l?this.resizableBottom-this.parentTop:h.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(d=u?this.resizableRight:this.window.innerWidth-this.resizableLeft,f=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(d=u?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),f=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return d&&Number.isFinite(d)&&(n=n&&n<d?n:d),f&&Number.isFinite(f)&&(i=i&&i<f?i:f),{maxWidth:n,maxHeight:i}},t.prototype.calculateNewSizeFromDirection=function(n,i){var o=this.props.scale||1,a=I8(this.props.resizeRatio||1),u=a[0],l=a[1],d=this.state,f=d.direction,h=d.original,g=this.props,m=g.lockAspectRatio,D=g.lockAspectRatioExtraHeight,C=g.lockAspectRatioExtraWidth,v=h.width,w=h.height,_=D||0,T=C||0;return Hi("right",f)&&(v=h.width+(n-h.x)*u/o,m&&(w=(v-T)/this.ratio+_)),Hi("left",f)&&(v=h.width-(n-h.x)*u/o,m&&(w=(v-T)/this.ratio+_)),Hi("bottom",f)&&(w=h.height+(i-h.y)*l/o,m&&(v=(w-_)*this.ratio+T)),Hi("top",f)&&(w=h.height-(i-h.y)*l/o,m&&(v=(w-_)*this.ratio+T)),{newWidth:v,newHeight:w}},t.prototype.calculateNewSizeFromAspectRatio=function(n,i,o,a){var u=this.props,l=u.lockAspectRatio,d=u.lockAspectRatioExtraHeight,f=u.lockAspectRatioExtraWidth,h=typeof a.width>"u"?10:a.width,g=typeof o.width>"u"||o.width<0?n:o.width,m=typeof a.height>"u"?10:a.height,D=typeof o.height>"u"||o.height<0?i:o.height,C=d||0,v=f||0;if(l){var w=(m-C)*this.ratio+v,_=(D-C)*this.ratio+v,T=(h-v)/this.ratio+C,A=(g-v)/this.ratio+C,F=Math.max(h,w),M=Math.min(g,_),P=Math.max(m,T),H=Math.min(D,A);n=Na(n,F,M),i=Na(i,P,H)}else n=Na(n,h,g),i=Na(i,m,D);return{newWidth:n,newHeight:i}},t.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var i=this.parentNode;if(i){var o=i.getBoundingClientRect();this.parentLeft=o.left*n,this.parentTop=o.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var a=this.props.bounds.getBoundingClientRect();this.targetLeft=a.left*n,this.targetTop=a.top*n}if(this.resizable){var u=this.resizable.getBoundingClientRect(),l=u.left,d=u.top,f=u.right,h=u.bottom;this.resizableLeft=l*n,this.resizableRight=f*n,this.resizableTop=d*n,this.resizableBottom=h*n}},t.prototype.onResizeStart=function(n,i){if(!(!this.resizable||!this.window)){var o=0,a=0;if(n.nativeEvent&&F8(n.nativeEvent)?(o=n.nativeEvent.clientX,a=n.nativeEvent.clientY):n.nativeEvent&&Fa(n.nativeEvent)&&(o=n.nativeEvent.touches[0].clientX,a=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var u=this.props.onResizeStart(n,i,this.resizable);if(u===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,d=this.window.getComputedStyle(this.resizable);if(d.flexBasis!=="auto"){var f=this.parentNode;if(f){var h=this.window.getComputedStyle(f).flexDirection;this.flexDir=h.startsWith("row")?"row":"column",l=d.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var g={original:{x:o,y:a,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Kn(Kn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:i,flexBasis:l};this.setState(g)}},t.prototype.onMouseMove=function(n){var i=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Fa(n))try{n.preventDefault(),n.stopPropagation()}catch{}var o=this.props,a=o.maxWidth,u=o.maxHeight,l=o.minWidth,d=o.minHeight,f=Fa(n)?n.touches[0].clientX:n.clientX,h=Fa(n)?n.touches[0].clientY:n.clientY,g=this.state,m=g.direction,D=g.original,C=g.width,v=g.height,w=this.getParentSize(),_=T8(w,this.window.innerWidth,this.window.innerHeight,a,u,l,d);a=_.maxWidth,u=_.maxHeight,l=_.minWidth,d=_.minHeight;var T=this.calculateNewSizeFromDirection(f,h),A=T.newHeight,F=T.newWidth,M=this.calculateNewMaxFromBoundary(a,u);this.props.snap&&this.props.snap.x&&(F=Jp(F,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(A=Jp(A,this.props.snap.y,this.props.snapGap));var P=this.calculateNewSizeFromAspectRatio(F,A,{width:M.maxWidth,height:M.maxHeight},{width:l,height:d});if(F=P.newWidth,A=P.newHeight,this.props.grid){var H=Kp(F,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),q=Kp(A,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),k=this.props.snapGap||0,W=k===0||Math.abs(H-F)<=k?H:F,Q=k===0||Math.abs(q-A)<=k?q:A;F=W,A=Q}var J={width:F-D.width,height:A-D.height};if(C&&typeof C=="string"){if(C.endsWith("%")){var G=F/w.width*100;F=G+"%"}else if(C.endsWith("vw")){var N=F/this.window.innerWidth*100;F=N+"vw"}else if(C.endsWith("vh")){var $=F/this.window.innerHeight*100;F=$+"vh"}}if(v&&typeof v=="string"){if(v.endsWith("%")){var G=A/w.height*100;A=G+"%"}else if(v.endsWith("vw")){var N=A/this.window.innerWidth*100;A=N+"vw"}else if(v.endsWith("vh")){var $=A/this.window.innerHeight*100;A=$+"vh"}}var z={width:this.createSizeForCssProperty(F,"width"),height:this.createSizeForCssProperty(A,"height")};this.flexDir==="row"?z.flexBasis=z.width:this.flexDir==="column"&&(z.flexBasis=z.height);var U=this.state.width!==z.width,ee=this.state.height!==z.height,L=this.state.flexBasis!==z.flexBasis,te=U||ee||L;te&&g0.flushSync(function(){i.setState(z)}),this.props.onResize&&te&&this.props.onResize(n,m,this.resizable,J)}},t.prototype.onMouseUp=function(n){var i,o,a=this.state,u=a.isResizing,l=a.direction,d=a.original;if(!(!u||!this.resizable)){var f={width:this.size.width-d.width,height:this.size.height-d.height};this.props.onResizeStop&&this.props.onResizeStop(n,l,this.resizable,f),this.props.size&&this.setState({width:(i=this.props.size.width)!==null&&i!==void 0?i:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Kn(Kn({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(n){var i,o;this.setState({width:(i=n.width)!==null&&i!==void 0?i:"auto",height:(o=n.height)!==null&&o!==void 0?o:"auto"})},t.prototype.renderResizer=function(){var n=this,i=this.props,o=i.enable,a=i.handleStyles,u=i.handleClasses,l=i.handleWrapperStyle,d=i.handleWrapperClass,f=i.handleComponent;if(!o)return null;var h=Object.keys(o).map(function(g){return o[g]!==!1?S.createElement(S8,{key:g,direction:g,onResizeStart:n.onResizeStart,replaceStyles:a&&a[g],className:u&&u[g]},f&&f[g]?f[g]:null):null});return S.createElement("div",{className:d,style:l},h)},t.prototype.render=function(){var n=this,i=Object.keys(this.props).reduce(function(u,l){return B8.indexOf(l)!==-1||(u[l]=n.props[l]),u},{}),o=Kn(Kn(Kn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var a=this.props.as||"div";return S.createElement(a,Kn({style:o,className:this.props.className},i,{ref:function(u){u&&(n.resizable=u)}}),this.state.isResizing&&S.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(S.PureComponent);const e0="jdmEditor:graphPanel:height",sm=()=>{const e=Et(),{panels:t,activePanel:n}=st(({panels:a,activePanel:u})=>({panels:a,activePanel:u})),i=S.useMemo(()=>n===void 0?void 0:(t||[]).find(a=>a.id===n),[n,t]),o=S.useMemo(()=>Number.parseFloat(localStorage.getItem(e0)??"")??300,[i]);return i?E.jsxs(R8,{className:"grl-dg__panel",defaultSize:{height:o},handleStyles:{bottom:{display:"none"},left:{display:"none"},topLeft:{display:"none"},topRight:{display:"none"},right:{display:"none"},bottomLeft:{display:"none"},bottomRight:{display:"none"}},maxHeight:400,minHeight:150,onResize:(a,u,l)=>{localStorage.setItem(e0,l.clientHeight.toString())},children:[!i.hideHeader&&E.jsxs("div",{className:"grl-dg__panel__toolbar",children:[E.jsx("div",{className:"grl-dg__panel__toolbar__content",children:E.jsx(wt.Text,{style:{fontSize:13},children:i.title})}),E.jsx("div",{className:"grl-dg__panel__toolbar__actions",children:E.jsx(Qn,{placement:"topLeft",title:"Close panel",children:E.jsx(et,{size:"small",type:"text",icon:E.jsx(gi,{style:{fontSize:12}}),onClick:()=>e.setActivePanel(void 0)})})})]}),E.jsx("div",{className:"grl-dg__panel__content",children:i?.renderPanel?.({})})]}):null};sm.__docgenInfo={description:"",methods:[],displayName:"GraphPanel"};var We;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const a={};for(const u of o)a[u]=u;return a},e.getValidEnumValues=o=>{const a=e.objectKeys(o).filter(l=>typeof o[o[l]]!="number"),u={};for(const l of a)u[l]=o[l];return e.objectValues(u)},e.objectValues=o=>e.objectKeys(o).map(function(a){return o[a]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.push(u);return a},e.find=(o,a)=>{for(const u of o)if(a(u))return u},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function i(o,a=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}e.joinValues=i,e.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(We||(We={}));var Hl;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Hl||(Hl={}));const ce=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Lr=e=>{switch(typeof e){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(e)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(e)?ce.array:e===null?ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ce.promise:typeof Map<"u"&&e instanceof Map?ce.map:typeof Set<"u"&&e instanceof Set?ce.set:typeof Date<"u"&&e instanceof Date?ce.date:ce.object;default:return ce.unknown}},ie=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),k8=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class hn extends Error{constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(a){return a.message},i={_errors:[]},o=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)i._errors.push(n(u));else{let l=i,d=0;for(;d<u.path.length;){const f=u.path[d];d===u.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(n(u))):l[f]=l[f]||{_errors:[]},l=l[f],d++}}};return o(this),i}static assert(t){if(!(t instanceof hn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):i.push(t(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}hn.create=e=>new hn(e);const rs=(e,t)=>{let n;switch(e.code){case ie.invalid_type:e.received===ce.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ie.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,We.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:n=`Unrecognized key(s) in object: ${We.joinValues(e.keys,", ")}`;break;case ie.invalid_union:n="Invalid input";break;case ie.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${We.joinValues(e.options)}`;break;case ie.invalid_enum_value:n=`Invalid enum value. Expected ${We.joinValues(e.options)}, received '${e.received}'`;break;case ie.invalid_arguments:n="Invalid function arguments";break;case ie.invalid_return_type:n="Invalid function return type";break;case ie.invalid_date:n="Invalid date";break;case ie.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:We.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ie.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ie.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ie.custom:n="Invalid input";break;case ie.invalid_intersection_types:n="Intersection results could not be merged";break;case ie.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ie.not_finite:n="Number must be finite";break;default:n=t.defaultError,We.assertNever(e)}return{message:n}};let om=rs;function M8(e){om=e}function Ja(){return om}const Qa=e=>{const{data:t,path:n,errorMaps:i,issueData:o}=e,a=[...n,...o.path||[]],u={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let l="";const d=i.filter(f=>!!f).slice().reverse();for(const f of d)l=f(u,{data:t,defaultError:l}).message;return{...o,path:a,message:l}},O8=[];function ue(e,t){const n=Ja(),i=Qa({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===rs?void 0:rs].filter(o=>!!o)});e.common.issues.push(i)}class $t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const o of n){if(o.status==="aborted")return be;o.status==="dirty"&&t.dirty(),i.push(o.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const o of n){const a=await o.key,u=await o.value;i.push({key:a,value:u})}return $t.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const o of n){const{key:a,value:u}=o;if(a.status==="aborted"||u.status==="aborted")return be;a.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(i[a.value]=u.value)}return{status:t.value,value:i}}}const be=Object.freeze({status:"aborted"}),Gi=e=>({status:"dirty",value:e}),Ut=e=>({status:"valid",value:e}),Vl=e=>e.status==="aborted",Ul=e=>e.status==="dirty",so=e=>e.status==="valid",oo=e=>typeof Promise<"u"&&e instanceof Promise;function eu(e,t,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function am(e,t,n,i,o){if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var ge;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(ge||(ge={}));var Ws,Gs;class nr{constructor(t,n,i,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const t0=(e,t)=>{if(so(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new hn(e.common.issues);return this._error=n,this._error}}};function Ne(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:o}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(u,l)=>{var d,f;const{message:h}=e;return u.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(d=h??i)!==null&&d!==void 0?d:l.defaultError}:u.code!=="invalid_type"?{message:l.defaultError}:{message:(f=h??n)!==null&&f!==void 0?f:l.defaultError}},description:o}}class Be{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Lr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Lr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $t,ctx:{common:t.parent.common,data:t.data,parsedType:Lr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(oo(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){var i;const o={common:{issues:[],async:(i=n?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Lr(t)},a=this._parseSync({data:t,path:o.path,parent:o});return t0(o,a)}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Lr(t)},o=this._parse({data:t,path:i.path,parent:i}),a=await(oo(o)?o:Promise.resolve(o));return t0(i,a)}refine(t,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,a)=>{const u=t(o),l=()=>a.addIssue({code:ie.custom,...i(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(d=>d?!0:(l(),!1)):u?!0:(l(),!1)})}refinement(t,n){return this._refinement((i,o)=>t(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(t){return new Un({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return tr.create(this,this._def)}nullable(){return Yr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hn.create(this,this._def)}promise(){return ss.create(this,this._def)}or(t){return lo.create([this,t],this._def)}and(t){return fo.create(this,t,this._def)}transform(t){return new Un({...Ne(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new yo({...Ne(this._def),innerType:this,defaultValue:n,typeName:we.ZodDefault})}brand(){return new bd({typeName:we.ZodBranded,type:this,...Ne(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new vo({...Ne(this._def),innerType:this,catchValue:n,typeName:we.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Co.create(this,t)}readonly(){return _o.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const z8=/^c[^\s-]{8,}$/i,$8=/^[0-9a-z]+$/,P8=/^[0-9A-HJKMNP-TV-Z]{26}$/,j8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L8=/^[a-z0-9_-]{21}$/i,H8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,V8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,U8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let fl;const W8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G8=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Z8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,um="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",q8=new RegExp(`^${um}$`);function cm(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Y8(e){return new RegExp(`^${cm(e)}$`)}function lm(e){let t=`${um}T${cm(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function X8(e,t){return!!((t==="v4"||!t)&&W8.test(e)||(t==="v6"||!t)&&G8.test(e))}class Pn extends Be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ce.string){const a=this._getOrReturnCtx(t);return ue(a,{code:ie.invalid_type,expected:ce.string,received:a.parsedType}),be}const i=new $t;let o;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")t.data.length>a.value&&(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const u=t.data.length>a.value,l=t.data.length<a.value;(u||l)&&(o=this._getOrReturnCtx(t,o),u?ue(o,{code:ie.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ue(o,{code:ie.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")V8.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"email",code:ie.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")fl||(fl=new RegExp(U8,"u")),fl.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"emoji",code:ie.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")j8.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"uuid",code:ie.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")L8.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"nanoid",code:ie.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")z8.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"cuid",code:ie.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")$8.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"cuid2",code:ie.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")P8.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"ulid",code:ie.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),ue(o,{validation:"url",code:ie.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"regex",code:ie.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?lm(a).test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?q8.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?Y8(a).test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?H8.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"duration",code:ie.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?X8(t.data,a.version)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"ip",code:ie.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?Z8.test(t.data)||(o=this._getOrReturnCtx(t,o),ue(o,{validation:"base64",code:ie.invalid_string,message:a.message}),i.dirty()):We.assertNever(a);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(o=>t.test(o),{validation:n,code:ie.invalid_string,...ge.errToObj(i)})}_addCheck(t){return new Pn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ge.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ge.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ge.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ge.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ge.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ge.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ge.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ge.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ge.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ge.errToObj(t)})}datetime(t){var n,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,local:(i=t?.local)!==null&&i!==void 0?i:!1,...ge.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...ge.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...ge.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ge.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...ge.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ge.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ge.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ge.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ge.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ge.errToObj(n)})}nonempty(t){return this.min(1,ge.errToObj(t))}trim(){return new Pn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Pn.create=e=>{var t;return new Pn({checks:[],typeName:we.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ne(e)})};function K8(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=n>i?n:i,a=parseInt(e.toFixed(o).replace(".","")),u=parseInt(t.toFixed(o).replace(".",""));return a%u/Math.pow(10,o)}class Gr extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ce.number){const a=this._getOrReturnCtx(t);return ue(a,{code:ie.invalid_type,expected:ce.number,received:a.parsedType}),be}let i;const o=new $t;for(const a of this._def.checks)a.kind==="int"?We.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),ue(i,{code:ie.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:ie.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:ie.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?K8(t.data,a.value)!==0&&(i=this._getOrReturnCtx(t,i),ue(i,{code:ie.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),ue(i,{code:ie.not_finite,message:a.message}),o.dirty()):We.assertNever(a);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ge.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ge.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ge.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ge.toString(n))}setLimit(t,n,i,o){return new Gr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:ge.toString(o)}]})}_addCheck(t){return new Gr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ge.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ge.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ge.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&We.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Gr.create=e=>new Gr({checks:[],typeName:we.ZodNumber,coerce:e?.coerce||!1,...Ne(e)});class Zr extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ce.bigint){const a=this._getOrReturnCtx(t);return ue(a,{code:ie.invalid_type,expected:ce.bigint,received:a.parsedType}),be}let i;const o=new $t;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:ie.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:ie.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),ue(i,{code:ie.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):We.assertNever(a);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ge.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ge.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ge.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ge.toString(n))}setLimit(t,n,i,o){return new Zr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:ge.toString(o)}]})}_addCheck(t){return new Zr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ge.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Zr.create=e=>{var t;return new Zr({checks:[],typeName:we.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ne(e)})};class ao extends Be{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ce.boolean){const i=this._getOrReturnCtx(t);return ue(i,{code:ie.invalid_type,expected:ce.boolean,received:i.parsedType}),be}return Ut(t.data)}}ao.create=e=>new ao({typeName:we.ZodBoolean,coerce:e?.coerce||!1,...Ne(e)});class _i extends Be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ce.date){const a=this._getOrReturnCtx(t);return ue(a,{code:ie.invalid_type,expected:ce.date,received:a.parsedType}),be}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ue(a,{code:ie.invalid_date}),be}const i=new $t;let o;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(o=this._getOrReturnCtx(t,o),ue(o,{code:ie.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):We.assertNever(a);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new _i({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ge.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ge.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}_i.create=e=>new _i({checks:[],coerce:e?.coerce||!1,typeName:we.ZodDate,...Ne(e)});class tu extends Be{_parse(t){if(this._getType(t)!==ce.symbol){const i=this._getOrReturnCtx(t);return ue(i,{code:ie.invalid_type,expected:ce.symbol,received:i.parsedType}),be}return Ut(t.data)}}tu.create=e=>new tu({typeName:we.ZodSymbol,...Ne(e)});class uo extends Be{_parse(t){if(this._getType(t)!==ce.undefined){const i=this._getOrReturnCtx(t);return ue(i,{code:ie.invalid_type,expected:ce.undefined,received:i.parsedType}),be}return Ut(t.data)}}uo.create=e=>new uo({typeName:we.ZodUndefined,...Ne(e)});class co extends Be{_parse(t){if(this._getType(t)!==ce.null){const i=this._getOrReturnCtx(t);return ue(i,{code:ie.invalid_type,expected:ce.null,received:i.parsedType}),be}return Ut(t.data)}}co.create=e=>new co({typeName:we.ZodNull,...Ne(e)});class is extends Be{constructor(){super(...arguments),this._any=!0}_parse(t){return Ut(t.data)}}is.create=e=>new is({typeName:we.ZodAny,...Ne(e)});class pi extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ut(t.data)}}pi.create=e=>new pi({typeName:we.ZodUnknown,...Ne(e)});class Sr extends Be{_parse(t){const n=this._getOrReturnCtx(t);return ue(n,{code:ie.invalid_type,expected:ce.never,received:n.parsedType}),be}}Sr.create=e=>new Sr({typeName:we.ZodNever,...Ne(e)});class nu extends Be{_parse(t){if(this._getType(t)!==ce.undefined){const i=this._getOrReturnCtx(t);return ue(i,{code:ie.invalid_type,expected:ce.void,received:i.parsedType}),be}return Ut(t.data)}}nu.create=e=>new nu({typeName:we.ZodVoid,...Ne(e)});class Hn extends Be{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),o=this._def;if(n.parsedType!==ce.array)return ue(n,{code:ie.invalid_type,expected:ce.array,received:n.parsedType}),be;if(o.exactLength!==null){const u=n.data.length>o.exactLength.value,l=n.data.length<o.exactLength.value;(u||l)&&(ue(n,{code:u?ie.too_big:ie.too_small,minimum:l?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(ue(n,{code:ie.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(ue(n,{code:ie.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((u,l)=>o.type._parseAsync(new nr(n,u,n.path,l)))).then(u=>$t.mergeArray(i,u));const a=[...n.data].map((u,l)=>o.type._parseSync(new nr(n,u,n.path,l)));return $t.mergeArray(i,a)}get element(){return this._def.type}min(t,n){return new Hn({...this._def,minLength:{value:t,message:ge.toString(n)}})}max(t,n){return new Hn({...this._def,maxLength:{value:t,message:ge.toString(n)}})}length(t,n){return new Hn({...this._def,exactLength:{value:t,message:ge.toString(n)}})}nonempty(t){return this.min(1,t)}}Hn.create=(e,t)=>new Hn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Ne(t)});function Vi(e){if(e instanceof lt){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=tr.create(Vi(i))}return new lt({...e._def,shape:()=>t})}else return e instanceof Hn?new Hn({...e._def,type:Vi(e.element)}):e instanceof tr?tr.create(Vi(e.unwrap())):e instanceof Yr?Yr.create(Vi(e.unwrap())):e instanceof rr?rr.create(e.items.map(t=>Vi(t))):e}class lt extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=We.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==ce.object){const f=this._getOrReturnCtx(t);return ue(f,{code:ie.invalid_type,expected:ce.object,received:f.parsedType}),be}const{status:i,ctx:o}=this._processInputParams(t),{shape:a,keys:u}=this._getCached(),l=[];if(!(this._def.catchall instanceof Sr&&this._def.unknownKeys==="strip"))for(const f in o.data)u.includes(f)||l.push(f);const d=[];for(const f of u){const h=a[f],g=o.data[f];d.push({key:{status:"valid",value:f},value:h._parse(new nr(o,g,o.path,f)),alwaysSet:f in o.data})}if(this._def.catchall instanceof Sr){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of l)d.push({key:{status:"valid",value:h},value:{status:"valid",value:o.data[h]}});else if(f==="strict")l.length>0&&(ue(o,{code:ie.unrecognized_keys,keys:l}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of l){const g=o.data[h];d.push({key:{status:"valid",value:h},value:f._parse(new nr(o,g,o.path,h)),alwaysSet:h in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of d){const g=await h.key,m=await h.value;f.push({key:g,value:m,alwaysSet:h.alwaysSet})}return f}).then(f=>$t.mergeObjectSync(i,f)):$t.mergeObjectSync(i,d)}get shape(){return this._def.shape()}strict(t){return ge.errToObj,new lt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var o,a,u,l;const d=(u=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,n,i).message)!==null&&u!==void 0?u:i.defaultError;return n.code==="unrecognized_keys"?{message:(l=ge.errToObj(t).message)!==null&&l!==void 0?l:d}:{message:d}}}:{}})}strip(){return new lt({...this._def,unknownKeys:"strip"})}passthrough(){return new lt({...this._def,unknownKeys:"passthrough"})}extend(t){return new lt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new lt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:we.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new lt({...this._def,catchall:t})}pick(t){const n={};return We.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new lt({...this._def,shape:()=>n})}omit(t){const n={};return We.objectKeys(this.shape).forEach(i=>{t[i]||(n[i]=this.shape[i])}),new lt({...this._def,shape:()=>n})}deepPartial(){return Vi(this)}partial(t){const n={};return We.objectKeys(this.shape).forEach(i=>{const o=this.shape[i];t&&!t[i]?n[i]=o:n[i]=o.optional()}),new lt({...this._def,shape:()=>n})}required(t){const n={};return We.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof tr;)a=a._def.innerType;n[i]=a}}),new lt({...this._def,shape:()=>n})}keyof(){return dm(We.objectKeys(this.shape))}}lt.create=(e,t)=>new lt({shape:()=>e,unknownKeys:"strip",catchall:Sr.create(),typeName:we.ZodObject,...Ne(t)});lt.strictCreate=(e,t)=>new lt({shape:()=>e,unknownKeys:"strict",catchall:Sr.create(),typeName:we.ZodObject,...Ne(t)});lt.lazycreate=(e,t)=>new lt({shape:e,unknownKeys:"strip",catchall:Sr.create(),typeName:we.ZodObject,...Ne(t)});class lo extends Be{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function o(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const u=a.map(l=>new hn(l.ctx.common.issues));return ue(n,{code:ie.invalid_union,unionErrors:u}),be}if(n.common.async)return Promise.all(i.map(async a=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(o);{let a;const u=[];for(const d of i){const f={...n,common:{...n.common,issues:[]},parent:null},h=d._parseSync({data:n.data,path:n.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:f}),f.common.issues.length&&u.push(f.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=u.map(d=>new hn(d));return ue(n,{code:ie.invalid_union,unionErrors:l}),be}}get options(){return this._def.options}}lo.create=(e,t)=>new lo({options:e,typeName:we.ZodUnion,...Ne(t)});const _r=e=>e instanceof po?_r(e.schema):e instanceof Un?_r(e.innerType()):e instanceof go?[e.value]:e instanceof qr?e.options:e instanceof mo?We.objectValues(e.enum):e instanceof yo?_r(e._def.innerType):e instanceof uo?[void 0]:e instanceof co?[null]:e instanceof tr?[void 0,..._r(e.unwrap())]:e instanceof Yr?[null,..._r(e.unwrap())]:e instanceof bd||e instanceof _o?_r(e.unwrap()):e instanceof vo?_r(e._def.innerType):[];class gu extends Be{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.object)return ue(n,{code:ie.invalid_type,expected:ce.object,received:n.parsedType}),be;const i=this.discriminator,o=n.data[i],a=this.optionsMap.get(o);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(ue(n,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,i){const o=new Map;for(const a of n){const u=_r(a.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of u){if(o.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);o.set(l,a)}}return new gu({typeName:we.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...Ne(i)})}}function Wl(e,t){const n=Lr(e),i=Lr(t);if(e===t)return{valid:!0,data:e};if(n===ce.object&&i===ce.object){const o=We.objectKeys(t),a=We.objectKeys(e).filter(l=>o.indexOf(l)!==-1),u={...e,...t};for(const l of a){const d=Wl(e[l],t[l]);if(!d.valid)return{valid:!1};u[l]=d.data}return{valid:!0,data:u}}else if(n===ce.array&&i===ce.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let a=0;a<e.length;a++){const u=e[a],l=t[a],d=Wl(u,l);if(!d.valid)return{valid:!1};o.push(d.data)}return{valid:!0,data:o}}else return n===ce.date&&i===ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class fo extends Be{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=(a,u)=>{if(Vl(a)||Vl(u))return be;const l=Wl(a.value,u.value);return l.valid?((Ul(a)||Ul(u))&&n.dirty(),{status:n.value,value:l.data}):(ue(i,{code:ie.invalid_intersection_types}),be)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,u])=>o(a,u)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}fo.create=(e,t,n)=>new fo({left:e,right:t,typeName:we.ZodIntersection,...Ne(n)});class rr extends Be{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==ce.array)return ue(i,{code:ie.invalid_type,expected:ce.array,received:i.parsedType}),be;if(i.data.length<this._def.items.length)return ue(i,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&i.data.length>this._def.items.length&&(ue(i,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((u,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new nr(i,u,i.path,l)):null}).filter(u=>!!u);return i.common.async?Promise.all(a).then(u=>$t.mergeArray(n,u)):$t.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new rr({...this._def,rest:t})}}rr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rr({items:e,typeName:we.ZodTuple,rest:null,...Ne(t)})};class ho extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==ce.object)return ue(i,{code:ie.invalid_type,expected:ce.object,received:i.parsedType}),be;const o=[],a=this._def.keyType,u=this._def.valueType;for(const l in i.data)o.push({key:a._parse(new nr(i,l,i.path,l)),value:u._parse(new nr(i,i.data[l],i.path,l)),alwaysSet:l in i.data});return i.common.async?$t.mergeObjectAsync(n,o):$t.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof Be?new ho({keyType:t,valueType:n,typeName:we.ZodRecord,...Ne(i)}):new ho({keyType:Pn.create(),valueType:t,typeName:we.ZodRecord,...Ne(n)})}}class ru extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==ce.map)return ue(i,{code:ie.invalid_type,expected:ce.map,received:i.parsedType}),be;const o=this._def.keyType,a=this._def.valueType,u=[...i.data.entries()].map(([l,d],f)=>({key:o._parse(new nr(i,l,i.path,[f,"key"])),value:a._parse(new nr(i,d,i.path,[f,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of u){const f=await d.key,h=await d.value;if(f.status==="aborted"||h.status==="aborted")return be;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(f.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const d of u){const f=d.key,h=d.value;if(f.status==="aborted"||h.status==="aborted")return be;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(f.value,h.value)}return{status:n.value,value:l}}}}ru.create=(e,t,n)=>new ru({valueType:t,keyType:e,typeName:we.ZodMap,...Ne(n)});class Di extends Be{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==ce.set)return ue(i,{code:ie.invalid_type,expected:ce.set,received:i.parsedType}),be;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ue(i,{code:ie.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ue(i,{code:ie.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const a=this._def.valueType;function u(d){const f=new Set;for(const h of d){if(h.status==="aborted")return be;h.status==="dirty"&&n.dirty(),f.add(h.value)}return{status:n.value,value:f}}const l=[...i.data.values()].map((d,f)=>a._parse(new nr(i,d,i.path,f)));return i.common.async?Promise.all(l).then(d=>u(d)):u(l)}min(t,n){return new Di({...this._def,minSize:{value:t,message:ge.toString(n)}})}max(t,n){return new Di({...this._def,maxSize:{value:t,message:ge.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Di.create=(e,t)=>new Di({valueType:e,minSize:null,maxSize:null,typeName:we.ZodSet,...Ne(t)});class Ki extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.function)return ue(n,{code:ie.invalid_type,expected:ce.function,received:n.parsedType}),be;function i(l,d){return Qa({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ja(),rs].filter(f=>!!f),issueData:{code:ie.invalid_arguments,argumentsError:d}})}function o(l,d){return Qa({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ja(),rs].filter(f=>!!f),issueData:{code:ie.invalid_return_type,returnTypeError:d}})}const a={errorMap:n.common.contextualErrorMap},u=n.data;if(this._def.returns instanceof ss){const l=this;return Ut(async function(...d){const f=new hn([]),h=await l._def.args.parseAsync(d,a).catch(D=>{throw f.addIssue(i(d,D)),f}),g=await Reflect.apply(u,this,h);return await l._def.returns._def.type.parseAsync(g,a).catch(D=>{throw f.addIssue(o(g,D)),f})})}else{const l=this;return Ut(function(...d){const f=l._def.args.safeParse(d,a);if(!f.success)throw new hn([i(d,f.error)]);const h=Reflect.apply(u,this,f.data),g=l._def.returns.safeParse(h,a);if(!g.success)throw new hn([o(h,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ki({...this._def,args:rr.create(t).rest(pi.create())})}returns(t){return new Ki({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,i){return new Ki({args:t||rr.create([]).rest(pi.create()),returns:n||pi.create(),typeName:we.ZodFunction,...Ne(i)})}}class po extends Be{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}po.create=(e,t)=>new po({getter:e,typeName:we.ZodLazy,...Ne(t)});class go extends Be{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ue(n,{received:n.data,code:ie.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:t.data}}get value(){return this._def.value}}go.create=(e,t)=>new go({value:e,typeName:we.ZodLiteral,...Ne(t)});function dm(e,t){return new qr({values:e,typeName:we.ZodEnum,...Ne(t)})}class qr extends Be{constructor(){super(...arguments),Ws.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return ue(n,{expected:We.joinValues(i),received:n.parsedType,code:ie.invalid_type}),be}if(eu(this,Ws)||am(this,Ws,new Set(this._def.values)),!eu(this,Ws).has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return ue(n,{received:n.data,code:ie.invalid_enum_value,options:i}),be}return Ut(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return qr.create(t,{...this._def,...n})}exclude(t,n=this._def){return qr.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}Ws=new WeakMap;qr.create=dm;class mo extends Be{constructor(){super(...arguments),Gs.set(this,void 0)}_parse(t){const n=We.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==ce.string&&i.parsedType!==ce.number){const o=We.objectValues(n);return ue(i,{expected:We.joinValues(o),received:i.parsedType,code:ie.invalid_type}),be}if(eu(this,Gs)||am(this,Gs,new Set(We.getValidEnumValues(this._def.values))),!eu(this,Gs).has(t.data)){const o=We.objectValues(n);return ue(i,{received:i.data,code:ie.invalid_enum_value,options:o}),be}return Ut(t.data)}get enum(){return this._def.values}}Gs=new WeakMap;mo.create=(e,t)=>new mo({values:e,typeName:we.ZodNativeEnum,...Ne(t)});class ss extends Be{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ce.promise&&n.common.async===!1)return ue(n,{code:ie.invalid_type,expected:ce.promise,received:n.parsedType}),be;const i=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return Ut(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ss.create=(e,t)=>new ss({type:e,typeName:we.ZodPromise,...Ne(t)});class Un extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=this._def.effect||null,a={addIssue:u=>{ue(i,u),u.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const u=o.transform(i.data,a);if(i.common.async)return Promise.resolve(u).then(async l=>{if(n.value==="aborted")return be;const d=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return d.status==="aborted"?be:d.status==="dirty"||n.value==="dirty"?Gi(d.value):d});{if(n.value==="aborted")return be;const l=this._def.schema._parseSync({data:u,path:i.path,parent:i});return l.status==="aborted"?be:l.status==="dirty"||n.value==="dirty"?Gi(l.value):l}}if(o.type==="refinement"){const u=l=>{const d=o.refinement(l,a);if(i.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?be:(l.status==="dirty"&&n.dirty(),u(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?be:(l.status==="dirty"&&n.dirty(),u(l.value).then(()=>({status:n.value,value:l.value}))))}if(o.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!so(u))return u;const l=o.transform(u.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>so(u)?Promise.resolve(o.transform(u.value,a)).then(l=>({status:n.value,value:l})):u);We.assertNever(o)}}Un.create=(e,t,n)=>new Un({schema:e,typeName:we.ZodEffects,effect:t,...Ne(n)});Un.createWithPreprocess=(e,t,n)=>new Un({schema:t,effect:{type:"preprocess",transform:e},typeName:we.ZodEffects,...Ne(n)});class tr extends Be{_parse(t){return this._getType(t)===ce.undefined?Ut(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tr.create=(e,t)=>new tr({innerType:e,typeName:we.ZodOptional,...Ne(t)});class Yr extends Be{_parse(t){return this._getType(t)===ce.null?Ut(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yr.create=(e,t)=>new Yr({innerType:e,typeName:we.ZodNullable,...Ne(t)});class yo extends Be{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===ce.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}yo.create=(e,t)=>new yo({innerType:e,typeName:we.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ne(t)});class vo extends Be{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return oo(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hn(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new hn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}vo.create=(e,t)=>new vo({innerType:e,typeName:we.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ne(t)});class iu extends Be{_parse(t){if(this._getType(t)!==ce.nan){const i=this._getOrReturnCtx(t);return ue(i,{code:ie.invalid_type,expected:ce.nan,received:i.parsedType}),be}return{status:"valid",value:t.data}}}iu.create=e=>new iu({typeName:we.ZodNaN,...Ne(e)});const J8=Symbol("zod_brand");class bd extends Be{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Co extends Be{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?be:a.status==="dirty"?(n.dirty(),Gi(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?be:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(t,n){return new Co({in:t,out:n,typeName:we.ZodPipeline})}}class _o extends Be{_parse(t){const n=this._def.innerType._parse(t),i=o=>(so(o)&&(o.value=Object.freeze(o.value)),o);return oo(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}_o.create=(e,t)=>new _o({innerType:e,typeName:we.ZodReadonly,...Ne(t)});function fm(e,t={},n){return e?is.create().superRefine((i,o)=>{var a,u;if(!e(i)){const l=typeof t=="function"?t(i):typeof t=="string"?{message:t}:t,d=(u=(a=l.fatal)!==null&&a!==void 0?a:n)!==null&&u!==void 0?u:!0,f=typeof l=="string"?{message:l}:l;o.addIssue({code:"custom",...f,fatal:d})}}):is.create()}const Q8={object:lt.lazycreate};var we;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(we||(we={}));const e4=(e,t={message:`Input not instance of ${e.name}`})=>fm(n=>n instanceof e,t),hm=Pn.create,pm=Gr.create,t4=iu.create,n4=Zr.create,gm=ao.create,r4=_i.create,i4=tu.create,s4=uo.create,o4=co.create,a4=is.create,u4=pi.create,c4=Sr.create,l4=nu.create,d4=Hn.create,f4=lt.create,h4=lt.strictCreate,p4=lo.create,g4=gu.create,m4=fo.create,y4=rr.create,v4=ho.create,_4=ru.create,D4=Di.create,x4=Ki.create,w4=po.create,b4=go.create,C4=qr.create,E4=mo.create,S4=ss.create,n0=Un.create,A4=tr.create,N4=Yr.create,F4=Un.createWithPreprocess,T4=Co.create,I4=()=>hm().optional(),B4=()=>pm().optional(),R4=()=>gm().optional(),k4={string:e=>Pn.create({...e,coerce:!0}),number:e=>Gr.create({...e,coerce:!0}),boolean:e=>ao.create({...e,coerce:!0}),bigint:e=>Zr.create({...e,coerce:!0}),date:e=>_i.create({...e,coerce:!0})},M4=be;var se=Object.freeze({__proto__:null,defaultErrorMap:rs,setErrorMap:M8,getErrorMap:Ja,makeIssue:Qa,EMPTY_PATH:O8,addIssueToContext:ue,ParseStatus:$t,INVALID:be,DIRTY:Gi,OK:Ut,isAborted:Vl,isDirty:Ul,isValid:so,isAsync:oo,get util(){return We},get objectUtil(){return Hl},ZodParsedType:ce,getParsedType:Lr,ZodType:Be,datetimeRegex:lm,ZodString:Pn,ZodNumber:Gr,ZodBigInt:Zr,ZodBoolean:ao,ZodDate:_i,ZodSymbol:tu,ZodUndefined:uo,ZodNull:co,ZodAny:is,ZodUnknown:pi,ZodNever:Sr,ZodVoid:nu,ZodArray:Hn,ZodObject:lt,ZodUnion:lo,ZodDiscriminatedUnion:gu,ZodIntersection:fo,ZodTuple:rr,ZodRecord:ho,ZodMap:ru,ZodSet:Di,ZodFunction:Ki,ZodLazy:po,ZodLiteral:go,ZodEnum:qr,ZodNativeEnum:mo,ZodPromise:ss,ZodEffects:Un,ZodTransformer:Un,ZodOptional:tr,ZodNullable:Yr,ZodDefault:yo,ZodCatch:vo,ZodNaN:iu,BRAND:J8,ZodBranded:bd,ZodPipeline:Co,ZodReadonly:_o,custom:fm,Schema:Be,ZodSchema:Be,late:Q8,get ZodFirstPartyTypeKind(){return we},coerce:k4,any:a4,array:d4,bigint:n4,boolean:gm,date:r4,discriminatedUnion:g4,effect:n0,enum:C4,function:x4,instanceof:e4,intersection:m4,lazy:w4,literal:b4,map:_4,nan:t4,nativeEnum:E4,never:c4,null:o4,nullable:N4,number:pm,object:f4,oboolean:R4,onumber:B4,optional:A4,ostring:I4,pipeline:T4,preprocess:F4,promise:S4,record:v4,set:D4,strictObject:h4,string:hm,symbol:i4,transformer:n0,tuple:y4,undefined:s4,union:p4,unknown:u4,void:l4,NEVER:M4,ZodIssueCode:ie,quotelessJson:k8,ZodError:hn});const Do=se.string().default(crypto.randomUUID);var mm=(e=>(e.Input="inputNode",e.Output="outputNode",e.DecisionTable="decisionTableNode",e.Function="functionNode",e.Expression="expressionNode",e.Switch="switchNode",e.Decision="decisionNode",e))(mm||{});const O4="customNode",Ar=se.object({id:Do,name:se.string(),position:se.object({x:se.number(),y:se.number()}).default({x:0,y:0})}),z4=se.object({type:se.literal("inputNode")}).merge(Ar),$4=se.object({type:se.literal("outputNode")}).merge(Ar),P4=se.object({type:se.literal("decisionTableNode"),content:se.object({hitPolicy:se.enum(["first","collect"]).nullish().transform(e=>e??"first"),rules:se.array(se.record(se.string(),se.string().nullish().transform(e=>e??""))).default([]),inputs:se.array(se.object({id:Do,name:se.string().nullish(),field:se.string().nullish(),defaultValue:se.string().nullish()})),outputs:se.array(se.object({id:Do,name:se.string(),field:se.string(),defaultValue:se.string().nullish()})),passThrough:se.boolean().nullish().transform(e=>e??!1),inputField:se.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),outputPath:se.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),executionMode:se.enum(["single","loop"]).nullish().transform(e=>e??"single")})}).merge(Ar),j4=se.object({type:se.literal("functionNode"),content:se.string().or(se.object({source:se.string().default("")})).nullish()}).merge(Ar),L4=se.object({type:se.literal("expressionNode"),content:se.object({expressions:se.array(se.object({id:Do,key:se.string().default(""),value:se.string().default("")})),passThrough:se.boolean().nullish().transform(e=>e??!1),inputField:se.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),outputPath:se.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),executionMode:se.enum(["single","loop"]).nullish().transform(e=>e??"single")})}).merge(Ar),H4=se.object({type:se.literal("decisionNode"),content:se.object({key:se.string(),passThrough:se.boolean().nullish().transform(e=>e??!1),inputField:se.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),outputPath:se.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),executionMode:se.enum(["single","loop"]).nullish().transform(e=>e??"single")})}).merge(Ar),V4=se.object({type:se.literal("switchNode"),content:se.object({hitPolicy:se.enum(["first","collect"]).nullish().transform(e=>e??"first"),statements:se.array(se.object({id:Do,condition:se.string().nullish().transform(e=>e??""),isDefault:se.boolean().nullish().transform(e=>e??!1)}))})}).merge(Ar),U4=se.object({type:se.literal(O4),content:se.object({kind:se.string(),config:se.any()})}).merge(Ar),W4=se.object({type:se.string().refine(e=>!Object.values(mm).includes(e),{message:"Invalid type"}),content:se.any().nullish()}).merge(Ar),Gl=se.discriminatedUnion("type",[H4,L4,j4,P4,V4,U4,z4,$4]).or(W4),G4=se.object({id:se.string(),sourceId:se.string(),targetId:se.string(),sourceHandle:se.string().nullish(),type:se.enum(["edge"])}),Z4=se.object({inputSchema:se.any().nullish().default(null),outputSchema:se.any().nullish().default(null)}),q4=se.object({validation:Z4}).default({validation:{inputSchema:null,outputSchema:null}}),r0=se.object({nodes:se.array(Gl).default([]),edges:se.array(G4).default([]),settings:q4}),ym=e=>{const t=Et(),{id:n,sourceX:i,sourceY:o,targetX:a,targetY:u,sourcePosition:l,targetPosition:d,style:f={},markerEnd:h}=e,{isHovered:g,disabled:m}=st(({hoveredEdgeId:_,disabled:T})=>({isHovered:_===n,disabled:T})),{diff:D}=f8(n),[C,v,w]=dd({sourceX:i,sourceY:o,sourcePosition:l,targetX:a,targetY:u,targetPosition:d});return E.jsxs(E.Fragment,{children:[E.jsx(os,{path:C,markerEnd:h,style:{...f||{},stroke:je(D).with({status:"added"},()=>"var(--grl-color-success)").with({status:"removed"},()=>"var(--grl-color-error)").otherwise(()=>{})}}),E.jsx(kA,{children:E.jsx("div",{className:"nodrag nopan edge-renderer",style:{transform:`translate(-50%, -50%) translate(${v}px,${w}px)`},children:!m&&E.jsx(et,{type:"primary",shape:"round",icon:E.jsx(ou,{}),danger:!0,className:Ge("grl-edge-delete-button"),"data-visible":g,onClick:()=>t.removeEdges([n])})})})]})},Y4=e=>t=>E.jsx(ym,{...t,...e});ym.__docgenInfo={description:"",methods:[],displayName:"CustomEdge"};const X4=e=>typeof e!="object"?!1:Array.isArray(e?.nodes),K4=(e,t)=>{const n=cs(),i=Et(),o=S.useCallback(async u=>{try{if(!e.current)return;const l=(n.stateStore.getState()?.decisionGraph?.nodes||[]).filter(g=>u.some(m=>m.id===g.id)),d=l.map(g=>g.id),f=[];l.length>0&&e.current.getEdges().forEach(m=>{d.includes(m.source)&&d.includes(m.target)&&f.push({id:m.id,type:m.type,sourceId:m.source,targetId:m.target,sourceHandle:m.sourceHandle??void 0,targetHandle:m.targetHandle??void 0})}),await pl(JSON.stringify({nodes:l,edges:f})),Rt.success("Copied to clipboard!")}catch(l){Rt.error(l.message)}},[n]),a=S.useCallback(async()=>{try{if(!e?.current)return;const u=await m2();if(!u)return;const l=JSON.parse(u);if(!X4(l))throw new Error("invalid clipboard");const d=l.nodes.reduce((v,w)=>({...v,[w.id]:crypto.randomUUID()}),{}),f=Object.keys(d),h=e.current.getNodes().find(v=>f.includes(v.id)),g=l.nodes.find(v=>v.id===h?.id),m={x:l.nodes.reduce((v,w)=>v+w.position.x,0)/l.nodes.length,y:l.nodes.reduce((v,w)=>v+w.position.y,0)/l.nodes.length},D=l.nodes.map(v=>{const w={x:v?.position?.x||0,y:v?.position?.y||0};if(h&&g)v.id===h.id?(w.x=h.position.x,w.y=h.position.y-20):(w.x=h.position.x-g.position.x+v.position.x,w.y=h.position.y-g.position.y+v.position.y-20);else if(t.current){const _=t.current.getBoundingClientRect(),T={x:_.width/2,y:_.height/2},A=e.current.project(T);w.x=v.position.x+A.x-m.x/2,w.y=v.position.y+A.y-m.y/2}return{...v,position:w,id:d[v.id]}}),C=(l.edges||[]).map(v=>({id:crypto.randomUUID(),type:v.type,sourceId:d[v.sourceId],targetId:d[v.targetId],sourceHandle:v.sourceHandle??void 0,targetHandle:v.targetHandle??void 0}));if(i.addNodes(D),i.addEdges(C),Rt.success("Pasted from clipboard!"),h)try{await pl(JSON.stringify({nodes:D}))}catch{}}catch{Rt.error("Failed to paste from clipboard")}},[e,t]);return S.useMemo(()=>({copyNodes:o,pasteNodes:a}),[o,a])},vm=j.memo(({inputDisabled:e,disabled:t})=>{const n=st(h=>h.components||[]),i=st(h=>h.customNodes||[]),[o,a]=S.useState(""),u=S.useCallback((h,g,m)=>{const D=h.target;if(!D)return;const{offsetX:C,offsetY:v}=h.nativeEvent,{height:w,width:_}=D.getBoundingClientRect(),T={x:C/_,y:v/w};h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("application/reactflow",g),h.dataTransfer.setData("relativePosition",JSON.stringify(T)),m&&h.dataTransfer.setData("customNodeComponent",m)},[]),l=S.useMemo(()=>{const h={core:Object.values(vi)};return n?.length>0&&(h.extended=n),(i||[]).forEach(g=>{const m=g.group?.trim?.()||"";m.length>0&&(h?.[m]?h[m].push({...g,type:"customNode"}):h[m]=[{...g,type:"customNode"}])}),(i||[]).forEach(g=>{g?.group||(h?.custom?h.custom.push({...g,type:"customNode"}):h.custom=[{...g,type:"customNode"}])}),h},[n,i]),d=S.useMemo(()=>Object.keys(l).reduce((h,g)=>({...h,[g]:(l[g]||[]).filter(m=>!(o?.trim?.().length>0)||(m.type||"").toLowerCase().indexOf(o.toLowerCase())>-1||(m.displayName||"").toLowerCase().indexOf(o.toLowerCase())>-1||(m.shortDescription||"").toLowerCase().indexOf(o.toLowerCase())>-1||(m.group||"").toLowerCase().indexOf(o.toLowerCase())>-1)}),{}),[l,o]),f=n.length+i.length;return E.jsxs("div",{children:[f>5&&E.jsx(Nw,{placeholder:"Search components...",value:o,onChange:h=>a(h.target.value||""),allowClear:!0,className:"grl-dg__aside__menu__components__search"}),E.jsx("div",{className:"grl-dg__aside__menu__components",children:Object.keys(d).map(h=>je(h).with("core",()=>d.core?.length>0&&E.jsx(j.Fragment,{children:(d.core||[]).map(g=>E.jsx(j.Fragment,{children:E.jsx(i0,{disabled:je(g.type).with(Ze.Input,()=>t||e).otherwise(()=>t),specification:g,onDragStart:m=>vi[g.type]!==void 0?u(m,g.type):u(m,"customNode","kind"in g?g.kind:"")})},"kind"in g?g.kind:g.type))},h)).otherwise(g=>d[g]?.length>0&&E.jsx(j.Fragment,{children:(d?.[g]||[]).map(m=>E.jsx(i0,{disabled:t,specification:m,onDragStart:D=>g==="extended"?u(D,m.type):u(D,"customNode","kind"in m?m.kind:"")},"kind"in m?m.kind:m.type))},g)))})]})}),i0=({specification:e,disabled:t=!1,...n})=>E.jsx("div",{className:Ge("draggable-component"),draggable:!t,...n,children:E.jsx("div",{style:{pointerEvents:"none"},children:E.jsx(_d,{listMode:!0,compactMode:!0,color:e.color,icon:e.icon,name:e.displayName,type:e.shortDescription})})});vm.__docgenInfo={description:"",methods:[],displayName:"GraphComponents",props:{inputDisabled:{required:!1,tsType:{name:"boolean"},description:""},components:{required:!1,tsType:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const J4=Object.entries(vi).reduce((e,[t,n])=>({...e,[t]:j.memo(i=>n.renderNode({specification:n,...i}),(i,o)=>i.id===o.id&&i.selected===o.selected&&i.data===o.data)}),{}),Q4={edge:j.memo(Y4(null))},_m=S.forwardRef(function({reactFlowProOptions:t,className:n},i){const o=S.useRef(null),a=S.useRef(null),u=MA([]),l=OA([]),[d,f]=S.useState(!0),h=cs(),g=Et(),m=d8(k=>k),{onReactFlowInit:D}=im(({onReactFlowInit:k})=>({onReactFlowInit:k})),{disabled:C,hasInputNode:v,components:w,customNodes:_}=st(({disabled:k,components:W,customNodes:Q,decisionGraph:J})=>({disabled:k,components:W,customNodes:Q,hasInputNode:(J?.nodes||[]).some(G=>G.type===Ze.Input)}));m.nodesState.current=u,m.edgesState.current=l,m.graphClipboard.current=K4(a,o);const T=S.useMemo(()=>j.memo(k=>{const W=_.find(Q=>Q.kind===k?.data?.kind);return W?W.renderNode({specification:W,...k}):(console.warn("node not found",k,_),E.jsx(Xr,{id:k.id,specification:{displayName:`${k.data?.kind}`,color:"var(--grl-color-error)",icon:E.jsx(Xb,{})},name:k?.data?.name,isSelected:k.selected,displayError:!0,noBodyPadding:!0,handleLeft:!0,handleRight:!0}))},(k,W)=>k.id===W.id&&k.selected===W.selected&&k.data===W.data),[_]),A=S.useMemo(()=>w.reduce((k,W)=>({...k,[W.type]:j.memo(Q=>W.renderNode({specification:W,...Q}),(Q,J)=>Q.id===J.id&&Q.selected===J.selected&&Q.data===J.data)}),{...J4,customNode:T}),[w,T]),F=async(k,W,Q)=>{if(!o.current||!a.current)return;if(!W){const $=o.current.getBoundingClientRect(),z={x:$.width/2,y:$.height/2};W=a.current.project(z)}const J=je(k).with("customNode",()=>_.find($=>$.kind===Q)).otherwise(()=>[...Object.values(vi),...w].find(z=>z.type===k));if(!J){Rt.error(`Unknown node type ${k} - ${Q}.`);return}let G=je(J).with({kind:ze.string},$=>{const z=(a.current?.getNodes()||[]).filter(ee=>ee.data?.kind===$.kind).length+1,U=$.generateNode({index:z});return{id:crypto.randomUUID(),type:"customNode",name:U.name,position:W,content:{kind:$.kind,config:U?.config}}}).with({type:ze.string},$=>{const z=(a.current?.getNodes()||[]).filter(ee=>ee.type===$.type).length+1,U=$.generateNode({index:z});return{id:crypto.randomUUID(),type:$.type,position:W,...U}}).otherwise(()=>null);if(!G){Rt.error(`Unknown node type ${k} - ${Q}.`);return}if(J.onNodeAdd)try{G=await J.onNodeAdd(G)}catch{return}const N=Gl.safeParse(G);if(N.success)return g.addNodes([Gl.parse(G)]);Rt.error(N.error?.message)},M=k=>{if(k.source===k.target||C)return!1;const[W]=u,[Q]=l,J=Q.some($=>$.source===k.source&&$.target===k.target&&($.sourceHandle??null)===(k.sourceHandle??null)&&($.targetHandle??null)===(k.targetHandle??null)),G=W.find($=>$.id===k.target);if(!G||G.id===k.source)return!1;const N=($,z=new Set)=>{if(z.has($.id))return!1;z.add($.id);for(const U of Ya($,W,Q))if(U.id===k.source||N(U,z))return!0};return!J&&!N(G)},P=k=>{if(k.preventDefault(),k.stopPropagation(),!o.current||!a.current)return;const W=o.current.getBoundingClientRect(),Q=k.dataTransfer.getData("application/reactflow");let J;try{J=JSON.parse(k.dataTransfer.getData("relativePosition"))}catch{return}const G=a.current.project({x:k.clientX-W.left,y:k.clientY-W.top});G.x-=Math.round(J.x*226/10)*10,G.y-=Math.round(J.y*60/10)*10;const N=je(k.dataTransfer.getData("customNodeComponent")).with(ze.string,$=>$).otherwise(()=>{});F(Q,G,N)},H=k=>{k.preventDefault(),k.dataTransfer.dropEffect="move"},q=k=>{const W={...k,type:"edge",id:crypto.randomUUID()};C||g.addEdges([l8(W)])};return S.useImperativeHandle(i,()=>({...g,stateStore:h.stateStore})),E.jsx("div",{className:Ge(["tab-content",n]),tabIndex:0,onKeyDown:k=>{k.key==="v"&&k.metaKey&&!C&&g.pasteNodes()},children:E.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",display:"flex"},children:[!C&&!d&&E.jsx("div",{className:"grl-dg__components__floating",style:{position:"absolute",top:8,right:8,zIndex:1},children:E.jsx(Qn,{placement:"right",title:"Components",children:E.jsx(et,{icon:E.jsx(Kw,{style:{fontSize:12}}),onClick:()=>f(!0)})})}),E.jsx("div",{tabIndex:0,className:"content-wrapper",onKeyDown:k=>{const[W]=u,[Q]=l;if(k.key==="c"&&k.metaKey){const J=u[0].filter(G=>G.selected).map(({id:G})=>G);if(J.length===0)return;g.copyNodes(J),k.preventDefault()}else if(k.key==="d"&&k.metaKey){if(!C){const J=W.filter(G=>G.selected).map(({id:G})=>G);if(J.length===0)return;g.duplicateNodes(J)}k.preventDefault()}else if(k.key==="Backspace"){if(!C){const J=W.filter(N=>N.selected),G=Q.filter(N=>N.selected);if(J.length>0){const N=J.length,$=N>1?"nodes":"node";Zl.confirm({icon:null,title:`Delete ${$}`,content:E.jsxs(wt.Text,{children:["Are you sure you want to delete ",N>1?`${N} ${$}`:$,"?"]}),okButtonProps:{danger:!0},onOk:()=>{G.length>0&&g.removeEdges(G.map(z=>z.id)),g.removeNodes(J.map(z=>z.id))}})}else G.length>0&&g.removeEdges(G.map(N=>N.id))}k.stopPropagation(),k.preventDefault()}},children:E.jsx("div",{className:Ge(["react-flow"]),ref:o,children:E.jsxs(Zg,{onlyRenderVisibleElements:!0,deleteKeyCode:null,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,zoomOnDoubleClick:!1,connectionRadius:35,nodes:u[0],edges:l[0],onInit:k=>{a.current=k,D?.(k)},snapToGrid:!0,snapGrid:[5,5],minZoom:.25,selectionMode:ns.Partial,nodeTypes:A,edgeTypes:Q4,onDrop:P,onDragOver:H,onConnect:q,isValidConnection:M,proOptions:t,nodesConnectable:!C,nodesDraggable:!C,edgesUpdatable:!C,onNodesChange:g.handleNodesChange,onEdgesChange:g.handleEdgesChange,onNodesDelete:k=>{k.forEach(W=>{g.closeTab(W?.id)})},onEdgeMouseEnter:(k,W)=>g.setHoveredEdgeId(W.id),onEdgeMouseLeave:()=>g.setHoveredEdgeId(null),children:[E.jsx(VA,{showInteractive:!1,children:E.jsx(Wi,{onClick:()=>g.toggleCompactMode(),children:E.jsx(xb,{})})}),E.jsx(YA,{color:"var(--grl-color-border)",gap:20})]})})}),!C&&d&&E.jsx("div",{className:"grl-dg__aside__menu",children:E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"grl-dg__aside__menu__heading",children:[E.jsxs("div",{className:"grl-dg__aside__menu__heading__text",children:[E.jsx(wt.Text,{strong:!0,style:{marginBottom:0},children:"Components"})," ",E.jsx(wt.Text,{type:"secondary",style:{fontSize:10,marginLeft:5},children:"(Drag-and-drop)"})]}),E.jsx(et,{type:"text",size:"small",icon:E.jsx(gi,{style:{fontSize:12}}),onClick:()=>f(!1)})]}),E.jsx("div",{className:"grl-dg__aside__menu__content",children:E.jsx(vm,{inputDisabled:v,disabled:C})})]})})]})})});_m.__docgenInfo={description:"",methods:[],displayName:"Graph"};const s0="application/vnd.gorules.decision",Dm=()=>{const e=cs(),t=S.useRef(null),n=S.useRef(null),{setDecisionGraph:i,setActivePanel:o}=Et(),{disabled:a,panels:u,activePanel:l}=st(({disabled:C,panels:v,activePanel:w})=>({disabled:C,panels:v,activePanel:w})),d=async C=>{const v=C?.target?.files,w=new FileReader;w.onload=function(_){try{const T=JSON.parse(_?.target?.result);if(T?.contentType!==s0)throw new Error("Invalid content type");const A=Array.isArray(T?.nodes)?T.nodes:[],F=A.map(H=>H.id),M=T.edges.filter(H=>F.includes(H?.targetId)&&F.includes(H?.sourceId)),P=r0.safeParse({nodes:A,edges:M,settings:T?.settings});if(!P.success){console.log(P.error?.message),Rt.error(P.error?.message);return}i(P.data)}catch(T){Rt.error(T.message)}},w.readAsText(Array.from(v)?.[0],"UTF-8")},f=C=>{const v=C?.target?.files[0],w=new FileReader;try{w.readAsArrayBuffer(v),w.onload=async()=>{const _=w.result;if(!_)return;const T=await Jw(_),{decisionGraph:A}=e.stateStore.getState(),F=A.nodes.map(H=>{let q=H;return T.forEach(k=>{k.id===H.id&&(q={...H,content:k.content})}),q}),M=T.filter(H=>!F.some(q=>q.id===H.id)).map((H,q)=>({...H,position:{x:q*250,y:0}})),P=r0.safeParse({nodes:[...F,...M],edges:A.edges,settings:A.settings});if(!P.success){console.log(P.error?.message),Rt.error(P.error?.message);return}i(P.data),Rt.success("Excel file has been uploaded successfully!")}}catch{Rt.error("Failed to upload Excel!")}},h=async()=>{try{const{name:C}=e.stateStore.getState(),{decisionGraph:v}=e.stateStore.getState(),w=`${C.replaceAll(".json","")}.json`,_=JSON.stringify({contentType:s0,nodes:v.nodes,edges:v.edges,settings:v.settings},null,2),T=new Blob([_],{type:"application/json"}),A=URL.createObjectURL(T),F=window.document.createElement("a");F.href=A,F.download=w,window.document.body.appendChild(F),F.click(),window.document.body.removeChild(F),URL.revokeObjectURL(A)}catch(C){Rt.error(C.message)}},g=async(C="decision tables")=>{try{const{decisionGraph:v}=e.stateStore.getState(),w=v.nodes.filter(_=>_.type===Ze.DecisionTable).map(_=>({..._.content,id:_.id,name:_.name}));await Qw(C,w),Rt.success("Excel file has been downloaded successfully!")}catch{Rt.error("Failed to download Excel file!")}},m=[{key:"upload-json",label:"Upload JSON",onClick:()=>t?.current?.click?.()},{key:"upload-excel",label:"Upload Excel",onClick:()=>n?.current?.click?.()}],D=[{key:"download-json",label:"Download JSON",onClick:()=>h()},{key:"download-excel",label:"Download Excel",onClick:()=>g()}];return E.jsxs("div",{className:"grl-dg__aside",children:[E.jsx("input",{hidden:!0,accept:"application/json",type:"file",ref:t,onChange:d,onClick:C=>{C.target.value=null}}),E.jsx("input",{hidden:!0,accept:".xlsx",type:"file",ref:n,onChange:f,onClick:C=>{C.target.value=null}}),E.jsxs("div",{className:"grl-dg__aside__side-bar",children:[E.jsxs("div",{className:"grl-dg__aside__side-bar__top",children:[!a&&E.jsx(Xs,{menu:{items:m},placement:"bottomRight",trigger:["click"],arrow:!0,children:E.jsx(et,{type:"text",disabled:a,icon:E.jsx(vb,{})})}),E.jsx(Xs,{menu:{items:D},placement:"bottomRight",trigger:["click"],arrow:!0,children:E.jsx(et,{type:"text",icon:E.jsx(gb,{})})})]}),E.jsx("div",{className:"grl-dg__aside__side-bar__bottom",children:(u||[]).map(C=>{const v=l===C.id;return E.jsx(Qn,{title:`${v?"Close":"Open"} ${C.title.toLowerCase()} panel`,placement:"right",children:E.jsx(et,{type:"text",icon:C.icon,style:{background:v?"rgba(0, 0, 0, 0.1)":void 0},onClick:()=>{if(C?.onClick)return C.onClick();C?.renderPanel&&o(v?void 0:C.id)}},C.id)},C.id)})})]})]})};Dm.__docgenInfo={description:"",methods:[],displayName:"GraphSideToolbar"};const xm=({disabled:e,tabBarExtraContent:t})=>{const n=Et(),{openNodes:i,activeNodeId:o}=st(({decisionGraph:a,activeTab:u,openTabs:l})=>({activeNodeId:(a?.nodes??[]).find(d=>d.id===u)?.id,openNodes:(l||[]).map(d=>{const f=(a?.nodes??[]).find(h=>h.id===d);if(f)return{id:f?.id,name:f.name,type:f.type,diff:f?._diff}}).filter(d=>!!d)}));return E.jsx("div",{children:E.jsx(p0,{hideAdd:!0,type:"line",size:"small",className:Ge("grl-graph-tabs"),activeKey:o||"graph",onChange:a=>n.openTab(a),tabBarExtraContent:t,items:[{closable:!1,key:"graph",label:E.jsx(o0,{total:i?.length,icon:E.jsx(Cb,{}),name:"Graph",active:!o||o==="graph",onContextClick:a=>{n.closeTab("graph",a)}})},...i.map((a,u)=>{const l=vi[a.type];return{disabled:e,key:a.id,label:E.jsx(o0,{onContextClick:d=>{n.closeTab(a.id,d)},icon:l?.icon,name:a?.name??a?.type,diffStatus:a?.diff?.status,color:l?.color,index:u,active:a.id===o,total:i?.length,onClose:()=>n.closeTab(a.id)}),closable:!0}})]})})},o0=({total:e=0,index:t=-1,icon:n,name:i,active:o,diffStatus:a,color:u=xi.Blue,onClose:l,onContextClick:d})=>{const f=[e>0&&t!==-1&&{key:"close",label:"Close",onClick:()=>d?.("close")},e>0&&t!==-1&&{key:"close-all",label:"Close all Tabs",onClick:()=>d?.("close-all")},e>0&&t!==-1&&{key:"close-other",label:"Close other Tabs",onClick:()=>d?.("close-other")},e>0&&t+1<e&&{key:"close-right",label:"Close Tabs to the right",onClick:()=>d?.("close-right")},e>0&&t>0&&t>0&&{key:"close-left",label:"Close Tabs to the left",onClick:()=>d?.("close-left")}].filter(h=>!!h);return E.jsx(Xs,{menu:{items:f},trigger:["contextMenu"],children:E.jsxs("div",{className:"grl-graph-tabs__tab","data-active":o,children:[E.jsx(C0,{size:"small",shape:"square",style:{background:u,fontSize:11,width:18,height:18,lineHeight:"18px",borderRadius:3},icon:n}),i,E.jsx(a0,{status:a,style:{fontSize:16}}),l&&E.jsx(et,{className:"grl-graph-tabs__closeIcon",type:"text",size:"small",style:{height:20,width:20,color:"black",borderRadius:"50%",lineHeight:0},icon:E.jsx(gi,{style:{fontSize:10}}),onClick:h=>{h.stopPropagation(),l?.()}})]})})};xm.__docgenInfo={description:"",methods:[],displayName:"GraphTabs",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""},tabBarExtraContent:{required:!1,tsType:{name:"TabsProps['tabBarExtraContent']",raw:"TabsProps['tabBarExtraContent']"},description:""}}};const wm=j.memo(S.forwardRef(function({reactFlowProOptions:t,tabBarExtraContent:n},i){const[o,a]=S.useState(!1),u=st(({decisionGraph:l,activeTab:d})=>(l?.nodes??[]).some(f=>f.id===d));return E.jsxs(E.Fragment,{children:[E.jsx(Dm,{}),E.jsxs("div",{className:"grl-dg__graph",children:[E.jsx(xm,{disabled:o,tabBarExtraContent:n}),E.jsx(_m,{ref:i,className:Ge([!u&&"active"]),reactFlowProOptions:t,onDisableTabs:a}),E.jsx(eN,{})]}),E.jsx(sm,{})]})})),eN=j.memo(()=>{const{openNodes:e,activeNodeId:t,components:n}=st(({decisionGraph:a,openTabs:u,activeTab:l,components:d})=>{const f=(a?.nodes??[]).find(g=>g.id===l)?.id;return{openNodes:(a?.nodes??[]).filter(g=>u.includes(g.id)).map(({id:g,type:m})=>({id:g,type:m})),activeNodeId:f,components:d}}),i=S.useRef(null),o=S.useMemo(()=>Fw(Tw,void 0,{rootElement:i.current}),[i.current]);return E.jsx("div",{style:{display:"contents"},ref:i,children:e.map(a=>E.jsx("div",{className:Ge(["tab-content",t===a?.id&&"active"]),children:je(a?.type).with(Ze.DecisionTable,()=>Dd?.renderTab?.({id:a?.id,manager:o})).with(Ze.Function,()=>wd?.renderTab?.({id:a?.id,manager:o})).with(Ze.Expression,()=>xd?.renderTab?.({id:a?.id,manager:o})).otherwise(()=>{const u=n.find(l=>l.type===a.type);return u?u?.renderTab?.({id:a.id,manager:o}):null})},a?.id))})});wm.__docgenInfo={description:"",methods:[],displayName:"DecisionGraphWrapper"};const tN=S.forwardRef(({manager:e,reactFlowProOptions:t,tabBarExtraContent:n,...i},o)=>E.jsx("div",{className:"grl-dg",children:E.jsx(vd,{children:E.jsxs(rm,{children:[E.jsx(wm,{ref:o,reactFlowProOptions:t,tabBarExtraContent:n}),E.jsx(x8,{}),E.jsx(h8,{...i})]})})}));tN.__docgenInfo={description:"",methods:[],displayName:"DecisionGraph"};export{tN as D,Xr as G,Pb as R,st as a,t8 as b,a8 as c,Ls as l,Et as u};
