const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-D8_I_-NL.js","./function-DSavxzv8.js","./wrapNativeSuper-ezTqcbMv.js","./index-uubelm5h.js","./iframe-CqH_Nbdx.js","./index.module-BKqP6iUr.js","./wasm-BBiPIFCR.js","./index-BK_xiHMm.js","./button-BxN4Lq0u.js","./index-TW2i6qtr.js","./function-BxbUwNS5.css"])))=>i.map(i=>d[i]);
import{_ as mt,j as b}from"./wrapNativeSuper-ezTqcbMv.js";import{r as A,R as H,c as Ki,g as ex}from"./index-uubelm5h.js";import{j as tx,k as nx,l as rx,D as qh,p as nt,b as Qt,g as eu,f as Yh,P as Xh,R as tu,a as Ua,I as ix,c as ox,H as sx}from"./diff-icon-BWtvVWrV.js";import{$ as ro,M as Zh,O as xi,P as ux,a0 as Kh,a1 as ax,K as Jh,Q as cx,C as Eo,u as nu,c as Fn,a2 as lx,a3 as dx,p as fx,a7 as hx,n as px,W as gx,a6 as mx,ad as yx,r as Dx,a as vx,az as xx,I as yt,z as Ie,T as ft,N as Ne,i as lo,V as Jt,ae as $n,aM as _x,t as wx}from"./wasm-BBiPIFCR.js";import{b as Cx,r as Ex,c as bx,d as io,M as Oc,N as Pe,D as Ax,e as $c,F as er,f as sc,g as Qh,R as Sx,z as ie,a as Fx,h as Nx,i as Tx}from"./dt-kemxVDVJ.js";import{N as Bx,a as jr,b as Ix,c as Rx,u as Mx,d as zx,A as Ox,D as po,s as Ct,T as e0,S as $x,e as Px}from"./index.module-BKqP6iUr.js";import{r as t0}from"./index-BK_xiHMm.js";import{E as kx}from"./expression-CNxRY-1r.js";import{c as $e}from"./ce-as6VwjT_.js";import{R as Hx,r as Lx,B as Ge}from"./button-BxN4Lq0u.js";import{P as jx,a as qa,c as uc,R as Vx,b as zf,S as Pc,e as Wx,d as Gx,p as Ux}from"./function-DSavxzv8.js";import{_ as qx}from"./iframe-CqH_Nbdx.js";const Yx=e=>{const{componentCls:n,notificationMarginEdge:r,animationMaxHeight:o}=e,s=`${n}-notice`,c=new ro("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),a=new ro("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),l=new ro("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(o).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),d=new ro("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[n]:{[`&${n}-top, &${n}-bottom`]:{marginInline:0,[s]:{marginInline:"auto auto"}},[`&${n}-top`]:{[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationName:a}},[`&${n}-bottom`]:{[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationName:l}},[`&${n}-topRight, &${n}-bottomRight`]:{[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationName:c}},[`&${n}-topLeft, &${n}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:r,_skip_check_:!0},[s]:{marginInlineEnd:"auto",marginInlineStart:0},[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationName:d}}}}},Xx=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],Zx={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},Kx=(e,n)=>{const{componentCls:r}=e;return{[`${r}-${n}`]:{[`&${r}-stack > ${r}-notice-wrapper`]:{[n.startsWith("top")?"top":"bottom"]:0,[Zx[n]]:{value:0,_skip_check_:!0}}}}},Jx=e=>{const n={};for(let r=1;r<e.notificationStackLayer;r++)n[`&:nth-last-child(${r+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},n)},Qx=e=>{const n={};for(let r=1;r<e.notificationStackLayer;r++)n[`&:nth-last-child(${r+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},n)},e_=e=>{const{componentCls:n}=e;return Object.assign({[`${n}-stack`]:{[`& > ${n}-notice-wrapper`]:Object.assign({transition:`all ${e.motionDurationSlow}, backdrop-filter 0s`,position:"absolute"},Jx(e))},[`${n}-stack:not(${n}-stack-expanded)`]:{[`& > ${n}-notice-wrapper`]:Object.assign({},Qx(e))},[`${n}-stack${n}-stack-expanded`]:{[`& > ${n}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},Xx.map(r=>Kx(e,r)).reduce((r,o)=>Object.assign(Object.assign({},r),o),{}))},n0=e=>{const{iconCls:n,componentCls:r,boxShadow:o,fontSizeLG:s,notificationMarginBottom:c,borderRadiusLG:a,colorSuccess:l,colorInfo:d,colorWarning:p,colorError:h,colorTextHeading:g,notificationBg:m,notificationPadding:x,notificationMarginEdge:E,notificationProgressBg:D,notificationProgressHeight:w,fontSize:v,lineHeight:T,width:S,notificationIconSize:N,colorText:z}=e,k=`${r}-notice`;return{position:"relative",marginBottom:c,marginInlineStart:"auto",background:m,borderRadius:a,boxShadow:o,[k]:{padding:x,width:S,maxWidth:`calc(100vw - ${xi(e.calc(E).mul(2).equal())})`,overflow:"hidden",lineHeight:T,wordWrap:"break-word"},[`${k}-message`]:{marginBottom:e.marginXS,color:g,fontSize:s,lineHeight:e.lineHeightLG},[`${k}-description`]:{fontSize:v,color:z},[`${k}-closable ${k}-message`]:{paddingInlineEnd:e.paddingLG},[`${k}-with-icon ${k}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(N).equal(),fontSize:s},[`${k}-with-icon ${k}-description`]:{marginInlineStart:e.calc(e.marginSM).add(N).equal(),fontSize:v},[`${k}-icon`]:{position:"absolute",fontSize:N,lineHeight:1,[`&-success${n}`]:{color:l},[`&-info${n}`]:{color:d},[`&-warning${n}`]:{color:p},[`&-error${n}`]:{color:h}},[`${k}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},ux(e)),[`${k}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${xi(a)} * 2)`,left:{_skip_check_:!0,value:a},right:{_skip_check_:!0,value:a},bottom:0,blockSize:w,border:0,"&, &::-webkit-progress-bar":{borderRadius:a,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:D},"&::-webkit-progress-value":{borderRadius:a,background:D}},[`${k}-btn`]:{float:"right",marginTop:e.marginSM}}},t_=e=>{const{componentCls:n,notificationMarginBottom:r,notificationMarginEdge:o,motionDurationMid:s,motionEaseInOut:c}=e,a=`${n}-notice`,l=new ro("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:r},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[n]:Object.assign(Object.assign({},Kh(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:o,_skip_check_:!0},[`${n}-hook-holder`]:{position:"relative"},[`${n}-fade-appear-prepare`]:{opacity:"0 !important"},[`${n}-fade-enter, ${n}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:c,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${n}-fade-leave`]:{animationTimingFunction:c,animationFillMode:"both",animationDuration:s,animationPlayState:"paused"},[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationPlayState:"running"},[`${n}-fade-leave${n}-fade-leave-active`]:{animationName:l,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${a}-btn`]:{float:"left"}}})},{[n]:{[`${a}-wrapper`]:Object.assign({},n0(e))}}]},r0=e=>({zIndexPopup:e.zIndexPopupBase+ax+50,width:384}),i0=e=>{const n=e.paddingMD,r=e.paddingLG;return Jh(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:n,notificationPaddingHorizontal:r,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${xi(e.paddingMD)} ${xi(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})},o0=Zh("Notification",e=>{const n=i0(e);return[t_(n),Yx(n),e_(n)]},r0),n_=cx(["Notification","PurePanel"],e=>{const n=`${e.componentCls}-notice`,r=i0(e);return{[`${n}-pure-panel`]:Object.assign(Object.assign({},n0(r)),{width:r.width,maxWidth:`calc(100vw - ${xi(e.calc(r.notificationMarginEdge).mul(2).equal())})`,margin:0})}},r0);var r_=function(e,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)n.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]]);return r};function kc(e,n){return n===null||n===!1?null:n||A.createElement(jr,{className:`${e}-close-icon`})}const i_={success:Ix,info:Rx,error:lx,warning:Hx},s0=e=>{const{prefixCls:n,icon:r,type:o,message:s,description:c,btn:a,role:l="alert"}=e;let d=null;return r?d=A.createElement("span",{className:`${n}-icon`},r):o&&(d=A.createElement(i_[o]||null,{className:Fn(`${n}-icon`,`${n}-icon-${o}`)})),A.createElement("div",{className:Fn({[`${n}-with-icon`]:d}),role:l},d,A.createElement("div",{className:`${n}-message`},s),A.createElement("div",{className:`${n}-description`},c),a&&A.createElement("div",{className:`${n}-btn`},a))},o_=e=>{const{prefixCls:n,className:r,icon:o,type:s,message:c,description:a,btn:l,closable:d=!0,closeIcon:p,className:h}=e,g=r_(e,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:m}=A.useContext(Eo),x=n||m("notification"),E=`${x}-notice`,D=nu(x),[w,v,T]=o0(x,D);return w(A.createElement("div",{className:Fn(`${E}-pure-panel`,v,r,T,D)},A.createElement(n_,{prefixCls:x}),A.createElement(Bx,Object.assign({},g,{prefixCls:x,eventKey:"pure",duration:null,closable:d,className:Fn({notificationClassName:h}),closeIcon:kc(x,p),content:A.createElement(s0,{prefixCls:E,icon:o,type:s,message:c,description:a,btn:l})}))))};function s_(e,n,r){let o;switch(e){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":o={left:0,top:n,bottom:"auto"};break;case"topRight":o={right:0,top:n,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":o={left:0,top:"auto",bottom:r};break;default:o={right:0,top:"auto",bottom:r};break}return o}function u_(e){return{motionName:`${e}-fade`}}var a_=function(e,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)n.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]]);return r};const Of=24,c_=4.5,l_="topRight",d_=e=>{let{children:n,prefixCls:r}=e;const o=nu(r),[s,c,a]=o0(r,o);return s(H.createElement(zx,{classNames:{list:Fn(c,a,o)}},n))},f_=(e,n)=>{let{prefixCls:r,key:o}=n;return H.createElement(d_,{prefixCls:r,key:o},e)},h_=H.forwardRef((e,n)=>{const{top:r,bottom:o,prefixCls:s,getContainer:c,maxCount:a,rtl:l,onAllRemoved:d,stack:p,duration:h,pauseOnHover:g=!0,showProgress:m}=e,{getPrefixCls:x,getPopupContainer:E,notification:D,direction:w}=A.useContext(Eo),[,v]=fx(),T=s||x("notification"),S=Y=>s_(Y,r??Of,o??Of),N=()=>Fn({[`${T}-rtl`]:l??w==="rtl"}),z=()=>u_(T),[k,j]=Mx({prefixCls:T,style:S,className:N,motion:z,closable:!0,closeIcon:kc(T),duration:h??c_,getContainer:()=>c?.()||E?.()||document.body,maxCount:a,pauseOnHover:g,showProgress:m,onAllRemoved:d,renderNotifications:f_,stack:p===!1?!1:{threshold:typeof p=="object"?p?.threshold:void 0,offset:8,gap:v.margin}});return H.useImperativeHandle(n,()=>Object.assign(Object.assign({},k),{prefixCls:T,notification:D})),j});function u0(e){const n=H.useRef(null);return dx(),[H.useMemo(()=>{const o=l=>{var d;if(!n.current)return;const{open:p,prefixCls:h,notification:g}=n.current,m=`${h}-notice`,{message:x,description:E,icon:D,type:w,btn:v,className:T,style:S,role:N="alert",closeIcon:z,closable:k}=l,j=a_(l,["message","description","icon","type","btn","className","style","role","closeIcon","closable"]),Y=kc(m,typeof z<"u"?z:g?.closeIcon);return p(Object.assign(Object.assign({placement:(d=e?.placement)!==null&&d!==void 0?d:l_},j),{content:H.createElement(s0,{prefixCls:m,icon:D,type:w,message:x,description:E,btn:v,role:N}),className:Fn(w&&`${m}-${w}`,T,g?.className),style:Object.assign(Object.assign({},g?.style),S),closeIcon:Y,closable:k??!!Y}))},c={open:o,destroy:l=>{var d,p;l!==void 0?(d=n.current)===null||d===void 0||d.close(l):(p=n.current)===null||p===void 0||p.destroy()}};return["success","info","warning","error"].forEach(l=>{c[l]=d=>o(Object.assign(Object.assign({},d),{type:l}))}),c},[]),H.createElement(h_,Object.assign({key:"notification-holder"},e,{ref:n}))]}function p_(e){return u0(e)}function g_(){const[,e]=A.useReducer(n=>n+1,0);return e}function m_(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const n=A.useRef({}),r=g_(),o=Cx();return hx(()=>{const s=o.subscribe(c=>{n.current=c,e&&r()});return()=>o.unsubscribe(s)},[]),n.current}const ac=A.createContext({}),y_=e=>{const{antCls:n,componentCls:r,iconCls:o,avatarBg:s,avatarColor:c,containerSize:a,containerSizeLG:l,containerSizeSM:d,textFontSize:p,textFontSizeLG:h,textFontSizeSM:g,borderRadius:m,borderRadiusLG:x,borderRadiusSM:E,lineWidth:D,lineType:w}=e,v=(T,S,N)=>({width:T,height:T,borderRadius:"50%",[`&${r}-square`]:{borderRadius:N},[`&${r}-icon`]:{fontSize:S,[`> ${o}`]:{margin:0}}});return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({},Kh(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:c,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:s,border:`${xi(D)} ${w} transparent`,"&-image":{background:"transparent"},[`${n}-image-img`]:{display:"block"}}),v(a,p,m)),{"&-lg":Object.assign({},v(l,h,x)),"&-sm":Object.assign({},v(d,g,E)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},D_=e=>{const{componentCls:n,groupBorderColor:r,groupOverlapping:o,groupSpace:s}=e;return{[`${n}-group`]:{display:"inline-flex",[n]:{borderColor:r},"> *:not(:first-child)":{marginInlineStart:o}},[`${n}-group-popover`]:{[`${n} + ${n}`]:{marginInlineStart:s}}}},v_=e=>{const{controlHeight:n,controlHeightLG:r,controlHeightSM:o,fontSize:s,fontSizeLG:c,fontSizeXL:a,fontSizeHeading3:l,marginXS:d,marginXXS:p,colorBorderBg:h}=e;return{containerSize:n,containerSizeLG:r,containerSizeSM:o,textFontSize:Math.round((c+a)/2),textFontSizeLG:l,textFontSizeSM:s,groupSpace:p,groupOverlapping:-d,groupBorderColor:h}},a0=Zh("Avatar",e=>{const{colorTextLightSolid:n,colorTextPlaceholder:r}=e,o=Jh(e,{avatarBg:r,avatarColor:n});return[y_(o),D_(o)]},v_);var x_=function(e,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)n.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]]);return r};const __=(e,n)=>{const[r,o]=A.useState(1),[s,c]=A.useState(!1),[a,l]=A.useState(!0),d=A.useRef(null),p=A.useRef(null),h=px(n,d),{getPrefixCls:g,avatar:m}=A.useContext(Eo),x=A.useContext(ac),E=()=>{if(!p.current||!d.current)return;const he=p.current.offsetWidth,De=d.current.offsetWidth;if(he!==0&&De!==0){const{gap:Te=4}=e;Te*2<De&&o(De-Te*2<he?(De-Te*2)/he:1)}};A.useEffect(()=>{c(!0)},[]),A.useEffect(()=>{l(!0),o(1)},[e.src]),A.useEffect(E,[e.gap]);const D=()=>{const{onError:he}=e;he?.()!==!1&&l(!1)},{prefixCls:w,shape:v,size:T,src:S,srcSet:N,icon:z,className:k,rootClassName:j,alt:Y,draggable:M,children:G,crossOrigin:Q}=e,J=x_(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),U=gx(he=>{var De,Te;return(Te=(De=T??x?.size)!==null&&De!==void 0?De:he)!==null&&Te!==void 0?Te:"default"}),F=Object.keys(typeof U=="object"?U||{}:{}).some(he=>["xs","sm","md","lg","xl","xxl"].includes(he)),P=m_(F),$=A.useMemo(()=>{if(typeof U!="object")return{};const he=Ex.find(Te=>P[Te]),De=U[he];return De?{width:De,height:De,fontSize:De&&(z||G)?De/2:18}:{}},[P,U]),W=g("avatar",w),ee=nu(W),[L,te,re]=a0(W,ee),oe=Fn({[`${W}-lg`]:U==="large",[`${W}-sm`]:U==="small"}),ce=A.isValidElement(S),ae=v||x?.shape||"circle",ge=Fn(W,oe,m?.className,`${W}-${ae}`,{[`${W}-image`]:ce||S&&a,[`${W}-icon`]:!!z},re,ee,k,j,te),Ae=typeof U=="number"?{width:U,height:U,fontSize:z?U/2:18}:{};let Se;if(typeof S=="string"&&a)Se=A.createElement("img",{src:S,draggable:M,srcSet:N,onError:D,alt:Y,crossOrigin:Q});else if(ce)Se=S;else if(z)Se=z;else if(s||r!==1){const he=`scale(${r})`,De={msTransform:he,WebkitTransform:he,transform:he};Se=A.createElement(mx,{onResize:E},A.createElement("span",{className:`${W}-string`,ref:p,style:Object.assign({},De)},G))}else Se=A.createElement("span",{className:`${W}-string`,style:{opacity:0},ref:p},G);return delete J.onError,delete J.gap,L(A.createElement("span",Object.assign({},J,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Ae),$),m?.style),J.style),className:ge,ref:h}),Se))},c0=A.forwardRef(__),$f=e=>{const{size:n,shape:r}=A.useContext(ac),o=A.useMemo(()=>({size:e.size||n,shape:e.shape||r}),[e.size,e.shape,n,r]);return A.createElement(ac.Provider,{value:o},e.children)},w_=e=>{var n,r,o;const{getPrefixCls:s,direction:c}=A.useContext(Eo),{prefixCls:a,className:l,rootClassName:d,style:p,maxCount:h,maxStyle:g,size:m,shape:x,maxPopoverPlacement:E,maxPopoverTrigger:D,children:w,max:v}=e,T=s("avatar",a),S=`${T}-group`,N=nu(T),[z,k,j]=a0(T,N),Y=Fn(S,{[`${S}-rtl`]:c==="rtl"},j,N,l,d,k),M=yx(w).map((J,U)=>Dx(J,{key:`avatar-key-${U}`})),G=v?.count||h,Q=M.length;if(G&&G<Q){const J=M.slice(0,G),U=M.slice(G,Q),F=v?.style||g,P=((n=v?.popover)===null||n===void 0?void 0:n.trigger)||D||"hover",$=((r=v?.popover)===null||r===void 0?void 0:r.placement)||E||"top",W=Object.assign(Object.assign({content:U},v?.popover),{overlayClassName:Fn(`${S}-popover`,(o=v?.popover)===null||o===void 0?void 0:o.overlayClassName),placement:$,trigger:P});return J.push(A.createElement(tx,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},W),A.createElement(c0,{style:F},`+${Q-G}`))),z(A.createElement($f,{shape:x,size:m},A.createElement("div",{className:Y,style:p},J)))}return z(A.createElement($f,{shape:x,size:m},A.createElement("div",{className:Y,style:p},M)))},l0=c0;l0.Group=w_;let Cn=null,Rs=e=>e(),Hs=[],go={};function Pf(){const{getContainer:e,rtl:n,maxCount:r,top:o,bottom:s,showProgress:c,pauseOnHover:a}=go,l=e?.()||document.body;return{getContainer:()=>l,rtl:n,maxCount:r,top:o,bottom:s,showProgress:c,pauseOnHover:a}}const C_=H.forwardRef((e,n)=>{const{notificationConfig:r,sync:o}=e,{getPrefixCls:s}=A.useContext(Eo),c=go.prefixCls||s("notification"),a=A.useContext(Ox),[l,d]=u0(Object.assign(Object.assign(Object.assign({},r),{prefixCls:c}),a.notification));return H.useEffect(o,[]),H.useImperativeHandle(n,()=>{const p=Object.assign({},l);return Object.keys(p).forEach(h=>{p[h]=function(){return o(),l[h].apply(l,arguments)}}),{instance:p,sync:o}}),d}),E_=H.forwardRef((e,n)=>{const[r,o]=H.useState(Pf),s=()=>{o(Pf)};H.useEffect(s,[]);const c=xx(),a=c.getRootPrefixCls(),l=c.getIconPrefixCls(),d=c.getTheme(),p=H.createElement(C_,{ref:n,sync:s,notificationConfig:r});return H.createElement(vx,{prefixCls:a,iconPrefixCls:l,theme:d},c.holderRender?c.holderRender(p):p)});function Hc(){if(!Cn){const e=document.createDocumentFragment(),n={fragment:e};Cn=n,Rs(()=>{Lx(H.createElement(E_,{ref:r=>{const{instance:o,sync:s}=r||{};Promise.resolve().then(()=>{!n.instance&&o&&(n.instance=o,n.sync=s,Hc())})}}),e)});return}Cn.instance&&(Hs.forEach(e=>{switch(e.type){case"open":{Rs(()=>{Cn.instance.open(Object.assign(Object.assign({},go),e.config))});break}case"destroy":Rs(()=>{Cn?.instance.destroy(e.key)});break}}),Hs=[])}function b_(e){go=Object.assign(Object.assign({},go),e),Rs(()=>{var n;(n=Cn?.sync)===null||n===void 0||n.call(Cn)})}function d0(e){Hs.push({type:"open",config:e}),Hc()}const A_=e=>{Hs.push({type:"destroy",key:e}),Hc()},S_=["success","info","warning","error"],F_={open:d0,destroy:A_,config:b_,useNotification:p_,_InternalPanelDoNotUseOrYouWillBeFired:o_},cc=F_;S_.forEach(e=>{cc[e]=n=>d0(Object.assign(Object.assign({},n),{type:e}))});var N_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},T_=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:N_}))},f0=A.forwardRef(T_),B_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M740 161c-61.8 0-112 50.2-112 112 0 50.1 33.1 92.6 78.5 106.9v95.9L320 602.4V318.1c44.2-15 76-56.9 76-106.1 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 49.2 31.8 91 76 106.1V706c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-27.8l423.5-138.7a50.52 50.52 0 0034.9-48.2V378.2c42.9-15.8 73.6-57 73.6-105.2 0-61.8-50.2-112-112-112zm-504 51a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm96 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm408-491a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"branches",theme:"outlined"},I_=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:B_}))},R_=A.forwardRef(I_),M_={icon:function(n,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:n}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:r}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:n}}]}},name:"check-circle",theme:"twotone"},z_=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:M_}))},O_=A.forwardRef(z_),$_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},P_=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:$_}))},k_=A.forwardRef(P_),H_={icon:function(n,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:n}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm171.8 527.1c1.2 1.5 1.9 3.3 1.9 5.2 0 4.5-3.6 8-8 8l-66-.3-99.3-118.4-99.3 118.5-66.1.3c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2L471 512.3l-130.1-155a8.32 8.32 0 01-1.9-5.2c0-4.5 3.6-8 8-8l66.1.3 99.3 118.4 99.4-118.5 66-.3c4.4 0 8 3.6 8 8 0 1.9-.6 3.8-1.8 5.2l-130.1 155 129.9 154.9z",fill:r}},{tag:"path",attrs:{d:"M685.8 352c0-4.4-3.6-8-8-8l-66 .3-99.4 118.5-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155-130.1 154.9a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3 99.3-118.5L611.7 680l66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.9 512.2l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z",fill:n}}]}},name:"close-circle",theme:"twotone"},L_=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:H_}))},j_=A.forwardRef(L_),V_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},W_=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:V_}))},G_=A.forwardRef(W_),U_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},q_=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:U_}))},Y_=A.forwardRef(q_),X_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M326 664H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V696c0-17.7-14.3-32-32-32zm16-576h-48c-8.8 0-16 7.2-16 16v176H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V104c0-8.8-7.2-16-16-16zm578 576H698c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V744h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm0-384H746V104c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16z"}}]},name:"compress",theme:"outlined"},Z_=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:X_}))},K_=A.forwardRef(Z_),J_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"}}]},name:"deployment-unit",theme:"outlined"},Q_=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:J_}))},ew=A.forwardRef(Q_),tw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},nw=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:tw}))},rw=A.forwardRef(nw),iw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"},ow=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:iw}))},sw=A.forwardRef(ow),uw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},aw=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:uw}))},cw=A.forwardRef(aw),lw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 394c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H400V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v236H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h228v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h164c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V394h164zM628 630H400V394h228v236z"}}]},name:"number",theme:"outlined"},dw=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:lw}))},fw=A.forwardRef(dw),hw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},pw=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:hw}))},gw=A.forwardRef(pw),mw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},yw=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:mw}))},h0=A.forwardRef(yw),Dw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},vw=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:Dw}))},xw=A.forwardRef(vw),_w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},ww=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:_w}))},Cw=A.forwardRef(ww),Ew={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},bw=function(n,r){return A.createElement(yt,mt({},n,{ref:r,icon:Ew}))},Aw=A.forwardRef(bw),Sw=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,Fw=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,Nw=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Ya={Space_Separator:Sw,ID_Start:Fw,ID_Continue:Nw},st={isSpaceSeparator(e){return typeof e=="string"&&Ya.Space_Separator.test(e)},isIdStartChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||Ya.ID_Start.test(e))},isIdContinueChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e===""||e===""||Ya.ID_Continue.test(e))},isDigit(e){return typeof e=="string"&&/[0-9]/.test(e)},isHexDigit(e){return typeof e=="string"&&/[0-9A-Fa-f]/.test(e)}};let lc,It,tr,Ls,wr,An,pt,Lc,fo;var Tw=function(n,r){lc=String(n),It="start",tr=[],Ls=0,wr=1,An=0,pt=void 0,Lc=void 0,fo=void 0;do pt=Bw(),Mw[It]();while(pt.type!=="eof");return typeof r=="function"?dc({"":fo},"",r):fo};function dc(e,n,r){const o=e[n];if(o!=null&&typeof o=="object")if(Array.isArray(o))for(let s=0;s<o.length;s++){const c=String(s),a=dc(o,c,r);a===void 0?delete o[c]:Object.defineProperty(o,c,{value:a,writable:!0,enumerable:!0,configurable:!0})}else for(const s in o){const c=dc(o,s,r);c===void 0?delete o[s]:Object.defineProperty(o,s,{value:c,writable:!0,enumerable:!0,configurable:!0})}return r.call(e,n,o)}let Ee,_e,oo,Qn,Me;function Bw(){for(Ee="default",_e="",oo=!1,Qn=1;;){Me=rr();const e=p0[Ee]();if(e)return e}}function rr(){if(lc[Ls])return String.fromCodePoint(lc.codePointAt(Ls))}function K(){const e=rr();return e===`
`?(wr++,An=0):e?An+=e.length:An++,e&&(Ls+=e.length),e}const p0={default(){switch(Me){case"	":case"\v":case"\f":case" ":case"":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":K();return;case"/":K(),Ee="comment";return;case void 0:return K(),Ye("eof")}if(st.isSpaceSeparator(Me)){K();return}return p0[It]()},comment(){switch(Me){case"*":K(),Ee="multiLineComment";return;case"/":K(),Ee="singleLineComment";return}throw Xe(K())},multiLineComment(){switch(Me){case"*":K(),Ee="multiLineCommentAsterisk";return;case void 0:throw Xe(K())}K()},multiLineCommentAsterisk(){switch(Me){case"*":K();return;case"/":K(),Ee="default";return;case void 0:throw Xe(K())}K(),Ee="multiLineComment"},singleLineComment(){switch(Me){case`
`:case"\r":case"\u2028":case"\u2029":K(),Ee="default";return;case void 0:return K(),Ye("eof")}K()},value(){switch(Me){case"{":case"[":return Ye("punctuator",K());case"n":return K(),Or("ull"),Ye("null",null);case"t":return K(),Or("rue"),Ye("boolean",!0);case"f":return K(),Or("alse"),Ye("boolean",!1);case"-":case"+":K()==="-"&&(Qn=-1),Ee="sign";return;case".":_e=K(),Ee="decimalPointLeading";return;case"0":_e=K(),Ee="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":_e=K(),Ee="decimalInteger";return;case"I":return K(),Or("nfinity"),Ye("numeric",1/0);case"N":return K(),Or("aN"),Ye("numeric",NaN);case'"':case"'":oo=K()==='"',_e="",Ee="string";return}throw Xe(K())},identifierNameStartEscape(){if(Me!=="u")throw Xe(K());K();const e=fc();switch(e){case"$":case"_":break;default:if(!st.isIdStartChar(e))throw kf();break}_e+=e,Ee="identifierName"},identifierName(){switch(Me){case"$":case"_":case"":case"":_e+=K();return;case"\\":K(),Ee="identifierNameEscape";return}if(st.isIdContinueChar(Me)){_e+=K();return}return Ye("identifier",_e)},identifierNameEscape(){if(Me!=="u")throw Xe(K());K();const e=fc();switch(e){case"$":case"_":case"":case"":break;default:if(!st.isIdContinueChar(e))throw kf();break}_e+=e,Ee="identifierName"},sign(){switch(Me){case".":_e=K(),Ee="decimalPointLeading";return;case"0":_e=K(),Ee="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":_e=K(),Ee="decimalInteger";return;case"I":return K(),Or("nfinity"),Ye("numeric",Qn*(1/0));case"N":return K(),Or("aN"),Ye("numeric",NaN)}throw Xe(K())},zero(){switch(Me){case".":_e+=K(),Ee="decimalPoint";return;case"e":case"E":_e+=K(),Ee="decimalExponent";return;case"x":case"X":_e+=K(),Ee="hexadecimal";return}return Ye("numeric",Qn*0)},decimalInteger(){switch(Me){case".":_e+=K(),Ee="decimalPoint";return;case"e":case"E":_e+=K(),Ee="decimalExponent";return}if(st.isDigit(Me)){_e+=K();return}return Ye("numeric",Qn*Number(_e))},decimalPointLeading(){if(st.isDigit(Me)){_e+=K(),Ee="decimalFraction";return}throw Xe(K())},decimalPoint(){switch(Me){case"e":case"E":_e+=K(),Ee="decimalExponent";return}if(st.isDigit(Me)){_e+=K(),Ee="decimalFraction";return}return Ye("numeric",Qn*Number(_e))},decimalFraction(){switch(Me){case"e":case"E":_e+=K(),Ee="decimalExponent";return}if(st.isDigit(Me)){_e+=K();return}return Ye("numeric",Qn*Number(_e))},decimalExponent(){switch(Me){case"+":case"-":_e+=K(),Ee="decimalExponentSign";return}if(st.isDigit(Me)){_e+=K(),Ee="decimalExponentInteger";return}throw Xe(K())},decimalExponentSign(){if(st.isDigit(Me)){_e+=K(),Ee="decimalExponentInteger";return}throw Xe(K())},decimalExponentInteger(){if(st.isDigit(Me)){_e+=K();return}return Ye("numeric",Qn*Number(_e))},hexadecimal(){if(st.isHexDigit(Me)){_e+=K(),Ee="hexadecimalInteger";return}throw Xe(K())},hexadecimalInteger(){if(st.isHexDigit(Me)){_e+=K();return}return Ye("numeric",Qn*Number(_e))},string(){switch(Me){case"\\":K(),_e+=Iw();return;case'"':if(oo)return K(),Ye("string",_e);_e+=K();return;case"'":if(!oo)return K(),Ye("string",_e);_e+=K();return;case`
`:case"\r":throw Xe(K());case"\u2028":case"\u2029":zw(Me);break;case void 0:throw Xe(K())}_e+=K()},start(){switch(Me){case"{":case"[":return Ye("punctuator",K())}Ee="value"},beforePropertyName(){switch(Me){case"$":case"_":_e=K(),Ee="identifierName";return;case"\\":K(),Ee="identifierNameStartEscape";return;case"}":return Ye("punctuator",K());case'"':case"'":oo=K()==='"',Ee="string";return}if(st.isIdStartChar(Me)){_e+=K(),Ee="identifierName";return}throw Xe(K())},afterPropertyName(){if(Me===":")return Ye("punctuator",K());throw Xe(K())},beforePropertyValue(){Ee="value"},afterPropertyValue(){switch(Me){case",":case"}":return Ye("punctuator",K())}throw Xe(K())},beforeArrayValue(){if(Me==="]")return Ye("punctuator",K());Ee="value"},afterArrayValue(){switch(Me){case",":case"]":return Ye("punctuator",K())}throw Xe(K())},end(){throw Xe(K())}};function Ye(e,n){return{type:e,value:n,line:wr,column:An}}function Or(e){for(const n of e){if(rr()!==n)throw Xe(K());K()}}function Iw(){switch(rr()){case"b":return K(),"\b";case"f":return K(),"\f";case"n":return K(),`
`;case"r":return K(),"\r";case"t":return K(),"	";case"v":return K(),"\v";case"0":if(K(),st.isDigit(rr()))throw Xe(K());return"\0";case"x":return K(),Rw();case"u":return K(),fc();case`
`:case"\u2028":case"\u2029":return K(),"";case"\r":return K(),rr()===`
`&&K(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw Xe(K());case void 0:throw Xe(K())}return K()}function Rw(){let e="",n=rr();if(!st.isHexDigit(n)||(e+=K(),n=rr(),!st.isHexDigit(n)))throw Xe(K());return e+=K(),String.fromCodePoint(parseInt(e,16))}function fc(){let e="",n=4;for(;n-- >0;){const r=rr();if(!st.isHexDigit(r))throw Xe(K());e+=K()}return String.fromCodePoint(parseInt(e,16))}const Mw={start(){if(pt.type==="eof")throw $r();Xa()},beforePropertyName(){switch(pt.type){case"identifier":case"string":Lc=pt.value,It="afterPropertyName";return;case"punctuator":Ds();return;case"eof":throw $r()}},afterPropertyName(){if(pt.type==="eof")throw $r();It="beforePropertyValue"},beforePropertyValue(){if(pt.type==="eof")throw $r();Xa()},beforeArrayValue(){if(pt.type==="eof")throw $r();if(pt.type==="punctuator"&&pt.value==="]"){Ds();return}Xa()},afterPropertyValue(){if(pt.type==="eof")throw $r();switch(pt.value){case",":It="beforePropertyName";return;case"}":Ds()}},afterArrayValue(){if(pt.type==="eof")throw $r();switch(pt.value){case",":It="beforeArrayValue";return;case"]":Ds()}},end(){}};function Xa(){let e;switch(pt.type){case"punctuator":switch(pt.value){case"{":e={};break;case"[":e=[];break}break;case"null":case"boolean":case"numeric":case"string":e=pt.value;break}if(fo===void 0)fo=e;else{const n=tr[tr.length-1];Array.isArray(n)?n.push(e):Object.defineProperty(n,Lc,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(e!==null&&typeof e=="object")tr.push(e),Array.isArray(e)?It="beforeArrayValue":It="beforePropertyName";else{const n=tr[tr.length-1];n==null?It="end":Array.isArray(n)?It="afterArrayValue":It="afterPropertyValue"}}function Ds(){tr.pop();const e=tr[tr.length-1];e==null?It="end":Array.isArray(e)?It="afterArrayValue":It="afterPropertyValue"}function Xe(e){return js(e===void 0?`JSON5: invalid end of input at ${wr}:${An}`:`JSON5: invalid character '${g0(e)}' at ${wr}:${An}`)}function $r(){return js(`JSON5: invalid end of input at ${wr}:${An}`)}function kf(){return An-=5,js(`JSON5: invalid identifier character at ${wr}:${An}`)}function zw(e){console.warn(`JSON5: '${g0(e)}' in strings is not valid ECMAScript; consider escaping`)}function g0(e){const n={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(n[e])return n[e];if(e<" "){const r=e.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return e}function js(e){const n=new SyntaxError(e);return n.lineNumber=wr,n.columnNumber=An,n}var Ow=function(n,r,o){const s=[];let c="",a,l,d="",p;if(r!=null&&typeof r=="object"&&!Array.isArray(r)&&(o=r.space,p=r.quote,r=r.replacer),typeof r=="function")l=r;else if(Array.isArray(r)){a=[];for(const D of r){let w;typeof D=="string"?w=D:(typeof D=="number"||D instanceof String||D instanceof Number)&&(w=String(D)),w!==void 0&&a.indexOf(w)<0&&a.push(w)}}return o instanceof Number?o=Number(o):o instanceof String&&(o=String(o)),typeof o=="number"?o>0&&(o=Math.min(10,Math.floor(o)),d="          ".substr(0,o)):typeof o=="string"&&(d=o.substr(0,10)),h("",{"":n});function h(D,w){let v=w[D];switch(v!=null&&(typeof v.toJSON5=="function"?v=v.toJSON5(D):typeof v.toJSON=="function"&&(v=v.toJSON(D))),l&&(v=l.call(w,D,v)),v instanceof Number?v=Number(v):v instanceof String?v=String(v):v instanceof Boolean&&(v=v.valueOf()),v){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof v=="string")return g(v);if(typeof v=="number")return String(v);if(typeof v=="object")return Array.isArray(v)?E(v):m(v)}function g(D){const w={"'":.1,'"':.2},v={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let T="";for(let N=0;N<D.length;N++){const z=D[N];switch(z){case"'":case'"':w[z]++,T+=z;continue;case"\0":if(st.isDigit(D[N+1])){T+="\\x00";continue}}if(v[z]){T+=v[z];continue}if(z<" "){let k=z.charCodeAt(0).toString(16);T+="\\x"+("00"+k).substring(k.length);continue}T+=z}const S=p||Object.keys(w).reduce((N,z)=>w[N]<w[z]?N:z);return T=T.replace(new RegExp(S,"g"),v[S]),S+T+S}function m(D){if(s.indexOf(D)>=0)throw TypeError("Converting circular structure to JSON5");s.push(D);let w=c;c=c+d;let v=a||Object.keys(D),T=[];for(const N of v){const z=h(N,D);if(z!==void 0){let k=x(N)+":";d!==""&&(k+=" "),k+=z,T.push(k)}}let S;if(T.length===0)S="{}";else{let N;if(d==="")N=T.join(","),S="{"+N+"}";else{let z=`,
`+c;N=T.join(z),S=`{
`+c+N+`,
`+w+"}"}}return s.pop(),c=w,S}function x(D){if(D.length===0)return g(D);const w=String.fromCodePoint(D.codePointAt(0));if(!st.isIdStartChar(w))return g(D);for(let v=w.length;v<D.length;v++)if(!st.isIdContinueChar(String.fromCodePoint(D.codePointAt(v))))return g(D);return D}function E(D){if(s.indexOf(D)>=0)throw TypeError("Converting circular structure to JSON5");s.push(D);let w=c;c=c+d;let v=[];for(let S=0;S<D.length;S++){const N=h(String(S),D);v.push(N!==void 0?N:"null")}let T;if(v.length===0)T="[]";else if(d==="")T="["+v.join(",")+"]";else{let S=`,
`+c,N=v.join(S);T=`[
`+c+N+`,
`+w+"]"}return s.pop(),c=w,T}};const $w={parse:Tw,stringify:Ow};var so=$w;function Rt(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let r=0,o;r<e.length;r++)(o=Rt(e[r]))!==""&&(n+=(n&&" ")+o);else for(let r in e)e[r]&&(n+=(n&&" ")+r);return n}const{useDebugValue:Pw}=H,{useSyncExternalStoreWithSelector:kw}=nx,Hw=e=>e;function m0(e,n=Hw,r){const o=kw(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,r);return Pw(o),o}const Hf=(e,n)=>{const r=rx(e),o=(s,c=n)=>m0(r,s,c);return Object.assign(o,r),o},Lw=(e,n)=>e?Hf(e,n):Hf;function St(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[o,s]of e)if(!Object.is(s,n.get(o)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const o of e)if(!n.has(o))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!1;for(const o of r)if(!Object.prototype.hasOwnProperty.call(n,o)||!Object.is(e[o],n[o]))return!1;return!0}var jw={value:()=>{}};function ru(){for(var e=0,n=arguments.length,r={},o;e<n;++e){if(!(o=arguments[e]+"")||o in r||/[\s.]/.test(o))throw new Error("illegal type: "+o);r[o]=[]}return new Ms(r)}function Ms(e){this._=e}function Vw(e,n){return e.trim().split(/^|\s+/).map(function(r){var o="",s=r.indexOf(".");if(s>=0&&(o=r.slice(s+1),r=r.slice(0,s)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:o}})}Ms.prototype=ru.prototype={constructor:Ms,on:function(e,n){var r=this._,o=Vw(e+"",r),s,c=-1,a=o.length;if(arguments.length<2){for(;++c<a;)if((s=(e=o[c]).type)&&(s=Ww(r[s],e.name)))return s;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++c<a;)if(s=(e=o[c]).type)r[s]=Lf(r[s],e.name,n);else if(n==null)for(s in r)r[s]=Lf(r[s],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Ms(e)},call:function(e,n){if((s=arguments.length-2)>0)for(var r=new Array(s),o=0,s,c;o<s;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],o=0,s=c.length;o<s;++o)c[o].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],s=0,c=o.length;s<c;++s)o[s].value.apply(n,r)}};function Ww(e,n){for(var r=0,o=e.length,s;r<o;++r)if((s=e[r]).name===n)return s.value}function Lf(e,n,r){for(var o=0,s=e.length;o<s;++o)if(e[o].name===n){e[o]=jw,e=e.slice(0,o).concat(e.slice(o+1));break}return r!=null&&e.push({name:n,value:r}),e}var hc="http://www.w3.org/1999/xhtml";const jf={svg:"http://www.w3.org/2000/svg",xhtml:hc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function iu(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),jf.hasOwnProperty(n)?{space:jf[n],local:e}:e}function Gw(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===hc&&n.documentElement.namespaceURI===hc?n.createElement(e):n.createElementNS(r,e)}}function Uw(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function y0(e){var n=iu(e);return(n.local?Uw:Gw)(n)}function qw(){}function jc(e){return e==null?qw:function(){return this.querySelector(e)}}function Yw(e){typeof e!="function"&&(e=jc(e));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var c=n[s],a=c.length,l=o[s]=new Array(a),d,p,h=0;h<a;++h)(d=c[h])&&(p=e.call(d,d.__data__,h,c))&&("__data__"in d&&(p.__data__=d.__data__),l[h]=p);return new en(o,this._parents)}function Xw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Zw(){return[]}function D0(e){return e==null?Zw:function(){return this.querySelectorAll(e)}}function Kw(e){return function(){return Xw(e.apply(this,arguments))}}function Jw(e){typeof e=="function"?e=Kw(e):e=D0(e);for(var n=this._groups,r=n.length,o=[],s=[],c=0;c<r;++c)for(var a=n[c],l=a.length,d,p=0;p<l;++p)(d=a[p])&&(o.push(e.call(d,d.__data__,p,a)),s.push(d));return new en(o,s)}function v0(e){return function(){return this.matches(e)}}function x0(e){return function(n){return n.matches(e)}}var Qw=Array.prototype.find;function eC(e){return function(){return Qw.call(this.children,e)}}function tC(){return this.firstElementChild}function nC(e){return this.select(e==null?tC:eC(typeof e=="function"?e:x0(e)))}var rC=Array.prototype.filter;function iC(){return Array.from(this.children)}function oC(e){return function(){return rC.call(this.children,e)}}function sC(e){return this.selectAll(e==null?iC:oC(typeof e=="function"?e:x0(e)))}function uC(e){typeof e!="function"&&(e=v0(e));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var c=n[s],a=c.length,l=o[s]=[],d,p=0;p<a;++p)(d=c[p])&&e.call(d,d.__data__,p,c)&&l.push(d);return new en(o,this._parents)}function _0(e){return new Array(e.length)}function aC(){return new en(this._enter||this._groups.map(_0),this._parents)}function Vs(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Vs.prototype={constructor:Vs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cC(e){return function(){return e}}function lC(e,n,r,o,s,c){for(var a=0,l,d=n.length,p=c.length;a<p;++a)(l=n[a])?(l.__data__=c[a],o[a]=l):r[a]=new Vs(e,c[a]);for(;a<d;++a)(l=n[a])&&(s[a]=l)}function dC(e,n,r,o,s,c,a){var l,d,p=new Map,h=n.length,g=c.length,m=new Array(h),x;for(l=0;l<h;++l)(d=n[l])&&(m[l]=x=a.call(d,d.__data__,l,n)+"",p.has(x)?s[l]=d:p.set(x,d));for(l=0;l<g;++l)x=a.call(e,c[l],l,c)+"",(d=p.get(x))?(o[l]=d,d.__data__=c[l],p.delete(x)):r[l]=new Vs(e,c[l]);for(l=0;l<h;++l)(d=n[l])&&p.get(m[l])===d&&(s[l]=d)}function fC(e){return e.__data__}function hC(e,n){if(!arguments.length)return Array.from(this,fC);var r=n?dC:lC,o=this._parents,s=this._groups;typeof e!="function"&&(e=cC(e));for(var c=s.length,a=new Array(c),l=new Array(c),d=new Array(c),p=0;p<c;++p){var h=o[p],g=s[p],m=g.length,x=pC(e.call(h,h&&h.__data__,p,o)),E=x.length,D=l[p]=new Array(E),w=a[p]=new Array(E),v=d[p]=new Array(m);r(h,g,D,w,v,x,n);for(var T=0,S=0,N,z;T<E;++T)if(N=D[T]){for(T>=S&&(S=T+1);!(z=w[S])&&++S<E;);N._next=z||null}}return a=new en(a,o),a._enter=l,a._exit=d,a}function pC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gC(){return new en(this._exit||this._groups.map(_0),this._parents)}function mC(e,n,r){var o=this.enter(),s=this,c=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),n!=null&&(s=n(s),s&&(s=s.selection())),r==null?c.remove():r(c),o&&s?o.merge(s).order():s}function yC(e){for(var n=e.selection?e.selection():e,r=this._groups,o=n._groups,s=r.length,c=o.length,a=Math.min(s,c),l=new Array(s),d=0;d<a;++d)for(var p=r[d],h=o[d],g=p.length,m=l[d]=new Array(g),x,E=0;E<g;++E)(x=p[E]||h[E])&&(m[E]=x);for(;d<s;++d)l[d]=r[d];return new en(l,this._parents)}function DC(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var o=e[n],s=o.length-1,c=o[s],a;--s>=0;)(a=o[s])&&(c&&a.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(a,c),c=a);return this}function vC(e){e||(e=xC);function n(g,m){return g&&m?e(g.__data__,m.__data__):!g-!m}for(var r=this._groups,o=r.length,s=new Array(o),c=0;c<o;++c){for(var a=r[c],l=a.length,d=s[c]=new Array(l),p,h=0;h<l;++h)(p=a[h])&&(d[h]=p);d.sort(n)}return new en(s,this._parents).order()}function xC(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function _C(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function wC(){return Array.from(this)}function CC(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],s=0,c=o.length;s<c;++s){var a=o[s];if(a)return a}return null}function EC(){let e=0;for(const n of this)++e;return e}function bC(){return!this.node()}function AC(e){for(var n=this._groups,r=0,o=n.length;r<o;++r)for(var s=n[r],c=0,a=s.length,l;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s);return this}function SC(e){return function(){this.removeAttribute(e)}}function FC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function NC(e,n){return function(){this.setAttribute(e,n)}}function TC(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function BC(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function IC(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function RC(e,n){var r=iu(e);if(arguments.length<2){var o=this.node();return r.local?o.getAttributeNS(r.space,r.local):o.getAttribute(r)}return this.each((n==null?r.local?FC:SC:typeof n=="function"?r.local?IC:BC:r.local?TC:NC)(r,n))}function w0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function MC(e){return function(){this.style.removeProperty(e)}}function zC(e,n,r){return function(){this.style.setProperty(e,n,r)}}function OC(e,n,r){return function(){var o=n.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,r)}}function $C(e,n,r){return arguments.length>1?this.each((n==null?MC:typeof n=="function"?OC:zC)(e,n,r??"")):_i(this.node(),e)}function _i(e,n){return e.style.getPropertyValue(n)||w0(e).getComputedStyle(e,null).getPropertyValue(n)}function PC(e){return function(){delete this[e]}}function kC(e,n){return function(){this[e]=n}}function HC(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function LC(e,n){return arguments.length>1?this.each((n==null?PC:typeof n=="function"?HC:kC)(e,n)):this.node()[e]}function C0(e){return e.trim().split(/^|\s+/)}function Vc(e){return e.classList||new E0(e)}function E0(e){this._node=e,this._names=C0(e.getAttribute("class")||"")}E0.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function b0(e,n){for(var r=Vc(e),o=-1,s=n.length;++o<s;)r.add(n[o])}function A0(e,n){for(var r=Vc(e),o=-1,s=n.length;++o<s;)r.remove(n[o])}function jC(e){return function(){b0(this,e)}}function VC(e){return function(){A0(this,e)}}function WC(e,n){return function(){(n.apply(this,arguments)?b0:A0)(this,e)}}function GC(e,n){var r=C0(e+"");if(arguments.length<2){for(var o=Vc(this.node()),s=-1,c=r.length;++s<c;)if(!o.contains(r[s]))return!1;return!0}return this.each((typeof n=="function"?WC:n?jC:VC)(r,n))}function UC(){this.textContent=""}function qC(e){return function(){this.textContent=e}}function YC(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function XC(e){return arguments.length?this.each(e==null?UC:(typeof e=="function"?YC:qC)(e)):this.node().textContent}function ZC(){this.innerHTML=""}function KC(e){return function(){this.innerHTML=e}}function JC(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function QC(e){return arguments.length?this.each(e==null?ZC:(typeof e=="function"?JC:KC)(e)):this.node().innerHTML}function eE(){this.nextSibling&&this.parentNode.appendChild(this)}function tE(){return this.each(eE)}function nE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rE(){return this.each(nE)}function iE(e){var n=typeof e=="function"?e:y0(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function oE(){return null}function sE(e,n){var r=typeof e=="function"?e:y0(e),o=n==null?oE:typeof n=="function"?n:jc(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),o.apply(this,arguments)||null)})}function uE(){var e=this.parentNode;e&&e.removeChild(this)}function aE(){return this.each(uE)}function cE(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function lE(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function dE(e){return this.select(e?lE:cE)}function fE(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hE(e){return function(n){e.call(this,n,this.__data__)}}function pE(e){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");return o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),{type:n,name:r}})}function gE(e){return function(){var n=this.__on;if(n){for(var r=0,o=-1,s=n.length,c;r<s;++r)c=n[r],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):n[++o]=c;++o?n.length=o:delete this.__on}}}function mE(e,n,r){return function(){var o=this.__on,s,c=hE(n);if(o){for(var a=0,l=o.length;a<l;++a)if((s=o[a]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=c,s.options=r),s.value=n;return}}this.addEventListener(e.type,c,r),s={type:e.type,name:e.name,value:n,listener:c,options:r},o?o.push(s):this.__on=[s]}}function yE(e,n,r){var o=pE(e+""),s,c=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,p=l.length,h;d<p;++d)for(s=0,h=l[d];s<c;++s)if((a=o[s]).type===h.type&&a.name===h.name)return h.value}return}for(l=n?mE:gE,s=0;s<c;++s)this.each(l(o[s],n,r));return this}function S0(e,n,r){var o=w0(e),s=o.CustomEvent;typeof s=="function"?s=new s(n,r):(s=o.document.createEvent("Event"),r?(s.initEvent(n,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(n,!1,!1)),e.dispatchEvent(s)}function DE(e,n){return function(){return S0(this,e,n)}}function vE(e,n){return function(){return S0(this,e,n.apply(this,arguments))}}function xE(e,n){return this.each((typeof n=="function"?vE:DE)(e,n))}function*_E(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],s=0,c=o.length,a;s<c;++s)(a=o[s])&&(yield a)}var F0=[null];function en(e,n){this._groups=e,this._parents=n}function bo(){return new en([[document.documentElement]],F0)}function wE(){return this}en.prototype=bo.prototype={constructor:en,select:Yw,selectAll:Jw,selectChild:nC,selectChildren:sC,filter:uC,data:hC,enter:aC,exit:gC,join:mC,merge:yC,selection:wE,order:DC,sort:vC,call:_C,nodes:wC,node:CC,size:EC,empty:bC,each:AC,attr:RC,style:$C,property:LC,classed:GC,text:XC,html:QC,raise:tE,lower:rE,append:iE,insert:sE,remove:aE,clone:dE,datum:fE,on:yE,dispatch:xE,[Symbol.iterator]:_E};function En(e){return typeof e=="string"?new en([[document.querySelector(e)]],[document.documentElement]):new en([[e]],F0)}function CE(e){let n;for(;n=e.sourceEvent;)e=n;return e}function On(e,n){if(e=CE(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var o=r.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(n.getScreenCTM().inverse()),[o.x,o.y]}if(n.getBoundingClientRect){var s=n.getBoundingClientRect();return[e.clientX-s.left-n.clientLeft,e.clientY-s.top-n.clientTop]}}return[e.pageX,e.pageY]}const EE={passive:!1},mo={capture:!0,passive:!1};function Za(e){e.stopImmediatePropagation()}function mi(e){e.preventDefault(),e.stopImmediatePropagation()}function N0(e){var n=e.document.documentElement,r=En(e).on("dragstart.drag",mi,mo);"onselectstart"in n?r.on("selectstart.drag",mi,mo):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function T0(e,n){var r=e.document.documentElement,o=En(e).on("dragstart.drag",null);n&&(o.on("click.drag",mi,mo),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in r?o.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const vs=e=>()=>e;function pc(e,{sourceEvent:n,subject:r,target:o,identifier:s,active:c,x:a,y:l,dx:d,dy:p,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:h}})}pc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function bE(e){return!e.ctrlKey&&!e.button}function AE(){return this.parentNode}function SE(e,n){return n??{x:e.x,y:e.y}}function FE(){return navigator.maxTouchPoints||"ontouchstart"in this}function NE(){var e=bE,n=AE,r=SE,o=FE,s={},c=ru("start","drag","end"),a=0,l,d,p,h,g=0;function m(N){N.on("mousedown.drag",x).filter(o).on("touchstart.drag",w).on("touchmove.drag",v,EE).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(N,z){if(!(h||!e.call(this,N,z))){var k=S(this,n.call(this,N,z),N,z,"mouse");k&&(En(N.view).on("mousemove.drag",E,mo).on("mouseup.drag",D,mo),N0(N.view),Za(N),p=!1,l=N.clientX,d=N.clientY,k("start",N))}}function E(N){if(mi(N),!p){var z=N.clientX-l,k=N.clientY-d;p=z*z+k*k>g}s.mouse("drag",N)}function D(N){En(N.view).on("mousemove.drag mouseup.drag",null),T0(N.view,p),mi(N),s.mouse("end",N)}function w(N,z){if(e.call(this,N,z)){var k=N.changedTouches,j=n.call(this,N,z),Y=k.length,M,G;for(M=0;M<Y;++M)(G=S(this,j,N,z,k[M].identifier,k[M]))&&(Za(N),G("start",N,k[M]))}}function v(N){var z=N.changedTouches,k=z.length,j,Y;for(j=0;j<k;++j)(Y=s[z[j].identifier])&&(mi(N),Y("drag",N,z[j]))}function T(N){var z=N.changedTouches,k=z.length,j,Y;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),j=0;j<k;++j)(Y=s[z[j].identifier])&&(Za(N),Y("end",N,z[j]))}function S(N,z,k,j,Y,M){var G=c.copy(),Q=On(M||k,z),J,U,F;if((F=r.call(N,new pc("beforestart",{sourceEvent:k,target:m,identifier:Y,active:a,x:Q[0],y:Q[1],dx:0,dy:0,dispatch:G}),j))!=null)return J=F.x-Q[0]||0,U=F.y-Q[1]||0,function P($,W,ee){var L=Q,te;switch($){case"start":s[Y]=P,te=a++;break;case"end":delete s[Y],--a;case"drag":Q=On(ee||W,z),te=a;break}G.call($,N,new pc($,{sourceEvent:W,subject:F,target:m,identifier:Y,active:te,x:Q[0]+J,y:Q[1]+U,dx:Q[0]-L[0],dy:Q[1]-L[1],dispatch:G}),j)}}return m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:vs(!!N),m):e},m.container=function(N){return arguments.length?(n=typeof N=="function"?N:vs(N),m):n},m.subject=function(N){return arguments.length?(r=typeof N=="function"?N:vs(N),m):r},m.touchable=function(N){return arguments.length?(o=typeof N=="function"?N:vs(!!N),m):o},m.on=function(){var N=c.on.apply(c,arguments);return N===c?m:N},m.clickDistance=function(N){return arguments.length?(g=(N=+N)*N,m):Math.sqrt(g)},m}function Wc(e,n,r){e.prototype=n.prototype=r,r.constructor=e}function B0(e,n){var r=Object.create(e.prototype);for(var o in n)r[o]=n[o];return r}function Ao(){}var yo=.7,Ws=1/yo,yi="\\s*([+-]?\\d+)\\s*",Do="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TE=/^#([0-9a-f]{3,8})$/,BE=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),IE=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),RE=new RegExp(`^rgba\\(${yi},${yi},${yi},${Do}\\)$`),ME=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${Do}\\)$`),zE=new RegExp(`^hsl\\(${Do},${Pn},${Pn}\\)$`),OE=new RegExp(`^hsla\\(${Do},${Pn},${Pn},${Do}\\)$`),Vf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wc(Ao,vo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Wf,formatHex:Wf,formatHex8:$E,formatHsl:PE,formatRgb:Gf,toString:Gf});function Wf(){return this.rgb().formatHex()}function $E(){return this.rgb().formatHex8()}function PE(){return I0(this).formatHsl()}function Gf(){return this.rgb().formatRgb()}function vo(e){var n,r;return e=(e+"").trim().toLowerCase(),(n=TE.exec(e))?(r=n[1].length,n=parseInt(n[1],16),r===6?Uf(n):r===3?new jt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):r===8?xs(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):r===4?xs(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=BE.exec(e))?new jt(n[1],n[2],n[3],1):(n=IE.exec(e))?new jt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=RE.exec(e))?xs(n[1],n[2],n[3],n[4]):(n=ME.exec(e))?xs(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=zE.exec(e))?Xf(n[1],n[2]/100,n[3]/100,1):(n=OE.exec(e))?Xf(n[1],n[2]/100,n[3]/100,n[4]):Vf.hasOwnProperty(e)?Uf(Vf[e]):e==="transparent"?new jt(NaN,NaN,NaN,0):null}function Uf(e){return new jt(e>>16&255,e>>8&255,e&255,1)}function xs(e,n,r,o){return o<=0&&(e=n=r=NaN),new jt(e,n,r,o)}function kE(e){return e instanceof Ao||(e=vo(e)),e?(e=e.rgb(),new jt(e.r,e.g,e.b,e.opacity)):new jt}function gc(e,n,r,o){return arguments.length===1?kE(e):new jt(e,n,r,o??1)}function jt(e,n,r,o){this.r=+e,this.g=+n,this.b=+r,this.opacity=+o}Wc(jt,gc,B0(Ao,{brighter(e){return e=e==null?Ws:Math.pow(Ws,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yo:Math.pow(yo,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jt(Lr(this.r),Lr(this.g),Lr(this.b),Gs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qf,formatHex:qf,formatHex8:HE,formatRgb:Yf,toString:Yf}));function qf(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}`}function HE(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}${kr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yf(){const e=Gs(this.opacity);return`${e===1?"rgb(":"rgba("}${Lr(this.r)}, ${Lr(this.g)}, ${Lr(this.b)}${e===1?")":`, ${e})`}`}function Gs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kr(e){return e=Lr(e),(e<16?"0":"")+e.toString(16)}function Xf(e,n,r,o){return o<=0?e=n=r=NaN:r<=0||r>=1?e=n=NaN:n<=0&&(e=NaN),new bn(e,n,r,o)}function I0(e){if(e instanceof bn)return new bn(e.h,e.s,e.l,e.opacity);if(e instanceof Ao||(e=vo(e)),!e)return new bn;if(e instanceof bn)return e;e=e.rgb();var n=e.r/255,r=e.g/255,o=e.b/255,s=Math.min(n,r,o),c=Math.max(n,r,o),a=NaN,l=c-s,d=(c+s)/2;return l?(n===c?a=(r-o)/l+(r<o)*6:r===c?a=(o-n)/l+2:a=(n-r)/l+4,l/=d<.5?c+s:2-c-s,a*=60):l=d>0&&d<1?0:a,new bn(a,l,d,e.opacity)}function LE(e,n,r,o){return arguments.length===1?I0(e):new bn(e,n,r,o??1)}function bn(e,n,r,o){this.h=+e,this.s=+n,this.l=+r,this.opacity=+o}Wc(bn,LE,B0(Ao,{brighter(e){return e=e==null?Ws:Math.pow(Ws,e),new bn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yo:Math.pow(yo,e),new bn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,o=r+(r<.5?r:1-r)*n,s=2*r-o;return new jt(Ka(e>=240?e-240:e+120,s,o),Ka(e,s,o),Ka(e<120?e+240:e-120,s,o),this.opacity)},clamp(){return new bn(Zf(this.h),_s(this.s),_s(this.l),Gs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gs(this.opacity);return`${e===1?"hsl(":"hsla("}${Zf(this.h)}, ${_s(this.s)*100}%, ${_s(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Zf(e){return e=(e||0)%360,e<0?e+360:e}function _s(e){return Math.max(0,Math.min(1,e||0))}function Ka(e,n,r){return(e<60?n+(r-n)*e/60:e<180?r:e<240?n+(r-n)*(240-e)/60:n)*255}const R0=e=>()=>e;function jE(e,n){return function(r){return e+r*n}}function VE(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(o){return Math.pow(e+o*n,r)}}function WE(e){return(e=+e)==1?M0:function(n,r){return r-n?VE(n,r,e):R0(isNaN(n)?r:n)}}function M0(e,n){var r=n-e;return r?jE(e,r):R0(isNaN(e)?n:e)}const Kf=function e(n){var r=WE(n);function o(s,c){var a=r((s=gc(s)).r,(c=gc(c)).r),l=r(s.g,c.g),d=r(s.b,c.b),p=M0(s.opacity,c.opacity);return function(h){return s.r=a(h),s.g=l(h),s.b=d(h),s.opacity=p(h),s+""}}return o.gamma=e,o}(1);function yr(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}var mc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ja=new RegExp(mc.source,"g");function GE(e){return function(){return e}}function UE(e){return function(n){return e(n)+""}}function qE(e,n){var r=mc.lastIndex=Ja.lastIndex=0,o,s,c,a=-1,l=[],d=[];for(e=e+"",n=n+"";(o=mc.exec(e))&&(s=Ja.exec(n));)(c=s.index)>r&&(c=n.slice(r,c),l[a]?l[a]+=c:l[++a]=c),(o=o[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,d.push({i:a,x:yr(o,s)})),r=Ja.lastIndex;return r<n.length&&(c=n.slice(r),l[a]?l[a]+=c:l[++a]=c),l.length<2?d[0]?UE(d[0].x):GE(n):(n=d.length,function(p){for(var h=0,g;h<n;++h)l[(g=d[h]).i]=g.x(p);return l.join("")})}var Jf=180/Math.PI,yc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function z0(e,n,r,o,s,c){var a,l,d;return(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a),(d=e*r+n*o)&&(r-=e*d,o-=n*d),(l=Math.sqrt(r*r+o*o))&&(r/=l,o/=l,d/=l),e*o<n*r&&(e=-e,n=-n,d=-d,a=-a),{translateX:s,translateY:c,rotate:Math.atan2(n,e)*Jf,skewX:Math.atan(d)*Jf,scaleX:a,scaleY:l}}var ws;function YE(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?yc:z0(n.a,n.b,n.c,n.d,n.e,n.f)}function XE(e){return e==null||(ws||(ws=document.createElementNS("http://www.w3.org/2000/svg","g")),ws.setAttribute("transform",e),!(e=ws.transform.baseVal.consolidate()))?yc:(e=e.matrix,z0(e.a,e.b,e.c,e.d,e.e,e.f))}function O0(e,n,r,o){function s(p){return p.length?p.pop()+" ":""}function c(p,h,g,m,x,E){if(p!==g||h!==m){var D=x.push("translate(",null,n,null,r);E.push({i:D-4,x:yr(p,g)},{i:D-2,x:yr(h,m)})}else(g||m)&&x.push("translate("+g+n+m+r)}function a(p,h,g,m){p!==h?(p-h>180?h+=360:h-p>180&&(p+=360),m.push({i:g.push(s(g)+"rotate(",null,o)-2,x:yr(p,h)})):h&&g.push(s(g)+"rotate("+h+o)}function l(p,h,g,m){p!==h?m.push({i:g.push(s(g)+"skewX(",null,o)-2,x:yr(p,h)}):h&&g.push(s(g)+"skewX("+h+o)}function d(p,h,g,m,x,E){if(p!==g||h!==m){var D=x.push(s(x)+"scale(",null,",",null,")");E.push({i:D-4,x:yr(p,g)},{i:D-2,x:yr(h,m)})}else(g!==1||m!==1)&&x.push(s(x)+"scale("+g+","+m+")")}return function(p,h){var g=[],m=[];return p=e(p),h=e(h),c(p.translateX,p.translateY,h.translateX,h.translateY,g,m),a(p.rotate,h.rotate,g,m),l(p.skewX,h.skewX,g,m),d(p.scaleX,p.scaleY,h.scaleX,h.scaleY,g,m),p=h=null,function(x){for(var E=-1,D=m.length,w;++E<D;)g[(w=m[E]).i]=w.x(x);return g.join("")}}}var ZE=O0(YE,"px, ","px)","deg)"),KE=O0(XE,", ",")",")"),JE=1e-12;function Qf(e){return((e=Math.exp(e))+1/e)/2}function QE(e){return((e=Math.exp(e))-1/e)/2}function eb(e){return((e=Math.exp(2*e))-1)/(e+1)}const tb=function e(n,r,o){function s(c,a){var l=c[0],d=c[1],p=c[2],h=a[0],g=a[1],m=a[2],x=h-l,E=g-d,D=x*x+E*E,w,v;if(D<JE)v=Math.log(m/p)/n,w=function(j){return[l+j*x,d+j*E,p*Math.exp(n*j*v)]};else{var T=Math.sqrt(D),S=(m*m-p*p+o*D)/(2*p*r*T),N=(m*m-p*p-o*D)/(2*m*r*T),z=Math.log(Math.sqrt(S*S+1)-S),k=Math.log(Math.sqrt(N*N+1)-N);v=(k-z)/n,w=function(j){var Y=j*v,M=Qf(z),G=p/(r*T)*(M*eb(n*Y+z)-QE(z));return[l+G*x,d+G*E,p*M/Qf(n*Y+z)]}}return w.duration=v*1e3*n/Math.SQRT2,w}return s.rho=function(c){var a=Math.max(.001,+c),l=a*a,d=l*l;return e(a,l,d)},s}(Math.SQRT2,2,4);var wi=0,uo=0,Ji=0,$0=1e3,Us,ao,qs=0,Vr=0,ou=0,xo=typeof performance=="object"&&performance.now?performance:Date,P0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gc(){return Vr||(P0(nb),Vr=xo.now()+ou)}function nb(){Vr=0}function Ys(){this._call=this._time=this._next=null}Ys.prototype=k0.prototype={constructor:Ys,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Gc():+r)+(n==null?0:+n),!this._next&&ao!==this&&(ao?ao._next=this:Us=this,ao=this),this._call=e,this._time=r,Dc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dc())}};function k0(e,n,r){var o=new Ys;return o.restart(e,n,r),o}function rb(){Gc(),++wi;for(var e=Us,n;e;)(n=Vr-e._time)>=0&&e._call.call(void 0,n),e=e._next;--wi}function eh(){Vr=(qs=xo.now())+ou,wi=uo=0;try{rb()}finally{wi=0,ob(),Vr=0}}function ib(){var e=xo.now(),n=e-qs;n>$0&&(ou-=n,qs=e)}function ob(){for(var e,n=Us,r,o=1/0;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:Us=r);ao=e,Dc(o)}function Dc(e){if(!wi){uo&&(uo=clearTimeout(uo));var n=e-Vr;n>24?(e<1/0&&(uo=setTimeout(eh,e-xo.now()-ou)),Ji&&(Ji=clearInterval(Ji))):(Ji||(qs=xo.now(),Ji=setInterval(ib,$0)),wi=1,P0(eh))}}function th(e,n,r){var o=new Ys;return n=n==null?0:+n,o.restart(s=>{o.stop(),e(s+n)},n,r),o}var sb=ru("start","end","cancel","interrupt"),ub=[],H0=0,nh=1,vc=2,zs=3,rh=4,xc=5,Os=6;function su(e,n,r,o,s,c){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;ab(e,r,{name:n,index:o,group:s,on:sb,tween:ub,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:H0})}function Uc(e,n){var r=Nn(e,n);if(r.state>H0)throw new Error("too late; already scheduled");return r}function kn(e,n){var r=Nn(e,n);if(r.state>zs)throw new Error("too late; already running");return r}function Nn(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function ab(e,n,r){var o=e.__transition,s;o[n]=r,r.timer=k0(c,0,r.time);function c(p){r.state=nh,r.timer.restart(a,r.delay,r.time),r.delay<=p&&a(p-r.delay)}function a(p){var h,g,m,x;if(r.state!==nh)return d();for(h in o)if(x=o[h],x.name===r.name){if(x.state===zs)return th(a);x.state===rh?(x.state=Os,x.timer.stop(),x.on.call("interrupt",e,e.__data__,x.index,x.group),delete o[h]):+h<n&&(x.state=Os,x.timer.stop(),x.on.call("cancel",e,e.__data__,x.index,x.group),delete o[h])}if(th(function(){r.state===zs&&(r.state=rh,r.timer.restart(l,r.delay,r.time),l(p))}),r.state=vc,r.on.call("start",e,e.__data__,r.index,r.group),r.state===vc){for(r.state=zs,s=new Array(m=r.tween.length),h=0,g=-1;h<m;++h)(x=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(s[++g]=x);s.length=g+1}}function l(p){for(var h=p<r.duration?r.ease.call(null,p/r.duration):(r.timer.restart(d),r.state=xc,1),g=-1,m=s.length;++g<m;)s[g].call(e,h);r.state===xc&&(r.on.call("end",e,e.__data__,r.index,r.group),d())}function d(){r.state=Os,r.timer.stop(),delete o[n];for(var p in o)return;delete e.__transition}}function $s(e,n){var r=e.__transition,o,s,c=!0,a;if(r){n=n==null?null:n+"";for(a in r){if((o=r[a]).name!==n){c=!1;continue}s=o.state>vc&&o.state<xc,o.state=Os,o.timer.stop(),o.on.call(s?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete r[a]}c&&delete e.__transition}}function cb(e){return this.each(function(){$s(this,e)})}function lb(e,n){var r,o;return function(){var s=kn(this,e),c=s.tween;if(c!==r){o=r=c;for(var a=0,l=o.length;a<l;++a)if(o[a].name===n){o=o.slice(),o.splice(a,1);break}}s.tween=o}}function db(e,n,r){var o,s;if(typeof r!="function")throw new Error;return function(){var c=kn(this,e),a=c.tween;if(a!==o){s=(o=a).slice();for(var l={name:n,value:r},d=0,p=s.length;d<p;++d)if(s[d].name===n){s[d]=l;break}d===p&&s.push(l)}c.tween=s}}function fb(e,n){var r=this._id;if(e+="",arguments.length<2){for(var o=Nn(this.node(),r).tween,s=0,c=o.length,a;s<c;++s)if((a=o[s]).name===e)return a.value;return null}return this.each((n==null?lb:db)(r,e,n))}function qc(e,n,r){var o=e._id;return e.each(function(){var s=kn(this,o);(s.value||(s.value={}))[n]=r.apply(this,arguments)}),function(s){return Nn(s,o).value[n]}}function L0(e,n){var r;return(typeof n=="number"?yr:n instanceof vo?Kf:(r=vo(n))?(n=r,Kf):qE)(e,n)}function hb(e){return function(){this.removeAttribute(e)}}function pb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gb(e,n,r){var o,s=r+"",c;return function(){var a=this.getAttribute(e);return a===s?null:a===o?c:c=n(o=a,r)}}function mb(e,n,r){var o,s=r+"",c;return function(){var a=this.getAttributeNS(e.space,e.local);return a===s?null:a===o?c:c=n(o=a,r)}}function yb(e,n,r){var o,s,c;return function(){var a,l=r(this),d;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),d=l+"",a===d?null:a===o&&d===s?c:(s=d,c=n(o=a,l)))}}function Db(e,n,r){var o,s,c;return function(){var a,l=r(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),d=l+"",a===d?null:a===o&&d===s?c:(s=d,c=n(o=a,l)))}}function vb(e,n){var r=iu(e),o=r==="transform"?KE:L0;return this.attrTween(e,typeof n=="function"?(r.local?Db:yb)(r,o,qc(this,"attr."+e,n)):n==null?(r.local?pb:hb)(r):(r.local?mb:gb)(r,o,n))}function xb(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function _b(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function wb(e,n){var r,o;function s(){var c=n.apply(this,arguments);return c!==o&&(r=(o=c)&&_b(e,c)),r}return s._value=n,s}function Cb(e,n){var r,o;function s(){var c=n.apply(this,arguments);return c!==o&&(r=(o=c)&&xb(e,c)),r}return s._value=n,s}function Eb(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var o=iu(e);return this.tween(r,(o.local?wb:Cb)(o,n))}function bb(e,n){return function(){Uc(this,e).delay=+n.apply(this,arguments)}}function Ab(e,n){return n=+n,function(){Uc(this,e).delay=n}}function Sb(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?bb:Ab)(n,e)):Nn(this.node(),n).delay}function Fb(e,n){return function(){kn(this,e).duration=+n.apply(this,arguments)}}function Nb(e,n){return n=+n,function(){kn(this,e).duration=n}}function Tb(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Fb:Nb)(n,e)):Nn(this.node(),n).duration}function Bb(e,n){if(typeof n!="function")throw new Error;return function(){kn(this,e).ease=n}}function Ib(e){var n=this._id;return arguments.length?this.each(Bb(n,e)):Nn(this.node(),n).ease}function Rb(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;kn(this,e).ease=r}}function Mb(e){if(typeof e!="function")throw new Error;return this.each(Rb(this._id,e))}function zb(e){typeof e!="function"&&(e=v0(e));for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s)for(var c=n[s],a=c.length,l=o[s]=[],d,p=0;p<a;++p)(d=c[p])&&e.call(d,d.__data__,p,c)&&l.push(d);return new ir(o,this._parents,this._name,this._id)}function Ob(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,o=n.length,s=r.length,c=Math.min(o,s),a=new Array(o),l=0;l<c;++l)for(var d=n[l],p=r[l],h=d.length,g=a[l]=new Array(h),m,x=0;x<h;++x)(m=d[x]||p[x])&&(g[x]=m);for(;l<o;++l)a[l]=n[l];return new ir(a,this._parents,this._name,this._id)}function $b(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function Pb(e,n,r){var o,s,c=$b(n)?Uc:kn;return function(){var a=c(this,e),l=a.on;l!==o&&(s=(o=l).copy()).on(n,r),a.on=s}}function kb(e,n){var r=this._id;return arguments.length<2?Nn(this.node(),r).on.on(e):this.each(Pb(r,e,n))}function Hb(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function Lb(){return this.on("end.remove",Hb(this._id))}function jb(e){var n=this._name,r=this._id;typeof e!="function"&&(e=jc(e));for(var o=this._groups,s=o.length,c=new Array(s),a=0;a<s;++a)for(var l=o[a],d=l.length,p=c[a]=new Array(d),h,g,m=0;m<d;++m)(h=l[m])&&(g=e.call(h,h.__data__,m,l))&&("__data__"in h&&(g.__data__=h.__data__),p[m]=g,su(p[m],n,r,m,p,Nn(h,r)));return new ir(c,this._parents,n,r)}function Vb(e){var n=this._name,r=this._id;typeof e!="function"&&(e=D0(e));for(var o=this._groups,s=o.length,c=[],a=[],l=0;l<s;++l)for(var d=o[l],p=d.length,h,g=0;g<p;++g)if(h=d[g]){for(var m=e.call(h,h.__data__,g,d),x,E=Nn(h,r),D=0,w=m.length;D<w;++D)(x=m[D])&&su(x,n,r,D,m,E);c.push(m),a.push(h)}return new ir(c,a,n,r)}var Wb=bo.prototype.constructor;function Gb(){return new Wb(this._groups,this._parents)}function Ub(e,n){var r,o,s;return function(){var c=_i(this,e),a=(this.style.removeProperty(e),_i(this,e));return c===a?null:c===r&&a===o?s:s=n(r=c,o=a)}}function j0(e){return function(){this.style.removeProperty(e)}}function qb(e,n,r){var o,s=r+"",c;return function(){var a=_i(this,e);return a===s?null:a===o?c:c=n(o=a,r)}}function Yb(e,n,r){var o,s,c;return function(){var a=_i(this,e),l=r(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),_i(this,e))),a===d?null:a===o&&d===s?c:(s=d,c=n(o=a,l))}}function Xb(e,n){var r,o,s,c="style."+n,a="end."+c,l;return function(){var d=kn(this,e),p=d.on,h=d.value[c]==null?l||(l=j0(n)):void 0;(p!==r||s!==h)&&(o=(r=p).copy()).on(a,s=h),d.on=o}}function Zb(e,n,r){var o=(e+="")=="transform"?ZE:L0;return n==null?this.styleTween(e,Ub(e,o)).on("end.style."+e,j0(e)):typeof n=="function"?this.styleTween(e,Yb(e,o,qc(this,"style."+e,n))).each(Xb(this._id,e)):this.styleTween(e,qb(e,o,n),r).on("end.style."+e,null)}function Kb(e,n,r){return function(o){this.style.setProperty(e,n.call(this,o),r)}}function Jb(e,n,r){var o,s;function c(){var a=n.apply(this,arguments);return a!==s&&(o=(s=a)&&Kb(e,a,r)),o}return c._value=n,c}function Qb(e,n,r){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;return this.tween(o,Jb(e,n,r??""))}function e3(e){return function(){this.textContent=e}}function t3(e){return function(){var n=e(this);this.textContent=n??""}}function n3(e){return this.tween("text",typeof e=="function"?t3(qc(this,"text",e)):e3(e==null?"":e+""))}function r3(e){return function(n){this.textContent=e.call(this,n)}}function i3(e){var n,r;function o(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&r3(s)),n}return o._value=e,o}function o3(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,i3(e))}function s3(){for(var e=this._name,n=this._id,r=V0(),o=this._groups,s=o.length,c=0;c<s;++c)for(var a=o[c],l=a.length,d,p=0;p<l;++p)if(d=a[p]){var h=Nn(d,n);su(d,e,r,p,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ir(o,this._parents,e,r)}function u3(){var e,n,r=this,o=r._id,s=r.size();return new Promise(function(c,a){var l={value:a},d={value:function(){--s===0&&c()}};r.each(function(){var p=kn(this,o),h=p.on;h!==e&&(n=(e=h).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(d)),p.on=n}),s===0&&c()})}var a3=0;function ir(e,n,r,o){this._groups=e,this._parents=n,this._name=r,this._id=o}function V0(){return++a3}var Jn=bo.prototype;ir.prototype={constructor:ir,select:jb,selectAll:Vb,selectChild:Jn.selectChild,selectChildren:Jn.selectChildren,filter:zb,merge:Ob,selection:Gb,transition:s3,call:Jn.call,nodes:Jn.nodes,node:Jn.node,size:Jn.size,empty:Jn.empty,each:Jn.each,on:kb,attr:vb,attrTween:Eb,style:Zb,styleTween:Qb,text:n3,textTween:o3,remove:Lb,tween:fb,delay:Sb,duration:Tb,ease:Ib,easeVarying:Mb,end:u3,[Symbol.iterator]:Jn[Symbol.iterator]};function c3(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var l3={time:null,delay:0,duration:250,ease:c3};function d3(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function f3(e){var n,r;e instanceof ir?(n=e._id,e=e._name):(n=V0(),(r=l3).time=Gc(),e=e==null?null:e+"");for(var o=this._groups,s=o.length,c=0;c<s;++c)for(var a=o[c],l=a.length,d,p=0;p<l;++p)(d=a[p])&&su(d,e,n,p,a,r||d3(d,n));return new ir(o,this._parents,e,n)}bo.prototype.interrupt=cb;bo.prototype.transition=f3;const Cs=e=>()=>e;function h3(e,{sourceEvent:n,target:r,transform:o,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:s}})}function nr(e,n,r){this.k=e,this.x=n,this.y=r}nr.prototype={constructor:nr,scale:function(e){return e===1?this:new nr(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new nr(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xr=new nr(1,0,0);nr.prototype;function Qa(e){e.stopImmediatePropagation()}function Qi(e){e.preventDefault(),e.stopImmediatePropagation()}function p3(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function g3(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ih(){return this.__zoom||xr}function m3(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function y3(){return navigator.maxTouchPoints||"ontouchstart"in this}function D3(e,n,r){var o=e.invertX(n[0][0])-r[0][0],s=e.invertX(n[1][0])-r[1][0],c=e.invertY(n[0][1])-r[0][1],a=e.invertY(n[1][1])-r[1][1];return e.translate(s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s),a>c?(c+a)/2:Math.min(0,c)||Math.max(0,a))}function v3(){var e=p3,n=g3,r=D3,o=m3,s=y3,c=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],l=250,d=tb,p=ru("start","zoom","end"),h,g,m,x=500,E=150,D=0,w=10;function v(F){F.property("__zoom",ih).on("wheel.zoom",Y,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",G).filter(s).on("touchstart.zoom",Q).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(F,P,$,W){var ee=F.selection?F.selection():F;ee.property("__zoom",ih),F!==ee?z(F,P,$,W):ee.interrupt().each(function(){k(this,arguments).event(W).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},v.scaleBy=function(F,P,$,W){v.scaleTo(F,function(){var ee=this.__zoom.k,L=typeof P=="function"?P.apply(this,arguments):P;return ee*L},$,W)},v.scaleTo=function(F,P,$,W){v.transform(F,function(){var ee=n.apply(this,arguments),L=this.__zoom,te=$==null?N(ee):typeof $=="function"?$.apply(this,arguments):$,re=L.invert(te),oe=typeof P=="function"?P.apply(this,arguments):P;return r(S(T(L,oe),te,re),ee,a)},$,W)},v.translateBy=function(F,P,$,W){v.transform(F,function(){return r(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof $=="function"?$.apply(this,arguments):$),n.apply(this,arguments),a)},null,W)},v.translateTo=function(F,P,$,W,ee){v.transform(F,function(){var L=n.apply(this,arguments),te=this.__zoom,re=W==null?N(L):typeof W=="function"?W.apply(this,arguments):W;return r(xr.translate(re[0],re[1]).scale(te.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof $=="function"?-$.apply(this,arguments):-$),L,a)},W,ee)};function T(F,P){return P=Math.max(c[0],Math.min(c[1],P)),P===F.k?F:new nr(P,F.x,F.y)}function S(F,P,$){var W=P[0]-$[0]*F.k,ee=P[1]-$[1]*F.k;return W===F.x&&ee===F.y?F:new nr(F.k,W,ee)}function N(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function z(F,P,$,W){F.on("start.zoom",function(){k(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(W).end()}).tween("zoom",function(){var ee=this,L=arguments,te=k(ee,L).event(W),re=n.apply(ee,L),oe=$==null?N(re):typeof $=="function"?$.apply(ee,L):$,ce=Math.max(re[1][0]-re[0][0],re[1][1]-re[0][1]),ae=ee.__zoom,ge=typeof P=="function"?P.apply(ee,L):P,Ae=d(ae.invert(oe).concat(ce/ae.k),ge.invert(oe).concat(ce/ge.k));return function(Se){if(Se===1)Se=ge;else{var he=Ae(Se),De=ce/he[2];Se=new nr(De,oe[0]-he[0]*De,oe[1]-he[1]*De)}te.zoom(null,Se)}})}function k(F,P,$){return!$&&F.__zooming||new j(F,P)}function j(F,P){this.that=F,this.args=P,this.active=0,this.sourceEvent=null,this.extent=n.apply(F,P),this.taps=0}j.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,P){return this.mouse&&F!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var P=En(this.that).datum();p.call(F,this.that,new h3(F,{sourceEvent:this.sourceEvent,target:v,type:F,transform:this.that.__zoom,dispatch:p}),P)}};function Y(F,...P){if(!e.apply(this,arguments))return;var $=k(this,P).event(F),W=this.__zoom,ee=Math.max(c[0],Math.min(c[1],W.k*Math.pow(2,o.apply(this,arguments)))),L=On(F);if($.wheel)($.mouse[0][0]!==L[0]||$.mouse[0][1]!==L[1])&&($.mouse[1]=W.invert($.mouse[0]=L)),clearTimeout($.wheel);else{if(W.k===ee)return;$.mouse=[L,W.invert(L)],$s(this),$.start()}Qi(F),$.wheel=setTimeout(te,E),$.zoom("mouse",r(S(T(W,ee),$.mouse[0],$.mouse[1]),$.extent,a));function te(){$.wheel=null,$.end()}}function M(F,...P){if(m||!e.apply(this,arguments))return;var $=F.currentTarget,W=k(this,P,!0).event(F),ee=En(F.view).on("mousemove.zoom",oe,!0).on("mouseup.zoom",ce,!0),L=On(F,$),te=F.clientX,re=F.clientY;N0(F.view),Qa(F),W.mouse=[L,this.__zoom.invert(L)],$s(this),W.start();function oe(ae){if(Qi(ae),!W.moved){var ge=ae.clientX-te,Ae=ae.clientY-re;W.moved=ge*ge+Ae*Ae>D}W.event(ae).zoom("mouse",r(S(W.that.__zoom,W.mouse[0]=On(ae,$),W.mouse[1]),W.extent,a))}function ce(ae){ee.on("mousemove.zoom mouseup.zoom",null),T0(ae.view,W.moved),Qi(ae),W.event(ae).end()}}function G(F,...P){if(e.apply(this,arguments)){var $=this.__zoom,W=On(F.changedTouches?F.changedTouches[0]:F,this),ee=$.invert(W),L=$.k*(F.shiftKey?.5:2),te=r(S(T($,L),W,ee),n.apply(this,P),a);Qi(F),l>0?En(this).transition().duration(l).call(z,te,W,F):En(this).call(v.transform,te,W,F)}}function Q(F,...P){if(e.apply(this,arguments)){var $=F.touches,W=$.length,ee=k(this,P,F.changedTouches.length===W).event(F),L,te,re,oe;for(Qa(F),te=0;te<W;++te)re=$[te],oe=On(re,this),oe=[oe,this.__zoom.invert(oe),re.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==oe[2]&&(ee.touch1=oe,ee.taps=0):(ee.touch0=oe,L=!0,ee.taps=1+!!h);h&&(h=clearTimeout(h)),L&&(ee.taps<2&&(g=oe[0],h=setTimeout(function(){h=null},x)),$s(this),ee.start())}}function J(F,...P){if(this.__zooming){var $=k(this,P).event(F),W=F.changedTouches,ee=W.length,L,te,re,oe;for(Qi(F),L=0;L<ee;++L)te=W[L],re=On(te,this),$.touch0&&$.touch0[2]===te.identifier?$.touch0[0]=re:$.touch1&&$.touch1[2]===te.identifier&&($.touch1[0]=re);if(te=$.that.__zoom,$.touch1){var ce=$.touch0[0],ae=$.touch0[1],ge=$.touch1[0],Ae=$.touch1[1],Se=(Se=ge[0]-ce[0])*Se+(Se=ge[1]-ce[1])*Se,he=(he=Ae[0]-ae[0])*he+(he=Ae[1]-ae[1])*he;te=T(te,Math.sqrt(Se/he)),re=[(ce[0]+ge[0])/2,(ce[1]+ge[1])/2],oe=[(ae[0]+Ae[0])/2,(ae[1]+Ae[1])/2]}else if($.touch0)re=$.touch0[0],oe=$.touch0[1];else return;$.zoom("touch",r(S(te,re,oe),$.extent,a))}}function U(F,...P){if(this.__zooming){var $=k(this,P).event(F),W=F.changedTouches,ee=W.length,L,te;for(Qa(F),m&&clearTimeout(m),m=setTimeout(function(){m=null},x),L=0;L<ee;++L)te=W[L],$.touch0&&$.touch0[2]===te.identifier?delete $.touch0:$.touch1&&$.touch1[2]===te.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(te=On(te,this),Math.hypot(g[0]-te[0],g[1]-te[1])<w)){var re=En(this).on("dblclick.zoom");re&&re.apply(this,arguments)}}}return v.wheelDelta=function(F){return arguments.length?(o=typeof F=="function"?F:Cs(+F),v):o},v.filter=function(F){return arguments.length?(e=typeof F=="function"?F:Cs(!!F),v):e},v.touchable=function(F){return arguments.length?(s=typeof F=="function"?F:Cs(!!F),v):s},v.extent=function(F){return arguments.length?(n=typeof F=="function"?F:Cs([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),v):n},v.scaleExtent=function(F){return arguments.length?(c[0]=+F[0],c[1]=+F[1],v):[c[0],c[1]]},v.translateExtent=function(F){return arguments.length?(a[0][0]=+F[0][0],a[1][0]=+F[1][0],a[0][1]=+F[0][1],a[1][1]=+F[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(F){return arguments.length?(r=F,v):r},v.duration=function(F){return arguments.length?(l=+F,v):l},v.interpolate=function(F){return arguments.length?(d=F,v):d},v.on=function(){var F=p.on.apply(p,arguments);return F===p?v:F},v.clickDistance=function(F){return arguments.length?(D=(F=+F)*F,v):Math.sqrt(D)},v.tapDistance=function(F){return arguments.length?(w=+F,v):w},v}const uu=A.createContext(null),x3=uu.Provider,or={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,n)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?n.targetHandle:n.sourceHandle}", edge id: ${n.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},W0=or.error001();function Qe(e,n){const r=A.useContext(uu);if(r===null)throw new Error(W0);return m0(r,e,n)}const Dt=()=>{const e=A.useContext(uu);if(e===null)throw new Error(W0);return A.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},_3=e=>e.userSelectionActive?"none":"all";function G0({position:e,children:n,className:r,style:o,...s}){const c=Qe(_3),a=`${e}`.split("-");return H.createElement("div",{className:Rt(["react-flow__panel",r,...a]),style:{...o,pointerEvents:c},...s},n)}function w3({proOptions:e,position:n="bottom-right"}){return e?.hideAttribution?null:H.createElement(G0,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},H.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const C3=({x:e,y:n,label:r,labelStyle:o={},labelShowBg:s=!0,labelBgStyle:c={},labelBgPadding:a=[2,4],labelBgBorderRadius:l=2,children:d,className:p,...h})=>{const g=A.useRef(null),[m,x]=A.useState({x:0,y:0,width:0,height:0}),E=Rt(["react-flow__edge-textwrapper",p]);return A.useEffect(()=>{if(g.current){const D=g.current.getBBox();x({x:D.x,y:D.y,width:D.width,height:D.height})}},[r]),typeof r>"u"||!r?null:H.createElement("g",{transform:`translate(${e-m.width/2} ${n-m.height/2})`,className:E,visibility:m.width?"visible":"hidden",...h},s&&H.createElement("rect",{width:m.width+2*a[0],x:-a[0],y:-a[1],height:m.height+2*a[1],className:"react-flow__edge-textbg",style:c,rx:l,ry:l}),H.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:g,style:o},r),d)};var E3=A.memo(C3);const Yc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Ci=(e,n=0,r=1)=>Math.min(Math.max(e,n),r),Xc=(e={x:0,y:0},n)=>({x:Ci(e.x,n[0][0],n[1][0]),y:Ci(e.y,n[0][1],n[1][1])}),oh=(e,n,r)=>e<n?Ci(Math.abs(e-n),1,50)/50:e>r?-Ci(Math.abs(e-r),1,50)/50:0,U0=(e,n)=>{const r=oh(e.x,35,n.width-35)*20,o=oh(e.y,35,n.height-35)*20;return[r,o]},q0=e=>e.getRootNode?.()||window?.document,b3=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),Zc=({x:e,y:n,width:r,height:o})=>({x:e,y:n,x2:e+r,y2:n+o}),A3=({x:e,y:n,x2:r,y2:o})=>({x:e,y:n,width:r-e,height:o-n}),sh=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),_c=(e,n)=>{const r=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),o=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(r*o)},S3=e=>hn(e.width)&&hn(e.height)&&hn(e.x)&&hn(e.y),hn=e=>!isNaN(e)&&isFinite(e),rt=Symbol.for("internals"),Y0=["Enter"," ","Escape"],F3=(e,n)=>{},N3=e=>"nativeEvent"in e;function wc(e){const r=(N3(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r?.nodeName)||r?.hasAttribute("contenteditable")||!!r?.closest(".nokey")}const X0=e=>"clientX"in e,_r=(e,n)=>{const r=X0(e),o=r?e.clientX:e.touches?.[0].clientX,s=r?e.clientY:e.touches?.[0].clientY;return{x:o-(n?.left??0),y:s-(n?.top??0)}},Xs=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,bi=({id:e,path:n,labelX:r,labelY:o,label:s,labelStyle:c,labelShowBg:a,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:g,markerStart:m,interactionWidth:x=20})=>H.createElement(H.Fragment,null,H.createElement("path",{id:e,style:h,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:g,markerStart:m}),x&&H.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:x,className:"react-flow__edge-interaction"}),s&&hn(r)&&hn(o)?H.createElement(E3,{x:r,y:o,label:s,labelStyle:c,labelShowBg:a,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:p}):null);bi.displayName="BaseEdge";function eo(e,n,r){return r===void 0?r:o=>{const s=n().edges.find(c=>c.id===e);s&&r(o,{...s})}}function Z0({sourceX:e,sourceY:n,targetX:r,targetY:o}){const s=Math.abs(r-e)/2,c=r<e?r+s:r-s,a=Math.abs(o-n)/2,l=o<n?o+a:o-a;return[c,l,s,a]}function K0({sourceX:e,sourceY:n,targetX:r,targetY:o,sourceControlX:s,sourceControlY:c,targetControlX:a,targetControlY:l}){const d=e*.125+s*.375+a*.375+r*.125,p=n*.125+c*.375+l*.375+o*.125,h=Math.abs(d-e),g=Math.abs(p-n);return[d,p,h,g]}var Wr;(function(e){e.Strict="strict",e.Loose="loose"})(Wr||(Wr={}));var Hr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Hr||(Hr={}));var Ei;(function(e){e.Partial="partial",e.Full="full"})(Ei||(Ei={}));var vr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(vr||(vr={}));var _o;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(_o||(_o={}));var de;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(de||(de={}));function uh({pos:e,x1:n,y1:r,x2:o,y2:s}){return e===de.Left||e===de.Right?[.5*(n+o),r]:[n,.5*(r+s)]}function J0({sourceX:e,sourceY:n,sourcePosition:r=de.Bottom,targetX:o,targetY:s,targetPosition:c=de.Top}){const[a,l]=uh({pos:r,x1:e,y1:n,x2:o,y2:s}),[d,p]=uh({pos:c,x1:o,y1:s,x2:e,y2:n}),[h,g,m,x]=K0({sourceX:e,sourceY:n,targetX:o,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:d,targetControlY:p});return[`M${e},${n} C${a},${l} ${d},${p} ${o},${s}`,h,g,m,x]}const Kc=A.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,sourcePosition:s=de.Bottom,targetPosition:c=de.Top,label:a,labelStyle:l,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:x,markerStart:E,interactionWidth:D})=>{const[w,v,T]=J0({sourceX:e,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:c});return H.createElement(bi,{path:w,labelX:v,labelY:T,label:a,labelStyle:l,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:x,markerStart:E,interactionWidth:D})});Kc.displayName="SimpleBezierEdge";const ah={[de.Left]:{x:-1,y:0},[de.Right]:{x:1,y:0},[de.Top]:{x:0,y:-1},[de.Bottom]:{x:0,y:1}},T3=({source:e,sourcePosition:n=de.Bottom,target:r})=>n===de.Left||n===de.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},ch=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function B3({source:e,sourcePosition:n=de.Bottom,target:r,targetPosition:o=de.Top,center:s,offset:c}){const a=ah[n],l=ah[o],d={x:e.x+a.x*c,y:e.y+a.y*c},p={x:r.x+l.x*c,y:r.y+l.y*c},h=T3({source:d,sourcePosition:n,target:p}),g=h.x!==0?"x":"y",m=h[g];let x=[],E,D;const w={x:0,y:0},v={x:0,y:0},[T,S,N,z]=Z0({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(a[g]*l[g]===-1){E=s.x??T,D=s.y??S;const j=[{x:E,y:d.y},{x:E,y:p.y}],Y=[{x:d.x,y:D},{x:p.x,y:D}];a[g]===m?x=g==="x"?j:Y:x=g==="x"?Y:j}else{const j=[{x:d.x,y:p.y}],Y=[{x:p.x,y:d.y}];if(g==="x"?x=a.x===m?Y:j:x=a.y===m?j:Y,n===o){const U=Math.abs(e[g]-r[g]);if(U<=c){const F=Math.min(c-1,c-U);a[g]===m?w[g]=(d[g]>e[g]?-1:1)*F:v[g]=(p[g]>r[g]?-1:1)*F}}if(n!==o){const U=g==="x"?"y":"x",F=a[g]===l[U],P=d[U]>p[U],$=d[U]<p[U];(a[g]===1&&(!F&&P||F&&$)||a[g]!==1&&(!F&&$||F&&P))&&(x=g==="x"?j:Y)}const M={x:d.x+w.x,y:d.y+w.y},G={x:p.x+v.x,y:p.y+v.y},Q=Math.max(Math.abs(M.x-x[0].x),Math.abs(G.x-x[0].x)),J=Math.max(Math.abs(M.y-x[0].y),Math.abs(G.y-x[0].y));Q>=J?(E=(M.x+G.x)/2,D=x[0].y):(E=x[0].x,D=(M.y+G.y)/2)}return[[e,{x:d.x+w.x,y:d.y+w.y},...x,{x:p.x+v.x,y:p.y+v.y},r],E,D,N,z]}function I3(e,n,r,o){const s=Math.min(ch(e,n)/2,ch(n,r)/2,o),{x:c,y:a}=n;if(e.x===c&&c===r.x||e.y===a&&a===r.y)return`L${c} ${a}`;if(e.y===a){const p=e.x<r.x?-1:1,h=e.y<r.y?1:-1;return`L ${c+s*p},${a}Q ${c},${a} ${c},${a+s*h}`}const l=e.x<r.x?1:-1,d=e.y<r.y?-1:1;return`L ${c},${a+s*d}Q ${c},${a} ${c+s*l},${a}`}function Cc({sourceX:e,sourceY:n,sourcePosition:r=de.Bottom,targetX:o,targetY:s,targetPosition:c=de.Top,borderRadius:a=5,centerX:l,centerY:d,offset:p=20}){const[h,g,m,x,E]=B3({source:{x:e,y:n},sourcePosition:r,target:{x:o,y:s},targetPosition:c,center:{x:l,y:d},offset:p});return[h.reduce((w,v,T)=>{let S="";return T>0&&T<h.length-1?S=I3(h[T-1],v,h[T+1],a):S=`${T===0?"M":"L"}${v.x} ${v.y}`,w+=S,w},""),g,m,x,E]}const au=A.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,label:s,labelStyle:c,labelShowBg:a,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:p,style:h,sourcePosition:g=de.Bottom,targetPosition:m=de.Top,markerEnd:x,markerStart:E,pathOptions:D,interactionWidth:w})=>{const[v,T,S]=Cc({sourceX:e,sourceY:n,sourcePosition:g,targetX:r,targetY:o,targetPosition:m,borderRadius:D?.borderRadius,offset:D?.offset});return H.createElement(bi,{path:v,labelX:T,labelY:S,label:s,labelStyle:c,labelShowBg:a,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:x,markerStart:E,interactionWidth:w})});au.displayName="SmoothStepEdge";const Jc=A.memo(e=>H.createElement(au,{...e,pathOptions:A.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));Jc.displayName="StepEdge";function R3({sourceX:e,sourceY:n,targetX:r,targetY:o}){const[s,c,a,l]=Z0({sourceX:e,sourceY:n,targetX:r,targetY:o});return[`M ${e},${n}L ${r},${o}`,s,c,a,l]}const Qc=A.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,label:s,labelStyle:c,labelShowBg:a,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:g,markerStart:m,interactionWidth:x})=>{const[E,D,w]=R3({sourceX:e,sourceY:n,targetX:r,targetY:o});return H.createElement(bi,{path:E,labelX:D,labelY:w,label:s,labelStyle:c,labelShowBg:a,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:p,style:h,markerEnd:g,markerStart:m,interactionWidth:x})});Qc.displayName="StraightEdge";function Es(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function lh({pos:e,x1:n,y1:r,x2:o,y2:s,c}){switch(e){case de.Left:return[n-Es(n-o,c),r];case de.Right:return[n+Es(o-n,c),r];case de.Top:return[n,r-Es(r-s,c)];case de.Bottom:return[n,r+Es(s-r,c)]}}function el({sourceX:e,sourceY:n,sourcePosition:r=de.Bottom,targetX:o,targetY:s,targetPosition:c=de.Top,curvature:a=.25}){const[l,d]=lh({pos:r,x1:e,y1:n,x2:o,y2:s,c:a}),[p,h]=lh({pos:c,x1:o,y1:s,x2:e,y2:n,c:a}),[g,m,x,E]=K0({sourceX:e,sourceY:n,targetX:o,targetY:s,sourceControlX:l,sourceControlY:d,targetControlX:p,targetControlY:h});return[`M${e},${n} C${l},${d} ${p},${h} ${o},${s}`,g,m,x,E]}const Zs=A.memo(({sourceX:e,sourceY:n,targetX:r,targetY:o,sourcePosition:s=de.Bottom,targetPosition:c=de.Top,label:a,labelStyle:l,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:x,markerStart:E,pathOptions:D,interactionWidth:w})=>{const[v,T,S]=el({sourceX:e,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:c,curvature:D?.curvature});return H.createElement(bi,{path:v,labelX:T,labelY:S,label:a,labelStyle:l,labelShowBg:d,labelBgStyle:p,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:x,markerStart:E,interactionWidth:w})});Zs.displayName="BezierEdge";const tl=A.createContext(null),M3=tl.Provider;tl.Consumer;const z3=()=>A.useContext(tl),O3=e=>"id"in e&&"source"in e&&"target"in e,Q0=e=>"id"in e&&!("source"in e)&&!("target"in e),Ks=(e,n,r)=>{if(!Q0(e))return[];const o=r.filter(s=>s.source===e.id).map(s=>s.target);return n.filter(s=>o.includes(s.id))},$3=(e,n,r)=>{if(!Q0(e))return[];const o=r.filter(s=>s.target===e.id).map(s=>s.source);return n.filter(s=>o.includes(s.id))},P3=({source:e,sourceHandle:n,target:r,targetHandle:o})=>`reactflow__edge-${e}${n||""}-${r}${o||""}`,Ec=(e,n)=>typeof e>"u"?"":typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`,k3=(e,n)=>n.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),H3=(e,n)=>{if(!e.source||!e.target)return n;let r;return O3(e)?r={...e}:r={...e,id:P3(e)},k3(r,n)?n:n.concat(r)},bc=({x:e,y:n},[r,o,s],c,[a,l])=>{const d={x:(e-r)/s,y:(n-o)/s};return c?{x:a*Math.round(d.x/a),y:l*Math.round(d.y/l)}:d},ep=({x:e,y:n},[r,o,s])=>({x:e*s+r,y:n*s+o}),Di=(e,n=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*n[0],o=(e.height??0)*n[1],s={x:e.position.x-r,y:e.position.y-o};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-o}:s}},nl=(e,n=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((o,s)=>{const{x:c,y:a}=Di(s,n).positionAbsolute;return b3(o,Zc({x:c,y:a,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return A3(r)},tp=(e,n,[r,o,s]=[0,0,1],c=!1,a=!1,l=[0,0])=>{const d={x:(n.x-r)/s,y:(n.y-o)/s,width:n.width/s,height:n.height/s},p=[];return e.forEach(h=>{const{width:g,height:m,selectable:x=!0,hidden:E=!1}=h;if(a&&!x||E)return!1;const{positionAbsolute:D}=Di(h,l),w={x:D.x,y:D.y,width:g||0,height:m||0},v=_c(d,w),T=typeof g>"u"||typeof m>"u"||g===null||m===null,S=c&&v>0,N=(g||0)*(m||0);(T||S||v>=N||h.dragging)&&p.push(h)}),p},np=(e,n)=>{const r=e.map(o=>o.id);return n.filter(o=>r.includes(o.source)||r.includes(o.target))},rp=(e,n,r,o,s,c=.1)=>{const a=n/(e.width*(1+c)),l=r/(e.height*(1+c)),d=Math.min(a,l),p=Ci(d,o,s),h=e.x+e.width/2,g=e.y+e.height/2,m=n/2-h*p,x=r/2-g*p;return{x:m,y:x,zoom:p}},Pr=(e,n=0)=>e.transition().duration(n);function dh(e,n,r,o){return(n[r]||[]).reduce((s,c)=>(`${e.id}-${c.id}-${r}`!==o&&s.push({id:c.id||null,type:r,nodeId:e.id,x:(e.positionAbsolute?.x??0)+c.x+c.width/2,y:(e.positionAbsolute?.y??0)+c.y+c.height/2}),s),[])}function L3(e,n,r,o,s,c){const{x:a,y:l}=_r(e),p=n.elementsFromPoint(a,l).find(E=>E.classList.contains("react-flow__handle"));if(p){const E=p.getAttribute("data-nodeid");if(E){const D=rl(void 0,p),w=p.getAttribute("data-handleid"),v=c({nodeId:E,id:w,type:D});if(v){const T=s.find(S=>S.nodeId===E&&S.type===D&&S.id===w);return{handle:{id:w,type:D,nodeId:E,x:T?.x||r.x,y:T?.y||r.y},validHandleResult:v}}}}let h=[],g=1/0;if(s.forEach(E=>{const D=Math.sqrt((E.x-r.x)**2+(E.y-r.y)**2);if(D<=o){const w=c(E);D<=g&&(D<g?h=[{handle:E,validHandleResult:w}]:D===g&&h.push({handle:E,validHandleResult:w}),g=D)}}),!h.length)return{handle:null,validHandleResult:ip()};if(h.length===1)return h[0];const m=h.some(({validHandleResult:E})=>E.isValid),x=h.some(({handle:E})=>E.type==="target");return h.find(({handle:E,validHandleResult:D})=>x?E.type==="target":m?D.isValid:!0)||h[0]}const j3={source:null,target:null,sourceHandle:null,targetHandle:null},ip=()=>({handleDomNode:null,isValid:!1,connection:j3,endHandle:null});function op(e,n,r,o,s,c,a){const l=s==="target",d=a.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),p={...ip(),handleDomNode:d};if(d){const h=rl(void 0,d),g=d.getAttribute("data-nodeid"),m=d.getAttribute("data-handleid"),x=d.classList.contains("connectable"),E=d.classList.contains("connectableend"),D={source:l?g:r,sourceHandle:l?m:o,target:l?r:g,targetHandle:l?o:m};p.connection=D,x&&E&&(n===Wr.Strict?l&&h==="source"||!l&&h==="target":g!==r||m!==o)&&(p.endHandle={nodeId:g,handleId:m,type:h},p.isValid=c(D))}return p}function V3({nodes:e,nodeId:n,handleId:r,handleType:o}){return e.reduce((s,c)=>{if(c[rt]){const{handleBounds:a}=c[rt];let l=[],d=[];a&&(l=dh(c,a,"source",`${n}-${r}-${o}`),d=dh(c,a,"target",`${n}-${r}-${o}`)),s.push(...l,...d)}return s},[])}function rl(e,n){return e||(n?.classList.contains("target")?"target":n?.classList.contains("source")?"source":null)}function ec(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function W3(e,n){let r=null;return n?r="valid":e&&!n&&(r="invalid"),r}function sp({event:e,handleId:n,nodeId:r,onConnect:o,isTarget:s,getState:c,setState:a,isValidConnection:l,edgeUpdaterType:d,onReconnectEnd:p}){const h=q0(e.target),{connectionMode:g,domNode:m,autoPanOnConnect:x,connectionRadius:E,onConnectStart:D,panBy:w,getNodes:v,cancelConnection:T}=c();let S=0,N;const{x:z,y:k}=_r(e),j=h?.elementFromPoint(z,k),Y=rl(d,j),M=m?.getBoundingClientRect();if(!M||!Y)return;let G,Q=_r(e,M),J=!1,U=null,F=!1,P=null;const $=V3({nodes:v(),nodeId:r,handleId:n,handleType:Y}),W=()=>{if(!x)return;const[te,re]=U0(Q,M);w({x:te,y:re}),S=requestAnimationFrame(W)};a({connectionPosition:Q,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:Y,connectionStartHandle:{nodeId:r,handleId:n,type:Y},connectionEndHandle:null}),D?.(e,{nodeId:r,handleId:n,handleType:Y});function ee(te){const{transform:re}=c();Q=_r(te,M);const{handle:oe,validHandleResult:ce}=L3(te,h,bc(Q,re,!1,[1,1]),E,$,ae=>op(ae,g,r,n,s?"target":"source",l,h));if(N=oe,J||(W(),J=!0),P=ce.handleDomNode,U=ce.connection,F=ce.isValid,a({connectionPosition:N&&F?ep({x:N.x,y:N.y},re):Q,connectionStatus:W3(!!N,F),connectionEndHandle:ce.endHandle}),!N&&!F&&!P)return ec(G);U.source!==U.target&&P&&(ec(G),G=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",F),P.classList.toggle("react-flow__handle-valid",F))}function L(te){(N||P)&&U&&F&&o?.(U),c().onConnectEnd?.(te),d&&p?.(te),ec(G),T(),cancelAnimationFrame(S),J=!1,F=!1,U=null,P=null,h.removeEventListener("mousemove",ee),h.removeEventListener("mouseup",L),h.removeEventListener("touchmove",ee),h.removeEventListener("touchend",L)}h.addEventListener("mousemove",ee),h.addEventListener("mouseup",L),h.addEventListener("touchmove",ee),h.addEventListener("touchend",L)}const fh=()=>!0,G3=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),U3=(e,n,r)=>o=>{const{connectionStartHandle:s,connectionEndHandle:c,connectionClickStartHandle:a}=o;return{connecting:s?.nodeId===e&&s?.handleId===n&&s?.type===r||c?.nodeId===e&&c?.handleId===n&&c?.type===r,clickConnecting:a?.nodeId===e&&a?.handleId===n&&a?.type===r}},up=A.forwardRef(({type:e="source",position:n=de.Top,isValidConnection:r,isConnectable:o=!0,isConnectableStart:s=!0,isConnectableEnd:c=!0,id:a,onConnect:l,children:d,className:p,onMouseDown:h,onTouchStart:g,...m},x)=>{const E=a||null,D=e==="target",w=Dt(),v=z3(),{connectOnClick:T,noPanClassName:S}=Qe(G3,St),{connecting:N,clickConnecting:z}=Qe(U3(v,E,e),St);v||w.getState().onError?.("010",or.error010());const k=M=>{const{defaultEdgeOptions:G,onConnect:Q,hasDefaultEdges:J}=w.getState(),U={...G,...M};if(J){const{edges:F,setEdges:P}=w.getState();P(H3(U,F))}Q?.(U),l?.(U)},j=M=>{if(!v)return;const G=X0(M);s&&(G&&M.button===0||!G)&&sp({event:M,handleId:E,nodeId:v,onConnect:k,isTarget:D,getState:w.getState,setState:w.setState,isValidConnection:r||w.getState().isValidConnection||fh}),G?h?.(M):g?.(M)},Y=M=>{const{onClickConnectStart:G,onClickConnectEnd:Q,connectionClickStartHandle:J,connectionMode:U,isValidConnection:F}=w.getState();if(!v||!J&&!s)return;if(!J){G?.(M,{nodeId:v,handleId:E,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:E}});return}const P=q0(M.target),$=r||F||fh,{connection:W,isValid:ee}=op({nodeId:v,id:E,type:e},U,J.nodeId,J.handleId||null,J.type,$,P);ee&&k(W),Q?.(M),w.setState({connectionClickStartHandle:null})};return H.createElement("div",{"data-handleid":E,"data-nodeid":v,"data-handlepos":n,"data-id":`${v}-${E}-${e}`,className:Rt(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",S,p,{source:!D,target:D,connectable:o,connectablestart:s,connectableend:c,connecting:z,connectionindicator:o&&(s&&!N||c&&N)}]),onMouseDown:j,onTouchStart:j,onClick:T?Y:void 0,ref:x,...m},d)});up.displayName="Handle";var Cr=A.memo(up);const ap=({data:e,isConnectable:n,targetPosition:r=de.Top,sourcePosition:o=de.Bottom})=>H.createElement(H.Fragment,null,H.createElement(Cr,{type:"target",position:r,isConnectable:n}),e?.label,H.createElement(Cr,{type:"source",position:o,isConnectable:n}));ap.displayName="DefaultNode";var Ac=A.memo(ap);const cp=({data:e,isConnectable:n,sourcePosition:r=de.Bottom})=>H.createElement(H.Fragment,null,e?.label,H.createElement(Cr,{type:"source",position:r,isConnectable:n}));cp.displayName="InputNode";var lp=A.memo(cp);const dp=({data:e,isConnectable:n,targetPosition:r=de.Top})=>H.createElement(H.Fragment,null,H.createElement(Cr,{type:"target",position:r,isConnectable:n}),e?.label);dp.displayName="OutputNode";var fp=A.memo(dp);const il=()=>null;il.displayName="GroupNode";const q3=e=>({selectedNodes:e.getNodes().filter(n=>n.selected),selectedEdges:e.edges.filter(n=>n.selected).map(n=>({...n}))}),bs=e=>e.id;function Y3(e,n){return St(e.selectedNodes.map(bs),n.selectedNodes.map(bs))&&St(e.selectedEdges.map(bs),n.selectedEdges.map(bs))}const hp=A.memo(({onSelectionChange:e})=>{const n=Dt(),{selectedNodes:r,selectedEdges:o}=Qe(q3,Y3);return A.useEffect(()=>{const s={nodes:r,edges:o};e?.(s),n.getState().onSelectionChange.forEach(c=>c(s))},[r,o,e]),null});hp.displayName="SelectionListener";const X3=e=>!!e.onSelectionChange;function Z3({onSelectionChange:e}){const n=Qe(X3);return e||n?H.createElement(hp,{onSelectionChange:e}):null}const K3=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ci(e,n){A.useEffect(()=>{typeof e<"u"&&n(e)},[e])}function Fe(e,n,r){A.useEffect(()=>{typeof n<"u"&&r({[e]:n})},[n])}const J3=({nodes:e,edges:n,defaultNodes:r,defaultEdges:o,onConnect:s,onConnectStart:c,onConnectEnd:a,onClickConnectStart:l,onClickConnectEnd:d,nodesDraggable:p,nodesConnectable:h,nodesFocusable:g,edgesFocusable:m,edgesUpdatable:x,elevateNodesOnSelect:E,minZoom:D,maxZoom:w,nodeExtent:v,onNodesChange:T,onEdgesChange:S,elementsSelectable:N,connectionMode:z,snapGrid:k,snapToGrid:j,translateExtent:Y,connectOnClick:M,defaultEdgeOptions:G,fitView:Q,fitViewOptions:J,onNodesDelete:U,onEdgesDelete:F,onNodeDrag:P,onNodeDragStart:$,onNodeDragStop:W,onSelectionDrag:ee,onSelectionDragStart:L,onSelectionDragStop:te,noPanClassName:re,nodeOrigin:oe,rfId:ce,autoPanOnConnect:ae,autoPanOnNodeDrag:ge,onError:Ae,connectionRadius:Se,isValidConnection:he,nodeDragThreshold:De})=>{const{setNodes:Te,setEdges:Et,setDefaultNodesAndEdges:vt,setMinZoom:Mt,setMaxZoom:Ke,setTranslateExtent:Ue,setNodeExtent:tn,reset:ze}=Qe(K3,St),fe=Dt();return A.useEffect(()=>{const Ft=o?.map(Vt=>({...Vt,...G}));return vt(r,Ft),()=>{ze()}},[]),Fe("defaultEdgeOptions",G,fe.setState),Fe("connectionMode",z,fe.setState),Fe("onConnect",s,fe.setState),Fe("onConnectStart",c,fe.setState),Fe("onConnectEnd",a,fe.setState),Fe("onClickConnectStart",l,fe.setState),Fe("onClickConnectEnd",d,fe.setState),Fe("nodesDraggable",p,fe.setState),Fe("nodesConnectable",h,fe.setState),Fe("nodesFocusable",g,fe.setState),Fe("edgesFocusable",m,fe.setState),Fe("edgesUpdatable",x,fe.setState),Fe("elementsSelectable",N,fe.setState),Fe("elevateNodesOnSelect",E,fe.setState),Fe("snapToGrid",j,fe.setState),Fe("snapGrid",k,fe.setState),Fe("onNodesChange",T,fe.setState),Fe("onEdgesChange",S,fe.setState),Fe("connectOnClick",M,fe.setState),Fe("fitViewOnInit",Q,fe.setState),Fe("fitViewOnInitOptions",J,fe.setState),Fe("onNodesDelete",U,fe.setState),Fe("onEdgesDelete",F,fe.setState),Fe("onNodeDrag",P,fe.setState),Fe("onNodeDragStart",$,fe.setState),Fe("onNodeDragStop",W,fe.setState),Fe("onSelectionDrag",ee,fe.setState),Fe("onSelectionDragStart",L,fe.setState),Fe("onSelectionDragStop",te,fe.setState),Fe("noPanClassName",re,fe.setState),Fe("nodeOrigin",oe,fe.setState),Fe("rfId",ce,fe.setState),Fe("autoPanOnConnect",ae,fe.setState),Fe("autoPanOnNodeDrag",ge,fe.setState),Fe("onError",Ae,fe.setState),Fe("connectionRadius",Se,fe.setState),Fe("isValidConnection",he,fe.setState),Fe("nodeDragThreshold",De,fe.setState),ci(e,Te),ci(n,Et),ci(D,Mt),ci(w,Ke),ci(Y,Ue),ci(v,tn),null},hh={display:"none"},Q3={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},pp="react-flow__node-desc",gp="react-flow__edge-desc",e6="react-flow__aria-live",t6=e=>e.ariaLiveMessage;function n6({rfId:e}){const n=Qe(t6);return H.createElement("div",{id:`${e6}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Q3},n)}function r6({rfId:e,disableKeyboardA11y:n}){return H.createElement(H.Fragment,null,H.createElement("div",{id:`${pp}-${e}`,style:hh},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),H.createElement("div",{id:`${gp}-${e}`,style:hh},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&H.createElement(n6,{rfId:e}))}var wo=(e=null,n={actInsideInputWithModifier:!0})=>{const[r,o]=A.useState(!1),s=A.useRef(!1),c=A.useRef(new Set([])),[a,l]=A.useMemo(()=>{if(e!==null){const p=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.split("+")),h=p.reduce((g,m)=>g.concat(...m),[]);return[p,h]}return[[],[]]},[e]);return A.useEffect(()=>{const d=typeof document<"u"?document:null,p=n?.target||d;if(e!==null){const h=x=>{if(s.current=x.ctrlKey||x.metaKey||x.shiftKey,(!s.current||s.current&&!n.actInsideInputWithModifier)&&wc(x))return!1;const D=gh(x.code,l);c.current.add(x[D]),ph(a,c.current,!1)&&(x.preventDefault(),o(!0))},g=x=>{if((!s.current||s.current&&!n.actInsideInputWithModifier)&&wc(x))return!1;const D=gh(x.code,l);ph(a,c.current,!0)?(o(!1),c.current.clear()):c.current.delete(x[D]),x.key==="Meta"&&c.current.clear(),s.current=!1},m=()=>{c.current.clear(),o(!1)};return p?.addEventListener("keydown",h),p?.addEventListener("keyup",g),window.addEventListener("blur",m),()=>{p?.removeEventListener("keydown",h),p?.removeEventListener("keyup",g),window.removeEventListener("blur",m)}}},[e,o]),r};function ph(e,n,r){return e.filter(o=>r||o.length===n.size).some(o=>o.every(s=>n.has(s)))}function gh(e,n){return n.includes(e)?"code":"key"}function mp(e,n,r,o){const s=e.parentNode||e.parentId;if(!s)return r;const c=n.get(s),a=Di(c,o);return mp(c,n,{x:(r.x??0)+a.x,y:(r.y??0)+a.y,z:(c[rt]?.z??0)>(r.z??0)?c[rt]?.z??0:r.z??0},o)}function yp(e,n,r){e.forEach(o=>{const s=o.parentNode||o.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||r?.[o.id]){const{x:c,y:a,z:l}=mp(o,e,{...o.position,z:o[rt]?.z??0},n);o.positionAbsolute={x:c,y:a},o[rt].z=l,r?.[o.id]&&(o[rt].isParent=!0)}})}function tc(e,n,r,o){const s=new Map,c={},a=o?1e3:0;return e.forEach(l=>{const d=(hn(l.zIndex)?l.zIndex:0)+(l.selected?a:0),p=n.get(l.id),h={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},g=l.parentNode||l.parentId;g&&(c[g]=!0);const m=p?.type&&p?.type!==l.type;Object.defineProperty(h,rt,{enumerable:!1,value:{handleBounds:m?void 0:p?.[rt]?.handleBounds,z:d}}),s.set(l.id,h)}),yp(s,r,c),s}function Dp(e,n={}){const{getNodes:r,width:o,height:s,minZoom:c,maxZoom:a,d3Zoom:l,d3Selection:d,fitViewOnInitDone:p,fitViewOnInit:h,nodeOrigin:g}=e(),m=n.initial&&!p&&h;if(l&&d&&(m||!n.initial)){const E=r().filter(w=>{const v=n.includeHiddenNodes?w.width&&w.height:!w.hidden;return n.nodes?.length?v&&n.nodes.some(T=>T.id===w.id):v}),D=E.every(w=>w.width&&w.height);if(E.length>0&&D){const w=nl(E,g),{x:v,y:T,zoom:S}=rp(w,o,s,n.minZoom??c,n.maxZoom??a,n.padding??.1),N=xr.translate(v,T).scale(S);return typeof n.duration=="number"&&n.duration>0?l.transform(Pr(d,n.duration),N):l.transform(d,N),!0}}return!1}function i6(e,n){return e.forEach(r=>{const o=n.get(r.id);o&&n.set(o.id,{...o,[rt]:o[rt],selected:r.selected})}),new Map(n)}function o6(e,n){return n.map(r=>{const o=e.find(s=>s.id===r.id);return o&&(r.selected=o.selected),r})}function As({changedNodes:e,changedEdges:n,get:r,set:o}){const{nodeInternals:s,edges:c,onNodesChange:a,onEdgesChange:l,hasDefaultNodes:d,hasDefaultEdges:p}=r();e?.length&&(d&&o({nodeInternals:i6(e,s)}),a?.(e)),n?.length&&(p&&o({edges:o6(n,c)}),l?.(n))}const li=()=>{},s6={zoomIn:li,zoomOut:li,zoomTo:li,getZoom:()=>1,setViewport:li,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:li,fitBounds:li,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},u6=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),a6=()=>{const e=Dt(),{d3Zoom:n,d3Selection:r}=Qe(u6,St);return A.useMemo(()=>r&&n?{zoomIn:s=>n.scaleBy(Pr(r,s?.duration),1.2),zoomOut:s=>n.scaleBy(Pr(r,s?.duration),1/1.2),zoomTo:(s,c)=>n.scaleTo(Pr(r,c?.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,c)=>{const[a,l,d]=e.getState().transform,p=xr.translate(s.x??a,s.y??l).scale(s.zoom??d);n.transform(Pr(r,c?.duration),p)},getViewport:()=>{const[s,c,a]=e.getState().transform;return{x:s,y:c,zoom:a}},fitView:s=>Dp(e.getState,s),setCenter:(s,c,a)=>{const{width:l,height:d,maxZoom:p}=e.getState(),h=typeof a?.zoom<"u"?a.zoom:p,g=l/2-s*h,m=d/2-c*h,x=xr.translate(g,m).scale(h);n.transform(Pr(r,a?.duration),x)},fitBounds:(s,c)=>{const{width:a,height:l,minZoom:d,maxZoom:p}=e.getState(),{x:h,y:g,zoom:m}=rp(s,a,l,d,p,c?.padding??.1),x=xr.translate(h,g).scale(m);n.transform(Pr(r,c?.duration),x)},project:s=>{const{transform:c,snapToGrid:a,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),bc(s,c,a,l)},screenToFlowPosition:s=>{const{transform:c,snapToGrid:a,snapGrid:l,domNode:d}=e.getState();if(!d)return s;const{x:p,y:h}=d.getBoundingClientRect(),g={x:s.x-p,y:s.y-h};return bc(g,c,a,l)},flowToScreenPosition:s=>{const{transform:c,domNode:a}=e.getState();if(!a)return s;const{x:l,y:d}=a.getBoundingClientRect(),p=ep(s,c);return{x:p.x+l,y:p.y+d}},viewportInitialized:!0}:s6,[n,r])};function ol(){const e=a6(),n=Dt(),r=A.useCallback(()=>n.getState().getNodes().map(D=>({...D})),[]),o=A.useCallback(D=>n.getState().nodeInternals.get(D),[]),s=A.useCallback(()=>{const{edges:D=[]}=n.getState();return D.map(w=>({...w}))},[]),c=A.useCallback(D=>{const{edges:w=[]}=n.getState();return w.find(v=>v.id===D)},[]),a=A.useCallback(D=>{const{getNodes:w,setNodes:v,hasDefaultNodes:T,onNodesChange:S}=n.getState(),N=w(),z=typeof D=="function"?D(N):D;if(T)v(z);else if(S){const k=z.length===0?N.map(j=>({type:"remove",id:j.id})):z.map(j=>({item:j,type:"reset"}));S(k)}},[]),l=A.useCallback(D=>{const{edges:w=[],setEdges:v,hasDefaultEdges:T,onEdgesChange:S}=n.getState(),N=typeof D=="function"?D(w):D;if(T)v(N);else if(S){const z=N.length===0?w.map(k=>({type:"remove",id:k.id})):N.map(k=>({item:k,type:"reset"}));S(z)}},[]),d=A.useCallback(D=>{const w=Array.isArray(D)?D:[D],{getNodes:v,setNodes:T,hasDefaultNodes:S,onNodesChange:N}=n.getState();if(S){const k=[...v(),...w];T(k)}else if(N){const z=w.map(k=>({item:k,type:"add"}));N(z)}},[]),p=A.useCallback(D=>{const w=Array.isArray(D)?D:[D],{edges:v=[],setEdges:T,hasDefaultEdges:S,onEdgesChange:N}=n.getState();if(S)T([...v,...w]);else if(N){const z=w.map(k=>({item:k,type:"add"}));N(z)}},[]),h=A.useCallback(()=>{const{getNodes:D,edges:w=[],transform:v}=n.getState(),[T,S,N]=v;return{nodes:D().map(z=>({...z})),edges:w.map(z=>({...z})),viewport:{x:T,y:S,zoom:N}}},[]),g=A.useCallback(({nodes:D,edges:w})=>{const{nodeInternals:v,getNodes:T,edges:S,hasDefaultNodes:N,hasDefaultEdges:z,onNodesDelete:k,onEdgesDelete:j,onNodesChange:Y,onEdgesChange:M}=n.getState(),G=(D||[]).map(P=>P.id),Q=(w||[]).map(P=>P.id),J=T().reduce((P,$)=>{const W=$.parentNode||$.parentId,ee=!G.includes($.id)&&W&&P.find(te=>te.id===W);return(typeof $.deletable=="boolean"?$.deletable:!0)&&(G.includes($.id)||ee)&&P.push($),P},[]),U=S.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),F=U.filter(P=>Q.includes(P.id));if(J||F){const P=np(J,U),$=[...F,...P],W=$.reduce((ee,L)=>(ee.includes(L.id)||ee.push(L.id),ee),[]);if((z||N)&&(z&&n.setState({edges:S.filter(ee=>!W.includes(ee.id))}),N&&(J.forEach(ee=>{v.delete(ee.id)}),n.setState({nodeInternals:new Map(v)}))),W.length>0&&(j?.($),M&&M(W.map(ee=>({id:ee,type:"remove"})))),J.length>0&&(k?.(J),Y)){const ee=J.map(L=>({id:L.id,type:"remove"}));Y(ee)}}},[]),m=A.useCallback(D=>{const w=S3(D),v=w?null:n.getState().nodeInternals.get(D.id);return!w&&!v?[null,null,w]:[w?D:sh(v),v,w]},[]),x=A.useCallback((D,w=!0,v)=>{const[T,S,N]=m(D);return T?(v||n.getState().getNodes()).filter(z=>{if(!N&&(z.id===S.id||!z.positionAbsolute))return!1;const k=sh(z),j=_c(k,T);return w&&j>0||j>=T.width*T.height}):[]},[]),E=A.useCallback((D,w,v=!0)=>{const[T]=m(D);if(!T)return!1;const S=_c(T,w);return v&&S>0||S>=T.width*T.height},[]);return A.useMemo(()=>({...e,getNodes:r,getNode:o,getEdges:s,getEdge:c,setNodes:a,setEdges:l,addNodes:d,addEdges:p,toObject:h,deleteElements:g,getIntersectingNodes:x,isNodeIntersecting:E}),[e,r,o,s,c,a,l,d,p,h,g,x,E])}const c6={actInsideInputWithModifier:!1};var l6=({deleteKeyCode:e,multiSelectionKeyCode:n})=>{const r=Dt(),{deleteElements:o}=ol(),s=wo(e,c6),c=wo(n);A.useEffect(()=>{if(s){const{edges:a,getNodes:l}=r.getState(),d=l().filter(h=>h.selected),p=a.filter(h=>h.selected);o({nodes:d,edges:p}),r.setState({nodesSelectionActive:!1})}},[s]),A.useEffect(()=>{r.setState({multiSelectionActive:c})},[c])};function d6(e){const n=Dt();A.useEffect(()=>{let r;const o=()=>{if(!e.current)return;const s=Yc(e.current);(s.height===0||s.width===0)&&n.getState().onError?.("004",or.error004()),n.setState({width:s.width||500,height:s.height||500})};return o(),window.addEventListener("resize",o),e.current&&(r=new ResizeObserver(()=>o()),r.observe(e.current)),()=>{window.removeEventListener("resize",o),r&&e.current&&r.unobserve(e.current)}},[])}const sl={position:"absolute",width:"100%",height:"100%",top:0,left:0},f6=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,Ss=e=>({x:e.x,y:e.y,zoom:e.k}),di=(e,n)=>e.target.closest(`.${n}`),mh=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),yh=e=>{const n=e.ctrlKey&&Xs()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n},h6=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),p6=({onMove:e,onMoveStart:n,onMoveEnd:r,onPaneContextMenu:o,zoomOnScroll:s=!0,zoomOnPinch:c=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:d=Hr.Free,zoomOnDoubleClick:p=!0,elementsSelectable:h,panOnDrag:g=!0,defaultViewport:m,translateExtent:x,minZoom:E,maxZoom:D,zoomActivationKeyCode:w,preventScrolling:v=!0,children:T,noWheelClassName:S,noPanClassName:N})=>{const z=A.useRef(),k=Dt(),j=A.useRef(!1),Y=A.useRef(!1),M=A.useRef(null),G=A.useRef({x:0,y:0,zoom:0}),{d3Zoom:Q,d3Selection:J,d3ZoomHandler:U,userSelectionActive:F}=Qe(h6,St),P=wo(w),$=A.useRef(0),W=A.useRef(!1),ee=A.useRef();return d6(M),A.useEffect(()=>{if(M.current){const L=M.current.getBoundingClientRect(),te=v3().scaleExtent([E,D]).translateExtent(x),re=En(M.current).call(te),oe=xr.translate(m.x,m.y).scale(Ci(m.zoom,E,D)),ce=[[0,0],[L.width,L.height]],ae=te.constrain()(oe,ce,x);te.transform(re,ae),te.wheelDelta(yh),k.setState({d3Zoom:te,d3Selection:re,d3ZoomHandler:re.on("wheel.zoom"),transform:[ae.x,ae.y,ae.k],domNode:M.current.closest(".react-flow")})}},[]),A.useEffect(()=>{J&&Q&&(a&&!P&&!F?J.on("wheel.zoom",L=>{if(di(L,S))return!1;L.preventDefault(),L.stopImmediatePropagation();const te=J.property("__zoom").k||1;if(L.ctrlKey&&c){const he=On(L),De=yh(L),Te=te*Math.pow(2,De);Q.scaleTo(J,Te,he,L);return}const re=L.deltaMode===1?20:1;let oe=d===Hr.Vertical?0:L.deltaX*re,ce=d===Hr.Horizontal?0:L.deltaY*re;!Xs()&&L.shiftKey&&d!==Hr.Vertical&&(oe=L.deltaY*re,ce=0),Q.translateBy(J,-(oe/te)*l,-(ce/te)*l,{internal:!0});const ae=Ss(J.property("__zoom")),{onViewportChangeStart:ge,onViewportChange:Ae,onViewportChangeEnd:Se}=k.getState();clearTimeout(ee.current),W.current||(W.current=!0,n?.(L,ae),ge?.(ae)),W.current&&(e?.(L,ae),Ae?.(ae),ee.current=setTimeout(()=>{r?.(L,ae),Se?.(ae),W.current=!1},150))},{passive:!1}):typeof U<"u"&&J.on("wheel.zoom",function(L,te){if(!v&&L.type==="wheel"&&!L.ctrlKey||di(L,S))return null;L.preventDefault(),U.call(this,L,te)},{passive:!1}))},[F,a,d,J,Q,U,P,c,v,S,n,e,r]),A.useEffect(()=>{Q&&Q.on("start",L=>{if(!L.sourceEvent||L.sourceEvent.internal)return null;$.current=L.sourceEvent?.button;const{onViewportChangeStart:te}=k.getState(),re=Ss(L.transform);j.current=!0,G.current=re,L.sourceEvent?.type==="mousedown"&&k.setState({paneDragging:!0}),te?.(re),n?.(L.sourceEvent,re)})},[Q,n]),A.useEffect(()=>{Q&&(F&&!j.current?Q.on("zoom",null):F||Q.on("zoom",L=>{const{onViewportChange:te}=k.getState();if(k.setState({transform:[L.transform.x,L.transform.y,L.transform.k]}),Y.current=!!(o&&mh(g,$.current??0)),(e||te)&&!L.sourceEvent?.internal){const re=Ss(L.transform);te?.(re),e?.(L.sourceEvent,re)}}))},[F,Q,e,g,o]),A.useEffect(()=>{Q&&Q.on("end",L=>{if(!L.sourceEvent||L.sourceEvent.internal)return null;const{onViewportChangeEnd:te}=k.getState();if(j.current=!1,k.setState({paneDragging:!1}),o&&mh(g,$.current??0)&&!Y.current&&o(L.sourceEvent),Y.current=!1,(r||te)&&f6(G.current,L.transform)){const re=Ss(L.transform);G.current=re,clearTimeout(z.current),z.current=setTimeout(()=>{te?.(re),r?.(L.sourceEvent,re)},a?150:0)}})},[Q,a,g,r,o]),A.useEffect(()=>{Q&&Q.filter(L=>{const te=P||s,re=c&&L.ctrlKey;if((g===!0||Array.isArray(g)&&g.includes(1))&&L.button===1&&L.type==="mousedown"&&(di(L,"react-flow__node")||di(L,"react-flow__edge")))return!0;if(!g&&!te&&!a&&!p&&!c||F||!p&&L.type==="dblclick"||di(L,S)&&L.type==="wheel"||di(L,N)&&(L.type!=="wheel"||a&&L.type==="wheel"&&!P)||!c&&L.ctrlKey&&L.type==="wheel"||!te&&!a&&!re&&L.type==="wheel"||!g&&(L.type==="mousedown"||L.type==="touchstart")||Array.isArray(g)&&!g.includes(L.button)&&L.type==="mousedown")return!1;const oe=Array.isArray(g)&&g.includes(L.button)||!L.button||L.button<=1;return(!L.ctrlKey||L.type==="wheel")&&oe})},[F,Q,s,c,a,p,g,h,P]),H.createElement("div",{className:"react-flow__renderer",ref:M,style:sl},T)},g6=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function m6(){const{userSelectionActive:e,userSelectionRect:n}=Qe(g6,St);return e&&n?H.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}function Dh(e,n){const r=n.parentNode||n.parentId,o=e.find(s=>s.id===r);if(o){const s=n.position.x+n.width-o.width,c=n.position.y+n.height-o.height;if(s>0||c>0||n.position.x<0||n.position.y<0){if(o.style={...o.style},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,s>0&&(o.style.width+=s),c>0&&(o.style.height+=c),n.position.x<0){const a=Math.abs(n.position.x);o.position.x=o.position.x-a,o.style.width+=a,n.position.x=0}if(n.position.y<0){const a=Math.abs(n.position.y);o.position.y=o.position.y-a,o.style.height+=a,n.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function vp(e,n){if(e.some(o=>o.type==="reset"))return e.filter(o=>o.type==="reset").map(o=>o.item);const r=e.filter(o=>o.type==="add").map(o=>o.item);return n.reduce((o,s)=>{const c=e.filter(l=>l.id===s.id);if(c.length===0)return o.push(s),o;const a={...s};for(const l of c)if(l)switch(l.type){case"select":{a.selected=l.selected;break}case"position":{typeof l.position<"u"&&(a.position=l.position),typeof l.positionAbsolute<"u"&&(a.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(a.dragging=l.dragging),a.expandParent&&Dh(o,a);break}case"dimensions":{typeof l.dimensions<"u"&&(a.width=l.dimensions.width,a.height=l.dimensions.height),typeof l.updateStyle<"u"&&(a.style={...a.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(a.resizing=l.resizing),a.expandParent&&Dh(o,a);break}case"remove":return o}return o.push(a),o},r)}function xp(e,n){return vp(e,n)}function y6(e,n){return vp(e,n)}const Dr=(e,n)=>({id:e,type:"select",selected:n});function pi(e,n){return e.reduce((r,o)=>{const s=n.includes(o.id);return!o.selected&&s?(o.selected=!0,r.push(Dr(o.id,!0))):o.selected&&!s&&(o.selected=!1,r.push(Dr(o.id,!1))),r},[])}const nc=(e,n)=>r=>{r.target===n.current&&e?.(r)},D6=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),_p=A.memo(({isSelecting:e,selectionMode:n=Ei.Full,panOnDrag:r,onSelectionStart:o,onSelectionEnd:s,onPaneClick:c,onPaneContextMenu:a,onPaneScroll:l,onPaneMouseEnter:d,onPaneMouseMove:p,onPaneMouseLeave:h,children:g})=>{const m=A.useRef(null),x=Dt(),E=A.useRef(0),D=A.useRef(0),w=A.useRef(),{userSelectionActive:v,elementsSelectable:T,dragging:S}=Qe(D6,St),N=()=>{x.setState({userSelectionActive:!1,userSelectionRect:null}),E.current=0,D.current=0},z=U=>{c?.(U),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},k=U=>{if(Array.isArray(r)&&r?.includes(2)){U.preventDefault();return}a?.(U)},j=l?U=>l(U):void 0,Y=U=>{const{resetSelectedElements:F,domNode:P}=x.getState();if(w.current=P?.getBoundingClientRect(),!T||!e||U.button!==0||U.target!==m.current||!w.current)return;const{x:$,y:W}=_r(U,w.current);F(),x.setState({userSelectionRect:{width:0,height:0,startX:$,startY:W,x:$,y:W}}),o?.(U)},M=U=>{const{userSelectionRect:F,nodeInternals:P,edges:$,transform:W,onNodesChange:ee,onEdgesChange:L,nodeOrigin:te,getNodes:re}=x.getState();if(!e||!w.current||!F)return;x.setState({userSelectionActive:!0,nodesSelectionActive:!1});const oe=_r(U,w.current),ce=F.startX??0,ae=F.startY??0,ge={...F,x:oe.x<ce?oe.x:ce,y:oe.y<ae?oe.y:ae,width:Math.abs(oe.x-ce),height:Math.abs(oe.y-ae)},Ae=re(),Se=tp(P,ge,W,n===Ei.Partial,!0,te),he=np(Se,$).map(Te=>Te.id),De=Se.map(Te=>Te.id);if(E.current!==De.length){E.current=De.length;const Te=pi(Ae,De);Te.length&&ee?.(Te)}if(D.current!==he.length){D.current=he.length;const Te=pi($,he);Te.length&&L?.(Te)}x.setState({userSelectionRect:ge})},G=U=>{if(U.button!==0)return;const{userSelectionRect:F}=x.getState();!v&&F&&U.target===m.current&&z?.(U),x.setState({nodesSelectionActive:E.current>0}),N(),s?.(U)},Q=U=>{v&&(x.setState({nodesSelectionActive:E.current>0}),s?.(U)),N()},J=T&&(e||v);return H.createElement("div",{className:Rt(["react-flow__pane",{dragging:S,selection:e}]),onClick:J?void 0:nc(z,m),onContextMenu:nc(k,m),onWheel:nc(j,m),onMouseEnter:J?void 0:d,onMouseDown:J?Y:void 0,onMouseMove:J?M:p,onMouseUp:J?G:void 0,onMouseLeave:J?Q:h,ref:m,style:sl},g,H.createElement(m6,null))});_p.displayName="Pane";function wp(e,n){const r=e.parentNode||e.parentId;if(!r)return!1;const o=n.get(r);return o?o.selected?!0:wp(o,n):!1}function vh(e,n,r){let o=e;do{if(o?.matches(n))return!0;if(o===r.current)return!1;o=o.parentElement}while(o);return!1}function v6(e,n,r,o){return Array.from(e.values()).filter(s=>(s.selected||s.id===o)&&(!s.parentNode||s.parentId||!wp(s,e))&&(s.draggable||n&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:r.x-(s.positionAbsolute?.x??0),y:r.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function x6(e,n){return!n||n==="parent"?n:[n[0],[n[1][0]-(e.width||0),n[1][1]-(e.height||0)]]}function Cp(e,n,r,o,s=[0,0],c){const a=x6(e,e.extent||o);let l=a;const d=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(d&&e.width&&e.height){const g=r.get(d),{x:m,y:x}=Di(g,s).positionAbsolute;l=g&&hn(m)&&hn(x)&&hn(g.width)&&hn(g.height)?[[m+e.width*s[0],x+e.height*s[1]],[m+g.width-e.width+e.width*s[0],x+g.height-e.height+e.height*s[1]]]:l}else c?.("005",or.error005()),l=a;else if(e.extent&&d&&e.extent!=="parent"){const g=r.get(d),{x:m,y:x}=Di(g,s).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+x],[e.extent[1][0]+m,e.extent[1][1]+x]]}let p={x:0,y:0};if(d){const g=r.get(d);p=Di(g,s).positionAbsolute}const h=l&&l!=="parent"?Xc(n,l):n;return{position:{x:h.x-p.x,y:h.y-p.y},positionAbsolute:h}}function rc({nodeId:e,dragItems:n,nodeInternals:r}){const o=n.map(s=>({...r.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?o.find(s=>s.id===e):o[0],o]}const xh=(e,n,r,o)=>{const s=n.querySelectorAll(e);if(!s||!s.length)return null;const c=Array.from(s),a=n.getBoundingClientRect(),l={x:a.width*o[0],y:a.height*o[1]};return c.map(d=>{const p=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),position:d.getAttribute("data-handlepos"),x:(p.left-a.left-l.x)/r,y:(p.top-a.top-l.y)/r,...Yc(d)}})};function to(e,n,r){return r===void 0?r:o=>{const s=n().nodeInternals.get(e);s&&r(o,{...s})}}function Sc({id:e,store:n,unselect:r=!1,nodeRef:o}){const{addSelectedNodes:s,unselectNodesAndEdges:c,multiSelectionActive:a,nodeInternals:l,onError:d}=n.getState(),p=l.get(e);if(!p){d?.("012",or.error012(e));return}n.setState({nodesSelectionActive:!1}),p.selected?(r||p.selected&&a)&&(c({nodes:[p],edges:[]}),requestAnimationFrame(()=>o?.current?.blur())):s([e])}function _6(){const e=Dt();return A.useCallback(({sourceEvent:r})=>{const{transform:o,snapGrid:s,snapToGrid:c}=e.getState(),a=r.touches?r.touches[0].clientX:r.clientX,l=r.touches?r.touches[0].clientY:r.clientY,d={x:(a-o[0])/o[2],y:(l-o[1])/o[2]};return{xSnapped:c?s[0]*Math.round(d.x/s[0]):d.x,ySnapped:c?s[1]*Math.round(d.y/s[1]):d.y,...d}},[])}function ic(e){return(n,r,o)=>e?.(n,o)}function Ep({nodeRef:e,disabled:n=!1,noDragClassName:r,handleSelector:o,nodeId:s,isSelectable:c,selectNodesOnDrag:a}){const l=Dt(),[d,p]=A.useState(!1),h=A.useRef([]),g=A.useRef({x:null,y:null}),m=A.useRef(0),x=A.useRef(null),E=A.useRef({x:0,y:0}),D=A.useRef(null),w=A.useRef(!1),v=A.useRef(!1),T=A.useRef(!1),S=_6();return A.useEffect(()=>{if(e?.current){const N=En(e.current),z=({x:Y,y:M})=>{const{nodeInternals:G,onNodeDrag:Q,onSelectionDrag:J,updateNodePositions:U,nodeExtent:F,snapGrid:P,snapToGrid:$,nodeOrigin:W,onError:ee}=l.getState();g.current={x:Y,y:M};let L=!1,te={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&F){const oe=nl(h.current,W);te=Zc(oe)}if(h.current=h.current.map(oe=>{const ce={x:Y-oe.distance.x,y:M-oe.distance.y};$&&(ce.x=P[0]*Math.round(ce.x/P[0]),ce.y=P[1]*Math.round(ce.y/P[1]));const ae=[[F[0][0],F[0][1]],[F[1][0],F[1][1]]];h.current.length>1&&F&&!oe.extent&&(ae[0][0]=oe.positionAbsolute.x-te.x+F[0][0],ae[1][0]=oe.positionAbsolute.x+(oe.width??0)-te.x2+F[1][0],ae[0][1]=oe.positionAbsolute.y-te.y+F[0][1],ae[1][1]=oe.positionAbsolute.y+(oe.height??0)-te.y2+F[1][1]);const ge=Cp(oe,ce,G,ae,W,ee);return L=L||oe.position.x!==ge.position.x||oe.position.y!==ge.position.y,oe.position=ge.position,oe.positionAbsolute=ge.positionAbsolute,oe}),!L)return;U(h.current,!0,!0),p(!0);const re=s?Q:ic(J);if(re&&D.current){const[oe,ce]=rc({nodeId:s,dragItems:h.current,nodeInternals:G});re(D.current,oe,ce)}},k=()=>{if(!x.current)return;const[Y,M]=U0(E.current,x.current);if(Y!==0||M!==0){const{transform:G,panBy:Q}=l.getState();g.current.x=(g.current.x??0)-Y/G[2],g.current.y=(g.current.y??0)-M/G[2],Q({x:Y,y:M})&&z(g.current)}m.current=requestAnimationFrame(k)},j=Y=>{const{nodeInternals:M,multiSelectionActive:G,nodesDraggable:Q,unselectNodesAndEdges:J,onNodeDragStart:U,onSelectionDragStart:F}=l.getState();v.current=!0;const P=s?U:ic(F);(!a||!c)&&!G&&s&&(M.get(s)?.selected||J()),s&&c&&a&&Sc({id:s,store:l,nodeRef:e});const $=S(Y);if(g.current=$,h.current=v6(M,Q,$,s),P&&h.current){const[W,ee]=rc({nodeId:s,dragItems:h.current,nodeInternals:M});P(Y.sourceEvent,W,ee)}};if(n)N.on(".drag",null);else{const Y=NE().on("start",M=>{const{domNode:G,nodeDragThreshold:Q}=l.getState();Q===0&&j(M),T.current=!1;const J=S(M);g.current=J,x.current=G?.getBoundingClientRect()||null,E.current=_r(M.sourceEvent,x.current)}).on("drag",M=>{const G=S(M),{autoPanOnNodeDrag:Q,nodeDragThreshold:J}=l.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(T.current=!0),!T.current){if(!w.current&&v.current&&Q&&(w.current=!0,k()),!v.current){const U=G.xSnapped-(g?.current?.x??0),F=G.ySnapped-(g?.current?.y??0);Math.sqrt(U*U+F*F)>J&&j(M)}(g.current.x!==G.xSnapped||g.current.y!==G.ySnapped)&&h.current&&v.current&&(D.current=M.sourceEvent,E.current=_r(M.sourceEvent,x.current),z(G))}}).on("end",M=>{if(!(!v.current||T.current)&&(p(!1),w.current=!1,v.current=!1,cancelAnimationFrame(m.current),h.current)){const{updateNodePositions:G,nodeInternals:Q,onNodeDragStop:J,onSelectionDragStop:U}=l.getState(),F=s?J:ic(U);if(G(h.current,!1,!1),F){const[P,$]=rc({nodeId:s,dragItems:h.current,nodeInternals:Q});F(M.sourceEvent,P,$)}}}).filter(M=>{const G=M.target;return!M.button&&(!r||!vh(G,`.${r}`,e))&&(!o||vh(G,o,e))});return N.call(Y),()=>{N.on(".drag",null)}}}},[e,n,r,o,c,l,s,a,S]),d}function bp(){const e=Dt();return A.useCallback(r=>{const{nodeInternals:o,nodeExtent:s,updateNodePositions:c,getNodes:a,snapToGrid:l,snapGrid:d,onError:p,nodesDraggable:h}=e.getState(),g=a().filter(T=>T.selected&&(T.draggable||h&&typeof T.draggable>"u")),m=l?d[0]:5,x=l?d[1]:5,E=r.isShiftPressed?4:1,D=r.x*m*E,w=r.y*x*E,v=g.map(T=>{if(T.positionAbsolute){const S={x:T.positionAbsolute.x+D,y:T.positionAbsolute.y+w};l&&(S.x=d[0]*Math.round(S.x/d[0]),S.y=d[1]*Math.round(S.y/d[1]));const{positionAbsolute:N,position:z}=Cp(T,S,o,s,void 0,p);T.position=z,T.positionAbsolute=N}return T});c(v,!0,!1)},[])}const vi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var no=e=>{const n=({id:r,type:o,data:s,xPos:c,yPos:a,xPosOrigin:l,yPosOrigin:d,selected:p,onClick:h,onMouseEnter:g,onMouseMove:m,onMouseLeave:x,onContextMenu:E,onDoubleClick:D,style:w,className:v,isDraggable:T,isSelectable:S,isConnectable:N,isFocusable:z,selectNodesOnDrag:k,sourcePosition:j,targetPosition:Y,hidden:M,resizeObserver:G,dragHandle:Q,zIndex:J,isParent:U,noDragClassName:F,noPanClassName:P,initialized:$,disableKeyboardA11y:W,ariaLabel:ee,rfId:L,hasHandleBounds:te})=>{const re=Dt(),oe=A.useRef(null),ce=A.useRef(null),ae=A.useRef(j),ge=A.useRef(Y),Ae=A.useRef(o),Se=S||T||h||g||m||x,he=bp(),De=to(r,re.getState,g),Te=to(r,re.getState,m),Et=to(r,re.getState,x),vt=to(r,re.getState,E),Mt=to(r,re.getState,D),Ke=ze=>{const{nodeDragThreshold:fe}=re.getState();if(S&&(!k||!T||fe>0)&&Sc({id:r,store:re,nodeRef:oe}),h){const Ft=re.getState().nodeInternals.get(r);Ft&&h(ze,{...Ft})}},Ue=ze=>{if(!wc(ze)&&!W)if(Y0.includes(ze.key)&&S){const fe=ze.key==="Escape";Sc({id:r,store:re,unselect:fe,nodeRef:oe})}else T&&p&&Object.prototype.hasOwnProperty.call(vi,ze.key)&&(re.setState({ariaLiveMessage:`Moved selected node ${ze.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~c}, y: ${~~a}`}),he({x:vi[ze.key].x,y:vi[ze.key].y,isShiftPressed:ze.shiftKey}))};A.useEffect(()=>()=>{ce.current&&(G?.unobserve(ce.current),ce.current=null)},[]),A.useEffect(()=>{if(oe.current&&!M){const ze=oe.current;(!$||!te||ce.current!==ze)&&(ce.current&&G?.unobserve(ce.current),G?.observe(ze),ce.current=ze)}},[M,$,te]),A.useEffect(()=>{const ze=Ae.current!==o,fe=ae.current!==j,Ft=ge.current!==Y;oe.current&&(ze||fe||Ft)&&(ze&&(Ae.current=o),fe&&(ae.current=j),Ft&&(ge.current=Y),re.getState().updateNodeDimensions([{id:r,nodeElement:oe.current,forceUpdate:!0}]))},[r,o,j,Y]);const tn=Ep({nodeRef:oe,disabled:M||!T,noDragClassName:F,handleSelector:Q,nodeId:r,isSelectable:S,selectNodesOnDrag:k});return M?null:H.createElement("div",{className:Rt(["react-flow__node",`react-flow__node-${o}`,{[P]:T},v,{selected:p,selectable:S,parent:U,dragging:tn}]),ref:oe,style:{zIndex:J,transform:`translate(${l}px,${d}px)`,pointerEvents:Se?"all":"none",visibility:$?"visible":"hidden",...w},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:De,onMouseMove:Te,onMouseLeave:Et,onContextMenu:vt,onClick:Ke,onDoubleClick:Mt,onKeyDown:z?Ue:void 0,tabIndex:z?0:void 0,role:z?"button":void 0,"aria-describedby":W?void 0:`${pp}-${L}`,"aria-label":ee},H.createElement(M3,{value:r},H.createElement(e,{id:r,data:s,type:o,xPos:c,yPos:a,selected:p,isConnectable:N,sourcePosition:j,targetPosition:Y,dragging:tn,dragHandle:Q,zIndex:J})))};return n.displayName="NodeWrapper",A.memo(n)};const w6=e=>{const n=e.getNodes().filter(r=>r.selected);return{...nl(n,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function C6({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:r}){const o=Dt(),{width:s,height:c,x:a,y:l,transformString:d,userSelectionActive:p}=Qe(w6,St),h=bp(),g=A.useRef(null);if(A.useEffect(()=>{r||g.current?.focus({preventScroll:!0})},[r]),Ep({nodeRef:g}),p||!s||!c)return null;const m=e?E=>{const D=o.getState().getNodes().filter(w=>w.selected);e(E,D)}:void 0,x=E=>{Object.prototype.hasOwnProperty.call(vi,E.key)&&h({x:vi[E.key].x,y:vi[E.key].y,isShiftPressed:E.shiftKey})};return H.createElement("div",{className:Rt(["react-flow__nodesselection","react-flow__container",n]),style:{transform:d}},H.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:r?void 0:-1,onKeyDown:r?void 0:x,style:{width:s,height:c,top:l,left:a}}))}var E6=A.memo(C6);const b6=e=>e.nodesSelectionActive,Ap=({children:e,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:c,onPaneScroll:a,deleteKeyCode:l,onMove:d,onMoveStart:p,onMoveEnd:h,selectionKeyCode:g,selectionOnDrag:m,selectionMode:x,onSelectionStart:E,onSelectionEnd:D,multiSelectionKeyCode:w,panActivationKeyCode:v,zoomActivationKeyCode:T,elementsSelectable:S,zoomOnScroll:N,zoomOnPinch:z,panOnScroll:k,panOnScrollSpeed:j,panOnScrollMode:Y,zoomOnDoubleClick:M,panOnDrag:G,defaultViewport:Q,translateExtent:J,minZoom:U,maxZoom:F,preventScrolling:P,onSelectionContextMenu:$,noWheelClassName:W,noPanClassName:ee,disableKeyboardA11y:L})=>{const te=Qe(b6),re=wo(g),oe=wo(v),ce=oe||G,ae=oe||k,ge=re||m&&ce!==!0;return l6({deleteKeyCode:l,multiSelectionKeyCode:w}),H.createElement(p6,{onMove:d,onMoveStart:p,onMoveEnd:h,onPaneContextMenu:c,elementsSelectable:S,zoomOnScroll:N,zoomOnPinch:z,panOnScroll:ae,panOnScrollSpeed:j,panOnScrollMode:Y,zoomOnDoubleClick:M,panOnDrag:!re&&ce,defaultViewport:Q,translateExtent:J,minZoom:U,maxZoom:F,zoomActivationKeyCode:T,preventScrolling:P,noWheelClassName:W,noPanClassName:ee},H.createElement(_p,{onSelectionStart:E,onSelectionEnd:D,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:s,onPaneContextMenu:c,onPaneScroll:a,panOnDrag:ce,isSelecting:!!ge,selectionMode:x},e,te&&H.createElement(E6,{onSelectionContextMenu:$,noPanClassName:ee,disableKeyboardA11y:L})))};Ap.displayName="FlowRenderer";var A6=A.memo(Ap);function S6(e){return Qe(A.useCallback(r=>e?tp(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function F6(e){const n={input:no(e.input||lp),default:no(e.default||Ac),output:no(e.output||fp),group:no(e.group||il)},r={},o=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,c)=>(s[c]=no(e[c]||Ac),s),r);return{...n,...o}}const N6=({x:e,y:n,width:r,height:o,origin:s})=>!r||!o?{x:e,y:n}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:n}:{x:e-r*s[0],y:n-o*s[1]},T6=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Sp=e=>{const{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:s,updateNodeDimensions:c,onError:a}=Qe(T6,St),l=S6(e.onlyRenderVisibleElements),d=A.useRef(),p=A.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(g=>{const m=g.map(x=>({id:x.target.getAttribute("data-id"),nodeElement:x.target,forceUpdate:!0}));c(m)});return d.current=h,h},[]);return A.useEffect(()=>()=>{d?.current?.disconnect()},[]),H.createElement("div",{className:"react-flow__nodes",style:sl},l.map(h=>{let g=h.type||"default";e.nodeTypes[g]||(a?.("003",or.error003(g)),g="default");const m=e.nodeTypes[g]||e.nodeTypes.default,x=!!(h.draggable||n&&typeof h.draggable>"u"),E=!!(h.selectable||s&&typeof h.selectable>"u"),D=!!(h.connectable||r&&typeof h.connectable>"u"),w=!!(h.focusable||o&&typeof h.focusable>"u"),v=e.nodeExtent?Xc(h.positionAbsolute,e.nodeExtent):h.positionAbsolute,T=v?.x??0,S=v?.y??0,N=N6({x:T,y:S,width:h.width??0,height:h.height??0,origin:e.nodeOrigin});return H.createElement(m,{key:h.id,id:h.id,className:h.className,style:h.style,type:g,data:h.data,sourcePosition:h.sourcePosition||de.Bottom,targetPosition:h.targetPosition||de.Top,hidden:h.hidden,xPos:T,yPos:S,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:x,isSelectable:E,isConnectable:D,isFocusable:w,resizeObserver:p,dragHandle:h.dragHandle,zIndex:h[rt]?.z??0,isParent:!!h[rt]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:h.ariaLabel,hasHandleBounds:!!h[rt]?.handleBounds})}))};Sp.displayName="NodeRenderer";var B6=A.memo(Sp);const I6=(e,n,r)=>r===de.Left?e-n:r===de.Right?e+n:e,R6=(e,n,r)=>r===de.Top?e-n:r===de.Bottom?e+n:e,_h="react-flow__edgeupdater",wh=({position:e,centerX:n,centerY:r,radius:o=10,onMouseDown:s,onMouseEnter:c,onMouseOut:a,type:l})=>H.createElement("circle",{onMouseDown:s,onMouseEnter:c,onMouseOut:a,className:Rt([_h,`${_h}-${l}`]),cx:I6(n,o,e),cy:R6(r,o,e),r:o,stroke:"transparent",fill:"transparent"}),M6=()=>!0;var fi=e=>{const n=({id:r,className:o,type:s,data:c,onClick:a,onEdgeDoubleClick:l,selected:d,animated:p,label:h,labelStyle:g,labelShowBg:m,labelBgStyle:x,labelBgPadding:E,labelBgBorderRadius:D,style:w,source:v,target:T,sourceX:S,sourceY:N,targetX:z,targetY:k,sourcePosition:j,targetPosition:Y,elementsSelectable:M,hidden:G,sourceHandleId:Q,targetHandleId:J,onContextMenu:U,onMouseEnter:F,onMouseMove:P,onMouseLeave:$,reconnectRadius:W,onReconnect:ee,onReconnectStart:L,onReconnectEnd:te,markerEnd:re,markerStart:oe,rfId:ce,ariaLabel:ae,isFocusable:ge,isReconnectable:Ae,pathOptions:Se,interactionWidth:he,disableKeyboardA11y:De})=>{const Te=A.useRef(null),[Et,vt]=A.useState(!1),[Mt,Ke]=A.useState(!1),Ue=Dt(),tn=A.useMemo(()=>`url('#${Ec(oe,ce)}')`,[oe,ce]),ze=A.useMemo(()=>`url('#${Ec(re,ce)}')`,[re,ce]);if(G)return null;const fe=ut=>{const{edges:zt,addSelectedEdges:mn,unselectNodesAndEdges:yn,multiSelectionActive:Bn}=Ue.getState(),Ot=zt.find(Dn=>Dn.id===r);Ot&&(M&&(Ue.setState({nodesSelectionActive:!1}),Ot.selected&&Bn?(yn({nodes:[],edges:[Ot]}),Te.current?.blur()):mn([r])),a&&a(ut,Ot))},Ft=eo(r,Ue.getState,l),Vt=eo(r,Ue.getState,U),xt=eo(r,Ue.getState,F),nn=eo(r,Ue.getState,P),pn=eo(r,Ue.getState,$),gn=(ut,zt)=>{if(ut.button!==0)return;const{edges:mn,isValidConnection:yn}=Ue.getState(),Bn=zt?T:v,Ot=(zt?J:Q)||null,Dn=zt?"target":"source",Ni=yn||M6,Ti=zt,br=mn.find(jn=>jn.id===r);Ke(!0),L?.(ut,br,Dn);const qr=jn=>{Ke(!1),te?.(jn,br,Dn)};sp({event:ut,handleId:Ot,nodeId:Bn,onConnect:jn=>ee?.(br,jn),isTarget:Ti,getState:Ue.getState,setState:Ue.setState,isValidConnection:Ni,edgeUpdaterType:Dn,onReconnectEnd:qr})},rn=ut=>gn(ut,!0),Hn=ut=>gn(ut,!1),Wt=()=>vt(!0),Gt=()=>vt(!1),Tn=!M&&!a,Ln=ut=>{if(!De&&Y0.includes(ut.key)&&M){const{unselectNodesAndEdges:zt,addSelectedEdges:mn,edges:yn}=Ue.getState();ut.key==="Escape"?(Te.current?.blur(),zt({edges:[yn.find(Ot=>Ot.id===r)]})):mn([r])}};return H.createElement("g",{className:Rt(["react-flow__edge",`react-flow__edge-${s}`,o,{selected:d,animated:p,inactive:Tn,updating:Et}]),onClick:fe,onDoubleClick:Ft,onContextMenu:Vt,onMouseEnter:xt,onMouseMove:nn,onMouseLeave:pn,onKeyDown:ge?Ln:void 0,tabIndex:ge?0:void 0,role:ge?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":ae===null?void 0:ae||`Edge from ${v} to ${T}`,"aria-describedby":ge?`${gp}-${ce}`:void 0,ref:Te},!Mt&&H.createElement(e,{id:r,source:v,target:T,selected:d,animated:p,label:h,labelStyle:g,labelShowBg:m,labelBgStyle:x,labelBgPadding:E,labelBgBorderRadius:D,data:c,style:w,sourceX:S,sourceY:N,targetX:z,targetY:k,sourcePosition:j,targetPosition:Y,sourceHandleId:Q,targetHandleId:J,markerStart:tn,markerEnd:ze,pathOptions:Se,interactionWidth:he}),Ae&&H.createElement(H.Fragment,null,(Ae==="source"||Ae===!0)&&H.createElement(wh,{position:j,centerX:S,centerY:N,radius:W,onMouseDown:rn,onMouseEnter:Wt,onMouseOut:Gt,type:"source"}),(Ae==="target"||Ae===!0)&&H.createElement(wh,{position:Y,centerX:z,centerY:k,radius:W,onMouseDown:Hn,onMouseEnter:Wt,onMouseOut:Gt,type:"target"})))};return n.displayName="EdgeWrapper",A.memo(n)};function z6(e){const n={default:fi(e.default||Zs),straight:fi(e.bezier||Qc),step:fi(e.step||Jc),smoothstep:fi(e.step||au),simplebezier:fi(e.simplebezier||Kc)},r={},o=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,c)=>(s[c]=fi(e[c]||Zs),s),r);return{...n,...o}}function Ch(e,n,r=null){const o=(r?.x||0)+n.x,s=(r?.y||0)+n.y,c=r?.width||n.width,a=r?.height||n.height;switch(e){case de.Top:return{x:o+c/2,y:s};case de.Right:return{x:o+c,y:s+a/2};case de.Bottom:return{x:o+c/2,y:s+a};case de.Left:return{x:o,y:s+a/2}}}function Eh(e,n){return e?e.length===1||!n?e[0]:n&&e.find(r=>r.id===n)||null:null}const O6=(e,n,r,o,s,c)=>{const a=Ch(r,e,n),l=Ch(c,o,s);return{sourceX:a.x,sourceY:a.y,targetX:l.x,targetY:l.y}};function $6({sourcePos:e,targetPos:n,sourceWidth:r,sourceHeight:o,targetWidth:s,targetHeight:c,width:a,height:l,transform:d}){const p={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x+r,n.x+s),y2:Math.max(e.y+o,n.y+c)};p.x===p.x2&&(p.x2+=1),p.y===p.y2&&(p.y2+=1);const h=Zc({x:(0-d[0])/d[2],y:(0-d[1])/d[2],width:a/d[2],height:l/d[2]}),g=Math.max(0,Math.min(h.x2,p.x2)-Math.max(h.x,p.x)),m=Math.max(0,Math.min(h.y2,p.y2)-Math.max(h.y,p.y));return Math.ceil(g*m)>0}function bh(e){const n=e?.[rt]?.handleBounds||null,r=n&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},n,!!r]}const P6=[{level:0,isMaxLevel:!0,edges:[]}];function k6(e,n,r=!1){let o=-1;const s=e.reduce((a,l)=>{const d=hn(l.zIndex);let p=d?l.zIndex:0;if(r){const h=n.get(l.target),g=n.get(l.source),m=l.selected||h?.selected||g?.selected,x=Math.max(g?.[rt]?.z||0,h?.[rt]?.z||0,1e3);p=(d?l.zIndex:0)+(m?x:0)}return a[p]?a[p].push(l):a[p]=[l],o=p>o?p:o,a},{}),c=Object.entries(s).map(([a,l])=>{const d=+a;return{edges:l,level:d,isMaxLevel:d===o}});return c.length===0?P6:c}function H6(e,n,r){const o=Qe(A.useCallback(s=>e?s.edges.filter(c=>{const a=n.get(c.source),l=n.get(c.target);return a?.width&&a?.height&&l?.width&&l?.height&&$6({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,n]));return k6(o,n,r)}const L6=({color:e="none",strokeWidth:n=1})=>H.createElement("polyline",{style:{stroke:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),j6=({color:e="none",strokeWidth:n=1})=>H.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ah={[_o.Arrow]:L6,[_o.ArrowClosed]:j6};function V6(e){const n=Dt();return A.useMemo(()=>Object.prototype.hasOwnProperty.call(Ah,e)?Ah[e]:(n.getState().onError?.("009",or.error009(e)),null),[e])}const W6=({id:e,type:n,color:r,width:o=12.5,height:s=12.5,markerUnits:c="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{const d=V6(n);return d?H.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${o}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:l,refX:"0",refY:"0"},H.createElement(d,{color:r,strokeWidth:a})):null},G6=({defaultColor:e,rfId:n})=>r=>{const o=[];return r.edges.reduce((s,c)=>([c.markerStart,c.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const l=Ec(a,n);o.includes(l)||(s.push({id:l,color:a.color||e,...a}),o.push(l))}}),s),[]).sort((s,c)=>s.id.localeCompare(c.id))},Fp=({defaultColor:e,rfId:n})=>{const r=Qe(A.useCallback(G6({defaultColor:e,rfId:n}),[e,n]),(o,s)=>!(o.length!==s.length||o.some((c,a)=>c.id!==s[a].id)));return H.createElement("defs",null,r.map(o=>H.createElement(W6,{id:o.id,key:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient})))};Fp.displayName="MarkerDefinitions";var U6=A.memo(Fp);const q6=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Np=({defaultMarkerColor:e,onlyRenderVisibleElements:n,elevateEdgesOnSelect:r,rfId:o,edgeTypes:s,noPanClassName:c,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:d,onEdgeMouseLeave:p,onEdgeClick:h,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:x,onReconnectEnd:E,reconnectRadius:D,children:w,disableKeyboardA11y:v})=>{const{edgesFocusable:T,edgesUpdatable:S,elementsSelectable:N,width:z,height:k,connectionMode:j,nodeInternals:Y,onError:M}=Qe(q6,St),G=H6(n,Y,r);return z?H.createElement(H.Fragment,null,G.map(({level:Q,edges:J,isMaxLevel:U})=>H.createElement("svg",{key:Q,style:{zIndex:Q},width:z,height:k,className:"react-flow__edges react-flow__container"},U&&H.createElement(U6,{defaultColor:e,rfId:o}),H.createElement("g",null,J.map(F=>{const[P,$,W]=bh(Y.get(F.source)),[ee,L,te]=bh(Y.get(F.target));if(!W||!te)return null;let re=F.type||"default";s[re]||(M?.("011",or.error011(re)),re="default");const oe=s[re]||s.default,ce=j===Wr.Strict?L.target:(L.target??[]).concat(L.source??[]),ae=Eh($.source,F.sourceHandle),ge=Eh(ce,F.targetHandle),Ae=ae?.position||de.Bottom,Se=ge?.position||de.Top,he=!!(F.focusable||T&&typeof F.focusable>"u"),De=F.reconnectable||F.updatable,Te=typeof m<"u"&&(De||S&&typeof De>"u");if(!ae||!ge)return M?.("008",or.error008(ae,F)),null;const{sourceX:Et,sourceY:vt,targetX:Mt,targetY:Ke}=O6(P,ae,Ae,ee,ge,Se);return H.createElement(oe,{key:F.id,id:F.id,className:Rt([F.className,c]),type:re,data:F.data,selected:!!F.selected,animated:!!F.animated,hidden:!!F.hidden,label:F.label,labelStyle:F.labelStyle,labelShowBg:F.labelShowBg,labelBgStyle:F.labelBgStyle,labelBgPadding:F.labelBgPadding,labelBgBorderRadius:F.labelBgBorderRadius,style:F.style,source:F.source,target:F.target,sourceHandleId:F.sourceHandle,targetHandleId:F.targetHandle,markerEnd:F.markerEnd,markerStart:F.markerStart,sourceX:Et,sourceY:vt,targetX:Mt,targetY:Ke,sourcePosition:Ae,targetPosition:Se,elementsSelectable:N,onContextMenu:a,onMouseEnter:l,onMouseMove:d,onMouseLeave:p,onClick:h,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:x,onReconnectEnd:E,reconnectRadius:D,rfId:o,ariaLabel:F.ariaLabel,isFocusable:he,isReconnectable:Te,pathOptions:"pathOptions"in F?F.pathOptions:void 0,interactionWidth:F.interactionWidth,disableKeyboardA11y:v})})))),w):null};Np.displayName="EdgeRenderer";var Y6=A.memo(Np);const X6=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Z6({children:e}){const n=Qe(X6);return H.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},e)}function K6(e){const n=ol(),r=A.useRef(!1);A.useEffect(()=>{!r.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),r.current=!0)},[e,n.viewportInitialized])}const J6={[de.Left]:de.Right,[de.Right]:de.Left,[de.Top]:de.Bottom,[de.Bottom]:de.Top},Tp=({nodeId:e,handleType:n,style:r,type:o=vr.Bezier,CustomComponent:s,connectionStatus:c})=>{const{fromNode:a,handleId:l,toX:d,toY:p,connectionMode:h}=Qe(A.useCallback(k=>({fromNode:k.nodeInternals.get(e),handleId:k.connectionHandleId,toX:(k.connectionPosition.x-k.transform[0])/k.transform[2],toY:(k.connectionPosition.y-k.transform[1])/k.transform[2],connectionMode:k.connectionMode}),[e]),St),g=a?.[rt]?.handleBounds;let m=g?.[n];if(h===Wr.Loose&&(m=m||g?.[n==="source"?"target":"source"]),!a||!m)return null;const x=l?m.find(k=>k.id===l):m[0],E=x?x.x+x.width/2:(a.width??0)/2,D=x?x.y+x.height/2:a.height??0,w=(a.positionAbsolute?.x??0)+E,v=(a.positionAbsolute?.y??0)+D,T=x?.position,S=T?J6[T]:null;if(!T||!S)return null;if(s)return H.createElement(s,{connectionLineType:o,connectionLineStyle:r,fromNode:a,fromHandle:x,fromX:w,fromY:v,toX:d,toY:p,fromPosition:T,toPosition:S,connectionStatus:c});let N="";const z={sourceX:w,sourceY:v,sourcePosition:T,targetX:d,targetY:p,targetPosition:S};return o===vr.Bezier?[N]=el(z):o===vr.Step?[N]=Cc({...z,borderRadius:0}):o===vr.SmoothStep?[N]=Cc(z):o===vr.SimpleBezier?[N]=J0(z):N=`M${w},${v} ${d},${p}`,H.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:r})};Tp.displayName="ConnectionLine";const Q6=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function e8({containerStyle:e,style:n,type:r,component:o}){const{nodeId:s,handleType:c,nodesConnectable:a,width:l,height:d,connectionStatus:p}=Qe(Q6,St);return!(s&&c&&l&&a)?null:H.createElement("svg",{style:e,width:l,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},H.createElement("g",{className:Rt(["react-flow__connection",p])},H.createElement(Tp,{nodeId:s,handleType:c,style:n,type:r,CustomComponent:o,connectionStatus:p})))}function Sh(e,n){return A.useRef(null),Dt(),A.useMemo(()=>n(e),[e])}const Bp=({nodeTypes:e,edgeTypes:n,onMove:r,onMoveStart:o,onMoveEnd:s,onInit:c,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:d,onEdgeDoubleClick:p,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:m,onNodeContextMenu:x,onSelectionContextMenu:E,onSelectionStart:D,onSelectionEnd:w,connectionLineType:v,connectionLineStyle:T,connectionLineComponent:S,connectionLineContainerStyle:N,selectionKeyCode:z,selectionOnDrag:k,selectionMode:j,multiSelectionKeyCode:Y,panActivationKeyCode:M,zoomActivationKeyCode:G,deleteKeyCode:Q,onlyRenderVisibleElements:J,elementsSelectable:U,selectNodesOnDrag:F,defaultViewport:P,translateExtent:$,minZoom:W,maxZoom:ee,preventScrolling:L,defaultMarkerColor:te,zoomOnScroll:re,zoomOnPinch:oe,panOnScroll:ce,panOnScrollSpeed:ae,panOnScrollMode:ge,zoomOnDoubleClick:Ae,panOnDrag:Se,onPaneClick:he,onPaneMouseEnter:De,onPaneMouseMove:Te,onPaneMouseLeave:Et,onPaneScroll:vt,onPaneContextMenu:Mt,onEdgeContextMenu:Ke,onEdgeMouseEnter:Ue,onEdgeMouseMove:tn,onEdgeMouseLeave:ze,onReconnect:fe,onReconnectStart:Ft,onReconnectEnd:Vt,reconnectRadius:xt,noDragClassName:nn,noWheelClassName:pn,noPanClassName:gn,elevateEdgesOnSelect:rn,disableKeyboardA11y:Hn,nodeOrigin:Wt,nodeExtent:Gt,rfId:Tn})=>{const Ln=Sh(e,F6),ut=Sh(n,z6);return K6(c),H.createElement(A6,{onPaneClick:he,onPaneMouseEnter:De,onPaneMouseMove:Te,onPaneMouseLeave:Et,onPaneContextMenu:Mt,onPaneScroll:vt,deleteKeyCode:Q,selectionKeyCode:z,selectionOnDrag:k,selectionMode:j,onSelectionStart:D,onSelectionEnd:w,multiSelectionKeyCode:Y,panActivationKeyCode:M,zoomActivationKeyCode:G,elementsSelectable:U,onMove:r,onMoveStart:o,onMoveEnd:s,zoomOnScroll:re,zoomOnPinch:oe,zoomOnDoubleClick:Ae,panOnScroll:ce,panOnScrollSpeed:ae,panOnScrollMode:ge,panOnDrag:Se,defaultViewport:P,translateExtent:$,minZoom:W,maxZoom:ee,onSelectionContextMenu:E,preventScrolling:L,noDragClassName:nn,noWheelClassName:pn,noPanClassName:gn,disableKeyboardA11y:Hn},H.createElement(Z6,null,H.createElement(Y6,{edgeTypes:ut,onEdgeClick:l,onEdgeDoubleClick:p,onlyRenderVisibleElements:J,onEdgeContextMenu:Ke,onEdgeMouseEnter:Ue,onEdgeMouseMove:tn,onEdgeMouseLeave:ze,onReconnect:fe,onReconnectStart:Ft,onReconnectEnd:Vt,reconnectRadius:xt,defaultMarkerColor:te,noPanClassName:gn,elevateEdgesOnSelect:!!rn,disableKeyboardA11y:Hn,rfId:Tn},H.createElement(e8,{style:T,type:v,component:S,containerStyle:N})),H.createElement("div",{className:"react-flow__edgelabel-renderer"}),H.createElement(B6,{nodeTypes:Ln,onNodeClick:a,onNodeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:m,onNodeContextMenu:x,selectNodesOnDrag:F,onlyRenderVisibleElements:J,noPanClassName:gn,noDragClassName:nn,disableKeyboardA11y:Hn,nodeOrigin:Wt,nodeExtent:Gt,rfId:Tn})))};Bp.displayName="GraphView";var t8=A.memo(Bp);const Fc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],mr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Fc,nodeExtent:Fc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Wr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:F3,isValidConnection:void 0},n8=()=>Lw((e,n)=>({...mr,setNodes:r=>{const{nodeInternals:o,nodeOrigin:s,elevateNodesOnSelect:c}=n();e({nodeInternals:tc(r,o,s,c)})},getNodes:()=>Array.from(n().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:o={}}=n();e({edges:r.map(s=>({...o,...s}))})},setDefaultNodesAndEdges:(r,o)=>{const s=typeof r<"u",c=typeof o<"u",a=s?tc(r,new Map,n().nodeOrigin,n().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:c?o:[],hasDefaultNodes:s,hasDefaultEdges:c})},updateNodeDimensions:r=>{const{onNodesChange:o,nodeInternals:s,fitViewOnInit:c,fitViewOnInitDone:a,fitViewOnInitOptions:l,domNode:d,nodeOrigin:p}=n(),h=d?.querySelector(".react-flow__viewport");if(!h)return;const g=window.getComputedStyle(h),{m22:m}=new window.DOMMatrixReadOnly(g.transform),x=r.reduce((D,w)=>{const v=s.get(w.id);if(v?.hidden)s.set(v.id,{...v,[rt]:{...v[rt],handleBounds:void 0}});else if(v){const T=Yc(w.nodeElement);!!(T.width&&T.height&&(v.width!==T.width||v.height!==T.height||w.forceUpdate))&&(s.set(v.id,{...v,[rt]:{...v[rt],handleBounds:{source:xh(".source",w.nodeElement,m,p),target:xh(".target",w.nodeElement,m,p)}},...T}),D.push({id:v.id,type:"dimensions",dimensions:T}))}return D},[]);yp(s,p);const E=a||c&&!a&&Dp(n,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:E}),x?.length>0&&o?.(x)},updateNodePositions:(r,o=!0,s=!1)=>{const{triggerNodeChanges:c}=n(),a=r.map(l=>{const d={id:l.id,type:"position",dragging:s};return o&&(d.positionAbsolute=l.positionAbsolute,d.position=l.position),d});c(a)},triggerNodeChanges:r=>{const{onNodesChange:o,nodeInternals:s,hasDefaultNodes:c,nodeOrigin:a,getNodes:l,elevateNodesOnSelect:d}=n();if(r?.length){if(c){const p=xp(r,l()),h=tc(p,s,a,d);e({nodeInternals:h})}o?.(r)}},addSelectedNodes:r=>{const{multiSelectionActive:o,edges:s,getNodes:c}=n();let a,l=null;o?a=r.map(d=>Dr(d,!0)):(a=pi(c(),r),l=pi(s,[])),As({changedNodes:a,changedEdges:l,get:n,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:o,edges:s,getNodes:c}=n();let a,l=null;o?a=r.map(d=>Dr(d,!0)):(a=pi(s,r),l=pi(c(),[])),As({changedNodes:l,changedEdges:a,get:n,set:e})},unselectNodesAndEdges:({nodes:r,edges:o}={})=>{const{edges:s,getNodes:c}=n(),a=r||c(),l=o||s,d=a.map(h=>(h.selected=!1,Dr(h.id,!1))),p=l.map(h=>Dr(h.id,!1));As({changedNodes:d,changedEdges:p,get:n,set:e})},setMinZoom:r=>{const{d3Zoom:o,maxZoom:s}=n();o?.scaleExtent([r,s]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:o,minZoom:s}=n();o?.scaleExtent([s,r]),e({maxZoom:r})},setTranslateExtent:r=>{n().d3Zoom?.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:o}=n(),c=o().filter(l=>l.selected).map(l=>Dr(l.id,!1)),a=r.filter(l=>l.selected).map(l=>Dr(l.id,!1));As({changedNodes:c,changedEdges:a,get:n,set:e})},setNodeExtent:r=>{const{nodeInternals:o}=n();o.forEach(s=>{s.positionAbsolute=Xc(s.position,r)}),e({nodeExtent:r,nodeInternals:new Map(o)})},panBy:r=>{const{transform:o,width:s,height:c,d3Zoom:a,d3Selection:l,translateExtent:d}=n();if(!a||!l||!r.x&&!r.y)return!1;const p=xr.translate(o[0]+r.x,o[1]+r.y).scale(o[2]),h=[[0,0],[s,c]],g=a?.constrain()(p,h,d);return a.transform(l,g),o[0]!==g.x||o[1]!==g.y||o[2]!==g.k},cancelConnection:()=>e({connectionNodeId:mr.connectionNodeId,connectionHandleId:mr.connectionHandleId,connectionHandleType:mr.connectionHandleType,connectionStatus:mr.connectionStatus,connectionStartHandle:mr.connectionStartHandle,connectionEndHandle:mr.connectionEndHandle}),reset:()=>e({...mr})}),Object.is),ul=({children:e})=>{const n=A.useRef(null);return n.current||(n.current=n8()),H.createElement(x3,{value:n.current},e)};ul.displayName="ReactFlowProvider";const Ip=({children:e})=>A.useContext(uu)?H.createElement(H.Fragment,null,e):H.createElement(ul,null,e);Ip.displayName="ReactFlowWrapper";const r8={input:lp,default:Ac,output:fp,group:il},i8={default:Zs,straight:Qc,step:Jc,smoothstep:au,simplebezier:Kc},o8=[0,0],s8=[15,15],u8={x:0,y:0,zoom:1},a8={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Rp=A.forwardRef(({nodes:e,edges:n,defaultNodes:r,defaultEdges:o,className:s,nodeTypes:c=r8,edgeTypes:a=i8,onNodeClick:l,onEdgeClick:d,onInit:p,onMove:h,onMoveStart:g,onMoveEnd:m,onConnect:x,onConnectStart:E,onConnectEnd:D,onClickConnectStart:w,onClickConnectEnd:v,onNodeMouseEnter:T,onNodeMouseMove:S,onNodeMouseLeave:N,onNodeContextMenu:z,onNodeDoubleClick:k,onNodeDragStart:j,onNodeDrag:Y,onNodeDragStop:M,onNodesDelete:G,onEdgesDelete:Q,onSelectionChange:J,onSelectionDragStart:U,onSelectionDrag:F,onSelectionDragStop:P,onSelectionContextMenu:$,onSelectionStart:W,onSelectionEnd:ee,connectionMode:L=Wr.Strict,connectionLineType:te=vr.Bezier,connectionLineStyle:re,connectionLineComponent:oe,connectionLineContainerStyle:ce,deleteKeyCode:ae="Backspace",selectionKeyCode:ge="Shift",selectionOnDrag:Ae=!1,selectionMode:Se=Ei.Full,panActivationKeyCode:he="Space",multiSelectionKeyCode:De=Xs()?"Meta":"Control",zoomActivationKeyCode:Te=Xs()?"Meta":"Control",snapToGrid:Et=!1,snapGrid:vt=s8,onlyRenderVisibleElements:Mt=!1,selectNodesOnDrag:Ke=!0,nodesDraggable:Ue,nodesConnectable:tn,nodesFocusable:ze,nodeOrigin:fe=o8,edgesFocusable:Ft,edgesUpdatable:Vt,elementsSelectable:xt,defaultViewport:nn=u8,minZoom:pn=.5,maxZoom:gn=2,translateExtent:rn=Fc,preventScrolling:Hn=!0,nodeExtent:Wt,defaultMarkerColor:Gt="#b1b1b7",zoomOnScroll:Tn=!0,zoomOnPinch:Ln=!0,panOnScroll:ut=!1,panOnScrollSpeed:zt=.5,panOnScrollMode:mn=Hr.Free,zoomOnDoubleClick:yn=!0,panOnDrag:Bn=!0,onPaneClick:Ot,onPaneMouseEnter:Dn,onPaneMouseMove:Ni,onPaneMouseLeave:Ti,onPaneScroll:br,onPaneContextMenu:qr,children:Bi,onEdgeContextMenu:jn,onEdgeDoubleClick:lu,onEdgeMouseEnter:du,onEdgeMouseMove:fu,onEdgeMouseLeave:So,onEdgeUpdate:hu,onEdgeUpdateStart:pu,onEdgeUpdateEnd:gu,onReconnect:Ii,onReconnectStart:mu,onReconnectEnd:Ri,reconnectRadius:yu=10,edgeUpdaterRadius:Du=10,onNodesChange:vu,onEdgesChange:xu,noDragClassName:_u="nodrag",noWheelClassName:wu="nowheel",noPanClassName:Fo="nopan",fitView:Cu=!1,fitViewOptions:No,connectOnClick:Eu=!0,attributionPosition:bu,proOptions:Au,defaultEdgeOptions:Su,elevateNodesOnSelect:Fu=!0,elevateEdgesOnSelect:Nu=!1,disableKeyboardA11y:Ar=!1,autoPanOnConnect:Tu=!0,autoPanOnNodeDrag:Yr=!0,connectionRadius:Bu=20,isValidConnection:Iu,onError:Ru,style:To,id:Mi,nodeDragThreshold:Bo,...Mu},zu)=>{const zi=Mi||"1";return H.createElement("div",{...Mu,style:{...To,...a8},ref:zu,className:Rt(["react-flow",s]),"data-testid":"rf__wrapper",id:Mi},H.createElement(Ip,null,H.createElement(t8,{onInit:p,onMove:h,onMoveStart:g,onMoveEnd:m,onNodeClick:l,onEdgeClick:d,onNodeMouseEnter:T,onNodeMouseMove:S,onNodeMouseLeave:N,onNodeContextMenu:z,onNodeDoubleClick:k,nodeTypes:c,edgeTypes:a,connectionLineType:te,connectionLineStyle:re,connectionLineComponent:oe,connectionLineContainerStyle:ce,selectionKeyCode:ge,selectionOnDrag:Ae,selectionMode:Se,deleteKeyCode:ae,multiSelectionKeyCode:De,panActivationKeyCode:he,zoomActivationKeyCode:Te,onlyRenderVisibleElements:Mt,selectNodesOnDrag:Ke,defaultViewport:nn,translateExtent:rn,minZoom:pn,maxZoom:gn,preventScrolling:Hn,zoomOnScroll:Tn,zoomOnPinch:Ln,zoomOnDoubleClick:yn,panOnScroll:ut,panOnScrollSpeed:zt,panOnScrollMode:mn,panOnDrag:Bn,onPaneClick:Ot,onPaneMouseEnter:Dn,onPaneMouseMove:Ni,onPaneMouseLeave:Ti,onPaneScroll:br,onPaneContextMenu:qr,onSelectionContextMenu:$,onSelectionStart:W,onSelectionEnd:ee,onEdgeContextMenu:jn,onEdgeDoubleClick:lu,onEdgeMouseEnter:du,onEdgeMouseMove:fu,onEdgeMouseLeave:So,onReconnect:Ii??hu,onReconnectStart:mu??pu,onReconnectEnd:Ri??gu,reconnectRadius:yu??Du,defaultMarkerColor:Gt,noDragClassName:_u,noWheelClassName:wu,noPanClassName:Fo,elevateEdgesOnSelect:Nu,rfId:zi,disableKeyboardA11y:Ar,nodeOrigin:fe,nodeExtent:Wt}),H.createElement(J3,{nodes:e,edges:n,defaultNodes:r,defaultEdges:o,onConnect:x,onConnectStart:E,onConnectEnd:D,onClickConnectStart:w,onClickConnectEnd:v,nodesDraggable:Ue,nodesConnectable:tn,nodesFocusable:ze,edgesFocusable:Ft,edgesUpdatable:Vt,elementsSelectable:xt,elevateNodesOnSelect:Fu,minZoom:pn,maxZoom:gn,nodeExtent:Wt,onNodesChange:vu,onEdgesChange:xu,snapToGrid:Et,snapGrid:vt,connectionMode:L,translateExtent:rn,connectOnClick:Eu,defaultEdgeOptions:Su,fitView:Cu,fitViewOptions:No,onNodesDelete:G,onEdgesDelete:Q,onNodeDragStart:j,onNodeDrag:Y,onNodeDragStop:M,onSelectionDrag:F,onSelectionDragStart:U,onSelectionDragStop:P,noPanClassName:Fo,nodeOrigin:fe,rfId:zi,autoPanOnConnect:Tu,autoPanOnNodeDrag:Yr,onError:Ru,connectionRadius:Bu,isValidConnection:Iu,nodeDragThreshold:Bo}),H.createElement(Z3,{onSelectionChange:J}),Bi,H.createElement(w3,{proOptions:Au,position:bu}),H.createElement(r6,{rfId:zi,disableKeyboardA11y:Ar})))});Rp.displayName="ReactFlow";const c8=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function l8({children:e}){const n=Qe(c8);return n?t0.createPortal(e,n):null}function Mp(e){return n=>{const[r,o]=A.useState(n),s=A.useCallback(c=>o(a=>e(c,a)),[]);return[r,o,s]}}const d8=Mp(xp),f8=Mp(y6);function h8(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},H.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function p8(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},H.createElement("path",{d:"M0 0h32v4.2H0z"}))}function g8(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},H.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function m8(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},H.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function y8(){return H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},H.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const gi=({children:e,className:n,...r})=>H.createElement("button",{type:"button",className:Rt(["react-flow__controls-button",n]),...r},e);gi.displayName="ControlButton";const D8=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),zp=({style:e,showZoom:n=!0,showFitView:r=!0,showInteractive:o=!0,fitViewOptions:s,onZoomIn:c,onZoomOut:a,onFitView:l,onInteractiveChange:d,className:p,children:h,position:g="bottom-left"})=>{const m=Dt(),[x,E]=A.useState(!1),{isInteractive:D,minZoomReached:w,maxZoomReached:v}=Qe(D8,St),{zoomIn:T,zoomOut:S,fitView:N}=ol();if(A.useEffect(()=>{E(!0)},[]),!x)return null;const z=()=>{T(),c?.()},k=()=>{S(),a?.()},j=()=>{N(s),l?.()},Y=()=>{m.setState({nodesDraggable:!D,nodesConnectable:!D,elementsSelectable:!D}),d?.(!D)};return H.createElement(G0,{className:Rt(["react-flow__controls",p]),position:g,style:e,"data-testid":"rf__controls"},n&&H.createElement(H.Fragment,null,H.createElement(gi,{onClick:z,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v},H.createElement(h8,null)),H.createElement(gi,{onClick:k,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},H.createElement(p8,null))),r&&H.createElement(gi,{className:"react-flow__controls-fitview",onClick:j,title:"fit view","aria-label":"fit view"},H.createElement(g8,null)),o&&H.createElement(gi,{className:"react-flow__controls-interactive",onClick:Y,title:"toggle interactivity","aria-label":"toggle interactivity"},D?H.createElement(y8,null):H.createElement(m8,null)),h)};zp.displayName="Controls";var v8=A.memo(zp),Sn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Sn||(Sn={}));function x8({color:e,dimensions:n,lineWidth:r}){return H.createElement("path",{stroke:e,strokeWidth:r,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})}function _8({color:e,radius:n}){return H.createElement("circle",{cx:n,cy:n,r:n,fill:e})}const w8={[Sn.Dots]:"#91919a",[Sn.Lines]:"#eee",[Sn.Cross]:"#e2e2e2"},C8={[Sn.Dots]:1,[Sn.Lines]:1,[Sn.Cross]:6},E8=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Op({id:e,variant:n=Sn.Dots,gap:r=20,size:o,lineWidth:s=1,offset:c=2,color:a,style:l,className:d}){const p=A.useRef(null),{transform:h,patternId:g}=Qe(E8,St),m=a||w8[n],x=o||C8[n],E=n===Sn.Dots,D=n===Sn.Cross,w=Array.isArray(r)?r:[r,r],v=[w[0]*h[2]||1,w[1]*h[2]||1],T=x*h[2],S=D?[T,T]:v,N=E?[T/c,T/c]:[S[0]/c,S[1]/c];return H.createElement("svg",{className:Rt(["react-flow__background",d]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:p,"data-testid":"rf__background"},H.createElement("pattern",{id:g+e,x:h[0]%v[0],y:h[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},E?H.createElement(_8,{color:m,radius:T/c}):H.createElement(x8,{dimensions:S,color:m,lineWidth:s})),H.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${g+e})`}))}Op.displayName="Background";var b8=A.memo(Op),Js={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Js.exports;(function(e,n){(function(){var r,o="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",p=500,h="__lodash_placeholder__",g=1,m=2,x=4,E=1,D=2,w=1,v=2,T=4,S=8,N=16,z=32,k=64,j=128,Y=256,M=512,G=30,Q="...",J=800,U=16,F=1,P=2,$=3,W=1/0,ee=9007199254740991,L=17976931348623157e292,te=NaN,re=4294967295,oe=re-1,ce=re>>>1,ae=[["ary",j],["bind",w],["bindKey",v],["curry",S],["curryRight",N],["flip",M],["partial",z],["partialRight",k],["rearg",Y]],ge="[object Arguments]",Ae="[object Array]",Se="[object AsyncFunction]",he="[object Boolean]",De="[object Date]",Te="[object DOMException]",Et="[object Error]",vt="[object Function]",Mt="[object GeneratorFunction]",Ke="[object Map]",Ue="[object Number]",tn="[object Null]",ze="[object Object]",fe="[object Promise]",Ft="[object Proxy]",Vt="[object RegExp]",xt="[object Set]",nn="[object String]",pn="[object Symbol]",gn="[object Undefined]",rn="[object WeakMap]",Hn="[object WeakSet]",Wt="[object ArrayBuffer]",Gt="[object DataView]",Tn="[object Float32Array]",Ln="[object Float64Array]",ut="[object Int8Array]",zt="[object Int16Array]",mn="[object Int32Array]",yn="[object Uint8Array]",Bn="[object Uint8ClampedArray]",Ot="[object Uint16Array]",Dn="[object Uint32Array]",Ni=/\b__p \+= '';/g,Ti=/\b(__p \+=) '' \+/g,br=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qr=/&(?:amp|lt|gt|quot|#39);/g,Bi=/[&<>"']/g,jn=RegExp(qr.source),lu=RegExp(Bi.source),du=/<%-([\s\S]+?)%>/g,fu=/<%([\s\S]+?)%>/g,So=/<%=([\s\S]+?)%>/g,hu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pu=/^\w*$/,gu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ii=/[\\^$.*+?()[\]{}|]/g,mu=RegExp(Ii.source),Ri=/^\s+/,yu=/\s/,Du=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vu=/\{\n\/\* \[wrapped with (.+)\] \*/,xu=/,? & /,_u=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wu=/[()=,{}\[\]\/\s]/,Fo=/\\(\\)?/g,Cu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,No=/\w*$/,Eu=/^[-+]0x[0-9a-f]+$/i,bu=/^0b[01]+$/i,Au=/^\[object .+?Constructor\]$/,Su=/^0o[0-7]+$/i,Fu=/^(?:0|[1-9]\d*)$/,Nu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ar=/($^)/,Tu=/['\n\r\u2028\u2029\\]/g,Yr="\\ud800-\\udfff",Bu="\\u0300-\\u036f",Iu="\\ufe20-\\ufe2f",Ru="\\u20d0-\\u20ff",To=Bu+Iu+Ru,Mi="\\u2700-\\u27bf",Bo="a-z\\xdf-\\xf6\\xf8-\\xff",Mu="\\xac\\xb1\\xd7\\xf7",zu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zi="\\u2000-\\u206f",Qp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fl="A-Z\\xc0-\\xd6\\xd8-\\xde",hl="\\ufe0e\\ufe0f",pl=Mu+zu+zi+Qp,Ou="[']",eg="["+Yr+"]",gl="["+pl+"]",Io="["+To+"]",ml="\\d+",tg="["+Mi+"]",yl="["+Bo+"]",Dl="[^"+Yr+pl+ml+Mi+Bo+fl+"]",$u="\\ud83c[\\udffb-\\udfff]",ng="(?:"+Io+"|"+$u+")",vl="[^"+Yr+"]",Pu="(?:\\ud83c[\\udde6-\\uddff]){2}",ku="[\\ud800-\\udbff][\\udc00-\\udfff]",Xr="["+fl+"]",xl="\\u200d",_l="(?:"+yl+"|"+Dl+")",rg="(?:"+Xr+"|"+Dl+")",wl="(?:"+Ou+"(?:d|ll|m|re|s|t|ve))?",Cl="(?:"+Ou+"(?:D|LL|M|RE|S|T|VE))?",El=ng+"?",bl="["+hl+"]?",ig="(?:"+xl+"(?:"+[vl,Pu,ku].join("|")+")"+bl+El+")*",og="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Al=bl+El+ig,ug="(?:"+[tg,Pu,ku].join("|")+")"+Al,ag="(?:"+[vl+Io+"?",Io,Pu,ku,eg].join("|")+")",cg=RegExp(Ou,"g"),lg=RegExp(Io,"g"),Hu=RegExp($u+"(?="+$u+")|"+ag+Al,"g"),dg=RegExp([Xr+"?"+yl+"+"+wl+"(?="+[gl,Xr,"$"].join("|")+")",rg+"+"+Cl+"(?="+[gl,Xr+_l,"$"].join("|")+")",Xr+"?"+_l+"+"+wl,Xr+"+"+Cl,sg,og,ml,ug].join("|"),"g"),fg=RegExp("["+xl+Yr+To+hl+"]"),hg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gg=-1,qe={};qe[Tn]=qe[Ln]=qe[ut]=qe[zt]=qe[mn]=qe[yn]=qe[Bn]=qe[Ot]=qe[Dn]=!0,qe[ge]=qe[Ae]=qe[Wt]=qe[he]=qe[Gt]=qe[De]=qe[Et]=qe[vt]=qe[Ke]=qe[Ue]=qe[ze]=qe[Vt]=qe[xt]=qe[nn]=qe[rn]=!1;var Ve={};Ve[ge]=Ve[Ae]=Ve[Wt]=Ve[Gt]=Ve[he]=Ve[De]=Ve[Tn]=Ve[Ln]=Ve[ut]=Ve[zt]=Ve[mn]=Ve[Ke]=Ve[Ue]=Ve[ze]=Ve[Vt]=Ve[xt]=Ve[nn]=Ve[pn]=Ve[yn]=Ve[Bn]=Ve[Ot]=Ve[Dn]=!0,Ve[Et]=Ve[vt]=Ve[rn]=!1;var mg={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},yg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},vg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xg=parseFloat,_g=parseInt,Sl=typeof Ki=="object"&&Ki&&Ki.Object===Object&&Ki,wg=typeof self=="object"&&self&&self.Object===Object&&self,_t=Sl||wg||Function("return this")(),Lu=n&&!n.nodeType&&n,Sr=Lu&&!0&&e&&!e.nodeType&&e,Fl=Sr&&Sr.exports===Lu,ju=Fl&&Sl.process,on=function(){try{var R=Sr&&Sr.require&&Sr.require("util").types;return R||ju&&ju.binding&&ju.binding("util")}catch{}}(),Nl=on&&on.isArrayBuffer,Tl=on&&on.isDate,Bl=on&&on.isMap,Il=on&&on.isRegExp,Rl=on&&on.isSet,Ml=on&&on.isTypedArray;function Ut(R,q,V){switch(V.length){case 0:return R.call(q);case 1:return R.call(q,V[0]);case 2:return R.call(q,V[0],V[1]);case 3:return R.call(q,V[0],V[1],V[2])}return R.apply(q,V)}function Cg(R,q,V,ue){for(var ve=-1,ke=R==null?0:R.length;++ve<ke;){var lt=R[ve];q(ue,lt,V(lt),R)}return ue}function sn(R,q){for(var V=-1,ue=R==null?0:R.length;++V<ue&&q(R[V],V,R)!==!1;);return R}function Eg(R,q){for(var V=R==null?0:R.length;V--&&q(R[V],V,R)!==!1;);return R}function zl(R,q){for(var V=-1,ue=R==null?0:R.length;++V<ue;)if(!q(R[V],V,R))return!1;return!0}function ur(R,q){for(var V=-1,ue=R==null?0:R.length,ve=0,ke=[];++V<ue;){var lt=R[V];q(lt,V,R)&&(ke[ve++]=lt)}return ke}function Ro(R,q){var V=R==null?0:R.length;return!!V&&Zr(R,q,0)>-1}function Vu(R,q,V){for(var ue=-1,ve=R==null?0:R.length;++ue<ve;)if(V(q,R[ue]))return!0;return!1}function Je(R,q){for(var V=-1,ue=R==null?0:R.length,ve=Array(ue);++V<ue;)ve[V]=q(R[V],V,R);return ve}function ar(R,q){for(var V=-1,ue=q.length,ve=R.length;++V<ue;)R[ve+V]=q[V];return R}function Wu(R,q,V,ue){var ve=-1,ke=R==null?0:R.length;for(ue&&ke&&(V=R[++ve]);++ve<ke;)V=q(V,R[ve],ve,R);return V}function bg(R,q,V,ue){var ve=R==null?0:R.length;for(ue&&ve&&(V=R[--ve]);ve--;)V=q(V,R[ve],ve,R);return V}function Gu(R,q){for(var V=-1,ue=R==null?0:R.length;++V<ue;)if(q(R[V],V,R))return!0;return!1}var Ag=Uu("length");function Sg(R){return R.split("")}function Fg(R){return R.match(_u)||[]}function Ol(R,q,V){var ue;return V(R,function(ve,ke,lt){if(q(ve,ke,lt))return ue=ke,!1}),ue}function Mo(R,q,V,ue){for(var ve=R.length,ke=V+(ue?1:-1);ue?ke--:++ke<ve;)if(q(R[ke],ke,R))return ke;return-1}function Zr(R,q,V){return q===q?Hg(R,q,V):Mo(R,$l,V)}function Ng(R,q,V,ue){for(var ve=V-1,ke=R.length;++ve<ke;)if(ue(R[ve],q))return ve;return-1}function $l(R){return R!==R}function Pl(R,q){var V=R==null?0:R.length;return V?Yu(R,q)/V:te}function Uu(R){return function(q){return q==null?r:q[R]}}function qu(R){return function(q){return R==null?r:R[q]}}function kl(R,q,V,ue,ve){return ve(R,function(ke,lt,je){V=ue?(ue=!1,ke):q(V,ke,lt,je)}),V}function Tg(R,q){var V=R.length;for(R.sort(q);V--;)R[V]=R[V].value;return R}function Yu(R,q){for(var V,ue=-1,ve=R.length;++ue<ve;){var ke=q(R[ue]);ke!==r&&(V=V===r?ke:V+ke)}return V}function Xu(R,q){for(var V=-1,ue=Array(R);++V<R;)ue[V]=q(V);return ue}function Bg(R,q){return Je(q,function(V){return[V,R[V]]})}function Hl(R){return R&&R.slice(0,Wl(R)+1).replace(Ri,"")}function qt(R){return function(q){return R(q)}}function Zu(R,q){return Je(q,function(V){return R[V]})}function Oi(R,q){return R.has(q)}function Ll(R,q){for(var V=-1,ue=R.length;++V<ue&&Zr(q,R[V],0)>-1;);return V}function jl(R,q){for(var V=R.length;V--&&Zr(q,R[V],0)>-1;);return V}function Ig(R,q){for(var V=R.length,ue=0;V--;)R[V]===q&&++ue;return ue}var Rg=qu(mg),Mg=qu(yg);function zg(R){return"\\"+vg[R]}function Og(R,q){return R==null?r:R[q]}function Kr(R){return fg.test(R)}function $g(R){return hg.test(R)}function Pg(R){for(var q,V=[];!(q=R.next()).done;)V.push(q.value);return V}function Ku(R){var q=-1,V=Array(R.size);return R.forEach(function(ue,ve){V[++q]=[ve,ue]}),V}function Vl(R,q){return function(V){return R(q(V))}}function cr(R,q){for(var V=-1,ue=R.length,ve=0,ke=[];++V<ue;){var lt=R[V];(lt===q||lt===h)&&(R[V]=h,ke[ve++]=V)}return ke}function zo(R){var q=-1,V=Array(R.size);return R.forEach(function(ue){V[++q]=ue}),V}function kg(R){var q=-1,V=Array(R.size);return R.forEach(function(ue){V[++q]=[ue,ue]}),V}function Hg(R,q,V){for(var ue=V-1,ve=R.length;++ue<ve;)if(R[ue]===q)return ue;return-1}function Lg(R,q,V){for(var ue=V+1;ue--;)if(R[ue]===q)return ue;return ue}function Jr(R){return Kr(R)?Vg(R):Ag(R)}function vn(R){return Kr(R)?Wg(R):Sg(R)}function Wl(R){for(var q=R.length;q--&&yu.test(R.charAt(q)););return q}var jg=qu(Dg);function Vg(R){for(var q=Hu.lastIndex=0;Hu.test(R);)++q;return q}function Wg(R){return R.match(Hu)||[]}function Gg(R){return R.match(dg)||[]}var Ug=function R(q){q=q==null?_t:Qr.defaults(_t.Object(),q,Qr.pick(_t,pg));var V=q.Array,ue=q.Date,ve=q.Error,ke=q.Function,lt=q.Math,je=q.Object,Ju=q.RegExp,qg=q.String,un=q.TypeError,Oo=V.prototype,Yg=ke.prototype,ei=je.prototype,$o=q["__core-js_shared__"],Po=Yg.toString,Le=ei.hasOwnProperty,Xg=0,Gl=function(){var t=/[^.]+$/.exec($o&&$o.keys&&$o.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ko=ei.toString,Zg=Po.call(je),Kg=_t._,Jg=Ju("^"+Po.call(Le).replace(Ii,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ho=Fl?q.Buffer:r,lr=q.Symbol,Lo=q.Uint8Array,Ul=Ho?Ho.allocUnsafe:r,jo=Vl(je.getPrototypeOf,je),ql=je.create,Yl=ei.propertyIsEnumerable,Vo=Oo.splice,Xl=lr?lr.isConcatSpreadable:r,$i=lr?lr.iterator:r,Fr=lr?lr.toStringTag:r,Wo=function(){try{var t=Rr(je,"defineProperty");return t({},"",{}),t}catch{}}(),Qg=q.clearTimeout!==_t.clearTimeout&&q.clearTimeout,em=ue&&ue.now!==_t.Date.now&&ue.now,tm=q.setTimeout!==_t.setTimeout&&q.setTimeout,Go=lt.ceil,Uo=lt.floor,Qu=je.getOwnPropertySymbols,nm=Ho?Ho.isBuffer:r,Zl=q.isFinite,rm=Oo.join,im=Vl(je.keys,je),dt=lt.max,bt=lt.min,om=ue.now,sm=q.parseInt,Kl=lt.random,um=Oo.reverse,ea=Rr(q,"DataView"),Pi=Rr(q,"Map"),ta=Rr(q,"Promise"),ti=Rr(q,"Set"),ki=Rr(q,"WeakMap"),Hi=Rr(je,"create"),qo=ki&&new ki,ni={},am=Mr(ea),cm=Mr(Pi),lm=Mr(ta),dm=Mr(ti),fm=Mr(ki),Yo=lr?lr.prototype:r,Li=Yo?Yo.valueOf:r,Jl=Yo?Yo.toString:r;function _(t){if(tt(t)&&!xe(t)&&!(t instanceof Re)){if(t instanceof an)return t;if(Le.call(t,"__wrapped__"))return Qd(t)}return new an(t)}var ri=function(){function t(){}return function(i){if(!et(i))return{};if(ql)return ql(i);t.prototype=i;var u=new t;return t.prototype=r,u}}();function Xo(){}function an(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=r}_.templateSettings={escape:du,evaluate:fu,interpolate:So,variable:"",imports:{_}},_.prototype=Xo.prototype,_.prototype.constructor=_,an.prototype=ri(Xo.prototype),an.prototype.constructor=an;function Re(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function hm(){var t=new Re(this.__wrapped__);return t.__actions__=$t(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=$t(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=$t(this.__views__),t}function pm(){if(this.__filtered__){var t=new Re(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function gm(){var t=this.__wrapped__.value(),i=this.__dir__,u=xe(t),f=i<0,y=u?t.length:0,C=S1(0,y,this.__views__),B=C.start,I=C.end,O=I-B,X=f?I:B-1,Z=this.__iteratees__,ne=Z.length,se=0,le=bt(O,this.__takeCount__);if(!u||!f&&y==O&&le==O)return wd(t,this.__actions__);var me=[];e:for(;O--&&se<le;){X+=i;for(var Ce=-1,ye=t[X];++Ce<ne;){var Be=Z[Ce],Oe=Be.iteratee,Zt=Be.type,Bt=Oe(ye);if(Zt==P)ye=Bt;else if(!Bt){if(Zt==F)continue e;break e}}me[se++]=ye}return me}Re.prototype=ri(Xo.prototype),Re.prototype.constructor=Re;function Nr(t){var i=-1,u=t==null?0:t.length;for(this.clear();++i<u;){var f=t[i];this.set(f[0],f[1])}}function mm(){this.__data__=Hi?Hi(null):{},this.size=0}function ym(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i}function Dm(t){var i=this.__data__;if(Hi){var u=i[t];return u===d?r:u}return Le.call(i,t)?i[t]:r}function vm(t){var i=this.__data__;return Hi?i[t]!==r:Le.call(i,t)}function xm(t,i){var u=this.__data__;return this.size+=this.has(t)?0:1,u[t]=Hi&&i===r?d:i,this}Nr.prototype.clear=mm,Nr.prototype.delete=ym,Nr.prototype.get=Dm,Nr.prototype.has=vm,Nr.prototype.set=xm;function Vn(t){var i=-1,u=t==null?0:t.length;for(this.clear();++i<u;){var f=t[i];this.set(f[0],f[1])}}function _m(){this.__data__=[],this.size=0}function wm(t){var i=this.__data__,u=Zo(i,t);if(u<0)return!1;var f=i.length-1;return u==f?i.pop():Vo.call(i,u,1),--this.size,!0}function Cm(t){var i=this.__data__,u=Zo(i,t);return u<0?r:i[u][1]}function Em(t){return Zo(this.__data__,t)>-1}function bm(t,i){var u=this.__data__,f=Zo(u,t);return f<0?(++this.size,u.push([t,i])):u[f][1]=i,this}Vn.prototype.clear=_m,Vn.prototype.delete=wm,Vn.prototype.get=Cm,Vn.prototype.has=Em,Vn.prototype.set=bm;function Wn(t){var i=-1,u=t==null?0:t.length;for(this.clear();++i<u;){var f=t[i];this.set(f[0],f[1])}}function Am(){this.size=0,this.__data__={hash:new Nr,map:new(Pi||Vn),string:new Nr}}function Sm(t){var i=as(this,t).delete(t);return this.size-=i?1:0,i}function Fm(t){return as(this,t).get(t)}function Nm(t){return as(this,t).has(t)}function Tm(t,i){var u=as(this,t),f=u.size;return u.set(t,i),this.size+=u.size==f?0:1,this}Wn.prototype.clear=Am,Wn.prototype.delete=Sm,Wn.prototype.get=Fm,Wn.prototype.has=Nm,Wn.prototype.set=Tm;function Tr(t){var i=-1,u=t==null?0:t.length;for(this.__data__=new Wn;++i<u;)this.add(t[i])}function Bm(t){return this.__data__.set(t,d),this}function Im(t){return this.__data__.has(t)}Tr.prototype.add=Tr.prototype.push=Bm,Tr.prototype.has=Im;function xn(t){var i=this.__data__=new Vn(t);this.size=i.size}function Rm(){this.__data__=new Vn,this.size=0}function Mm(t){var i=this.__data__,u=i.delete(t);return this.size=i.size,u}function zm(t){return this.__data__.get(t)}function Om(t){return this.__data__.has(t)}function $m(t,i){var u=this.__data__;if(u instanceof Vn){var f=u.__data__;if(!Pi||f.length<s-1)return f.push([t,i]),this.size=++u.size,this;u=this.__data__=new Wn(f)}return u.set(t,i),this.size=u.size,this}xn.prototype.clear=Rm,xn.prototype.delete=Mm,xn.prototype.get=zm,xn.prototype.has=Om,xn.prototype.set=$m;function Ql(t,i){var u=xe(t),f=!u&&zr(t),y=!u&&!f&&gr(t),C=!u&&!f&&!y&&ui(t),B=u||f||y||C,I=B?Xu(t.length,qg):[],O=I.length;for(var X in t)(i||Le.call(t,X))&&!(B&&(X=="length"||y&&(X=="offset"||X=="parent")||C&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||Yn(X,O)))&&I.push(X);return I}function ed(t){var i=t.length;return i?t[fa(0,i-1)]:r}function Pm(t,i){return cs($t(t),Br(i,0,t.length))}function km(t){return cs($t(t))}function na(t,i,u){(u!==r&&!_n(t[i],u)||u===r&&!(i in t))&&Gn(t,i,u)}function ji(t,i,u){var f=t[i];(!(Le.call(t,i)&&_n(f,u))||u===r&&!(i in t))&&Gn(t,i,u)}function Zo(t,i){for(var u=t.length;u--;)if(_n(t[u][0],i))return u;return-1}function Hm(t,i,u,f){return dr(t,function(y,C,B){i(f,y,u(y),B)}),f}function td(t,i){return t&&Rn(i,ht(i),t)}function Lm(t,i){return t&&Rn(i,kt(i),t)}function Gn(t,i,u){i=="__proto__"&&Wo?Wo(t,i,{configurable:!0,enumerable:!0,value:u,writable:!0}):t[i]=u}function ra(t,i){for(var u=-1,f=i.length,y=V(f),C=t==null;++u<f;)y[u]=C?r:$a(t,i[u]);return y}function Br(t,i,u){return t===t&&(u!==r&&(t=t<=u?t:u),i!==r&&(t=t>=i?t:i)),t}function cn(t,i,u,f,y,C){var B,I=i&g,O=i&m,X=i&x;if(u&&(B=y?u(t,f,y,C):u(t)),B!==r)return B;if(!et(t))return t;var Z=xe(t);if(Z){if(B=N1(t),!I)return $t(t,B)}else{var ne=At(t),se=ne==vt||ne==Mt;if(gr(t))return bd(t,I);if(ne==ze||ne==ge||se&&!y){if(B=O||se?{}:Wd(t),!I)return O?D1(t,Lm(B,t)):y1(t,td(B,t))}else{if(!Ve[ne])return y?t:{};B=T1(t,ne,I)}}C||(C=new xn);var le=C.get(t);if(le)return le;C.set(t,B),xf(t)?t.forEach(function(ye){B.add(cn(ye,i,u,ye,t,C))}):Df(t)&&t.forEach(function(ye,Be){B.set(Be,cn(ye,i,u,Be,t,C))});var me=X?O?Ca:wa:O?kt:ht,Ce=Z?r:me(t);return sn(Ce||t,function(ye,Be){Ce&&(Be=ye,ye=t[Be]),ji(B,Be,cn(ye,i,u,Be,t,C))}),B}function jm(t){var i=ht(t);return function(u){return nd(u,t,i)}}function nd(t,i,u){var f=u.length;if(t==null)return!f;for(t=je(t);f--;){var y=u[f],C=i[y],B=t[y];if(B===r&&!(y in t)||!C(B))return!1}return!0}function rd(t,i,u){if(typeof t!="function")throw new un(a);return Xi(function(){t.apply(r,u)},i)}function Vi(t,i,u,f){var y=-1,C=Ro,B=!0,I=t.length,O=[],X=i.length;if(!I)return O;u&&(i=Je(i,qt(u))),f?(C=Vu,B=!1):i.length>=s&&(C=Oi,B=!1,i=new Tr(i));e:for(;++y<I;){var Z=t[y],ne=u==null?Z:u(Z);if(Z=f||Z!==0?Z:0,B&&ne===ne){for(var se=X;se--;)if(i[se]===ne)continue e;O.push(Z)}else C(i,ne,f)||O.push(Z)}return O}var dr=Td(In),id=Td(oa,!0);function Vm(t,i){var u=!0;return dr(t,function(f,y,C){return u=!!i(f,y,C),u}),u}function Ko(t,i,u){for(var f=-1,y=t.length;++f<y;){var C=t[f],B=i(C);if(B!=null&&(I===r?B===B&&!Xt(B):u(B,I)))var I=B,O=C}return O}function Wm(t,i,u,f){var y=t.length;for(u=we(u),u<0&&(u=-u>y?0:y+u),f=f===r||f>y?y:we(f),f<0&&(f+=y),f=u>f?0:wf(f);u<f;)t[u++]=i;return t}function od(t,i){var u=[];return dr(t,function(f,y,C){i(f,y,C)&&u.push(f)}),u}function wt(t,i,u,f,y){var C=-1,B=t.length;for(u||(u=I1),y||(y=[]);++C<B;){var I=t[C];i>0&&u(I)?i>1?wt(I,i-1,u,f,y):ar(y,I):f||(y[y.length]=I)}return y}var ia=Bd(),sd=Bd(!0);function In(t,i){return t&&ia(t,i,ht)}function oa(t,i){return t&&sd(t,i,ht)}function Jo(t,i){return ur(i,function(u){return Xn(t[u])})}function Ir(t,i){i=hr(i,t);for(var u=0,f=i.length;t!=null&&u<f;)t=t[Mn(i[u++])];return u&&u==f?t:r}function ud(t,i,u){var f=i(t);return xe(t)?f:ar(f,u(t))}function Nt(t){return t==null?t===r?gn:tn:Fr&&Fr in je(t)?A1(t):k1(t)}function sa(t,i){return t>i}function Gm(t,i){return t!=null&&Le.call(t,i)}function Um(t,i){return t!=null&&i in je(t)}function qm(t,i,u){return t>=bt(i,u)&&t<dt(i,u)}function ua(t,i,u){for(var f=u?Vu:Ro,y=t[0].length,C=t.length,B=C,I=V(C),O=1/0,X=[];B--;){var Z=t[B];B&&i&&(Z=Je(Z,qt(i))),O=bt(Z.length,O),I[B]=!u&&(i||y>=120&&Z.length>=120)?new Tr(B&&Z):r}Z=t[0];var ne=-1,se=I[0];e:for(;++ne<y&&X.length<O;){var le=Z[ne],me=i?i(le):le;if(le=u||le!==0?le:0,!(se?Oi(se,me):f(X,me,u))){for(B=C;--B;){var Ce=I[B];if(!(Ce?Oi(Ce,me):f(t[B],me,u)))continue e}se&&se.push(me),X.push(le)}}return X}function Ym(t,i,u,f){return In(t,function(y,C,B){i(f,u(y),C,B)}),f}function Wi(t,i,u){i=hr(i,t),t=Yd(t,i);var f=t==null?t:t[Mn(dn(i))];return f==null?r:Ut(f,t,u)}function ad(t){return tt(t)&&Nt(t)==ge}function Xm(t){return tt(t)&&Nt(t)==Wt}function Zm(t){return tt(t)&&Nt(t)==De}function Gi(t,i,u,f,y){return t===i?!0:t==null||i==null||!tt(t)&&!tt(i)?t!==t&&i!==i:Km(t,i,u,f,Gi,y)}function Km(t,i,u,f,y,C){var B=xe(t),I=xe(i),O=B?Ae:At(t),X=I?Ae:At(i);O=O==ge?ze:O,X=X==ge?ze:X;var Z=O==ze,ne=X==ze,se=O==X;if(se&&gr(t)){if(!gr(i))return!1;B=!0,Z=!1}if(se&&!Z)return C||(C=new xn),B||ui(t)?Ld(t,i,u,f,y,C):E1(t,i,O,u,f,y,C);if(!(u&E)){var le=Z&&Le.call(t,"__wrapped__"),me=ne&&Le.call(i,"__wrapped__");if(le||me){var Ce=le?t.value():t,ye=me?i.value():i;return C||(C=new xn),y(Ce,ye,u,f,C)}}return se?(C||(C=new xn),b1(t,i,u,f,y,C)):!1}function Jm(t){return tt(t)&&At(t)==Ke}function aa(t,i,u,f){var y=u.length,C=y,B=!f;if(t==null)return!C;for(t=je(t);y--;){var I=u[y];if(B&&I[2]?I[1]!==t[I[0]]:!(I[0]in t))return!1}for(;++y<C;){I=u[y];var O=I[0],X=t[O],Z=I[1];if(B&&I[2]){if(X===r&&!(O in t))return!1}else{var ne=new xn;if(f)var se=f(X,Z,O,t,i,ne);if(!(se===r?Gi(Z,X,E|D,f,ne):se))return!1}}return!0}function cd(t){if(!et(t)||M1(t))return!1;var i=Xn(t)?Jg:Au;return i.test(Mr(t))}function Qm(t){return tt(t)&&Nt(t)==Vt}function e1(t){return tt(t)&&At(t)==xt}function t1(t){return tt(t)&&gs(t.length)&&!!qe[Nt(t)]}function ld(t){return typeof t=="function"?t:t==null?Ht:typeof t=="object"?xe(t)?hd(t[0],t[1]):fd(t):Rf(t)}function ca(t){if(!Yi(t))return im(t);var i=[];for(var u in je(t))Le.call(t,u)&&u!="constructor"&&i.push(u);return i}function n1(t){if(!et(t))return P1(t);var i=Yi(t),u=[];for(var f in t)f=="constructor"&&(i||!Le.call(t,f))||u.push(f);return u}function la(t,i){return t<i}function dd(t,i){var u=-1,f=Pt(t)?V(t.length):[];return dr(t,function(y,C,B){f[++u]=i(y,C,B)}),f}function fd(t){var i=ba(t);return i.length==1&&i[0][2]?Ud(i[0][0],i[0][1]):function(u){return u===t||aa(u,t,i)}}function hd(t,i){return Sa(t)&&Gd(i)?Ud(Mn(t),i):function(u){var f=$a(u,t);return f===r&&f===i?Pa(u,t):Gi(i,f,E|D)}}function Qo(t,i,u,f,y){t!==i&&ia(i,function(C,B){if(y||(y=new xn),et(C))r1(t,i,B,u,Qo,f,y);else{var I=f?f(Na(t,B),C,B+"",t,i,y):r;I===r&&(I=C),na(t,B,I)}},kt)}function r1(t,i,u,f,y,C,B){var I=Na(t,u),O=Na(i,u),X=B.get(O);if(X){na(t,u,X);return}var Z=C?C(I,O,u+"",t,i,B):r,ne=Z===r;if(ne){var se=xe(O),le=!se&&gr(O),me=!se&&!le&&ui(O);Z=O,se||le||me?xe(I)?Z=I:it(I)?Z=$t(I):le?(ne=!1,Z=bd(O,!0)):me?(ne=!1,Z=Ad(O,!0)):Z=[]:Zi(O)||zr(O)?(Z=I,zr(I)?Z=Cf(I):(!et(I)||Xn(I))&&(Z=Wd(O))):ne=!1}ne&&(B.set(O,Z),y(Z,O,f,C,B),B.delete(O)),na(t,u,Z)}function pd(t,i){var u=t.length;if(u)return i+=i<0?u:0,Yn(i,u)?t[i]:r}function gd(t,i,u){i.length?i=Je(i,function(C){return xe(C)?function(B){return Ir(B,C.length===1?C[0]:C)}:C}):i=[Ht];var f=-1;i=Je(i,qt(pe()));var y=dd(t,function(C,B,I){var O=Je(i,function(X){return X(C)});return{criteria:O,index:++f,value:C}});return Tg(y,function(C,B){return m1(C,B,u)})}function i1(t,i){return md(t,i,function(u,f){return Pa(t,f)})}function md(t,i,u){for(var f=-1,y=i.length,C={};++f<y;){var B=i[f],I=Ir(t,B);u(I,B)&&Ui(C,hr(B,t),I)}return C}function o1(t){return function(i){return Ir(i,t)}}function da(t,i,u,f){var y=f?Ng:Zr,C=-1,B=i.length,I=t;for(t===i&&(i=$t(i)),u&&(I=Je(t,qt(u)));++C<B;)for(var O=0,X=i[C],Z=u?u(X):X;(O=y(I,Z,O,f))>-1;)I!==t&&Vo.call(I,O,1),Vo.call(t,O,1);return t}function yd(t,i){for(var u=t?i.length:0,f=u-1;u--;){var y=i[u];if(u==f||y!==C){var C=y;Yn(y)?Vo.call(t,y,1):ga(t,y)}}return t}function fa(t,i){return t+Uo(Kl()*(i-t+1))}function s1(t,i,u,f){for(var y=-1,C=dt(Go((i-t)/(u||1)),0),B=V(C);C--;)B[f?C:++y]=t,t+=u;return B}function ha(t,i){var u="";if(!t||i<1||i>ee)return u;do i%2&&(u+=t),i=Uo(i/2),i&&(t+=t);while(i);return u}function be(t,i){return Ta(qd(t,i,Ht),t+"")}function u1(t){return ed(ai(t))}function a1(t,i){var u=ai(t);return cs(u,Br(i,0,u.length))}function Ui(t,i,u,f){if(!et(t))return t;i=hr(i,t);for(var y=-1,C=i.length,B=C-1,I=t;I!=null&&++y<C;){var O=Mn(i[y]),X=u;if(O==="__proto__"||O==="constructor"||O==="prototype")return t;if(y!=B){var Z=I[O];X=f?f(Z,O,I):r,X===r&&(X=et(Z)?Z:Yn(i[y+1])?[]:{})}ji(I,O,X),I=I[O]}return t}var Dd=qo?function(t,i){return qo.set(t,i),t}:Ht,c1=Wo?function(t,i){return Wo(t,"toString",{configurable:!0,enumerable:!1,value:Ha(i),writable:!0})}:Ht;function l1(t){return cs(ai(t))}function ln(t,i,u){var f=-1,y=t.length;i<0&&(i=-i>y?0:y+i),u=u>y?y:u,u<0&&(u+=y),y=i>u?0:u-i>>>0,i>>>=0;for(var C=V(y);++f<y;)C[f]=t[f+i];return C}function d1(t,i){var u;return dr(t,function(f,y,C){return u=i(f,y,C),!u}),!!u}function es(t,i,u){var f=0,y=t==null?f:t.length;if(typeof i=="number"&&i===i&&y<=ce){for(;f<y;){var C=f+y>>>1,B=t[C];B!==null&&!Xt(B)&&(u?B<=i:B<i)?f=C+1:y=C}return y}return pa(t,i,Ht,u)}function pa(t,i,u,f){var y=0,C=t==null?0:t.length;if(C===0)return 0;i=u(i);for(var B=i!==i,I=i===null,O=Xt(i),X=i===r;y<C;){var Z=Uo((y+C)/2),ne=u(t[Z]),se=ne!==r,le=ne===null,me=ne===ne,Ce=Xt(ne);if(B)var ye=f||me;else X?ye=me&&(f||se):I?ye=me&&se&&(f||!le):O?ye=me&&se&&!le&&(f||!Ce):le||Ce?ye=!1:ye=f?ne<=i:ne<i;ye?y=Z+1:C=Z}return bt(C,oe)}function vd(t,i){for(var u=-1,f=t.length,y=0,C=[];++u<f;){var B=t[u],I=i?i(B):B;if(!u||!_n(I,O)){var O=I;C[y++]=B===0?0:B}}return C}function xd(t){return typeof t=="number"?t:Xt(t)?te:+t}function Yt(t){if(typeof t=="string")return t;if(xe(t))return Je(t,Yt)+"";if(Xt(t))return Jl?Jl.call(t):"";var i=t+"";return i=="0"&&1/t==-W?"-0":i}function fr(t,i,u){var f=-1,y=Ro,C=t.length,B=!0,I=[],O=I;if(u)B=!1,y=Vu;else if(C>=s){var X=i?null:w1(t);if(X)return zo(X);B=!1,y=Oi,O=new Tr}else O=i?[]:I;e:for(;++f<C;){var Z=t[f],ne=i?i(Z):Z;if(Z=u||Z!==0?Z:0,B&&ne===ne){for(var se=O.length;se--;)if(O[se]===ne)continue e;i&&O.push(ne),I.push(Z)}else y(O,ne,u)||(O!==I&&O.push(ne),I.push(Z))}return I}function ga(t,i){return i=hr(i,t),t=Yd(t,i),t==null||delete t[Mn(dn(i))]}function _d(t,i,u,f){return Ui(t,i,u(Ir(t,i)),f)}function ts(t,i,u,f){for(var y=t.length,C=f?y:-1;(f?C--:++C<y)&&i(t[C],C,t););return u?ln(t,f?0:C,f?C+1:y):ln(t,f?C+1:0,f?y:C)}function wd(t,i){var u=t;return u instanceof Re&&(u=u.value()),Wu(i,function(f,y){return y.func.apply(y.thisArg,ar([f],y.args))},u)}function ma(t,i,u){var f=t.length;if(f<2)return f?fr(t[0]):[];for(var y=-1,C=V(f);++y<f;)for(var B=t[y],I=-1;++I<f;)I!=y&&(C[y]=Vi(C[y]||B,t[I],i,u));return fr(wt(C,1),i,u)}function Cd(t,i,u){for(var f=-1,y=t.length,C=i.length,B={};++f<y;){var I=f<C?i[f]:r;u(B,t[f],I)}return B}function ya(t){return it(t)?t:[]}function Da(t){return typeof t=="function"?t:Ht}function hr(t,i){return xe(t)?t:Sa(t,i)?[t]:Jd(He(t))}var f1=be;function pr(t,i,u){var f=t.length;return u=u===r?f:u,!i&&u>=f?t:ln(t,i,u)}var Ed=Qg||function(t){return _t.clearTimeout(t)};function bd(t,i){if(i)return t.slice();var u=t.length,f=Ul?Ul(u):new t.constructor(u);return t.copy(f),f}function va(t){var i=new t.constructor(t.byteLength);return new Lo(i).set(new Lo(t)),i}function h1(t,i){var u=i?va(t.buffer):t.buffer;return new t.constructor(u,t.byteOffset,t.byteLength)}function p1(t){var i=new t.constructor(t.source,No.exec(t));return i.lastIndex=t.lastIndex,i}function g1(t){return Li?je(Li.call(t)):{}}function Ad(t,i){var u=i?va(t.buffer):t.buffer;return new t.constructor(u,t.byteOffset,t.length)}function Sd(t,i){if(t!==i){var u=t!==r,f=t===null,y=t===t,C=Xt(t),B=i!==r,I=i===null,O=i===i,X=Xt(i);if(!I&&!X&&!C&&t>i||C&&B&&O&&!I&&!X||f&&B&&O||!u&&O||!y)return 1;if(!f&&!C&&!X&&t<i||X&&u&&y&&!f&&!C||I&&u&&y||!B&&y||!O)return-1}return 0}function m1(t,i,u){for(var f=-1,y=t.criteria,C=i.criteria,B=y.length,I=u.length;++f<B;){var O=Sd(y[f],C[f]);if(O){if(f>=I)return O;var X=u[f];return O*(X=="desc"?-1:1)}}return t.index-i.index}function Fd(t,i,u,f){for(var y=-1,C=t.length,B=u.length,I=-1,O=i.length,X=dt(C-B,0),Z=V(O+X),ne=!f;++I<O;)Z[I]=i[I];for(;++y<B;)(ne||y<C)&&(Z[u[y]]=t[y]);for(;X--;)Z[I++]=t[y++];return Z}function Nd(t,i,u,f){for(var y=-1,C=t.length,B=-1,I=u.length,O=-1,X=i.length,Z=dt(C-I,0),ne=V(Z+X),se=!f;++y<Z;)ne[y]=t[y];for(var le=y;++O<X;)ne[le+O]=i[O];for(;++B<I;)(se||y<C)&&(ne[le+u[B]]=t[y++]);return ne}function $t(t,i){var u=-1,f=t.length;for(i||(i=V(f));++u<f;)i[u]=t[u];return i}function Rn(t,i,u,f){var y=!u;u||(u={});for(var C=-1,B=i.length;++C<B;){var I=i[C],O=f?f(u[I],t[I],I,u,t):r;O===r&&(O=t[I]),y?Gn(u,I,O):ji(u,I,O)}return u}function y1(t,i){return Rn(t,Aa(t),i)}function D1(t,i){return Rn(t,jd(t),i)}function ns(t,i){return function(u,f){var y=xe(u)?Cg:Hm,C=i?i():{};return y(u,t,pe(f,2),C)}}function ii(t){return be(function(i,u){var f=-1,y=u.length,C=y>1?u[y-1]:r,B=y>2?u[2]:r;for(C=t.length>3&&typeof C=="function"?(y--,C):r,B&&Tt(u[0],u[1],B)&&(C=y<3?r:C,y=1),i=je(i);++f<y;){var I=u[f];I&&t(i,I,f,C)}return i})}function Td(t,i){return function(u,f){if(u==null)return u;if(!Pt(u))return t(u,f);for(var y=u.length,C=i?y:-1,B=je(u);(i?C--:++C<y)&&f(B[C],C,B)!==!1;);return u}}function Bd(t){return function(i,u,f){for(var y=-1,C=je(i),B=f(i),I=B.length;I--;){var O=B[t?I:++y];if(u(C[O],O,C)===!1)break}return i}}function v1(t,i,u){var f=i&w,y=qi(t);function C(){var B=this&&this!==_t&&this instanceof C?y:t;return B.apply(f?u:this,arguments)}return C}function Id(t){return function(i){i=He(i);var u=Kr(i)?vn(i):r,f=u?u[0]:i.charAt(0),y=u?pr(u,1).join(""):i.slice(1);return f[t]()+y}}function oi(t){return function(i){return Wu(Bf(Tf(i).replace(cg,"")),t,"")}}function qi(t){return function(){var i=arguments;switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3]);case 5:return new t(i[0],i[1],i[2],i[3],i[4]);case 6:return new t(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var u=ri(t.prototype),f=t.apply(u,i);return et(f)?f:u}}function x1(t,i,u){var f=qi(t);function y(){for(var C=arguments.length,B=V(C),I=C,O=si(y);I--;)B[I]=arguments[I];var X=C<3&&B[0]!==O&&B[C-1]!==O?[]:cr(B,O);if(C-=X.length,C<u)return $d(t,i,rs,y.placeholder,r,B,X,r,r,u-C);var Z=this&&this!==_t&&this instanceof y?f:t;return Ut(Z,this,B)}return y}function Rd(t){return function(i,u,f){var y=je(i);if(!Pt(i)){var C=pe(u,3);i=ht(i),u=function(I){return C(y[I],I,y)}}var B=t(i,u,f);return B>-1?y[C?i[B]:B]:r}}function Md(t){return qn(function(i){var u=i.length,f=u,y=an.prototype.thru;for(t&&i.reverse();f--;){var C=i[f];if(typeof C!="function")throw new un(a);if(y&&!B&&us(C)=="wrapper")var B=new an([],!0)}for(f=B?f:u;++f<u;){C=i[f];var I=us(C),O=I=="wrapper"?Ea(C):r;O&&Fa(O[0])&&O[1]==(j|S|z|Y)&&!O[4].length&&O[9]==1?B=B[us(O[0])].apply(B,O[3]):B=C.length==1&&Fa(C)?B[I]():B.thru(C)}return function(){var X=arguments,Z=X[0];if(B&&X.length==1&&xe(Z))return B.plant(Z).value();for(var ne=0,se=u?i[ne].apply(this,X):Z;++ne<u;)se=i[ne].call(this,se);return se}})}function rs(t,i,u,f,y,C,B,I,O,X){var Z=i&j,ne=i&w,se=i&v,le=i&(S|N),me=i&M,Ce=se?r:qi(t);function ye(){for(var Be=arguments.length,Oe=V(Be),Zt=Be;Zt--;)Oe[Zt]=arguments[Zt];if(le)var Bt=si(ye),Kt=Ig(Oe,Bt);if(f&&(Oe=Fd(Oe,f,y,le)),C&&(Oe=Nd(Oe,C,B,le)),Be-=Kt,le&&Be<X){var ot=cr(Oe,Bt);return $d(t,i,rs,ye.placeholder,u,Oe,ot,I,O,X-Be)}var wn=ne?u:this,Kn=se?wn[t]:t;return Be=Oe.length,I?Oe=H1(Oe,I):me&&Be>1&&Oe.reverse(),Z&&O<Be&&(Oe.length=O),this&&this!==_t&&this instanceof ye&&(Kn=Ce||qi(Kn)),Kn.apply(wn,Oe)}return ye}function zd(t,i){return function(u,f){return Ym(u,t,i(f),{})}}function is(t,i){return function(u,f){var y;if(u===r&&f===r)return i;if(u!==r&&(y=u),f!==r){if(y===r)return f;typeof u=="string"||typeof f=="string"?(u=Yt(u),f=Yt(f)):(u=xd(u),f=xd(f)),y=t(u,f)}return y}}function xa(t){return qn(function(i){return i=Je(i,qt(pe())),be(function(u){var f=this;return t(i,function(y){return Ut(y,f,u)})})})}function os(t,i){i=i===r?" ":Yt(i);var u=i.length;if(u<2)return u?ha(i,t):i;var f=ha(i,Go(t/Jr(i)));return Kr(i)?pr(vn(f),0,t).join(""):f.slice(0,t)}function _1(t,i,u,f){var y=i&w,C=qi(t);function B(){for(var I=-1,O=arguments.length,X=-1,Z=f.length,ne=V(Z+O),se=this&&this!==_t&&this instanceof B?C:t;++X<Z;)ne[X]=f[X];for(;O--;)ne[X++]=arguments[++I];return Ut(se,y?u:this,ne)}return B}function Od(t){return function(i,u,f){return f&&typeof f!="number"&&Tt(i,u,f)&&(u=f=r),i=Zn(i),u===r?(u=i,i=0):u=Zn(u),f=f===r?i<u?1:-1:Zn(f),s1(i,u,f,t)}}function ss(t){return function(i,u){return typeof i=="string"&&typeof u=="string"||(i=fn(i),u=fn(u)),t(i,u)}}function $d(t,i,u,f,y,C,B,I,O,X){var Z=i&S,ne=Z?B:r,se=Z?r:B,le=Z?C:r,me=Z?r:C;i|=Z?z:k,i&=~(Z?k:z),i&T||(i&=~(w|v));var Ce=[t,i,y,le,ne,me,se,I,O,X],ye=u.apply(r,Ce);return Fa(t)&&Xd(ye,Ce),ye.placeholder=f,Zd(ye,t,i)}function _a(t){var i=lt[t];return function(u,f){if(u=fn(u),f=f==null?0:bt(we(f),292),f&&Zl(u)){var y=(He(u)+"e").split("e"),C=i(y[0]+"e"+(+y[1]+f));return y=(He(C)+"e").split("e"),+(y[0]+"e"+(+y[1]-f))}return i(u)}}var w1=ti&&1/zo(new ti([,-0]))[1]==W?function(t){return new ti(t)}:Va;function Pd(t){return function(i){var u=At(i);return u==Ke?Ku(i):u==xt?kg(i):Bg(i,t(i))}}function Un(t,i,u,f,y,C,B,I){var O=i&v;if(!O&&typeof t!="function")throw new un(a);var X=f?f.length:0;if(X||(i&=~(z|k),f=y=r),B=B===r?B:dt(we(B),0),I=I===r?I:we(I),X-=y?y.length:0,i&k){var Z=f,ne=y;f=y=r}var se=O?r:Ea(t),le=[t,i,u,f,y,Z,ne,C,B,I];if(se&&$1(le,se),t=le[0],i=le[1],u=le[2],f=le[3],y=le[4],I=le[9]=le[9]===r?O?0:t.length:dt(le[9]-X,0),!I&&i&(S|N)&&(i&=~(S|N)),!i||i==w)var me=v1(t,i,u);else i==S||i==N?me=x1(t,i,I):(i==z||i==(w|z))&&!y.length?me=_1(t,i,u,f):me=rs.apply(r,le);var Ce=se?Dd:Xd;return Zd(Ce(me,le),t,i)}function kd(t,i,u,f){return t===r||_n(t,ei[u])&&!Le.call(f,u)?i:t}function Hd(t,i,u,f,y,C){return et(t)&&et(i)&&(C.set(i,t),Qo(t,i,r,Hd,C),C.delete(i)),t}function C1(t){return Zi(t)?r:t}function Ld(t,i,u,f,y,C){var B=u&E,I=t.length,O=i.length;if(I!=O&&!(B&&O>I))return!1;var X=C.get(t),Z=C.get(i);if(X&&Z)return X==i&&Z==t;var ne=-1,se=!0,le=u&D?new Tr:r;for(C.set(t,i),C.set(i,t);++ne<I;){var me=t[ne],Ce=i[ne];if(f)var ye=B?f(Ce,me,ne,i,t,C):f(me,Ce,ne,t,i,C);if(ye!==r){if(ye)continue;se=!1;break}if(le){if(!Gu(i,function(Be,Oe){if(!Oi(le,Oe)&&(me===Be||y(me,Be,u,f,C)))return le.push(Oe)})){se=!1;break}}else if(!(me===Ce||y(me,Ce,u,f,C))){se=!1;break}}return C.delete(t),C.delete(i),se}function E1(t,i,u,f,y,C,B){switch(u){case Gt:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)return!1;t=t.buffer,i=i.buffer;case Wt:return!(t.byteLength!=i.byteLength||!C(new Lo(t),new Lo(i)));case he:case De:case Ue:return _n(+t,+i);case Et:return t.name==i.name&&t.message==i.message;case Vt:case nn:return t==i+"";case Ke:var I=Ku;case xt:var O=f&E;if(I||(I=zo),t.size!=i.size&&!O)return!1;var X=B.get(t);if(X)return X==i;f|=D,B.set(t,i);var Z=Ld(I(t),I(i),f,y,C,B);return B.delete(t),Z;case pn:if(Li)return Li.call(t)==Li.call(i)}return!1}function b1(t,i,u,f,y,C){var B=u&E,I=wa(t),O=I.length,X=wa(i),Z=X.length;if(O!=Z&&!B)return!1;for(var ne=O;ne--;){var se=I[ne];if(!(B?se in i:Le.call(i,se)))return!1}var le=C.get(t),me=C.get(i);if(le&&me)return le==i&&me==t;var Ce=!0;C.set(t,i),C.set(i,t);for(var ye=B;++ne<O;){se=I[ne];var Be=t[se],Oe=i[se];if(f)var Zt=B?f(Oe,Be,se,i,t,C):f(Be,Oe,se,t,i,C);if(!(Zt===r?Be===Oe||y(Be,Oe,u,f,C):Zt)){Ce=!1;break}ye||(ye=se=="constructor")}if(Ce&&!ye){var Bt=t.constructor,Kt=i.constructor;Bt!=Kt&&"constructor"in t&&"constructor"in i&&!(typeof Bt=="function"&&Bt instanceof Bt&&typeof Kt=="function"&&Kt instanceof Kt)&&(Ce=!1)}return C.delete(t),C.delete(i),Ce}function qn(t){return Ta(qd(t,r,nf),t+"")}function wa(t){return ud(t,ht,Aa)}function Ca(t){return ud(t,kt,jd)}var Ea=qo?function(t){return qo.get(t)}:Va;function us(t){for(var i=t.name+"",u=ni[i],f=Le.call(ni,i)?u.length:0;f--;){var y=u[f],C=y.func;if(C==null||C==t)return y.name}return i}function si(t){var i=Le.call(_,"placeholder")?_:t;return i.placeholder}function pe(){var t=_.iteratee||La;return t=t===La?ld:t,arguments.length?t(arguments[0],arguments[1]):t}function as(t,i){var u=t.__data__;return R1(i)?u[typeof i=="string"?"string":"hash"]:u.map}function ba(t){for(var i=ht(t),u=i.length;u--;){var f=i[u],y=t[f];i[u]=[f,y,Gd(y)]}return i}function Rr(t,i){var u=Og(t,i);return cd(u)?u:r}function A1(t){var i=Le.call(t,Fr),u=t[Fr];try{t[Fr]=r;var f=!0}catch{}var y=ko.call(t);return f&&(i?t[Fr]=u:delete t[Fr]),y}var Aa=Qu?function(t){return t==null?[]:(t=je(t),ur(Qu(t),function(i){return Yl.call(t,i)}))}:Wa,jd=Qu?function(t){for(var i=[];t;)ar(i,Aa(t)),t=jo(t);return i}:Wa,At=Nt;(ea&&At(new ea(new ArrayBuffer(1)))!=Gt||Pi&&At(new Pi)!=Ke||ta&&At(ta.resolve())!=fe||ti&&At(new ti)!=xt||ki&&At(new ki)!=rn)&&(At=function(t){var i=Nt(t),u=i==ze?t.constructor:r,f=u?Mr(u):"";if(f)switch(f){case am:return Gt;case cm:return Ke;case lm:return fe;case dm:return xt;case fm:return rn}return i});function S1(t,i,u){for(var f=-1,y=u.length;++f<y;){var C=u[f],B=C.size;switch(C.type){case"drop":t+=B;break;case"dropRight":i-=B;break;case"take":i=bt(i,t+B);break;case"takeRight":t=dt(t,i-B);break}}return{start:t,end:i}}function F1(t){var i=t.match(vu);return i?i[1].split(xu):[]}function Vd(t,i,u){i=hr(i,t);for(var f=-1,y=i.length,C=!1;++f<y;){var B=Mn(i[f]);if(!(C=t!=null&&u(t,B)))break;t=t[B]}return C||++f!=y?C:(y=t==null?0:t.length,!!y&&gs(y)&&Yn(B,y)&&(xe(t)||zr(t)))}function N1(t){var i=t.length,u=new t.constructor(i);return i&&typeof t[0]=="string"&&Le.call(t,"index")&&(u.index=t.index,u.input=t.input),u}function Wd(t){return typeof t.constructor=="function"&&!Yi(t)?ri(jo(t)):{}}function T1(t,i,u){var f=t.constructor;switch(i){case Wt:return va(t);case he:case De:return new f(+t);case Gt:return h1(t,u);case Tn:case Ln:case ut:case zt:case mn:case yn:case Bn:case Ot:case Dn:return Ad(t,u);case Ke:return new f;case Ue:case nn:return new f(t);case Vt:return p1(t);case xt:return new f;case pn:return g1(t)}}function B1(t,i){var u=i.length;if(!u)return t;var f=u-1;return i[f]=(u>1?"& ":"")+i[f],i=i.join(u>2?", ":" "),t.replace(Du,`{
/* [wrapped with `+i+`] */
`)}function I1(t){return xe(t)||zr(t)||!!(Xl&&t&&t[Xl])}function Yn(t,i){var u=typeof t;return i=i??ee,!!i&&(u=="number"||u!="symbol"&&Fu.test(t))&&t>-1&&t%1==0&&t<i}function Tt(t,i,u){if(!et(u))return!1;var f=typeof i;return(f=="number"?Pt(u)&&Yn(i,u.length):f=="string"&&i in u)?_n(u[i],t):!1}function Sa(t,i){if(xe(t))return!1;var u=typeof t;return u=="number"||u=="symbol"||u=="boolean"||t==null||Xt(t)?!0:pu.test(t)||!hu.test(t)||i!=null&&t in je(i)}function R1(t){var i=typeof t;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?t!=="__proto__":t===null}function Fa(t){var i=us(t),u=_[i];if(typeof u!="function"||!(i in Re.prototype))return!1;if(t===u)return!0;var f=Ea(u);return!!f&&t===f[0]}function M1(t){return!!Gl&&Gl in t}var z1=$o?Xn:Ga;function Yi(t){var i=t&&t.constructor,u=typeof i=="function"&&i.prototype||ei;return t===u}function Gd(t){return t===t&&!et(t)}function Ud(t,i){return function(u){return u==null?!1:u[t]===i&&(i!==r||t in je(u))}}function O1(t){var i=hs(t,function(f){return u.size===p&&u.clear(),f}),u=i.cache;return i}function $1(t,i){var u=t[1],f=i[1],y=u|f,C=y<(w|v|j),B=f==j&&u==S||f==j&&u==Y&&t[7].length<=i[8]||f==(j|Y)&&i[7].length<=i[8]&&u==S;if(!(C||B))return t;f&w&&(t[2]=i[2],y|=u&w?0:T);var I=i[3];if(I){var O=t[3];t[3]=O?Fd(O,I,i[4]):I,t[4]=O?cr(t[3],h):i[4]}return I=i[5],I&&(O=t[5],t[5]=O?Nd(O,I,i[6]):I,t[6]=O?cr(t[5],h):i[6]),I=i[7],I&&(t[7]=I),f&j&&(t[8]=t[8]==null?i[8]:bt(t[8],i[8])),t[9]==null&&(t[9]=i[9]),t[0]=i[0],t[1]=y,t}function P1(t){var i=[];if(t!=null)for(var u in je(t))i.push(u);return i}function k1(t){return ko.call(t)}function qd(t,i,u){return i=dt(i===r?t.length-1:i,0),function(){for(var f=arguments,y=-1,C=dt(f.length-i,0),B=V(C);++y<C;)B[y]=f[i+y];y=-1;for(var I=V(i+1);++y<i;)I[y]=f[y];return I[i]=u(B),Ut(t,this,I)}}function Yd(t,i){return i.length<2?t:Ir(t,ln(i,0,-1))}function H1(t,i){for(var u=t.length,f=bt(i.length,u),y=$t(t);f--;){var C=i[f];t[f]=Yn(C,u)?y[C]:r}return t}function Na(t,i){if(!(i==="constructor"&&typeof t[i]=="function")&&i!="__proto__")return t[i]}var Xd=Kd(Dd),Xi=tm||function(t,i){return _t.setTimeout(t,i)},Ta=Kd(c1);function Zd(t,i,u){var f=i+"";return Ta(t,B1(f,L1(F1(f),u)))}function Kd(t){var i=0,u=0;return function(){var f=om(),y=U-(f-u);if(u=f,y>0){if(++i>=J)return arguments[0]}else i=0;return t.apply(r,arguments)}}function cs(t,i){var u=-1,f=t.length,y=f-1;for(i=i===r?f:i;++u<i;){var C=fa(u,y),B=t[C];t[C]=t[u],t[u]=B}return t.length=i,t}var Jd=O1(function(t){var i=[];return t.charCodeAt(0)===46&&i.push(""),t.replace(gu,function(u,f,y,C){i.push(y?C.replace(Fo,"$1"):f||u)}),i});function Mn(t){if(typeof t=="string"||Xt(t))return t;var i=t+"";return i=="0"&&1/t==-W?"-0":i}function Mr(t){if(t!=null){try{return Po.call(t)}catch{}try{return t+""}catch{}}return""}function L1(t,i){return sn(ae,function(u){var f="_."+u[0];i&u[1]&&!Ro(t,f)&&t.push(f)}),t.sort()}function Qd(t){if(t instanceof Re)return t.clone();var i=new an(t.__wrapped__,t.__chain__);return i.__actions__=$t(t.__actions__),i.__index__=t.__index__,i.__values__=t.__values__,i}function j1(t,i,u){(u?Tt(t,i,u):i===r)?i=1:i=dt(we(i),0);var f=t==null?0:t.length;if(!f||i<1)return[];for(var y=0,C=0,B=V(Go(f/i));y<f;)B[C++]=ln(t,y,y+=i);return B}function V1(t){for(var i=-1,u=t==null?0:t.length,f=0,y=[];++i<u;){var C=t[i];C&&(y[f++]=C)}return y}function W1(){var t=arguments.length;if(!t)return[];for(var i=V(t-1),u=arguments[0],f=t;f--;)i[f-1]=arguments[f];return ar(xe(u)?$t(u):[u],wt(i,1))}var G1=be(function(t,i){return it(t)?Vi(t,wt(i,1,it,!0)):[]}),U1=be(function(t,i){var u=dn(i);return it(u)&&(u=r),it(t)?Vi(t,wt(i,1,it,!0),pe(u,2)):[]}),q1=be(function(t,i){var u=dn(i);return it(u)&&(u=r),it(t)?Vi(t,wt(i,1,it,!0),r,u):[]});function Y1(t,i,u){var f=t==null?0:t.length;return f?(i=u||i===r?1:we(i),ln(t,i<0?0:i,f)):[]}function X1(t,i,u){var f=t==null?0:t.length;return f?(i=u||i===r?1:we(i),i=f-i,ln(t,0,i<0?0:i)):[]}function Z1(t,i){return t&&t.length?ts(t,pe(i,3),!0,!0):[]}function K1(t,i){return t&&t.length?ts(t,pe(i,3),!0):[]}function J1(t,i,u,f){var y=t==null?0:t.length;return y?(u&&typeof u!="number"&&Tt(t,i,u)&&(u=0,f=y),Wm(t,i,u,f)):[]}function ef(t,i,u){var f=t==null?0:t.length;if(!f)return-1;var y=u==null?0:we(u);return y<0&&(y=dt(f+y,0)),Mo(t,pe(i,3),y)}function tf(t,i,u){var f=t==null?0:t.length;if(!f)return-1;var y=f-1;return u!==r&&(y=we(u),y=u<0?dt(f+y,0):bt(y,f-1)),Mo(t,pe(i,3),y,!0)}function nf(t){var i=t==null?0:t.length;return i?wt(t,1):[]}function Q1(t){var i=t==null?0:t.length;return i?wt(t,W):[]}function ey(t,i){var u=t==null?0:t.length;return u?(i=i===r?1:we(i),wt(t,i)):[]}function ty(t){for(var i=-1,u=t==null?0:t.length,f={};++i<u;){var y=t[i];f[y[0]]=y[1]}return f}function rf(t){return t&&t.length?t[0]:r}function ny(t,i,u){var f=t==null?0:t.length;if(!f)return-1;var y=u==null?0:we(u);return y<0&&(y=dt(f+y,0)),Zr(t,i,y)}function ry(t){var i=t==null?0:t.length;return i?ln(t,0,-1):[]}var iy=be(function(t){var i=Je(t,ya);return i.length&&i[0]===t[0]?ua(i):[]}),oy=be(function(t){var i=dn(t),u=Je(t,ya);return i===dn(u)?i=r:u.pop(),u.length&&u[0]===t[0]?ua(u,pe(i,2)):[]}),sy=be(function(t){var i=dn(t),u=Je(t,ya);return i=typeof i=="function"?i:r,i&&u.pop(),u.length&&u[0]===t[0]?ua(u,r,i):[]});function uy(t,i){return t==null?"":rm.call(t,i)}function dn(t){var i=t==null?0:t.length;return i?t[i-1]:r}function ay(t,i,u){var f=t==null?0:t.length;if(!f)return-1;var y=f;return u!==r&&(y=we(u),y=y<0?dt(f+y,0):bt(y,f-1)),i===i?Lg(t,i,y):Mo(t,$l,y,!0)}function cy(t,i){return t&&t.length?pd(t,we(i)):r}var ly=be(of);function of(t,i){return t&&t.length&&i&&i.length?da(t,i):t}function dy(t,i,u){return t&&t.length&&i&&i.length?da(t,i,pe(u,2)):t}function fy(t,i,u){return t&&t.length&&i&&i.length?da(t,i,r,u):t}var hy=qn(function(t,i){var u=t==null?0:t.length,f=ra(t,i);return yd(t,Je(i,function(y){return Yn(y,u)?+y:y}).sort(Sd)),f});function py(t,i){var u=[];if(!(t&&t.length))return u;var f=-1,y=[],C=t.length;for(i=pe(i,3);++f<C;){var B=t[f];i(B,f,t)&&(u.push(B),y.push(f))}return yd(t,y),u}function Ba(t){return t==null?t:um.call(t)}function gy(t,i,u){var f=t==null?0:t.length;return f?(u&&typeof u!="number"&&Tt(t,i,u)?(i=0,u=f):(i=i==null?0:we(i),u=u===r?f:we(u)),ln(t,i,u)):[]}function my(t,i){return es(t,i)}function yy(t,i,u){return pa(t,i,pe(u,2))}function Dy(t,i){var u=t==null?0:t.length;if(u){var f=es(t,i);if(f<u&&_n(t[f],i))return f}return-1}function vy(t,i){return es(t,i,!0)}function xy(t,i,u){return pa(t,i,pe(u,2),!0)}function _y(t,i){var u=t==null?0:t.length;if(u){var f=es(t,i,!0)-1;if(_n(t[f],i))return f}return-1}function wy(t){return t&&t.length?vd(t):[]}function Cy(t,i){return t&&t.length?vd(t,pe(i,2)):[]}function Ey(t){var i=t==null?0:t.length;return i?ln(t,1,i):[]}function by(t,i,u){return t&&t.length?(i=u||i===r?1:we(i),ln(t,0,i<0?0:i)):[]}function Ay(t,i,u){var f=t==null?0:t.length;return f?(i=u||i===r?1:we(i),i=f-i,ln(t,i<0?0:i,f)):[]}function Sy(t,i){return t&&t.length?ts(t,pe(i,3),!1,!0):[]}function Fy(t,i){return t&&t.length?ts(t,pe(i,3)):[]}var Ny=be(function(t){return fr(wt(t,1,it,!0))}),Ty=be(function(t){var i=dn(t);return it(i)&&(i=r),fr(wt(t,1,it,!0),pe(i,2))}),By=be(function(t){var i=dn(t);return i=typeof i=="function"?i:r,fr(wt(t,1,it,!0),r,i)});function Iy(t){return t&&t.length?fr(t):[]}function Ry(t,i){return t&&t.length?fr(t,pe(i,2)):[]}function My(t,i){return i=typeof i=="function"?i:r,t&&t.length?fr(t,r,i):[]}function Ia(t){if(!(t&&t.length))return[];var i=0;return t=ur(t,function(u){if(it(u))return i=dt(u.length,i),!0}),Xu(i,function(u){return Je(t,Uu(u))})}function sf(t,i){if(!(t&&t.length))return[];var u=Ia(t);return i==null?u:Je(u,function(f){return Ut(i,r,f)})}var zy=be(function(t,i){return it(t)?Vi(t,i):[]}),Oy=be(function(t){return ma(ur(t,it))}),$y=be(function(t){var i=dn(t);return it(i)&&(i=r),ma(ur(t,it),pe(i,2))}),Py=be(function(t){var i=dn(t);return i=typeof i=="function"?i:r,ma(ur(t,it),r,i)}),ky=be(Ia);function Hy(t,i){return Cd(t||[],i||[],ji)}function Ly(t,i){return Cd(t||[],i||[],Ui)}var jy=be(function(t){var i=t.length,u=i>1?t[i-1]:r;return u=typeof u=="function"?(t.pop(),u):r,sf(t,u)});function uf(t){var i=_(t);return i.__chain__=!0,i}function Vy(t,i){return i(t),t}function ls(t,i){return i(t)}var Wy=qn(function(t){var i=t.length,u=i?t[0]:0,f=this.__wrapped__,y=function(C){return ra(C,t)};return i>1||this.__actions__.length||!(f instanceof Re)||!Yn(u)?this.thru(y):(f=f.slice(u,+u+(i?1:0)),f.__actions__.push({func:ls,args:[y],thisArg:r}),new an(f,this.__chain__).thru(function(C){return i&&!C.length&&C.push(r),C}))});function Gy(){return uf(this)}function Uy(){return new an(this.value(),this.__chain__)}function qy(){this.__values__===r&&(this.__values__=_f(this.value()));var t=this.__index__>=this.__values__.length,i=t?r:this.__values__[this.__index__++];return{done:t,value:i}}function Yy(){return this}function Xy(t){for(var i,u=this;u instanceof Xo;){var f=Qd(u);f.__index__=0,f.__values__=r,i?y.__wrapped__=f:i=f;var y=f;u=u.__wrapped__}return y.__wrapped__=t,i}function Zy(){var t=this.__wrapped__;if(t instanceof Re){var i=t;return this.__actions__.length&&(i=new Re(this)),i=i.reverse(),i.__actions__.push({func:ls,args:[Ba],thisArg:r}),new an(i,this.__chain__)}return this.thru(Ba)}function Ky(){return wd(this.__wrapped__,this.__actions__)}var Jy=ns(function(t,i,u){Le.call(t,u)?++t[u]:Gn(t,u,1)});function Qy(t,i,u){var f=xe(t)?zl:Vm;return u&&Tt(t,i,u)&&(i=r),f(t,pe(i,3))}function eD(t,i){var u=xe(t)?ur:od;return u(t,pe(i,3))}var tD=Rd(ef),nD=Rd(tf);function rD(t,i){return wt(ds(t,i),1)}function iD(t,i){return wt(ds(t,i),W)}function oD(t,i,u){return u=u===r?1:we(u),wt(ds(t,i),u)}function af(t,i){var u=xe(t)?sn:dr;return u(t,pe(i,3))}function cf(t,i){var u=xe(t)?Eg:id;return u(t,pe(i,3))}var sD=ns(function(t,i,u){Le.call(t,u)?t[u].push(i):Gn(t,u,[i])});function uD(t,i,u,f){t=Pt(t)?t:ai(t),u=u&&!f?we(u):0;var y=t.length;return u<0&&(u=dt(y+u,0)),ms(t)?u<=y&&t.indexOf(i,u)>-1:!!y&&Zr(t,i,u)>-1}var aD=be(function(t,i,u){var f=-1,y=typeof i=="function",C=Pt(t)?V(t.length):[];return dr(t,function(B){C[++f]=y?Ut(i,B,u):Wi(B,i,u)}),C}),cD=ns(function(t,i,u){Gn(t,u,i)});function ds(t,i){var u=xe(t)?Je:dd;return u(t,pe(i,3))}function lD(t,i,u,f){return t==null?[]:(xe(i)||(i=i==null?[]:[i]),u=f?r:u,xe(u)||(u=u==null?[]:[u]),gd(t,i,u))}var dD=ns(function(t,i,u){t[u?0:1].push(i)},function(){return[[],[]]});function fD(t,i,u){var f=xe(t)?Wu:kl,y=arguments.length<3;return f(t,pe(i,4),u,y,dr)}function hD(t,i,u){var f=xe(t)?bg:kl,y=arguments.length<3;return f(t,pe(i,4),u,y,id)}function pD(t,i){var u=xe(t)?ur:od;return u(t,ps(pe(i,3)))}function gD(t){var i=xe(t)?ed:u1;return i(t)}function mD(t,i,u){(u?Tt(t,i,u):i===r)?i=1:i=we(i);var f=xe(t)?Pm:a1;return f(t,i)}function yD(t){var i=xe(t)?km:l1;return i(t)}function DD(t){if(t==null)return 0;if(Pt(t))return ms(t)?Jr(t):t.length;var i=At(t);return i==Ke||i==xt?t.size:ca(t).length}function vD(t,i,u){var f=xe(t)?Gu:d1;return u&&Tt(t,i,u)&&(i=r),f(t,pe(i,3))}var xD=be(function(t,i){if(t==null)return[];var u=i.length;return u>1&&Tt(t,i[0],i[1])?i=[]:u>2&&Tt(i[0],i[1],i[2])&&(i=[i[0]]),gd(t,wt(i,1),[])}),fs=em||function(){return _t.Date.now()};function _D(t,i){if(typeof i!="function")throw new un(a);return t=we(t),function(){if(--t<1)return i.apply(this,arguments)}}function lf(t,i,u){return i=u?r:i,i=t&&i==null?t.length:i,Un(t,j,r,r,r,r,i)}function df(t,i){var u;if(typeof i!="function")throw new un(a);return t=we(t),function(){return--t>0&&(u=i.apply(this,arguments)),t<=1&&(i=r),u}}var Ra=be(function(t,i,u){var f=w;if(u.length){var y=cr(u,si(Ra));f|=z}return Un(t,f,i,u,y)}),ff=be(function(t,i,u){var f=w|v;if(u.length){var y=cr(u,si(ff));f|=z}return Un(i,f,t,u,y)});function hf(t,i,u){i=u?r:i;var f=Un(t,S,r,r,r,r,r,i);return f.placeholder=hf.placeholder,f}function pf(t,i,u){i=u?r:i;var f=Un(t,N,r,r,r,r,r,i);return f.placeholder=pf.placeholder,f}function gf(t,i,u){var f,y,C,B,I,O,X=0,Z=!1,ne=!1,se=!0;if(typeof t!="function")throw new un(a);i=fn(i)||0,et(u)&&(Z=!!u.leading,ne="maxWait"in u,C=ne?dt(fn(u.maxWait)||0,i):C,se="trailing"in u?!!u.trailing:se);function le(ot){var wn=f,Kn=y;return f=y=r,X=ot,B=t.apply(Kn,wn),B}function me(ot){return X=ot,I=Xi(Be,i),Z?le(ot):B}function Ce(ot){var wn=ot-O,Kn=ot-X,Mf=i-wn;return ne?bt(Mf,C-Kn):Mf}function ye(ot){var wn=ot-O,Kn=ot-X;return O===r||wn>=i||wn<0||ne&&Kn>=C}function Be(){var ot=fs();if(ye(ot))return Oe(ot);I=Xi(Be,Ce(ot))}function Oe(ot){return I=r,se&&f?le(ot):(f=y=r,B)}function Zt(){I!==r&&Ed(I),X=0,f=O=y=I=r}function Bt(){return I===r?B:Oe(fs())}function Kt(){var ot=fs(),wn=ye(ot);if(f=arguments,y=this,O=ot,wn){if(I===r)return me(O);if(ne)return Ed(I),I=Xi(Be,i),le(O)}return I===r&&(I=Xi(Be,i)),B}return Kt.cancel=Zt,Kt.flush=Bt,Kt}var wD=be(function(t,i){return rd(t,1,i)}),CD=be(function(t,i,u){return rd(t,fn(i)||0,u)});function ED(t){return Un(t,M)}function hs(t,i){if(typeof t!="function"||i!=null&&typeof i!="function")throw new un(a);var u=function(){var f=arguments,y=i?i.apply(this,f):f[0],C=u.cache;if(C.has(y))return C.get(y);var B=t.apply(this,f);return u.cache=C.set(y,B)||C,B};return u.cache=new(hs.Cache||Wn),u}hs.Cache=Wn;function ps(t){if(typeof t!="function")throw new un(a);return function(){var i=arguments;switch(i.length){case 0:return!t.call(this);case 1:return!t.call(this,i[0]);case 2:return!t.call(this,i[0],i[1]);case 3:return!t.call(this,i[0],i[1],i[2])}return!t.apply(this,i)}}function bD(t){return df(2,t)}var AD=f1(function(t,i){i=i.length==1&&xe(i[0])?Je(i[0],qt(pe())):Je(wt(i,1),qt(pe()));var u=i.length;return be(function(f){for(var y=-1,C=bt(f.length,u);++y<C;)f[y]=i[y].call(this,f[y]);return Ut(t,this,f)})}),Ma=be(function(t,i){var u=cr(i,si(Ma));return Un(t,z,r,i,u)}),mf=be(function(t,i){var u=cr(i,si(mf));return Un(t,k,r,i,u)}),SD=qn(function(t,i){return Un(t,Y,r,r,r,i)});function FD(t,i){if(typeof t!="function")throw new un(a);return i=i===r?i:we(i),be(t,i)}function ND(t,i){if(typeof t!="function")throw new un(a);return i=i==null?0:dt(we(i),0),be(function(u){var f=u[i],y=pr(u,0,i);return f&&ar(y,f),Ut(t,this,y)})}function TD(t,i,u){var f=!0,y=!0;if(typeof t!="function")throw new un(a);return et(u)&&(f="leading"in u?!!u.leading:f,y="trailing"in u?!!u.trailing:y),gf(t,i,{leading:f,maxWait:i,trailing:y})}function BD(t){return lf(t,1)}function ID(t,i){return Ma(Da(i),t)}function RD(){if(!arguments.length)return[];var t=arguments[0];return xe(t)?t:[t]}function MD(t){return cn(t,x)}function zD(t,i){return i=typeof i=="function"?i:r,cn(t,x,i)}function OD(t){return cn(t,g|x)}function $D(t,i){return i=typeof i=="function"?i:r,cn(t,g|x,i)}function PD(t,i){return i==null||nd(t,i,ht(i))}function _n(t,i){return t===i||t!==t&&i!==i}var kD=ss(sa),HD=ss(function(t,i){return t>=i}),zr=ad(function(){return arguments}())?ad:function(t){return tt(t)&&Le.call(t,"callee")&&!Yl.call(t,"callee")},xe=V.isArray,LD=Nl?qt(Nl):Xm;function Pt(t){return t!=null&&gs(t.length)&&!Xn(t)}function it(t){return tt(t)&&Pt(t)}function jD(t){return t===!0||t===!1||tt(t)&&Nt(t)==he}var gr=nm||Ga,VD=Tl?qt(Tl):Zm;function WD(t){return tt(t)&&t.nodeType===1&&!Zi(t)}function GD(t){if(t==null)return!0;if(Pt(t)&&(xe(t)||typeof t=="string"||typeof t.splice=="function"||gr(t)||ui(t)||zr(t)))return!t.length;var i=At(t);if(i==Ke||i==xt)return!t.size;if(Yi(t))return!ca(t).length;for(var u in t)if(Le.call(t,u))return!1;return!0}function UD(t,i){return Gi(t,i)}function qD(t,i,u){u=typeof u=="function"?u:r;var f=u?u(t,i):r;return f===r?Gi(t,i,r,u):!!f}function za(t){if(!tt(t))return!1;var i=Nt(t);return i==Et||i==Te||typeof t.message=="string"&&typeof t.name=="string"&&!Zi(t)}function YD(t){return typeof t=="number"&&Zl(t)}function Xn(t){if(!et(t))return!1;var i=Nt(t);return i==vt||i==Mt||i==Se||i==Ft}function yf(t){return typeof t=="number"&&t==we(t)}function gs(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ee}function et(t){var i=typeof t;return t!=null&&(i=="object"||i=="function")}function tt(t){return t!=null&&typeof t=="object"}var Df=Bl?qt(Bl):Jm;function XD(t,i){return t===i||aa(t,i,ba(i))}function ZD(t,i,u){return u=typeof u=="function"?u:r,aa(t,i,ba(i),u)}function KD(t){return vf(t)&&t!=+t}function JD(t){if(z1(t))throw new ve(c);return cd(t)}function QD(t){return t===null}function ev(t){return t==null}function vf(t){return typeof t=="number"||tt(t)&&Nt(t)==Ue}function Zi(t){if(!tt(t)||Nt(t)!=ze)return!1;var i=jo(t);if(i===null)return!0;var u=Le.call(i,"constructor")&&i.constructor;return typeof u=="function"&&u instanceof u&&Po.call(u)==Zg}var Oa=Il?qt(Il):Qm;function tv(t){return yf(t)&&t>=-ee&&t<=ee}var xf=Rl?qt(Rl):e1;function ms(t){return typeof t=="string"||!xe(t)&&tt(t)&&Nt(t)==nn}function Xt(t){return typeof t=="symbol"||tt(t)&&Nt(t)==pn}var ui=Ml?qt(Ml):t1;function nv(t){return t===r}function rv(t){return tt(t)&&At(t)==rn}function iv(t){return tt(t)&&Nt(t)==Hn}var ov=ss(la),sv=ss(function(t,i){return t<=i});function _f(t){if(!t)return[];if(Pt(t))return ms(t)?vn(t):$t(t);if($i&&t[$i])return Pg(t[$i]());var i=At(t),u=i==Ke?Ku:i==xt?zo:ai;return u(t)}function Zn(t){if(!t)return t===0?t:0;if(t=fn(t),t===W||t===-W){var i=t<0?-1:1;return i*L}return t===t?t:0}function we(t){var i=Zn(t),u=i%1;return i===i?u?i-u:i:0}function wf(t){return t?Br(we(t),0,re):0}function fn(t){if(typeof t=="number")return t;if(Xt(t))return te;if(et(t)){var i=typeof t.valueOf=="function"?t.valueOf():t;t=et(i)?i+"":i}if(typeof t!="string")return t===0?t:+t;t=Hl(t);var u=bu.test(t);return u||Su.test(t)?_g(t.slice(2),u?2:8):Eu.test(t)?te:+t}function Cf(t){return Rn(t,kt(t))}function uv(t){return t?Br(we(t),-ee,ee):t===0?t:0}function He(t){return t==null?"":Yt(t)}var av=ii(function(t,i){if(Yi(i)||Pt(i)){Rn(i,ht(i),t);return}for(var u in i)Le.call(i,u)&&ji(t,u,i[u])}),Ef=ii(function(t,i){Rn(i,kt(i),t)}),ys=ii(function(t,i,u,f){Rn(i,kt(i),t,f)}),cv=ii(function(t,i,u,f){Rn(i,ht(i),t,f)}),lv=qn(ra);function dv(t,i){var u=ri(t);return i==null?u:td(u,i)}var fv=be(function(t,i){t=je(t);var u=-1,f=i.length,y=f>2?i[2]:r;for(y&&Tt(i[0],i[1],y)&&(f=1);++u<f;)for(var C=i[u],B=kt(C),I=-1,O=B.length;++I<O;){var X=B[I],Z=t[X];(Z===r||_n(Z,ei[X])&&!Le.call(t,X))&&(t[X]=C[X])}return t}),hv=be(function(t){return t.push(r,Hd),Ut(bf,r,t)});function pv(t,i){return Ol(t,pe(i,3),In)}function gv(t,i){return Ol(t,pe(i,3),oa)}function mv(t,i){return t==null?t:ia(t,pe(i,3),kt)}function yv(t,i){return t==null?t:sd(t,pe(i,3),kt)}function Dv(t,i){return t&&In(t,pe(i,3))}function vv(t,i){return t&&oa(t,pe(i,3))}function xv(t){return t==null?[]:Jo(t,ht(t))}function _v(t){return t==null?[]:Jo(t,kt(t))}function $a(t,i,u){var f=t==null?r:Ir(t,i);return f===r?u:f}function wv(t,i){return t!=null&&Vd(t,i,Gm)}function Pa(t,i){return t!=null&&Vd(t,i,Um)}var Cv=zd(function(t,i,u){i!=null&&typeof i.toString!="function"&&(i=ko.call(i)),t[i]=u},Ha(Ht)),Ev=zd(function(t,i,u){i!=null&&typeof i.toString!="function"&&(i=ko.call(i)),Le.call(t,i)?t[i].push(u):t[i]=[u]},pe),bv=be(Wi);function ht(t){return Pt(t)?Ql(t):ca(t)}function kt(t){return Pt(t)?Ql(t,!0):n1(t)}function Av(t,i){var u={};return i=pe(i,3),In(t,function(f,y,C){Gn(u,i(f,y,C),f)}),u}function Sv(t,i){var u={};return i=pe(i,3),In(t,function(f,y,C){Gn(u,y,i(f,y,C))}),u}var Fv=ii(function(t,i,u){Qo(t,i,u)}),bf=ii(function(t,i,u,f){Qo(t,i,u,f)}),Nv=qn(function(t,i){var u={};if(t==null)return u;var f=!1;i=Je(i,function(C){return C=hr(C,t),f||(f=C.length>1),C}),Rn(t,Ca(t),u),f&&(u=cn(u,g|m|x,C1));for(var y=i.length;y--;)ga(u,i[y]);return u});function Tv(t,i){return Af(t,ps(pe(i)))}var Bv=qn(function(t,i){return t==null?{}:i1(t,i)});function Af(t,i){if(t==null)return{};var u=Je(Ca(t),function(f){return[f]});return i=pe(i),md(t,u,function(f,y){return i(f,y[0])})}function Iv(t,i,u){i=hr(i,t);var f=-1,y=i.length;for(y||(y=1,t=r);++f<y;){var C=t==null?r:t[Mn(i[f])];C===r&&(f=y,C=u),t=Xn(C)?C.call(t):C}return t}function Rv(t,i,u){return t==null?t:Ui(t,i,u)}function Mv(t,i,u,f){return f=typeof f=="function"?f:r,t==null?t:Ui(t,i,u,f)}var Sf=Pd(ht),Ff=Pd(kt);function zv(t,i,u){var f=xe(t),y=f||gr(t)||ui(t);if(i=pe(i,4),u==null){var C=t&&t.constructor;y?u=f?new C:[]:et(t)?u=Xn(C)?ri(jo(t)):{}:u={}}return(y?sn:In)(t,function(B,I,O){return i(u,B,I,O)}),u}function Ov(t,i){return t==null?!0:ga(t,i)}function $v(t,i,u){return t==null?t:_d(t,i,Da(u))}function Pv(t,i,u,f){return f=typeof f=="function"?f:r,t==null?t:_d(t,i,Da(u),f)}function ai(t){return t==null?[]:Zu(t,ht(t))}function kv(t){return t==null?[]:Zu(t,kt(t))}function Hv(t,i,u){return u===r&&(u=i,i=r),u!==r&&(u=fn(u),u=u===u?u:0),i!==r&&(i=fn(i),i=i===i?i:0),Br(fn(t),i,u)}function Lv(t,i,u){return i=Zn(i),u===r?(u=i,i=0):u=Zn(u),t=fn(t),qm(t,i,u)}function jv(t,i,u){if(u&&typeof u!="boolean"&&Tt(t,i,u)&&(i=u=r),u===r&&(typeof i=="boolean"?(u=i,i=r):typeof t=="boolean"&&(u=t,t=r)),t===r&&i===r?(t=0,i=1):(t=Zn(t),i===r?(i=t,t=0):i=Zn(i)),t>i){var f=t;t=i,i=f}if(u||t%1||i%1){var y=Kl();return bt(t+y*(i-t+xg("1e-"+((y+"").length-1))),i)}return fa(t,i)}var Vv=oi(function(t,i,u){return i=i.toLowerCase(),t+(u?Nf(i):i)});function Nf(t){return ka(He(t).toLowerCase())}function Tf(t){return t=He(t),t&&t.replace(Nu,Rg).replace(lg,"")}function Wv(t,i,u){t=He(t),i=Yt(i);var f=t.length;u=u===r?f:Br(we(u),0,f);var y=u;return u-=i.length,u>=0&&t.slice(u,y)==i}function Gv(t){return t=He(t),t&&lu.test(t)?t.replace(Bi,Mg):t}function Uv(t){return t=He(t),t&&mu.test(t)?t.replace(Ii,"\\$&"):t}var qv=oi(function(t,i,u){return t+(u?"-":"")+i.toLowerCase()}),Yv=oi(function(t,i,u){return t+(u?" ":"")+i.toLowerCase()}),Xv=Id("toLowerCase");function Zv(t,i,u){t=He(t),i=we(i);var f=i?Jr(t):0;if(!i||f>=i)return t;var y=(i-f)/2;return os(Uo(y),u)+t+os(Go(y),u)}function Kv(t,i,u){t=He(t),i=we(i);var f=i?Jr(t):0;return i&&f<i?t+os(i-f,u):t}function Jv(t,i,u){t=He(t),i=we(i);var f=i?Jr(t):0;return i&&f<i?os(i-f,u)+t:t}function Qv(t,i,u){return u||i==null?i=0:i&&(i=+i),sm(He(t).replace(Ri,""),i||0)}function e2(t,i,u){return(u?Tt(t,i,u):i===r)?i=1:i=we(i),ha(He(t),i)}function t2(){var t=arguments,i=He(t[0]);return t.length<3?i:i.replace(t[1],t[2])}var n2=oi(function(t,i,u){return t+(u?"_":"")+i.toLowerCase()});function r2(t,i,u){return u&&typeof u!="number"&&Tt(t,i,u)&&(i=u=r),u=u===r?re:u>>>0,u?(t=He(t),t&&(typeof i=="string"||i!=null&&!Oa(i))&&(i=Yt(i),!i&&Kr(t))?pr(vn(t),0,u):t.split(i,u)):[]}var i2=oi(function(t,i,u){return t+(u?" ":"")+ka(i)});function o2(t,i,u){return t=He(t),u=u==null?0:Br(we(u),0,t.length),i=Yt(i),t.slice(u,u+i.length)==i}function s2(t,i,u){var f=_.templateSettings;u&&Tt(t,i,u)&&(i=r),t=He(t),i=ys({},i,f,kd);var y=ys({},i.imports,f.imports,kd),C=ht(y),B=Zu(y,C),I,O,X=0,Z=i.interpolate||Ar,ne="__p += '",se=Ju((i.escape||Ar).source+"|"+Z.source+"|"+(Z===So?Cu:Ar).source+"|"+(i.evaluate||Ar).source+"|$","g"),le="//# sourceURL="+(Le.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gg+"]")+`
`;t.replace(se,function(ye,Be,Oe,Zt,Bt,Kt){return Oe||(Oe=Zt),ne+=t.slice(X,Kt).replace(Tu,zg),Be&&(I=!0,ne+=`' +
__e(`+Be+`) +
'`),Bt&&(O=!0,ne+=`';
`+Bt+`;
__p += '`),Oe&&(ne+=`' +
((__t = (`+Oe+`)) == null ? '' : __t) +
'`),X=Kt+ye.length,ye}),ne+=`';
`;var me=Le.call(i,"variable")&&i.variable;if(!me)ne=`with (obj) {
`+ne+`
}
`;else if(wu.test(me))throw new ve(l);ne=(O?ne.replace(Ni,""):ne).replace(Ti,"$1").replace(br,"$1;"),ne="function("+(me||"obj")+`) {
`+(me?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(O?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ne+`return __p
}`;var Ce=If(function(){return ke(C,le+"return "+ne).apply(r,B)});if(Ce.source=ne,za(Ce))throw Ce;return Ce}function u2(t){return He(t).toLowerCase()}function a2(t){return He(t).toUpperCase()}function c2(t,i,u){if(t=He(t),t&&(u||i===r))return Hl(t);if(!t||!(i=Yt(i)))return t;var f=vn(t),y=vn(i),C=Ll(f,y),B=jl(f,y)+1;return pr(f,C,B).join("")}function l2(t,i,u){if(t=He(t),t&&(u||i===r))return t.slice(0,Wl(t)+1);if(!t||!(i=Yt(i)))return t;var f=vn(t),y=jl(f,vn(i))+1;return pr(f,0,y).join("")}function d2(t,i,u){if(t=He(t),t&&(u||i===r))return t.replace(Ri,"");if(!t||!(i=Yt(i)))return t;var f=vn(t),y=Ll(f,vn(i));return pr(f,y).join("")}function f2(t,i){var u=G,f=Q;if(et(i)){var y="separator"in i?i.separator:y;u="length"in i?we(i.length):u,f="omission"in i?Yt(i.omission):f}t=He(t);var C=t.length;if(Kr(t)){var B=vn(t);C=B.length}if(u>=C)return t;var I=u-Jr(f);if(I<1)return f;var O=B?pr(B,0,I).join(""):t.slice(0,I);if(y===r)return O+f;if(B&&(I+=O.length-I),Oa(y)){if(t.slice(I).search(y)){var X,Z=O;for(y.global||(y=Ju(y.source,He(No.exec(y))+"g")),y.lastIndex=0;X=y.exec(Z);)var ne=X.index;O=O.slice(0,ne===r?I:ne)}}else if(t.indexOf(Yt(y),I)!=I){var se=O.lastIndexOf(y);se>-1&&(O=O.slice(0,se))}return O+f}function h2(t){return t=He(t),t&&jn.test(t)?t.replace(qr,jg):t}var p2=oi(function(t,i,u){return t+(u?" ":"")+i.toUpperCase()}),ka=Id("toUpperCase");function Bf(t,i,u){return t=He(t),i=u?r:i,i===r?$g(t)?Gg(t):Fg(t):t.match(i)||[]}var If=be(function(t,i){try{return Ut(t,r,i)}catch(u){return za(u)?u:new ve(u)}}),g2=qn(function(t,i){return sn(i,function(u){u=Mn(u),Gn(t,u,Ra(t[u],t))}),t});function m2(t){var i=t==null?0:t.length,u=pe();return t=i?Je(t,function(f){if(typeof f[1]!="function")throw new un(a);return[u(f[0]),f[1]]}):[],be(function(f){for(var y=-1;++y<i;){var C=t[y];if(Ut(C[0],this,f))return Ut(C[1],this,f)}})}function y2(t){return jm(cn(t,g))}function Ha(t){return function(){return t}}function D2(t,i){return t==null||t!==t?i:t}var v2=Md(),x2=Md(!0);function Ht(t){return t}function La(t){return ld(typeof t=="function"?t:cn(t,g))}function _2(t){return fd(cn(t,g))}function w2(t,i){return hd(t,cn(i,g))}var C2=be(function(t,i){return function(u){return Wi(u,t,i)}}),E2=be(function(t,i){return function(u){return Wi(t,u,i)}});function ja(t,i,u){var f=ht(i),y=Jo(i,f);u==null&&!(et(i)&&(y.length||!f.length))&&(u=i,i=t,t=this,y=Jo(i,ht(i)));var C=!(et(u)&&"chain"in u)||!!u.chain,B=Xn(t);return sn(y,function(I){var O=i[I];t[I]=O,B&&(t.prototype[I]=function(){var X=this.__chain__;if(C||X){var Z=t(this.__wrapped__),ne=Z.__actions__=$t(this.__actions__);return ne.push({func:O,args:arguments,thisArg:t}),Z.__chain__=X,Z}return O.apply(t,ar([this.value()],arguments))})}),t}function b2(){return _t._===this&&(_t._=Kg),this}function Va(){}function A2(t){return t=we(t),be(function(i){return pd(i,t)})}var S2=xa(Je),F2=xa(zl),N2=xa(Gu);function Rf(t){return Sa(t)?Uu(Mn(t)):o1(t)}function T2(t){return function(i){return t==null?r:Ir(t,i)}}var B2=Od(),I2=Od(!0);function Wa(){return[]}function Ga(){return!1}function R2(){return{}}function M2(){return""}function z2(){return!0}function O2(t,i){if(t=we(t),t<1||t>ee)return[];var u=re,f=bt(t,re);i=pe(i),t-=re;for(var y=Xu(f,i);++u<t;)i(u);return y}function $2(t){return xe(t)?Je(t,Mn):Xt(t)?[t]:$t(Jd(He(t)))}function P2(t){var i=++Xg;return He(t)+i}var k2=is(function(t,i){return t+i},0),H2=_a("ceil"),L2=is(function(t,i){return t/i},1),j2=_a("floor");function V2(t){return t&&t.length?Ko(t,Ht,sa):r}function W2(t,i){return t&&t.length?Ko(t,pe(i,2),sa):r}function G2(t){return Pl(t,Ht)}function U2(t,i){return Pl(t,pe(i,2))}function q2(t){return t&&t.length?Ko(t,Ht,la):r}function Y2(t,i){return t&&t.length?Ko(t,pe(i,2),la):r}var X2=is(function(t,i){return t*i},1),Z2=_a("round"),K2=is(function(t,i){return t-i},0);function J2(t){return t&&t.length?Yu(t,Ht):0}function Q2(t,i){return t&&t.length?Yu(t,pe(i,2)):0}return _.after=_D,_.ary=lf,_.assign=av,_.assignIn=Ef,_.assignInWith=ys,_.assignWith=cv,_.at=lv,_.before=df,_.bind=Ra,_.bindAll=g2,_.bindKey=ff,_.castArray=RD,_.chain=uf,_.chunk=j1,_.compact=V1,_.concat=W1,_.cond=m2,_.conforms=y2,_.constant=Ha,_.countBy=Jy,_.create=dv,_.curry=hf,_.curryRight=pf,_.debounce=gf,_.defaults=fv,_.defaultsDeep=hv,_.defer=wD,_.delay=CD,_.difference=G1,_.differenceBy=U1,_.differenceWith=q1,_.drop=Y1,_.dropRight=X1,_.dropRightWhile=Z1,_.dropWhile=K1,_.fill=J1,_.filter=eD,_.flatMap=rD,_.flatMapDeep=iD,_.flatMapDepth=oD,_.flatten=nf,_.flattenDeep=Q1,_.flattenDepth=ey,_.flip=ED,_.flow=v2,_.flowRight=x2,_.fromPairs=ty,_.functions=xv,_.functionsIn=_v,_.groupBy=sD,_.initial=ry,_.intersection=iy,_.intersectionBy=oy,_.intersectionWith=sy,_.invert=Cv,_.invertBy=Ev,_.invokeMap=aD,_.iteratee=La,_.keyBy=cD,_.keys=ht,_.keysIn=kt,_.map=ds,_.mapKeys=Av,_.mapValues=Sv,_.matches=_2,_.matchesProperty=w2,_.memoize=hs,_.merge=Fv,_.mergeWith=bf,_.method=C2,_.methodOf=E2,_.mixin=ja,_.negate=ps,_.nthArg=A2,_.omit=Nv,_.omitBy=Tv,_.once=bD,_.orderBy=lD,_.over=S2,_.overArgs=AD,_.overEvery=F2,_.overSome=N2,_.partial=Ma,_.partialRight=mf,_.partition=dD,_.pick=Bv,_.pickBy=Af,_.property=Rf,_.propertyOf=T2,_.pull=ly,_.pullAll=of,_.pullAllBy=dy,_.pullAllWith=fy,_.pullAt=hy,_.range=B2,_.rangeRight=I2,_.rearg=SD,_.reject=pD,_.remove=py,_.rest=FD,_.reverse=Ba,_.sampleSize=mD,_.set=Rv,_.setWith=Mv,_.shuffle=yD,_.slice=gy,_.sortBy=xD,_.sortedUniq=wy,_.sortedUniqBy=Cy,_.split=r2,_.spread=ND,_.tail=Ey,_.take=by,_.takeRight=Ay,_.takeRightWhile=Sy,_.takeWhile=Fy,_.tap=Vy,_.throttle=TD,_.thru=ls,_.toArray=_f,_.toPairs=Sf,_.toPairsIn=Ff,_.toPath=$2,_.toPlainObject=Cf,_.transform=zv,_.unary=BD,_.union=Ny,_.unionBy=Ty,_.unionWith=By,_.uniq=Iy,_.uniqBy=Ry,_.uniqWith=My,_.unset=Ov,_.unzip=Ia,_.unzipWith=sf,_.update=$v,_.updateWith=Pv,_.values=ai,_.valuesIn=kv,_.without=zy,_.words=Bf,_.wrap=ID,_.xor=Oy,_.xorBy=$y,_.xorWith=Py,_.zip=ky,_.zipObject=Hy,_.zipObjectDeep=Ly,_.zipWith=jy,_.entries=Sf,_.entriesIn=Ff,_.extend=Ef,_.extendWith=ys,ja(_,_),_.add=k2,_.attempt=If,_.camelCase=Vv,_.capitalize=Nf,_.ceil=H2,_.clamp=Hv,_.clone=MD,_.cloneDeep=OD,_.cloneDeepWith=$D,_.cloneWith=zD,_.conformsTo=PD,_.deburr=Tf,_.defaultTo=D2,_.divide=L2,_.endsWith=Wv,_.eq=_n,_.escape=Gv,_.escapeRegExp=Uv,_.every=Qy,_.find=tD,_.findIndex=ef,_.findKey=pv,_.findLast=nD,_.findLastIndex=tf,_.findLastKey=gv,_.floor=j2,_.forEach=af,_.forEachRight=cf,_.forIn=mv,_.forInRight=yv,_.forOwn=Dv,_.forOwnRight=vv,_.get=$a,_.gt=kD,_.gte=HD,_.has=wv,_.hasIn=Pa,_.head=rf,_.identity=Ht,_.includes=uD,_.indexOf=ny,_.inRange=Lv,_.invoke=bv,_.isArguments=zr,_.isArray=xe,_.isArrayBuffer=LD,_.isArrayLike=Pt,_.isArrayLikeObject=it,_.isBoolean=jD,_.isBuffer=gr,_.isDate=VD,_.isElement=WD,_.isEmpty=GD,_.isEqual=UD,_.isEqualWith=qD,_.isError=za,_.isFinite=YD,_.isFunction=Xn,_.isInteger=yf,_.isLength=gs,_.isMap=Df,_.isMatch=XD,_.isMatchWith=ZD,_.isNaN=KD,_.isNative=JD,_.isNil=ev,_.isNull=QD,_.isNumber=vf,_.isObject=et,_.isObjectLike=tt,_.isPlainObject=Zi,_.isRegExp=Oa,_.isSafeInteger=tv,_.isSet=xf,_.isString=ms,_.isSymbol=Xt,_.isTypedArray=ui,_.isUndefined=nv,_.isWeakMap=rv,_.isWeakSet=iv,_.join=uy,_.kebabCase=qv,_.last=dn,_.lastIndexOf=ay,_.lowerCase=Yv,_.lowerFirst=Xv,_.lt=ov,_.lte=sv,_.max=V2,_.maxBy=W2,_.mean=G2,_.meanBy=U2,_.min=q2,_.minBy=Y2,_.stubArray=Wa,_.stubFalse=Ga,_.stubObject=R2,_.stubString=M2,_.stubTrue=z2,_.multiply=X2,_.nth=cy,_.noConflict=b2,_.noop=Va,_.now=fs,_.pad=Zv,_.padEnd=Kv,_.padStart=Jv,_.parseInt=Qv,_.random=jv,_.reduce=fD,_.reduceRight=hD,_.repeat=e2,_.replace=t2,_.result=Iv,_.round=Z2,_.runInContext=R,_.sample=gD,_.size=DD,_.snakeCase=n2,_.some=vD,_.sortedIndex=my,_.sortedIndexBy=yy,_.sortedIndexOf=Dy,_.sortedLastIndex=vy,_.sortedLastIndexBy=xy,_.sortedLastIndexOf=_y,_.startCase=i2,_.startsWith=o2,_.subtract=K2,_.sum=J2,_.sumBy=Q2,_.template=s2,_.times=O2,_.toFinite=Zn,_.toInteger=we,_.toLength=wf,_.toLower=u2,_.toNumber=fn,_.toSafeInteger=uv,_.toString=He,_.toUpper=a2,_.trim=c2,_.trimEnd=l2,_.trimStart=d2,_.truncate=f2,_.unescape=h2,_.uniqueId=P2,_.upperCase=p2,_.upperFirst=ka,_.each=af,_.eachRight=cf,_.first=rf,ja(_,function(){var t={};return In(_,function(i,u){Le.call(_.prototype,u)||(t[u]=i)}),t}(),{chain:!1}),_.VERSION=o,sn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){_[t].placeholder=_}),sn(["drop","take"],function(t,i){Re.prototype[t]=function(u){u=u===r?1:dt(we(u),0);var f=this.__filtered__&&!i?new Re(this):this.clone();return f.__filtered__?f.__takeCount__=bt(u,f.__takeCount__):f.__views__.push({size:bt(u,re),type:t+(f.__dir__<0?"Right":"")}),f},Re.prototype[t+"Right"]=function(u){return this.reverse()[t](u).reverse()}}),sn(["filter","map","takeWhile"],function(t,i){var u=i+1,f=u==F||u==$;Re.prototype[t]=function(y){var C=this.clone();return C.__iteratees__.push({iteratee:pe(y,3),type:u}),C.__filtered__=C.__filtered__||f,C}}),sn(["head","last"],function(t,i){var u="take"+(i?"Right":"");Re.prototype[t]=function(){return this[u](1).value()[0]}}),sn(["initial","tail"],function(t,i){var u="drop"+(i?"":"Right");Re.prototype[t]=function(){return this.__filtered__?new Re(this):this[u](1)}}),Re.prototype.compact=function(){return this.filter(Ht)},Re.prototype.find=function(t){return this.filter(t).head()},Re.prototype.findLast=function(t){return this.reverse().find(t)},Re.prototype.invokeMap=be(function(t,i){return typeof t=="function"?new Re(this):this.map(function(u){return Wi(u,t,i)})}),Re.prototype.reject=function(t){return this.filter(ps(pe(t)))},Re.prototype.slice=function(t,i){t=we(t);var u=this;return u.__filtered__&&(t>0||i<0)?new Re(u):(t<0?u=u.takeRight(-t):t&&(u=u.drop(t)),i!==r&&(i=we(i),u=i<0?u.dropRight(-i):u.take(i-t)),u)},Re.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Re.prototype.toArray=function(){return this.take(re)},In(Re.prototype,function(t,i){var u=/^(?:filter|find|map|reject)|While$/.test(i),f=/^(?:head|last)$/.test(i),y=_[f?"take"+(i=="last"?"Right":""):i],C=f||/^find/.test(i);y&&(_.prototype[i]=function(){var B=this.__wrapped__,I=f?[1]:arguments,O=B instanceof Re,X=I[0],Z=O||xe(B),ne=function(Be){var Oe=y.apply(_,ar([Be],I));return f&&se?Oe[0]:Oe};Z&&u&&typeof X=="function"&&X.length!=1&&(O=Z=!1);var se=this.__chain__,le=!!this.__actions__.length,me=C&&!se,Ce=O&&!le;if(!C&&Z){B=Ce?B:new Re(this);var ye=t.apply(B,I);return ye.__actions__.push({func:ls,args:[ne],thisArg:r}),new an(ye,se)}return me&&Ce?t.apply(this,I):(ye=this.thru(ne),me?f?ye.value()[0]:ye.value():ye)})}),sn(["pop","push","shift","sort","splice","unshift"],function(t){var i=Oo[t],u=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",f=/^(?:pop|shift)$/.test(t);_.prototype[t]=function(){var y=arguments;if(f&&!this.__chain__){var C=this.value();return i.apply(xe(C)?C:[],y)}return this[u](function(B){return i.apply(xe(B)?B:[],y)})}}),In(Re.prototype,function(t,i){var u=_[i];if(u){var f=u.name+"";Le.call(ni,f)||(ni[f]=[]),ni[f].push({name:i,func:u})}}),ni[rs(r,v).name]=[{name:"wrapper",func:r}],Re.prototype.clone=hm,Re.prototype.reverse=pm,Re.prototype.value=gm,_.prototype.at=Wy,_.prototype.chain=Gy,_.prototype.commit=Uy,_.prototype.next=qy,_.prototype.plant=Xy,_.prototype.reverse=Zy,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=Ky,_.prototype.first=_.prototype.head,$i&&(_.prototype[$i]=Yy),_},Qr=Ug();Sr?((Sr.exports=Qr)._=Qr,Lu._=Qr):_t._=Qr}).call(Ki)})(Js,Js.exports);var A8=Js.exports;const ct=ex(A8),S8=navigator.platform.includes("Mac"),Fh={Ctrl:"",Backspace:"",Alt:""},Ps={shortcut:e=>S8?Object.keys(Fh).reduce((n,r)=>n.replaceAll(r,Fh[r]),e):e},Nh={},Qs=(e,n)=>{const[r,o]=A.useState(()=>Nh?.[e]??n);return A.useEffect(()=>{Nh[e]=r},[r]),[r,o]};function Th(e,n=0){const r=performance.now(),o={};function s(){o.id=requestAnimationFrame(c=>{c-r>n?e():s()})}return s(),o}function Bh(e){e.id&&cancelAnimationFrame(e.id)}function F8(e,n){const[r,o]=A.useState(e?"enter":"from"),s=A.useRef({}),[c,a]=A.useState(e);return A.useEffect(function(){return Bh(s.current),e?(o("from"),a(!0),Th(()=>{o("enter")})):(o("leave"),s.current=Th(()=>{a(!1)},n)),()=>{Bh(s.current)}},[e,n]),{stage:r,shouldMount:c}}function N8({state:e,timeout:n,children:r}){const{stage:o,shouldMount:s}=F8(e,n);return r(o,s)}const Nc=({className:e,...n})=>b.jsx("div",{className:$e("grl-dn__graphCard",e),...n});Nc.__docgenInfo={description:"",methods:[],displayName:"GraphCard"};var Ur=(e=>(e.Blue="var(--node-color-blue)",e.Purple="var(--node-color-purple)",e.Orange="var(--node-color-orange)",e.Green="var(--node-color-green)",e))(Ur||{});const al=({icon:e,name:n,children:r,actions:o=[],disabled:s=!1,isSelected:c=!1,noBodyPadding:a=!1,color:l="primary",onNameChange:d,menuItems:p=[],status:h,diffStatus:g,compactMode:m,listMode:x,helper:E,details:D,detailsOpen:w=!1,detailsTitle:v="Details",onDetailsClose:T})=>{const[S,N]=A.useState(!1),z=A.useRef(null);A.useEffect(()=>{z.current&&S&&(z.current.value=n,z.current.focus(),z.current.select())},[S]);const k=Ie(l).with("primary",()=>Ur.Blue).otherwise(j=>j);return b.jsxs("div",{className:$e("grl-dn",m&&"grl-dn--compact",x&&"grl-dn--list",!g&&c&&"grl-dn--selected",h&&`grl-dn--${h}`,g&&`grl-dn--diff-${g}`),style:{"--node-color":k},onKeyDown:j=>j.stopPropagation(),children:[b.jsxs(Nc,{children:[b.jsxs("div",{className:"grl-dn__status-bar",children:[Array.isArray(E)&&E.filter(j=>!!j).map((j,Y)=>b.jsx("div",{className:$e("grl-dn__status-icon"),children:j},Y)),h==="error"&&b.jsx("div",{className:$e("grl-dn__status-icon",`grl-dn__status-icon--${h}`),children:b.jsx(jr,{})}),b.jsx(qh,{status:g,style:{fontSize:16}})]}),b.jsxs("div",{className:$e("grl-dn__header",m&&"compact"),children:[b.jsx("div",{className:$e("grl-dn__header__icon",m&&"compact"),children:e}),b.jsxs("div",{className:"grl-dn__header__text",children:[!S&&b.jsx(ft.Text,{className:$e("grl-dn__header__text__name"),onClick:()=>{s||N(!0)},children:n}),S&&b.jsx("input",{ref:z,className:$e("grl-dn__header__text__name-input","nodrag"),onBlur:j=>{j.target.value?.trim?.()?.length>0&&d?.(z?.current?.value),j.preventDefault(),N(!1)},onKeyDown:j=>{j.key==="Enter"?(j.currentTarget.blur(),j.preventDefault()):j.key==="Escape"&&(z.current&&(z.current.value=n),N(!1),j.preventDefault())}})]}),p.length>0&&b.jsx("div",{className:$e("grl-dn__header__actions","nodrag"),children:b.jsx(po,{trigger:["click"],overlayStyle:{minWidth:250},menu:{items:p},children:b.jsx(Ge,{type:"text",size:"small",icon:b.jsx(bx,{})})})})]}),r&&b.jsx("div",{className:$e("grl-dn__body",o.length===0&&"grl-dn__body--no-footer",a&&"grl-dn__body--no-padding"),children:r}),o.length>0&&b.jsx("div",{className:$e("grl-dn__footer","nodrag"),children:b.jsx("div",{className:"grl-dn__footer__actions",children:o})})]}),b.jsx(N8,{state:w,timeout:100,children:(j,Y)=>Y&&b.jsx(Nc,{className:"nodrag",style:{transition:"0.1s ease-in-out",transform:j==="enter"?"translateY(0)":"translateY(-10px)",opacity:j==="enter"?1:0},children:b.jsxs("div",{className:"grl-dn__details",children:[b.jsxs("div",{className:"grl-dn__details__header",children:[b.jsx(ft.Text,{className:"grl-dn__details__header__text",children:v}),b.jsx(Ge,{type:"text",size:"small",className:"grl-dn__details__header__close",icon:b.jsx(jr,{style:{fontSize:8}}),onClick:T})]}),b.jsx("div",{className:"grl-dn__details__body",children:D})]})})})]})};al.__docgenInfo={description:"",methods:[],displayName:"DecisionNode",props:{name:{required:!1,tsType:{name:"string"},description:""},icon:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},type:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},helper:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(React.ReactNode | false)[]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSelected:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},description:"",defaultValue:{value:"[]",computed:!1}},status:{required:!1,tsType:{name:"union",raw:"'error' | 'success' | 'warning'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'warning'"}]},description:""},diffStatus:{required:!1,tsType:{name:"union",raw:"'removed' | 'added' | 'modified' | 'moved'",elements:[{name:"literal",value:"'removed'"},{name:"literal",value:"'added'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'moved'"}]},description:""},noBodyPadding:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},color:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | string",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"string"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},menuItems:{required:!1,tsType:{name:"MenuProps['items']",raw:"MenuProps['items']"},description:"",defaultValue:{value:"[]",computed:!1}},onNameChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(name: string) => void",signature:{arguments:[{type:{name:"string"},name:"name"}],return:{name:"void"}}},description:""},compactMode:{required:!1,tsType:{name:"boolean"},description:""},listMode:{required:!1,tsType:{name:"boolean"},description:""},details:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},detailsOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},detailsTitle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Details'",computed:!1}},onDetailsClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Er=H.forwardRef(({id:e,handleLeft:n=!0,handleRight:r=!0,className:o,specification:s,name:c,displayError:a,helper:l,actions:d,...p},h)=>{const[g,m]=Qs(`node:details:${e}`,0),[x,E]=Qs(`node:detailsOpen:${e}`,!1),D=gt(),{nodeError:w,nodeTrace:v,disabled:T,compactMode:S}=Ze(({simulate:j,disabled:Y,compactMode:M})=>({disabled:Y,nodeTrace:Ie(j).with({result:Ne._},({result:G})=>G?.trace?.[e]).otherwise(()=>null),nodeError:Ie(j).with({error:{data:{nodeId:e}}},({error:G})=>G).otherwise(()=>null),compactMode:M})),{diff:N}=cu(e),z=s.renderSettings,k=[s.documentationUrl?{key:"documentation",label:b.jsx(io,{left:"Documentation",right:b.jsx(f0,{})}),onClick:()=>window.open(s.documentationUrl,"_href")}:null,s.documentationUrl?{key:"divider-1",type:"divider"}:null,!a&&{key:"copy-clipboard",label:b.jsx(io,{left:"Copy to clipboard",right:Ps.shortcut("Ctrl + C")}),onClick:()=>{}},!a&&{key:"duplicate",disabled:T,label:b.jsx(io,{left:"Duplicate",right:Ps.shortcut("Ctrl + D")}),onClick:()=>D.duplicateNodes([e])},!a&&{key:"divider-2",type:"divider"},{key:"delete",danger:!0,label:b.jsx(io,{left:"Delete",right:Ps.shortcut("Backspace")}),disabled:T,onClick:()=>Oc.confirm({icon:null,title:"Delete node",content:b.jsxs(ft.Text,{children:["Are you sure you want to delete ",b.jsx(ft.Text,{strong:!0,children:c})," node."]}),okButtonProps:{danger:!0},onOk:()=>D.removeNodes([e])})}].filter(j=>j!==!1);return b.jsxs("div",{className:$e("grl-graph-node",o),style:{minWidth:220,maxWidth:220},ref:h,onClick:j=>{const Y=Ie(navigator.platform.includes("Mac")).with(!0,()=>j.metaKey).otherwise(()=>j.ctrlKey);D.triggerNodeSelect(e,Y?"toggle":"only")},children:[n&&b.jsx(Cr,{className:$e("grl-graph-node__handle-left",S&&"compact"),type:"target",position:de.Left,...typeof n!="boolean"?n:{}}),b.jsx(al,{menuItems:k,...p,disabled:T,icon:s.icon,color:s.color,type:s.displayName,helper:l,name:c,details:z?b.jsx(z,{id:e}):void 0,detailsOpen:x,detailsTitle:Ie(g).with(0,()=>"Settings").otherwise(()=>{}),onDetailsClose:()=>E(!1),actions:z?[...d??[],b.jsx(Ge,{type:"text",style:{marginLeft:"auto"},onClick:()=>{E(g===0?!x:!0),m(0)},children:"Settings"},"settings")]:d,status:Ie([v,w,a]).with([Ne._,Ne._,!0],()=>"error").with([Ne._,Ne.not(Ne.nullish),Ne._],()=>"error").with([Ne.not(Ne.nullish),Ne._,Ne._],()=>"success").otherwise(()=>{}),diffStatus:Ie([N]).with([{status:"added"}],()=>"added").with([{status:"modified"}],()=>"modified").with([{status:"removed"}],()=>"removed").with([{status:"moved"}],()=>"moved").otherwise(()=>{}),onNameChange:j=>{D.updateNode(e,Y=>(Y.name=j,Y))},compactMode:S}),r&&b.jsx(Cr,{className:$e("grl-graph-node__handle-right",S&&"compact"),type:"source",position:de.Right,...typeof r!="boolean"?r:{}})]})});Er.__docgenInfo={description:"",methods:[],displayName:"GraphNode",props:{handleLeft:{defaultValue:{value:"true",computed:!1},required:!1},handleRight:{defaultValue:{value:"true",computed:!1},required:!1}}};var $p=(e=>(e.Output="Output",e.Input="Input",e.Trace="Trace",e))($p||{});const T8="Your business context that enters through the Request node, starting the decision process. Supply JSON or JSON5 format.",B8=({defaultRequest:e,onChange:n,onRun:r,onClear:o,loading:s=!1})=>{const[c,a]=A.useState(e),[l,d]=Qs("simulation.search",""),[p,h]=Qs("simulation.segment","Output"),{stateStore:g,actions:m}=Fi(),{nodeTypes:x,simulate:E,hasInputNode:D}=Ze(({decisionGraph:S,simulate:N})=>({simulate:N,hasInputNode:S.nodes.some(z=>z.type===Pe.Input),nodeTypes:(S.nodes??[]).reduce((z,k)=>({...z,[k.id]:k.type}),{})})),[w,v]=A.useState("graph");A.useEffect(()=>{if(!lo())return;const{decisionGraph:S}=g.getState(),N=S.nodes.find(z=>z.type==="inputNode");if(N)try{const z=c?so.parse(c):"Any";m.setNodeType(N.id,We.InferredOutput,new Jt(z))}catch{}},[c]);const T=A.useMemo(()=>E?"result"in E?Object.entries(E.result?.trace??{}).map(([S,N])=>({...N,nodeId:S})).filter(S=>![Pe.Input,Pe.Output].includes(x?.[S.nodeId])).filter(S=>S.name.toLowerCase().includes(l?.toLowerCase()??"")).sort((S,N)=>(S.order??0)-(N.order??0)):[]:[],[E,l]);return b.jsxs(jx,{className:"grl-dg__simulator",direction:"horizontal",autoSaveId:"jdm-editor:simulator:layout",children:[b.jsxs(qa,{minSize:20,defaultSize:30,className:"grl-dg__simulator__section grl-dg__simulator__request",children:[b.jsxs("div",{className:"grl-dg__simulator__section__bar grl-dg__simulator__section__bar--request",children:[b.jsx($n,{title:T8,children:b.jsxs(ft.Text,{style:{fontSize:13,cursor:"help"},children:["Request",b.jsx(rw,{style:{fontSize:10,marginLeft:4,opacity:.5,verticalAlign:"text-top"}})]})}),b.jsxs("div",{className:"grl-dg__simulator__section__bar__actions",children:[b.jsx($n,{title:"Copy JSON to Clipboard",children:b.jsx(Ge,{type:"text",size:"small",icon:b.jsx(_x,{}),onClick:async()=>{try{await uc(JSON.stringify(so.parse(c??""))),Ct.success("Copied to clipboard!")}catch{Ct.error("Failed to copy to clipboard.")}}})}),b.jsx($n,{title:"Format JSON",children:b.jsx(Ge,{size:"small",type:"text",icon:b.jsx(Vx,{}),onClick:()=>{if((c||"").trim().length!==0)try{const S=JSON.stringify(so.parse(c||""),null,2);n?.(S),a(S)}catch{cc.error({message:"Invalid format",description:"Unable to format request, invalid JSON format",placement:"top"})}}})}),r&&b.jsx($n,{title:D?void 0:"Request node is required to run the graph. Drag-and-drop it from the Components panel.",children:b.jsx(Ge,{size:"small",type:"primary",loading:s,icon:b.jsx(gw,{}),disabled:!D,onClick:()=>{try{const S=(c||"").trim().length===0?null:so.parse(c||"");r?.({graph:g.getState().decisionGraph,context:S})}catch{cc.error({message:"Invalid format",description:"Unable to format request, invalid JSON format",placement:"top"})}},children:"Run"})})]})]}),b.jsx("div",{className:"grl-dg__simulator__section__content",children:b.jsx(Rh,{value:c,onChange:S=>{a(S),n?.(S??"")}})})]}),b.jsx(zf,{}),b.jsxs(qa,{minSize:20,maxSize:20,className:"grl-dg__simulator__section grl-dg__simulator__nodes",children:[b.jsxs("div",{className:"grl-dg__simulator__section__bar grl-dg__simulator__section__bar--nodes",children:[b.jsx("input",{className:"grl-dg__simulator__search",type:"text",placeholder:"Search nodes...",value:l,onChange:S=>d(S.target.value)}),b.jsx("div",{className:"grl-dg__simulator__section__bar__actions",children:o&&b.jsx($n,{title:"Clear",children:b.jsx(Ge,{size:"small",type:"text",icon:b.jsx(k_,{}),onClick:()=>{o?.(),v("graph"),d("")}})})})]}),b.jsx("div",{className:"grl-dg__simulator__section__content",children:b.jsx(Pc,{spinning:s,children:b.jsxs("div",{className:"grl-dg__simulator__nodes-list",children:[!E&&b.jsxs(ft.Text,{type:"secondary",style:{textAlign:"center",marginTop:60,fontSize:13},children:["Ready to simulate!",b.jsx("br",{}),"Run a request to see the node trace in action.",b.jsx("br",{}),b.jsx(ft.Link,{href:"https://docs.gorules.io/docs/simulator",target:"_blank",style:{fontSize:13,marginTop:4,display:"inline-block"},children:"Learn more"})]}),"graph".includes(l?.toLowerCase()??"")&&E&&b.jsxs("div",{className:$e("grl-dg__simulator__nodes-list__node",w==="graph"&&"active"),onClick:()=>v("graph"),children:[b.jsxs(ft.Text,{"data-role":"name",ellipsis:!0,children:[b.jsx(Tc,{status:Ie(E).with({error:Ne.nonNullable},()=>"error").with({result:Ne.nonNullable},()=>"success").otherwise(()=>"not-run")}),"Graph"]}),b.jsx(ft.Text,{type:"secondary","data-role":"performance",children:Ie(E).with({result:Ne._},({result:S})=>S?.performance).otherwise(()=>{})})]}),T.map(S=>b.jsxs("div",{className:$e("grl-dg__simulator__nodes-list__node",S.nodeId===w&&"active"),onClick:()=>v(S.nodeId),children:[b.jsxs(ft.Text,{"data-role":"name",ellipsis:{tooltip:S.name},children:[b.jsx(Tc,{status:S.nodeId===E?.error?.data?.nodeId?"error":"success"}),S.name]}),b.jsx(ft.Text,{type:"secondary","data-role":"performance",children:S.performance})]},S.nodeId))]})})})]}),b.jsx(zf,{}),b.jsxs(qa,{minSize:30,defaultSize:50,className:"grl-dg__simulator__section grl-dg__simulator__response",children:[b.jsx("div",{className:"grl-dg__simulator__section__bar grl-dg__simulator__section__bar--response",children:b.jsx(e0,{rootClassName:"grl-inline-tabs",size:"small",style:{width:"100%"},onChange:S=>h(S),items:Object.values($p).map(S=>({key:S,label:S})),tabBarExtraContent:b.jsx($n,{title:"Close panel",children:b.jsx(Ge,{type:"text",icon:b.jsx(jr,{style:{fontSize:12}}),onClick:()=>m.setActivePanel(void 0)})})})}),b.jsx("div",{className:"grl-dg__simulator__section__content",children:b.jsx(Rh,{readOnly:!0,value:Ie(E).with({result:Ne._},({result:S})=>Ie(w).with("graph",()=>Ih({traceData:S?.trace,output:S?.result},p??"Output")).otherwise(()=>Ih(S?.trace[w],p??"Output"))).otherwise(()=>"")})})]})]})},Ih=(e,n)=>{const r=Ie([n,e]).with(["Output",{output:Ne._}],([,{output:o}])=>o).with(["Input",{input:Ne._}],([,{input:o}])=>o).with(["Trace",{trace:Ne._}],([,{trace:o}])=>o).with(["Trace",{traceData:Ne._}],([,{traceData:o}])=>o).otherwise(()=>({}));return so.stringify(r,void 0,2)},Rh=({value:e,onChange:n,readOnly:r})=>{const{token:o}=wx.useToken();return b.jsx(Wx,{loading:b.jsx(Pc,{size:"large"}),language:"javascript",value:e,onChange:n,theme:o.mode==="dark"?"vs-dark":"light",height:"100%",onMount:(s,c)=>{c.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSyntaxValidation:!0}),c.languages.typescript.javascriptDefaults.setModeConfiguration({codeActions:!1,inlayHints:!1})},options:{readOnly:r,automaticLayout:!0,contextmenu:!1,minimap:{enabled:!1},fontSize:12,fontFamily:"var(--mono-font-family)",tabSize:2,lineDecorationsWidth:2,find:{addExtraSpaceOnTop:!1,seedSearchStringFromSelection:"never"},scrollbar:{verticalSliderSize:4,verticalScrollbarSize:4,horizontalScrollbarSize:4,horizontalSliderSize:4},lineNumbersMinChars:3}})},Tc=({status:e})=>e==="not-run"?null:e==="success"?b.jsx(O_,{twoToneColor:["var(--grl-color-success)","var(--grl-color-success-bg)"],style:{marginRight:6,fontSize:12,opacity:.5}}):b.jsx(j_,{twoToneColor:["var(--grl-color-error)","var(--grl-color-error-bg)"],style:{marginRight:5,fontSize:12}});B8.__docgenInfo={description:"",methods:[],displayName:"GraphSimulator",props:{defaultRequest:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(val: string) => void",signature:{arguments:[{type:{name:"string"},name:"val"}],return:{name:"void"}}},description:""},onRun:{required:!1,tsType:{name:"signature",type:"function",raw:"(payload: { graph: DecisionGraphType; context: unknown }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ graph: DecisionGraphType; context: unknown }",signature:{properties:[{key:"graph",value:{name:"signature",type:"object",raw:`{
  nodes: DecisionNode[];
  edges: DecisionEdge[];
  settings?: DecisionSettings;
}`,signature:{properties:[{key:"nodes",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  name: string;
  description?: string;
  type?: NodeSchema['type'] | string;
  content?: T;
  position: Position;
  [privateSymbol]?: {
    dimensions?: { height?: number; width?: number };
    selected?: boolean;
  };
  _diff?: {
    status: DiffStatus;
    fields?: Record<string, DiffMetadata>;
  };
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"description",value:{name:"string",required:!1}},{key:"type",value:{name:"union",raw:"NodeSchema['type'] | string",elements:[{name:"z.infer['type']",raw:"NodeSchema['type']"},{name:"string"}],required:!1}},{key:"content",value:{name:"T",required:!1}},{key:"position",value:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]},required:!0}},{key:"@computed#privateSymbol",value:{name:"signature",type:"object",raw:`{
  dimensions?: { height?: number; width?: number };
  selected?: boolean;
}`,signature:{properties:[{key:"dimensions",value:{name:"signature",type:"object",raw:"{ height?: number; width?: number }",signature:{properties:[{key:"height",value:{name:"number",required:!1}},{key:"width",value:{name:"number",required:!1}}]},required:!1}},{key:"selected",value:{name:"boolean",required:!1}}]},required:!1}},{key:"_diff",value:{name:"signature",type:"object",raw:`{
  status: DiffStatus;
  fields?: Record<string, DiffMetadata>;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}},{key:"fields",value:{name:"Record",elements:[{name:"string"},{name:"signature",type:"object",raw:`{
  status?: DiffStatus;
  previousValue?: T;
  previousIndex?: number;
  currentIndex?: number;
  fields?: Record<string, DiffMetadata>;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}},{key:"previousValue",value:{name:"T",required:!1}},{key:"previousIndex",value:{name:"number",required:!1}},{key:"currentIndex",value:{name:"number",required:!1}},{key:"fields",value:{name:"Record",elements:[{name:"string"},{name:"DiffMetadata"}],raw:"Record<string, DiffMetadata>",required:!1}}]},required:!1}],raw:"Record<string, DiffMetadata>",required:!1}}]},required:!1}}]}}],raw:"DecisionNode[]",required:!0}},{key:"edges",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  name?: string;
  sourceId: string;
  targetId: string;
  sourceHandle?: string | null;
  targetHandle?: string | null;
  type?: string;
  _diff?: {
    status: DiffStatus;
  };
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!1}},{key:"sourceId",value:{name:"string",required:!0}},{key:"targetId",value:{name:"string",required:!0}},{key:"sourceHandle",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"targetHandle",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"type",value:{name:"string",required:!1}},{key:"_diff",value:{name:"signature",type:"object",raw:`{
  status: DiffStatus;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}}]},required:!1}}]}}],raw:"DecisionEdge[]",required:!0}},{key:"settings",value:{name:"intersection",raw:"z.infer<typeof decisionModelSchema>['settings'] & Diff",elements:[{name:"z.infer['settings']",raw:"z.infer<typeof decisionModelSchema>['settings']"},{name:"signature",type:"object",raw:`{
  _diff?: DiffMetadata<T>;
}`,signature:{properties:[{key:"_diff",value:{name:"signature",type:"object",raw:`{
  status?: DiffStatus;
  previousValue?: T;
  previousIndex?: number;
  currentIndex?: number;
  fields?: Record<string, DiffMetadata>;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}},{key:"previousValue",value:{name:"T",required:!1}},{key:"previousIndex",value:{name:"number",required:!1}},{key:"currentIndex",value:{name:"number",required:!1}},{key:"fields",value:{name:"Record",elements:[{name:"string"},{name:"DiffMetadata"}],raw:"Record<string, DiffMetadata>",required:!1}}]},required:!1}}]}}],required:!1}}]},required:!0}},{key:"context",value:{name:"unknown",required:!0}}]}},name:"payload"}],return:{name:"void"}}},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};Tc.__docgenInfo={description:"",methods:[],displayName:"StatusIcon",props:{status:{required:!0,tsType:{name:"union",raw:"'success' | 'error' | 'not-run'",elements:[{name:"literal",value:"'success'"},{name:"literal",value:"'error'"},{name:"literal",value:"'not-run'"}]},description:""}}};const I8=(e,n)=>e[n]?.[We.Input]??e[n]?.[We.InferredInput]??Jt.fromJson({Object:{}}),Ai=(e,{attachGlobals:n=!0,disabled:r=!1}={})=>{const o=Ze(({nodeTypes:s,globalType:c})=>{if(!(!lo()||r))return{nodeTypes:s,globalType:c}});return A.useMemo(()=>{if(!o?.nodeTypes)return;const s=I8(o.nodeTypes,e);return n&&Object.entries(o?.globalType??{}).forEach(([c,a])=>s.set(c,a)),s},[o?.globalType,o?.nodeTypes,n])},Pp=({id:e,manager:n})=>{const r=gt(),o=Ai(e,{attachGlobals:!1}),{nodeTrace:s,disabled:c,configurable:a,content:l,globalType:d}=Ze(({simulate:g,disabled:m,configurable:x,decisionGraph:E,globalType:D})=>({nodeTrace:Ie(g).with({result:Ne._},({result:w})=>w?.trace?.[e]).otherwise(()=>null),disabled:m,configurable:x,content:(E?.nodes??[]).find(w=>w.id===e)?.content,globalType:D})),p=s?.traceData!==void 0?Array.isArray(s?.traceData)?s?.traceData?.map(g=>g?.rule?._id):[s?.traceData?.rule?._id]:[],h=A.useMemo(()=>{if(!o)return;const g=Ie(l?.inputField).with(Ne.string,x=>o.get(x)).otherwise(()=>o),m=l?.executionMode==="loop"?g.arrayItem():g;return Object.entries(d).forEach(([x,E])=>m.set(x,E)),m},[o,d,l?.inputField,l?.executionMode]);return b.jsx(Ax,{id:e,tableHeight:"100%",value:l,manager:n,disabled:c,configurable:a,inputData:h,activeRules:(p||[]).filter(g=>!!g),onChange:g=>{r.updateNode(e,m=>(Object.assign(m.content,g),m))}})};Pp.__docgenInfo={description:"",methods:[],displayName:"TabDecisionTable",props:{id:{required:!0,tsType:{name:"string"},description:""},manager:{required:!1,tsType:{name:"DragDropManager"},description:""}}};const cl={type:Pe.DecisionTable,icon:b.jsx(xw,{}),displayName:"Decision table",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/decision-tables",shortDescription:"Rules spreadsheet",renderTab:({id:e,manager:n})=>b.jsx(Pp,{id:e,manager:n}),getDiffContent:(e,n)=>nt(e,r=>{const o={};(e.executionMode??"single")!==(n.executionMode??"single")&&ct.set(o,"executionMode",{status:"modified",previousValue:n.executionMode}),(e.hitPolicy??"first")!==(n.hitPolicy??"first")&&ct.set(o,"hitPolicy",{status:"modified",previousValue:n.hitPolicy}),(e.inputField??"")!==(n.inputField??"")&&ct.set(o,"inputField",{status:"modified",previousValue:n.inputField}),(e.outputPath??"")!==(n.outputPath??"")&&ct.set(o,"outputPath",{status:"modified",previousValue:n.outputPath}),(e.passThrough??!1)!==(n.passThrough??!1)&&ct.set(o,"passThrough",{status:"modified",previousValue:n.passThrough});const s=ho(e?.inputs||[],n?.inputs||[],{compareFields:(l,d)=>{const p=(l.name??"")!==(d.name??""),h=(l.field??"")!==(d.field??""),g=(l.defaultValue??"")!==(d.defaultValue??"");return{hasChanges:p||h||g,fields:{...p&&{name:{status:"modified",previousValue:d.name}},...h&&{field:{status:"modified",previousValue:d.field}},...g&&{defaultValue:{status:"modified",previousValue:d.defaultValue}}}}}}),c=ho(e?.outputs||[],n?.outputs||[],{compareFields:(l,d)=>{const p=(l.name??"")!==(d.name??""),h=(l.field??"")!==(d.field??""),g=(l.defaultValue??"")!==(d.defaultValue??"");return{hasChanges:p||h||g,fields:{...p&&{name:{status:"modified",previousValue:d.name}},...h&&{field:{status:"modified",previousValue:d.field}},...g&&{defaultValue:{status:"modified",previousValue:d.defaultValue}}}}}}),a=ho(e?.rules||[],n?.rules||[],{idField:"_id",compareFields:(l,d)=>{const p=(l._description??"")!==(d._description??""),h={};s.forEach(m=>{m._diff?.status==="added"?h[m.id]={status:"added"}:m._diff?.status==="removed"?h[m.id]={status:"removed"}:(l?.[m.id]??"")!==(d?.[m.id]??"")&&(h[m.id]={status:"modified",previousValue:d?.[m.id]})});const g={};return c.forEach(m=>{m?._diff?.status==="added"?g[m.id]={status:"added"}:m?._diff?.status==="removed"?g[m.id]={status:"removed"}:(l?.[m.id]??"")!==(d?.[m.id]??"")&&(g[m.id]={status:"modified",previousValue:d?.[m.id]})}),{hasChanges:p||Object.keys(h).length>0||Object.keys(g).length>0,fields:{...p&&{_description:{status:"modified",previousValue:d._description}},...h,...g}}}});return r.inputs=s,r.outputs=c,r.rules=a,s.find(l=>l?._diff?.status==="modified"||l?._diff?.status==="added"||l?._diff?.status==="removed")&&ct.set(o,"inputs",{status:"modified"}),c.find(l=>l?._diff?.status==="modified"||l?._diff?.status==="added"||l?._diff?.status==="removed")&&ct.set(o,"outputs",{status:"modified"}),a.find(l=>l?._diff?.status==="modified"||l?._diff?.status==="added"||l?._diff?.status==="removed")&&ct.set(o,"rules",{status:"modified"}),Object.keys(o).length>0&&(r._diff={status:"modified",fields:o}),r}),inferTypes:{needsUpdate:(e,n)=>!Qt(e,n),determineOutputType:({content:e,input:n})=>{let r=n.clone(),o=Jt.fromJson({Object:{}});if(e.inputField&&(r=n.calculateType(e.inputField)),e.executionMode==="loop"&&(r=r.arrayItem()),(e?.outputs||[]).filter(c=>!!c.field).forEach(c=>{for(const a of e.rules){if(!a[c.id])continue;const l=r.calculateType(a[c.id]),d=l.toJson();if(d!=="Any"&&d!=="Null"){o.set(c.field,l);return}}o.setJson(c.field,"Any")}),e.hitPolicy==="collect"&&(o=o.toArray()),e.executionMode==="loop"&&(o=o.toArray()),e.outputPath){const c=Jt.fromJson({Object:{}});c.set(e.outputPath,o),o=c}return e.passThrough&&(o=n.merge(o)),o}},generateNode:({index:e})=>({name:`decisionTable${e}`,content:{hitPolicy:"first",inputs:[{id:crypto.randomUUID(),name:"Input"}],outputs:[{id:crypto.randomUUID(),field:"output",name:"Output"}],rules:[],inputField:null,outputPath:null,passThrough:!0,executionMode:"single"}}),renderNode:({id:e,data:n,selected:r,specification:o})=>{const s=gt(),{passThrough:c,executionMode:a}=Ze(({decisionGraph:l})=>{const d=(l?.nodes??[]).find(p=>p.id===e)?.content;return{passThrough:d?.passThrough||!1,executionMode:d?.executionMode}});return b.jsx(Er,{id:e,specification:o,name:n.name,isSelected:r,helper:[a==="loop"&&b.jsx(h0,{}),c&&b.jsx($c,{})],actions:[b.jsx(Ge,{type:"text",onClick:()=>s.openTab(e),children:"Edit Table"},"edit-table")]})},renderSettings:({id:e})=>{const n=gt(),r=Ai(e),{contentDiff:o}=cu(e),{fields:s,disabled:c}=Ze(({decisionGraph:l,disabled:d})=>{const p=(l?.nodes??[]).find(h=>h.id===e)?.content;return{disabled:d,fields:{passThrough:p?.passThrough||!1,inputField:p?.inputField,outputPath:p?.outputPath,executionMode:p?.executionMode||"single",hitPolicy:p?.hitPolicy||"first"}}}),a=l=>{n.updateNode(e,d=>(Object.assign(d.content,l),d))};return b.jsxs("div",{className:"settings-form",children:[b.jsx(er.Item,{label:"Hit Policy",children:b.jsx($x,{direction:"vertical",size:2,children:b.jsx(sc,{size:"small",previousValue:o?.fields?.hitPolicy?.previousValue,displayDiff:o?.fields?.hitPolicy?.status==="modified",disabled:c,value:s?.hitPolicy,onChange:l=>a({hitPolicy:l?.target?.value}),options:[{value:"first",label:"First"},{value:"collect",label:"Collect"}]})})}),b.jsx(er.Item,{label:"Passthrough",children:b.jsx(Qh,{disabled:c,size:"small",displayDiff:o?.fields?.passThrough?.status==="modified",checked:s?.passThrough,previousChecked:o?.fields?.passThrough?.previousValue,onChange:l=>a({passThrough:l})})}),b.jsx(er.Item,{label:"Input field",children:b.jsx(eu,{variableType:r,disabled:c,displayDiff:o?.fields?.inputField?.status==="modified",previousValue:o?.fields?.inputField?.previousValue,style:{fontSize:12,lineHeight:"20px",width:"100%"},expectedVariableType:s?.executionMode==="loop"?{Array:"Any"}:void 0,maxRows:4,value:s?.inputField??"",onChange:l=>a({inputField:l?.trim()||null})})}),b.jsx(er.Item,{label:"Output path",children:b.jsx(Yh,{size:"small",readOnly:c,displayDiff:o?.fields?.outputPath?.status==="modified",previousValue:o?.fields?.outputPath?.previousValue,value:s?.outputPath??"",onChange:l=>a({outputPath:l?.target?.value?.trim()||null})})}),b.jsx(er.Item,{label:"Execution mode",children:b.jsx(sc,{size:"small",disabled:c,displayDiff:o?.fields?.executionMode?.status==="modified",previousValue:o?.fields?.executionMode?.previousValue,value:s?.executionMode,onChange:l=>a({executionMode:l?.target?.value}),options:[{value:"single",label:"Single"},{value:"loop",label:"Loop"}]})})]})}},kp=({id:e,manager:n})=>{const r=gt(),o=Ai(e,{attachGlobals:!1}),{disabled:s,configurable:c,content:a,trace:l,globalType:d}=Ze(({disabled:h,configurable:g,decisionGraph:m,simulate:x,globalType:E})=>({disabled:h,configurable:g,content:(m?.nodes??[]).find(D=>D.id===e)?.content,trace:x&&"result"in x?x.result?.trace[e]:void 0,globalType:E})),p=A.useMemo(()=>{if(!o)return;const h=Ie(a?.inputField).with(Ne.string,m=>o.get(m)).otherwise(()=>o),g=a?.executionMode==="loop"?h.arrayItem():h;return Object.entries(d).forEach(([m,x])=>g.set(m,x)),g},[o,d,a?.inputField,a?.executionMode]);return b.jsx("div",{style:{height:"100%",overflowY:"auto",boxSizing:"border-box"},children:b.jsx(kx,{traceData:l?.traceData,value:a?.expressions,disabled:s,configurable:c,manager:n,inputData:p,onChange:h=>{r.updateNode(e,g=>(g.content.expressions=h,g))}})})};kp.__docgenInfo={description:"",methods:[],displayName:"TabExpression",props:{id:{required:!0,tsType:{name:"string"},description:""},manager:{required:!1,tsType:{name:"DragDropManager"},description:""}}};const ll={type:Pe.Expression,icon:b.jsx(fw,{}),displayName:"Expression",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/expression",shortDescription:"Mapping utility",renderTab:({id:e,manager:n})=>b.jsx(kp,{id:e,manager:n}),getDiffContent:(e,n)=>nt(e,o=>{const s={};(e.executionMode||!1)!==(n.executionMode||!1)&&ct.set(s,"executionMode",{status:"modified",previousValue:n.executionMode}),Fs(e.inputField,n.inputField)||ct.set(s,"inputField",{status:"modified",previousValue:n.inputField}),Fs(e.outputPath,n.outputPath)||ct.set(s,"outputPath",{status:"modified",previousValue:n.outputPath}),(e.passThrough||!1)!==(n.passThrough||!1)&&ct.set(s,"passThrough",{status:"modified",previousValue:n.passThrough});const c=ho(e?.expressions||[],n?.expressions||[],{compareFields:(a,l)=>{const d=!Fs(a.key,l.key),p=!Fs(a.value,l.value);return{hasChanges:d||p,fields:{...d&&{key:{status:"modified",previousValue:l.key}},...p&&{value:{status:"modified",previousValue:l.value}}}}}});return o.expressions=c,c.find(a=>a?._diff?.status==="modified"||a?._diff?.status==="added"||a?._diff?.status==="removed")&&ct.set(s,"expressions",{status:"modified"}),Object.keys(s).length>0&&(o._diff={status:"modified",fields:s}),o}),inferTypes:{needsUpdate:(e,n)=>!Qt(e,n),determineOutputType:({input:e,content:n})=>{let r=e.clone(),o=Jt.fromJson({Object:{}});if(n.inputField&&(r=e.calculateType(n.inputField)),n.executionMode==="loop"&&(r=r.arrayItem()),(n.expressions||[]).forEach(s=>{if(!s.key||!s.value)return;const c=r.calculateType(s.value);r.set(`$.${s.key}`,c),o.set(s.key,c)}),n.executionMode==="loop"&&(o=o.toArray()),n.outputPath){const s=Jt.fromJson({Object:{}});s.set(n.outputPath,o),o=s}return n.passThrough&&(o=e.merge(o)),o}},generateNode:({index:e})=>({name:`expression${e}`,content:{inputField:null,outputPath:null,expressions:[],passThrough:!0,executionMode:"single"}}),renderNode:({id:e,data:n,selected:r,specification:o})=>{const s=gt(),{passThrough:c,executionMode:a}=Ze(({decisionGraph:l})=>{const d=(l?.nodes??[]).find(p=>p.id===e)?.content;return{passThrough:d?.passThrough||!1,executionMode:d?.executionMode}});return b.jsx(Er,{id:e,specification:o,name:n.name,isSelected:r,actions:[b.jsx(Ge,{type:"text",onClick:()=>s.openTab(e),children:"Edit Expression"},"edit-table")],helper:[a==="loop"&&b.jsx(h0,{}),c&&b.jsx($c,{})]})},renderSettings:({id:e})=>{const n=gt(),r=Ai(e),{contentDiff:o}=cu(e),{fields:s,disabled:c}=Ze(({decisionGraph:l,disabled:d})=>{const p=(l?.nodes??[]).find(h=>h.id===e)?.content;return{disabled:d,fields:{passThrough:p?.passThrough||!1,inputField:p?.inputField,outputPath:p?.outputPath,executionMode:p?.executionMode||"single"}}}),a=l=>{n.updateNode(e,d=>(Object.assign(d.content,l),d))};return b.jsxs("div",{className:"settings-form",children:[b.jsx(er.Item,{label:"Passthrough",children:b.jsx(Qh,{disabled:c,size:"small",displayDiff:o?.fields?.passThrough?.status==="modified",checked:s?.passThrough,previousChecked:o?.fields?.passThrough?.previousValue,onChange:l=>a({passThrough:l})})}),b.jsx(er.Item,{label:"Input field",children:b.jsx(eu,{variableType:r,disabled:c,displayDiff:o?.fields?.inputField?.status==="modified",previousValue:o?.fields?.inputField?.previousValue,style:{fontSize:12,lineHeight:"20px",width:"100%"},expectedVariableType:s?.executionMode==="loop"?{Array:"Any"}:void 0,maxRows:4,value:s?.inputField??"",onChange:l=>{a({inputField:l?.trim()||null})}})}),b.jsx(er.Item,{label:"Output path",children:b.jsx(Yh,{size:"small",readOnly:c,displayDiff:o?.fields?.outputPath?.status==="modified",previousValue:o?.fields?.outputPath?.previousValue,value:s?.outputPath??"",onChange:l=>a({outputPath:l?.target?.value?.trim()||null})})}),b.jsx(er.Item,{label:"Execution mode",children:b.jsx(sc,{size:"small",disabled:c,displayDiff:o?.fields?.executionMode?.status==="modified",previousValue:o?.fields?.executionMode?.previousValue,value:s?.executionMode,onChange:l=>a({executionMode:l?.target?.value}),options:[{value:"single",label:"Single"},{value:"loop",label:"Loop"}]})})]})}},R8=H.lazy(async()=>({default:(await qx(()=>import("./index-D8_I_-NL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)).Function})),Hp=({id:e})=>{const n=Lp(e),r=gt(),o=Wp(D=>D.onFunctionReady),[s,c]=A.useState(),a=Ai(e),{nodeTrace:l,disabled:d,content:p,additionalModules:h,nodeError:g}=Ze(({simulate:D,disabled:w,configurable:v,decisionGraph:T})=>({nodeTrace:Ie(D).with({result:Ne._},({result:S})=>S?.trace?.[e]).otherwise(()=>null),nodeError:Ie(D).with({error:{data:{nodeId:e}}},({error:S})=>S).otherwise(()=>null),disabled:w,configurable:v,content:(T?.nodes??[]).find(S=>S.id===e)?.content,additionalModules:(T?.nodes??[]).filter(S=>S.type==="functionNode").map(S=>({id:S.id,name:S.name,content:S.content}))})),{diff:m,contentDiff:x}=cu(e),E=A.useMemo(()=>n===ks.Stable?x?.fields?.source?.previousValue:m?.fields?.content?.previousValue,[m,x]);return A.useEffect(()=>{if(!s)return;const D=s.languages.typescript.javascriptDefaults.getExtraLibs(),w=Object.entries(D).map(([v,T])=>({filePath:v,content:T.content})).filter(v=>!v.filePath.startsWith("node:"));h.forEach(v=>{w.push({filePath:`node:${v.name}`,content:`declare module 'node:${v.name}' { ${v.content} }`})}),s.languages.typescript.javascriptDefaults.setExtraLibs(w),o?.(s)},[JSON.stringify(h),s,o]),b.jsx(A.Suspense,{fallback:b.jsx(Pc,{}),children:b.jsx(R8,{onMonacoReady:D=>c(D),value:n===ks.Stable?p.source:p,previousValue:typeof E=="string"?E:void 0,error:g??void 0,inputData:a,onChange:D=>{r.updateNode(e,w=>(n===ks.Stable?w.content={source:D}:w.content=D,w))},disabled:d,trace:l})})};Hp.__docgenInfo={description:"",methods:[],displayName:"TabFunction",props:{id:{required:!0,tsType:{name:"string"},description:""}}};const dl={type:Pe.Function,icon:b.jsx(ft.Text,{style:{color:"white",fontSize:"inherit"},children:"JS"}),displayName:"Function",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/functions",shortDescription:"Javascript lambda",color:Ur.Orange,renderTab:({id:e})=>b.jsx(Hp,{id:e}),getDiffContent:(e,n)=>{const r={},o=Ie(e).with(Ne.string,()=>0).otherwise(()=>1);Ie([e,n]).with([Ne.string,Ne.string],([c,a])=>{c!==a&&ct.set(r,"source",{previousValue:a,status:"modified"})}).with([{source:Ne.string},{source:Ne.string}],([c,a])=>{c?.source!==a?.source&&ct.set(r,"source",{previousValue:a.source,status:"modified"})}).otherwise(()=>{});const s=Object.keys(r).length>0;return{...o===0?{source:e}:e,...s&&{_diff:{status:"modified",fields:r}}}},generateNode:({index:e})=>({name:`function${e}`,content:{source:Gx}}),renderNode:({id:e,data:n,selected:r,specification:o})=>{const s=gt(),c=Lp(e);return b.jsx(Er,{id:e,specification:{...o,displayName:c===1?"Function":b.jsxs("span",{children:["Function v1 ",b.jsx(Mh,{})]})},name:n.name,isSelected:r,helper:[c===0&&b.jsx(Mh,{size:16})],actions:[b.jsx(Ge,{type:"text",onClick:()=>s.openTab(e),children:"Edit Function"},"edit-function")]})}};var ks=(e=>(e[e.Deprecated=0]="Deprecated",e[e.Stable=1]="Stable",e))(ks||{});const Lp=e=>{const{kind:n}=Ze(r=>({kind:Ie(r.decisionGraph.nodes.find(o=>o.id===e)?.content).with(Ne.string,()=>0).otherwise(()=>1)}));return n},Mh=({size:e})=>b.jsx($n,{placement:"top",title:'Function v1 will be deprecated in one of the upcoming releases. To use a new Function, drag and drop a new Function Node and copy your logic. For more information click "Documentation". ',children:b.jsx(Cw,{style:{color:"var(--grl-color-warning-text)",fontSize:e}})}),jp={type:Pe.Switch,icon:b.jsx(R_,{}),displayName:"Switch",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/switch",shortDescription:"Conditional branching",color:Ur.Purple,getDiffContent:(e,n)=>nt(e,r=>{const o={};(e.hitPolicy??"")!==(n.hitPolicy??"")&&ct.set(o,"hitPolicy",{status:"modified",previousValue:e.hitPolicy});const s=ho(e?.statements||[],n?.statements||[],{compareFields:(c,a)=>{const l=(c.condition??"")!==a.condition;return{hasChanges:l,fields:{...l&&{condition:{status:"modified",previousValue:a.condition}}}}}});return r.statements=s,s.find(c=>c?._diff?.status==="modified"||c?._diff?.status==="added"||c?._diff?.status==="removed")&&ct.set(o,"statements",{status:"modified"}),Object.keys(o).length>0&&(r._diff={status:"modified",fields:o}),r}),inferTypes:{needsUpdate:()=>!1,determineOutputType:e=>e.input},generateNode:({index:e})=>({name:`switch${e}`,content:{hitPolicy:"first",statements:[{id:crypto.randomUUID(),condition:"",isDefault:!1}]}}),renderNode:({specification:e,...n})=>b.jsx(M8,{specification:e,...n})},M8=({id:e,data:n,selected:r,specification:o})=>{const s=gt(),{content:c,disabled:a,nodeTrace:l,compactMode:d,isGraphActive:p}=Ze(({decisionGraph:D,disabled:w,simulate:v,compactMode:T,activeTab:S})=>({nodeTrace:Ie(v).with({result:Ne._},({result:N})=>N?.trace?.[e]).otherwise(()=>null),content:(D?.nodes||[]).find(N=>N?.id===e)?.content,disabled:w,compactMode:T,isGraphActive:S==="graph"})),h=Ai(e,{disabled:!p}),g=c?.statements||[],m=c?.hitPolicy||"first",x=D=>{s.updateNode(e,w=>(w.content.hitPolicy=D,w))},E=A.useMemo(()=>d?O8:z8,[d]);return b.jsx(Er,{id:e,className:$e(["switch"]),specification:o,name:n.name,handleRight:!1,helper:[b.jsx($c,{},"arrow-right")],noBodyPadding:!0,isSelected:r,actions:[b.jsx(Ge,{type:"text",disabled:a,onClick:()=>{m==="first"&&g?.length>0?s.updateNode(e,D=>(D.content.statements=(D.content.statements||[]).map(w=>(w.isDefault&&(w.isDefault=!1),w)),D.content.statements.push({id:crypto.randomUUID(),condition:"",isDefault:!0}),D)):s.updateNode(e,D=>(D.content.statements=(D.content.statements||[]).map(w=>(w.isDefault&&(w.isDefault=!1),w)),D.content.statements.push({id:crypto.randomUUID(),condition:"",isDefault:!1}),D))},children:"Add Condition"},"add condition"),b.jsx(po,{trigger:["click"],placement:"bottomRight",menu:{items:[{key:"first",label:"First",onClick:()=>x("first"),disabled:a},{key:"collect",label:"Collect",disabled:a,onClick:()=>{s.updateNode(e,D=>(D.content.statements=(D.content.statements||[]).map(w=>(w.isDefault&&(w.isDefault=!1),w)),D)),x("collect")}}]},children:b.jsxs(Ge,{type:"text",style:{textTransform:"capitalize",marginLeft:"auto"},children:[m," ",b.jsx(Sx,{})]})},"hitPolicy")],children:b.jsx("div",{className:"switchNode",children:b.jsxs("div",{className:"switchNode__body edit nodrag",children:[!(g?.length>0)&&b.jsx(ft.Text,{type:"secondary",className:"no-conditions",children:"No conditions"}),g.map((D,w)=>b.jsx(E,{index:w,value:D.condition,diff:D?._diff,id:D.id,isDefault:D.isDefault,totalStatements:g.length,disabled:a,hitPolicy:m,variableType:h,onSetIsDefault:v=>{s.updateNode(e,T=>{const S=T.content.statements.find(N=>N.id===D.id);return v&&(S.condition=""),S.isDefault=v,T})},isActive:Ie(l?.traceData).with({statements:Ne.array(Ne._)},({statements:v})=>v.some(T=>typeof T=="object"&&T&&"id"in T&&T.id===D?.id)).otherwise(()=>!1),onDelete:()=>{s.updateNode(e,v=>(v.content.statements=v.content.statements.filter(T=>T?.id!==D?.id),(v.content.statements||[]).length===1&&(v.content.statements=(v.content.statements||[]).map(T=>(T.isDefault&&(T.isDefault=!1),T))),v)),s.removeEdgeByHandleId(D?.id)},onChange:v=>{s.updateNode(e,T=>{const S=T.content.statements.find(N=>N.id===D.id);return S.condition=v,T})}},D.id))]})})})},z8=({id:e,value:n,diff:r,onChange:o,disabled:s,configurable:c=!0,onDelete:a,isActive:l,index:d=0,isDefault:p=!1,onSetIsDefault:h,totalStatements:g,hitPolicy:m,variableType:x})=>{const[E,D]=A.useState(n);A.useLayoutEffect(()=>{E!==n&&D(n)},[n]);const w=S=>{D(S),o?.(S)},v=d===g-1,T=p&&m==="first"&&v&&d>0&&(n||"")?.trim?.()?.length===0;return b.jsxs("div",{className:$e("switchNode__statement",l&&"active",r?.status&&`diff-${r?.status}`),children:[b.jsxs("div",{className:$e("switchNode__statement__heading",T&&"switchNode__statement__heading--without-input"),children:[(d===0||m==="collect")&&b.jsx(Ge,{disabled:s,className:$e("switchNode__statement__heading__action"),size:"small",type:"text",children:"If"}),m!=="collect"&&d>0&&b.jsx(Ge,{className:$e("switchNode__statement__heading__action",T&&"inactive"),size:"small",type:"text",disabled:s,onClick:()=>{v&&m==="first"&&h?.(!1)},children:"Else If"}),m!=="collect"&&d>0&&v&&b.jsx(Ge,{className:$e("switchNode__statement__heading__action",!T&&"inactive"),size:"small",type:"text",disabled:s,onClick:()=>{v&&m==="first"&&h?.(!0)},children:"Else"}),b.jsx("div",{style:{flexGrow:1}}),!s&&c&&b.jsx(Xh,{title:"Remove condition?",okText:"Remove",onConfirm:()=>a?.(),children:b.jsx(Ge,{className:"switchNode__statement__delete",size:"small",type:"text",icon:b.jsx(tu,{})})}),b.jsx(Cr,{id:e,type:"source",position:de.Right,className:$e(l&&"switchNode__activeHandle")})]}),!T&&b.jsx("div",{className:"switchNode__statement__inputArea",children:b.jsx(eu,{style:{fontSize:12,lineHeight:"20px",width:"100%"},displayDiff:r?.fields?.condition?.status==="modified",previousValue:r?.fields?.condition?.previousValue,value:E,maxRows:4,disabled:s,onChange:w,variableType:x})})]})},O8=({id:e,value:n,diff:r,onChange:o,disabled:s,configurable:c=!0,onDelete:a,isActive:l,variableType:d})=>{const[p,h]=A.useState(n);A.useLayoutEffect(()=>{p!==n&&h(n)},[n]);const g=m=>{h(m),o?.(m)};return b.jsxs("div",{className:$e("switchNode__statement","compact",l&&"active",r?.status&&`diff-${r?.status}`),children:[b.jsx("div",{className:$e("switchNode__statement__inputArea"),children:b.jsx(eu,{style:{fontSize:12,lineHeight:"20px",width:"100%"},displayDiff:r?.fields?.condition?.status==="modified",previousValue:r?.fields?.condition?.previousValue,value:p,maxRows:4,disabled:s,onChange:g,variableType:d})}),!s&&c&&b.jsx("div",{className:"switchNode__statement__button",children:b.jsx(Xh,{title:"Remove condition?",okText:"Remove",onConfirm:()=>a?.(),children:b.jsx(Ge,{className:"switchNode__statement__delete",size:"small",type:"text",icon:b.jsx(tu,{})})})}),b.jsx(Cr,{id:e,type:"source",position:de.Right,className:$e(l&&"switchNode__activeHandle")})]})},Fs=(e,n)=>{const r=(e||"").trim(),o=(n||"").trim();return r===o},$8=(e,n,r)=>{const o=P8(e?.nodes??[],n?.nodes??[],r),s=k8(e?.edges??[],n?.edges??[]);return{nodes:o,edges:s,settings:e?.settings}},P8=(e,n,r)=>{const o=r?.components||[],s=r?.customNodes||[],c=new Map;return(e||[]).forEach(a=>{const l=(n||[]).find(d=>d.id===a.id);if(!l)c.set(a.id,{...a,_diff:{status:"added"}});else{const d={};(l.position.x!==a.position.x||l.position.y!==a.position.y)&&ct.set(d,"position",{status:"moved",previousValue:l.position}),l.name!==a.name&&ct.set(d,"name",{status:"modified",previousValue:l.name});const p=Ie([a.type,l.type]).with([Pe.Expression,Pe.Expression],()=>ll?.getDiffContent?.(a?.content,l?.content)).with([Pe.DecisionTable,Pe.DecisionTable],()=>cl?.getDiffContent?.(a?.content,l?.content)).with([Pe.Function,Pe.Function],()=>{const h=dl?.getDiffContent?.(a?.content,l?.content);return Ie(a?.content).with(Ne.string,()=>(h?._diff?.fields?.source?.status==="modified"&&ct.set(d,"content",{status:"modified",previousValue:h?._diff?.fields?.source?.previousValue}),h?.source)).otherwise(()=>h)}).with([Pe.Switch,Pe.Switch],()=>jp?.getDiffContent?.(a?.content,l?.content)).otherwise(()=>{const h=o.find(m=>m.type===a.type);if(h)return h?.getDiffContent?.(a?.content,l?.content);const g=s.find(m=>a?.type==="customNode"&&a?.content?.kind===m?.kind);return g?g?.calculateDiff?.(a?.content,l?.content):null});Object.keys(d||{}).filter(h=>h!=="position").length>0||p?._diff?.status==="modified"?c.set(a.id,{...a,content:p??a.content,_diff:{status:"modified",fields:d}}):Object.keys(d||{}).length===1&&d?.position?.status==="moved"?c.set(a.id,{...a,content:p??a.content,_diff:{status:"moved",fields:d}}):c.set(a.id,{...a,_diff:{status:"unchanged"}})}}),(n||[]).forEach(a=>{c.has(a.id)||c.set(a.id,{...a,_diff:{status:"removed"}})}),Array.from(c.values())},k8=(e,n)=>{const r=new Map;return(e||[]).forEach(o=>{(n||[]).find(c=>c.id===o.id)?r.set(o.id,{...o,_diff:{status:"unchanged"}}):r.set(o.id,{...o,_diff:{status:"added"}})}),(n||[]).forEach(o=>{r.has(o.id)||r.set(o.id,{...o,_diff:{status:"removed"}})}),Array.from(r.values())},ho=(e,n,r={})=>{const{idField:o="id",compareFields:s}=r,c=m=>m[o]||m._id,a=new Map(n.map((m,x)=>[c(m),{...m,index:x}])),l=new Map(e.map((m,x)=>[c(m),{...m,index:x}])),d=[],p=new Set,h=new Set;e.forEach((m,x)=>{a.has(c(m))||p.add(x)}),n.forEach((m,x)=>{l.has(c(m))||h.add(x)});const g=(m,x)=>{const E=Array.from(p).filter(T=>T<x).length,D=Array.from(h).filter(T=>T<m).length,w=x-E;return m-D!==w};return e.forEach((m,x)=>{const E=a.get(c(m));if(!E)d.push({...m,originalIndex:x,_diff:{status:"added",newIndex:x}});else{const D=g(E.index,x),w=s?s(m,E):{hasChanges:!1};w.hasChanges||D?d.push({...m,originalIndex:x,_diff:{status:"modified",positionChanged:D,previousIndex:E.index,newIndex:x,...w.fields?{fields:w.fields}:{}}}):d.push({...m,originalIndex:x,_diff:{status:"unchanged"}})}}),n.forEach((m,x)=>{if(!l.has(c(m))){let E=x;for(;E<d.length&&a.get(c(d[E]))?.index<x;)E++;d.splice(E,0,{...m,originalIndex:x,isRemoved:!0,_diff:{status:"removed",previousIndex:x}})}}),d.map(({originalIndex:m,isRemoved:x,...E})=>E)},Lt=Symbol("private"),H8=e=>({id:e?.id,sourceId:e?.source,type:e?.type,targetId:e?.target,name:e?.label,sourceHandle:e.sourceHandle??void 0,targetHandle:e.targetHandle??void 0}),Bc=e=>({id:e.id,type:e.type,position:e.position,height:e[Lt]?.dimensions?.height,width:e[Lt]?.dimensions?.width,selected:e[Lt]?.selected,data:{name:e.name,kind:e?.content?.kind}}),co=e=>e.map(Bc),Ic=e=>({id:e.id,source:e.sourceId,type:e?.type||"edge",target:e.targetId,label:e.name,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle,markerEnd:{type:_o.ArrowClosed,width:20,height:20}}),Rc=e=>e.filter(n=>n.sourceId&&n.targetId).map(Ic);var We=(e=>(e[e.Input=0]="Input",e[e.Output=1]="Output",e[e.InferredInput=2]="InferredInput",e[e.InferredOutput=3]="InferredOutput",e))(We||{});const Si=H.createContext({}),Vp=e=>{const{children:n}=e,r=A.useMemo(()=>Ua()(()=>({id:void 0,simulate:void 0,decisionGraph:{nodes:[],edges:[]},hoveredEdgeId:null,openTabs:[],activeTab:"graph",name:"graph.json",disabled:!1,configurable:!0,components:[],customNodes:[],activePanel:void 0,panels:[],compactMode:localStorage.getItem("jdm-compact-mode")==="true",nodeTypes:{},globalType:{}})),[]),o=A.useMemo(()=>Ua(()=>({onChange:void 0,onPanelsChange:void 0})),[]),s=A.useMemo(()=>Ua(()=>({nodesState:A.createRef(),edgesState:A.createRef(),graphClipboard:A.createRef()})),[]),c=A.useMemo(()=>({handleNodesChange:(a=[])=>{const{nodesState:l}=s.getState(),{decisionGraph:d}=r.getState(),[,,p]=l.current;let h=!1;p?.(a);const g=nt(d,m=>{a.forEach(x=>Ie(x).with({type:"position"},E=>{const D=m.nodes.find(w=>w.id===E.id);D&&E.position&&!Qt(D.position,E.position)&&(h=!0,D.position=E.position)}).with({type:"dimensions"},E=>{const D=m.nodes.find(w=>w.id===E.id);D&&!Qt(D[Lt]?.dimensions,E.dimensions)&&(h=!0,D[Lt]??={},D[Lt].dimensions={height:E.dimensions?.height,width:E.dimensions?.width})}).with({type:"select"},E=>{const D=m.nodes.find(w=>w.id===E.id);D&&D[Lt]?.selected!==E.selected&&(h=!0,D[Lt]??={},D[Lt].selected=E.selected)}).otherwise(()=>{}))});h&&(r.setState({decisionGraph:g}),o.getState().onChange?.(g))},handleEdgesChange:(a=[])=>{const{decisionGraph:l}=r.getState(),{edgesState:d}=s.getState();if(d?.current?.[2](a),a.find(p=>p.type==="remove")){const p=nt(l,h=>{const g=(h.edges||[]).map(m=>a.find(E=>"id"in E&&E.id===m.id)?.type==="remove"?null:m).filter(m=>!!m);h.edges=g});r.setState({decisionGraph:p}),o.getState().onChange?.(p)}},setNodes:(a=[])=>{const{nodesState:l}=s.getState(),{decisionGraph:d}=r.getState();l?.current?.[1](co(a));const p=nt(d,h=>{h.nodes=a});r.setState({decisionGraph:p}),o.getState().onChange?.(p)},addNodes:a=>{const{nodesState:l}=s.getState(),{decisionGraph:d}=r.getState();l.current[0]?.some(g=>g.type===Pe.Input)&&(a=a.filter(g=>g.type!==Pe.Input)),l.current[1]?.(g=>g.concat(co(a)));const h=nt(d,g=>{g.nodes=(g.nodes||[]).concat(a)});r.setState({decisionGraph:h}),o.getState().onChange?.(h)},duplicateNodes:a=>{const{nodesState:l,edgesState:d}=s.getState(),{decisionGraph:p}=r.getState();let h=(p?.nodes||[]).filter(v=>a.includes(v.id));if(l.current[0]?.some(v=>v.type===Pe.Input)&&(h=h.filter(v=>v.type!==Pe.Input)),h.length===0)return;const m=h.reduce((v,T)=>({...v,[T.id]:crypto.randomUUID()}),{}),x=h.map(v=>({...v,id:m[v.id],position:{x:v.position?.x||0,y:(v.position?.y||0)+140}})),E=Object.keys(m),D=[];x.length>0&&(d.current?.[0]||[]).forEach(v=>{E.includes(v.source)&&E.includes(v.target)&&D.push({id:crypto.randomUUID(),type:v.type,sourceId:m[v.source],targetId:m[v.target],sourceHandle:v.sourceHandle??void 0,targetHandle:v.targetHandle??void 0})}),l.current[1]?.(v=>v.concat(x.map(Bc))),d.current[1]?.(v=>v.concat(D.map(Ic)));const w=nt(p,v=>{v.nodes.push(...x),v.edges.push(...D)});r.setState({decisionGraph:w}),o.getState().onChange?.(w)},copyNodes:a=>{const{graphClipboard:l,nodesState:d}=s.getState();if(!l.current||!d.current)return;const[p]=d.current,h=p.filter(g=>a.includes(g.id));l.current.copyNodes(h)},pasteNodes:()=>{const{graphClipboard:a}=s.getState();a.current?.pasteNodes?.()},removeNodes:(a=[])=>{const{nodesState:l,edgesState:d}=s.getState(),{decisionGraph:p,nodeTypes:h}=r.getState();l.current[1]?.(x=>x.filter(E=>a.every(D=>E.id!==D))),d.current[1]?.(x=>x.filter(E=>a.every(D=>E.source!==D&&E.target!==D&&E.sourceHandle!==D&&E.targetHandle!==D)));const g=nt(p,x=>{const E=x.nodes||[],D=x.edges||[];x.nodes=E.filter(w=>a.every(v=>w.id!==v)),x.edges=D.filter(w=>a.every(v=>w.sourceId!==v&&w.targetId!==v&&w.sourceHandle!==v&&w.targetHandle!==v))}),m=nt(h,x=>{a.forEach(E=>{E in x&&delete x[E]})});r.setState({decisionGraph:g,nodeTypes:m}),o.getState().onChange?.(g)},addEdges:a=>{const{edgesState:l}=s.getState(),{decisionGraph:d}=r.getState();l.current?.[1]?.(h=>h.concat(a.map(Ic)));const p=nt(d,h=>{h.edges=(h.edges||[]).concat(a)});r.setState({decisionGraph:p}),o.getState().onChange?.(p)},setEdges:(a=[])=>{const{edgesState:l}=s.getState(),{decisionGraph:d}=r.getState();l?.current?.[1]?.(Rc(a));const p=nt(d,h=>{h.edges=a});r.setState({decisionGraph:p}),o.getState().onChange?.(p)},removeEdges:a=>{const{edgesState:l}=s.getState(),{decisionGraph:d}=r.getState();l?.current?.[1]?.(h=>h.filter(g=>!a.find(m=>g.id===m)));const p=nt(d,h=>{h.edges=h.edges.filter(g=>!a.find(m=>g.id===m))});r.setState({decisionGraph:p}),o.getState().onChange?.(p)},removeEdgeByHandleId:a=>{if(!a)return;const{edgesState:l}=s.getState(),{decisionGraph:d}=r.getState();l?.current?.[1]?.(h=>h.filter(g=>g.sourceHandle!==a));const p=nt(d,h=>{h.edges=h.edges.filter(g=>g.sourceHandle!==a)});r.setState({decisionGraph:p}),o.getState().onChange?.(p)},updateNode:(a,l)=>{const{decisionGraph:d}=r.getState(),{nodesState:p}=s.getState(),[h,g]=p.current,m=nt(d,w=>{const v=(w.nodes??[]).find(T=>T?.id===a);v&&l(v)}),x=m.nodes.find(w=>w.id===a);if(!x)return;const E=Bc(x),D=h.find(w=>w.id===a);Qt(E,D)||g(w=>w.map(v=>v.id===a?E:v)),r.setState({decisionGraph:m}),o.getState().onChange?.(m)},setDecisionGraph:(a,l={})=>{const{decisionGraph:d}=r.getState(),{edgesState:p,nodesState:h}=s.getState(),{skipOnChangeEvent:g=!1}=l,m=nt(d,x=>{Object.assign(x,a)});p?.current?.[1](Rc(m?.edges??[])),h?.current?.[1](co(m?.nodes??[])),r.setState({decisionGraph:m}),g||o.getState().onChange?.(m)},calculateDiffGraph:(a,l)=>{const{components:d,customNodes:p}=r.getState();return $8(a,l,{components:d,customNodes:p})},setHoveredEdgeId:a=>r.setState({hoveredEdgeId:a}),openTab:a=>{const{openTabs:l}=r.getState(),d=l.find(p=>p===a);if(a==="graph")return r.setState({activeTab:a});d?r.setState({activeTab:d}):r.setState({openTabs:[...l,a],activeTab:a})},closeTab:(a,l)=>{const{openTabs:d,activeTab:p}=r.getState(),h=d?.findIndex(D=>D===a),g=d?.[h],m=Ie(l).with(void 0,()=>d.filter(D=>D!==g)).with("close",()=>d.filter(D=>D!==g)).with("close-all",()=>[]).with("close-other",()=>d.filter(D=>D===g)).with("close-right",()=>d.slice(0,h+1)).with("close-left",()=>d.slice(h)).otherwise(()=>d),x={openTabs:m};m?.find(D=>D===p)||(x.activeTab=m?.[h-1]??"graph"),r.setState(x)},setActivePanel:a=>{const{panels:l}=r.getState(),d={activePanel:a===void 0?void 0:(l||[]).find(p=>p.id===a)?.id};o.getState()?.onPanelsChange?.(a),r.setState(d)},setCompactMode:a=>{const l={compactMode:a};localStorage.setItem("jdm-compact-mode",`${a}`),r.setState(l)},toggleCompactMode:()=>{const{compactMode:a}=r.getState(),l=!a,d={compactMode:l};localStorage.setItem("jdm-compact-mode",`${l}`),r.setState(d)},setNodeType:(a,l,d)=>{const{nodeTypes:p}=r.getState(),h=nt(p,g=>{g[a]??={},g[a][l]=d});r.setState({nodeTypes:h})},removeNodeType:(a,l)=>{const{nodeTypes:d}=r.getState(),p=nt(d,h=>{a in h&&(l?l in h[a]&&delete h[a][l]:delete h[a])});r.setState({nodeTypes:p})},triggerNodeSelect:(a,l)=>{const{decisionGraph:d}=r.getState(),{nodesState:p,edgesState:h}=s.getState(),[,g]=p.current,[,m]=h.current,x=nt(d,E=>{const D=E.nodes.find(w=>w.id===a);D&&(l==="only"&&E.nodes.forEach(w=>{w[Lt]&&(w[Lt].selected=!1)}),D[Lt]??={},D[Lt].selected=Ie(l).with("only",()=>!0).otherwise(()=>!D[Lt]?.selected))});g(co(x.nodes)),l=="only"&&m(E=>E.map(D=>({...D,selected:!1}))),r.setState({decisionGraph:x}),o.getState().onChange?.(x)}}),[]);return b.jsx(Si.Provider,{value:{stateStore:r,referenceStore:s,listenerStore:o,actions:c},children:n})};function Ze(e,n=Qt){return H.useContext(Si).stateStore(e,n)}function Wp(e,n=Qt){return H.useContext(Si).listenerStore(e,n)}function L8(e,n=Qt){return H.useContext(Si).referenceStore(e,n)}function gt(){return H.useContext(Si).actions}function Fi(){return H.useContext(Si)}const cu=e=>{const{diff:n,contentDiff:r}=Ze(o=>{const s=(o?.decisionGraph?.nodes??[]).find(c=>c.id===e);return{diff:s?._diff,contentDiff:s?.content?._diff}});return{diff:n,contentDiff:r}},j8=e=>{const{diff:n}=Ze(r=>({diff:(r?.decisionGraph?.edges??[]).find(s=>s.id===e)?._diff}));return{diff:n}};Vp.__docgenInfo={description:"",methods:[],displayName:"DecisionGraphProvider"};const V8=({id:e,defaultValue:n,value:r,name:o,disabled:s=!1,configurable:c=!0,onChange:a,components:l,customNodes:d,defaultActivePanel:p,panels:h,simulate:g,onPanelsChange:m,onReactFlowInit:x,onCodeExtension:E,onFunctionReady:D})=>{const w=A.useRef(!1),v=gt(),{stateStore:T,listenerStore:S}=Fi(),{decisionGraph:N}=Ze(({decisionGraph:k})=>({decisionGraph:k})),z=Px(k=>{a?.(k)},100);return A.useEffect(()=>{T.setState({id:e,disabled:s,configurable:c,components:Array.isArray(l)?l:[],customNodes:Array.isArray(d)?d:[],panels:h})},[e,s,c,l,d,h]),A.useEffect(()=>{T.setState({name:o??"graph.json"})},[o]),A.useEffect(()=>{T.setState({simulate:g})},[g]),A.useEffect(()=>{S.setState({onReactFlowInit:x,onPanelsChange:m,onCodeExtension:E,onFunctionReady:D})},[x,m,E,D]),A.useEffect(()=>{S.setState({onChange:z})},[z]),A.useEffect(()=>{w.current&&r!==void 0&&!Qt(r,N)&&v.setDecisionGraph(r)},[r]),A.useEffect(()=>{r!==void 0?v.setDecisionGraph(r):n!==void 0&&v.setDecisionGraph(n),T.setState({activePanel:p}),w.current=!0},[]),null},W8=()=>{let e=null;return{walk:function*(n){const r=G8(n);if(e&&Qt(r,e.digest)){yield*q8(n,e.iterator);return}const o=[];for(const s of U8(n))o.push({id:s.node.id,incomers:s.incomers.map(c=>c.id)}),yield s;e={digest:r,iterator:o}}}},G8=e=>{const n=e.nodes.map(o=>o.id),r=e.edges;return{nodes:n,edges:r}};function*U8(e){const n=co(e.nodes),r=Rc(e.edges),o=e.nodes.find(l=>l.type==="inputNode"),s=n.find(l=>l.id===o?.id);if(!o||!s||Y8(s,n,r))return;yield{node:o,incomers:[]};const c=new Set;c.add(o.id);const a=Ks(s,n,r);for(;a.length>0;){const l=a.pop();if(c.has(l.id))continue;const d=$3(l,n,r),p=d.filter(m=>!c.has(m.id));if(p.length>0){a.push(l,...p);continue}c.add(l.id);const h=e.nodes.find(m=>m.id===l.id);if(h){const m=e.nodes.filter(x=>d.some(E=>E.id===x.id));yield{node:h,incomers:m}}const g=Ks(l,n,r);a.push(...g)}}function*q8(e,n){for(const r of n){const o=e.nodes.find(c=>c.id===r.id);if(!o)continue;const s=e.nodes.filter(c=>r.incomers.includes(c.id));yield{node:o,incomers:s}}}const Y8=(e,n,r)=>{const o=new Set,s=new Set,c=a=>{o.add(a.id),s.add(a.id);const l=Ks(a,n,r);for(const d of l)if(o.has(d.id)){if(s.has(d.id))return!0}else if(c(d))return!0;return s.delete(a.id),!1};return c(e)},X8={type:Pe.Input,icon:b.jsx(sw,{}),displayName:"Request",color:Ur.Green,documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions",shortDescription:"Provides input context",generateNode:()=>({name:"request"}),renderNode:({id:e,data:n,selected:r,specification:o})=>{const s=gt(),{disabled:c}=Ze(({disabled:a})=>({disabled:a}));return b.jsx(Er,{id:e,specification:o,name:n.name,isSelected:r,handleLeft:!1,menuItems:[{key:"documentation",icon:b.jsx(f0,{}),label:"Documentation",onClick:()=>window.open(o.documentationUrl,"_href")},{key:"delete",icon:b.jsx(tu,{}),danger:!0,label:b.jsx(io,{left:"Delete",right:Ps.shortcut("Backspace")}),disabled:c,onClick:()=>Oc.confirm({icon:null,title:"Delete node",content:b.jsxs(ft.Text,{children:["Are you sure you want to delete ",b.jsx(ft.Text,{strong:!0,children:n.name})," node."]}),okButtonProps:{danger:!0},onOk:()=>s.removeNodes([e])})}]})}},Z8={type:Pe.Output,icon:b.jsx(cw,{}),color:Ur.Green,displayName:"Response",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions",shortDescription:"Outputs the context",generateNode:()=>({name:"response"}),renderNode:({id:e,data:n,selected:r,specification:o})=>b.jsx(Er,{id:e,specification:o,name:n.name,isSelected:r,handleRight:!1})};const Gr={[Pe.Input]:X8,[Pe.Output]:Z8,[Pe.DecisionTable]:cl,[Pe.Expression]:ll,[Pe.Function]:dl,[Pe.Switch]:jp},K8=()=>{const{stateStore:e}=Fi();return A.useEffect(()=>{if(lo())return e.subscribe(({simulate:n,nodeTypes:r,decisionGraph:o},s)=>{if(Qt(n,s?.simulate))return;const c=Ie(n).with({result:Ne.nonNullable},({result:d})=>d.trace).otherwise(()=>null);if(c===null){const d=nt(r,p=>{Object.values(p).forEach(h=>{delete h[We.Input],delete h[We.Output]})});e.setState({nodeTypes:d});return}const a=Object.values(c);if(a.length===0)return;const l=nt(r,d=>{a.forEach(p=>{o.nodes.find(g=>g.id===p.id)?.type!=="inputNode"&&(d[p.id]??={},d[p.id][We.Output]=new Jt(p.output??{}),d[p.id][We.Input]=new Jt(p.input??{}))})});e.setState({nodeTypes:l})})},[]),A.useEffect(()=>{if(!lo())return;const n=W8();return e.subscribe((r,o)=>{const s=zh(r),c=zh(o),a=Q8(r,o);if(Qt(s,c)&&!a)return;const l=J8(r,o,n);l.isModified&&e.setState({nodeTypes:l.nodeTypes})})},[]),A.useEffect(()=>{if(lo())return e.subscribe((n,r)=>{const o=Oh(n),s=Oh(r);if(Qt(o,s))return;const c=Jt.fromJson({Object:{}});n.decisionGraph.nodes.forEach(a=>{const l=n.nodeTypes[a.id],d=l?.[We.Output]??l?.[We.InferredOutput]??Jt.fromJson({Object:{}});c.set(a.name,d)}),e.setState({globalType:{$nodes:c}})})},[]),null},J8=({decisionGraph:e,nodeTypes:n,customNodes:r},o,s)=>{let c=!1;const a=nt(n,l=>{s.walk(e).forEach(({node:d,incomers:p})=>{if(d.type==="inputNode")return;const h=p.map(N=>{const z=l[N.id]??{};return z[We.Output]??z[We.InferredOutput]}).filter(N=>!!N).map(N=>N.clone()),g=Ie(h.length).with(1,()=>h[0]).otherwise(()=>Jt.fromIncoming(h));l?.[d.id]?.[We.InferredInput]?.equal(g)||(c=!0,l[d.id]??={},l[d.id][We.InferredInput]=g);const x=Gr[d.type]?.inferTypes??r.find(N=>N.kind===d.type)?.inferTypes;if(!x)return;const E=l?.[d.id]?.[We.Input]??l?.[d.id]?.[We.InferredInput]??Jt.fromJson("Any"),D=o.nodeTypes?.[d.id]?.[We.Input]??o.nodeTypes?.[d.id]?.[We.InferredInput]??Jt.fromJson("Any"),w=o.decisionGraph.nodes.find(N=>N.id===d.id)?.content;if(!(x.needsUpdate(d.content,w)||!E.equal(D))&&l?.[d.id]?.[We.InferredOutput])return;const T=x.determineOutputType({input:E,content:d.content});l?.[d.id]?.[We.InferredOutput]?.equal(T)||(c=!0,l[d.id]??={},l[d.id][We.InferredOutput]=T)})});return{isModified:c,nodeTypes:a}},zh=({decisionGraph:e,nodeTypes:n,customNodes:r})=>{const o=e.edges,s=e.nodes.map(({id:p,type:h})=>({id:p,type:h})),c=r.map(p=>p.kind),a=Object.entries(n).map(([p,h])=>({id:p,input:Mc(h[We.Input]),output:Mc(h[We.Output])})),l=e.nodes.find(p=>p.type==="inputNode")?.id,d=Ie(n?.[l??""]?.[We.InferredOutput]).with(Ne.nonNullable,p=>p.hash()).otherwise(()=>null);return{edgesData:o,nodesData:s,typesData:a,customNodesData:c,inputNodeType:d}},Q8=({decisionGraph:e,customNodes:n},r)=>e.nodes.map(s=>{const c=Gr[s.type]?.inferTypes??n.find(l=>l.kind===s.type)?.inferTypes;if(!c)return!1;const a=r.decisionGraph.nodes.find(l=>l.id===s.id);return a?c.needsUpdate(s.content,a.content):!0}).some(s=>s),Mc=e=>{if(e)return e.__hash||(e.__hash=e.hash()),e.__hash},Oh=e=>({nodeInfo:e.decisionGraph.nodes.map(r=>{const o=e.nodeTypes[r.id],s=o?.[We.Output]??o?.[We.InferredOutput];return{id:r.id,type:Mc(s),name:r.name}})});var eA=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])},e(n,r)};return function(n,r){e(n,r);function o(){this.constructor=n}n.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),at=function(){return at=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},at.apply(this,arguments)},$h={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Ph={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Ns={width:"20px",height:"20px",position:"absolute"},tA={top:at(at({},$h),{top:"-5px"}),right:at(at({},Ph),{left:void 0,right:"-5px"}),bottom:at(at({},$h),{top:void 0,bottom:"-5px"}),left:at(at({},Ph),{left:"-5px"}),topRight:at(at({},Ns),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:at(at({},Ns),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:at(at({},Ns),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:at(at({},Ns),{left:"-10px",top:"-10px",cursor:"nw-resize"})},nA=function(e){eA(n,e);function n(){var r=e!==null&&e.apply(this,arguments)||this;return r.onMouseDown=function(o){r.props.onResizeStart(o,r.props.direction)},r.onTouchStart=function(o){r.props.onResizeStart(o,r.props.direction)},r}return n.prototype.render=function(){return A.createElement("div",{className:this.props.className||"",style:at(at({position:"absolute",userSelect:"none"},tA[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},n}(A.PureComponent),rA=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])},e(n,r)};return function(n,r){e(n,r);function o(){this.constructor=n}n.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),zn=function(){return zn=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},zn.apply(this,arguments)},iA={width:"auto",height:"auto"},Ts=function(e,n,r){return Math.max(Math.min(e,r),n)},kh=function(e,n,r){var o=Math.round(e/n);return o*n+r*(o-1)},hi=function(e,n){return new RegExp(e,"i").test(n)},Bs=function(e){return!!(e.touches&&e.touches.length)},oA=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},Hh=function(e,n,r){r===void 0&&(r=0);var o=n.reduce(function(c,a,l){return Math.abs(a-e)<Math.abs(n[c]-e)?l:c},0),s=Math.abs(n[o]-e);return r===0||s<r?n[o]:e},oc=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},Is=function(e,n,r,o){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var s=Number(e.replace("%",""))/100;return n*s}if(e.endsWith("vw")){var s=Number(e.replace("vw",""))/100;return r*s}if(e.endsWith("vh")){var s=Number(e.replace("vh",""))/100;return o*s}}return e},sA=function(e,n,r,o,s,c,a){return o=Is(o,e.width,n,r),s=Is(s,e.height,n,r),c=Is(c,e.width,n,r),a=Is(a,e.height,n,r),{maxWidth:typeof o>"u"?void 0:Number(o),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof c>"u"?void 0:Number(c),minHeight:typeof a>"u"?void 0:Number(a)}},uA=function(e){return Array.isArray(e)?e:[e,e]},aA=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Lh="__resizable_base__",cA=function(e){rA(n,e);function n(r){var o,s,c,a,l=e.call(this,r)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.appendBase=function(){if(!l.resizable||!l.window)return null;var d=l.parentNode;if(!d)return null;var p=l.window.document.createElement("div");return p.style.width="100%",p.style.height="100%",p.style.position="absolute",p.style.transform="scale(0, 0)",p.style.left="0",p.style.flex="0 0 100%",p.classList?p.classList.add(Lh):p.className+=Lh,d.appendChild(p),p},l.removeBase=function(d){var p=l.parentNode;p&&p.removeChild(d)},l.state={isResizing:!1,width:(s=(o=l.propsSize)===null||o===void 0?void 0:o.width)!==null&&s!==void 0?s:"auto",height:(a=(c=l.propsSize)===null||c===void 0?void 0:c.height)!==null&&a!==void 0?a:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||iA},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var r=0,o=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,c=this.resizable.offsetHeight,a=this.resizable.style.position;a!=="relative"&&(this.resizable.style.position="relative"),r=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,o=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:c,this.resizable.style.position=a}return{width:r,height:o}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var r=this,o=this.props.size,s=function(l){var d;if(typeof r.state[l]>"u"||r.state[l]==="auto")return"auto";if(r.propsSize&&r.propsSize[l]&&(!((d=r.propsSize[l])===null||d===void 0)&&d.toString().endsWith("%"))){if(r.state[l].toString().endsWith("%"))return r.state[l].toString();var p=r.getParentSize(),h=Number(r.state[l].toString().replace("px","")),g=h/p[l]*100;return g+"%"}return oc(r.state[l])},c=o&&typeof o.width<"u"&&!this.state.isResizing?oc(o.width):s("width"),a=o&&typeof o.height<"u"&&!this.state.isResizing?oc(o.height):s("height");return{width:c,height:a}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var r=this.appendBase();if(!r)return{width:0,height:0};var o=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(o=!0,this.parentNode.style.flexWrap="wrap"),r.style.position="relative",r.style.minWidth="100%",r.style.minHeight="100%";var c={width:r.offsetWidth,height:r.offsetHeight};return o&&(this.parentNode.style.flexWrap=s),this.removeBase(r),c},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var r=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:r.flexBasis!=="auto"?r.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(r,o){var s=this.propsSize&&this.propsSize[o];return this.state[o]==="auto"&&this.state.original[o]===r&&(typeof s>"u"||s==="auto")?"auto":r},n.prototype.calculateNewMaxFromBoundary=function(r,o){var s=this.props.boundsByDirection,c=this.state.direction,a=s&&hi("left",c),l=s&&hi("top",c),d,p;if(this.props.bounds==="parent"){var h=this.parentNode;h&&(d=a?this.resizableRight-this.parentLeft:h.offsetWidth+(this.parentLeft-this.resizableLeft),p=l?this.resizableBottom-this.parentTop:h.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(d=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,p=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(d=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),p=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return d&&Number.isFinite(d)&&(r=r&&r<d?r:d),p&&Number.isFinite(p)&&(o=o&&o<p?o:p),{maxWidth:r,maxHeight:o}},n.prototype.calculateNewSizeFromDirection=function(r,o){var s=this.props.scale||1,c=uA(this.props.resizeRatio||1),a=c[0],l=c[1],d=this.state,p=d.direction,h=d.original,g=this.props,m=g.lockAspectRatio,x=g.lockAspectRatioExtraHeight,E=g.lockAspectRatioExtraWidth,D=h.width,w=h.height,v=x||0,T=E||0;return hi("right",p)&&(D=h.width+(r-h.x)*a/s,m&&(w=(D-T)/this.ratio+v)),hi("left",p)&&(D=h.width-(r-h.x)*a/s,m&&(w=(D-T)/this.ratio+v)),hi("bottom",p)&&(w=h.height+(o-h.y)*l/s,m&&(D=(w-v)*this.ratio+T)),hi("top",p)&&(w=h.height-(o-h.y)*l/s,m&&(D=(w-v)*this.ratio+T)),{newWidth:D,newHeight:w}},n.prototype.calculateNewSizeFromAspectRatio=function(r,o,s,c){var a=this.props,l=a.lockAspectRatio,d=a.lockAspectRatioExtraHeight,p=a.lockAspectRatioExtraWidth,h=typeof c.width>"u"?10:c.width,g=typeof s.width>"u"||s.width<0?r:s.width,m=typeof c.height>"u"?10:c.height,x=typeof s.height>"u"||s.height<0?o:s.height,E=d||0,D=p||0;if(l){var w=(m-E)*this.ratio+D,v=(x-E)*this.ratio+D,T=(h-D)/this.ratio+E,S=(g-D)/this.ratio+E,N=Math.max(h,w),z=Math.min(g,v),k=Math.max(m,T),j=Math.min(x,S);r=Ts(r,N,z),o=Ts(o,k,j)}else r=Ts(r,h,g),o=Ts(o,m,x);return{newWidth:r,newHeight:o}},n.prototype.setBoundingClientRect=function(){var r=1/(this.props.scale||1);if(this.props.bounds==="parent"){var o=this.parentNode;if(o){var s=o.getBoundingClientRect();this.parentLeft=s.left*r,this.parentTop=s.top*r}}if(this.props.bounds&&typeof this.props.bounds!="string"){var c=this.props.bounds.getBoundingClientRect();this.targetLeft=c.left*r,this.targetTop=c.top*r}if(this.resizable){var a=this.resizable.getBoundingClientRect(),l=a.left,d=a.top,p=a.right,h=a.bottom;this.resizableLeft=l*r,this.resizableRight=p*r,this.resizableTop=d*r,this.resizableBottom=h*r}},n.prototype.onResizeStart=function(r,o){if(!(!this.resizable||!this.window)){var s=0,c=0;if(r.nativeEvent&&oA(r.nativeEvent)?(s=r.nativeEvent.clientX,c=r.nativeEvent.clientY):r.nativeEvent&&Bs(r.nativeEvent)&&(s=r.nativeEvent.touches[0].clientX,c=r.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var a=this.props.onResizeStart(r,o,this.resizable);if(a===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,d=this.window.getComputedStyle(this.resizable);if(d.flexBasis!=="auto"){var p=this.parentNode;if(p){var h=this.window.getComputedStyle(p).flexDirection;this.flexDir=h.startsWith("row")?"row":"column",l=d.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var g={original:{x:s,y:c,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:zn(zn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(r.target).cursor||"auto"}),direction:o,flexBasis:l};this.setState(g)}},n.prototype.onMouseMove=function(r){var o=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Bs(r))try{r.preventDefault(),r.stopPropagation()}catch{}var s=this.props,c=s.maxWidth,a=s.maxHeight,l=s.minWidth,d=s.minHeight,p=Bs(r)?r.touches[0].clientX:r.clientX,h=Bs(r)?r.touches[0].clientY:r.clientY,g=this.state,m=g.direction,x=g.original,E=g.width,D=g.height,w=this.getParentSize(),v=sA(w,this.window.innerWidth,this.window.innerHeight,c,a,l,d);c=v.maxWidth,a=v.maxHeight,l=v.minWidth,d=v.minHeight;var T=this.calculateNewSizeFromDirection(p,h),S=T.newHeight,N=T.newWidth,z=this.calculateNewMaxFromBoundary(c,a);this.props.snap&&this.props.snap.x&&(N=Hh(N,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(S=Hh(S,this.props.snap.y,this.props.snapGap));var k=this.calculateNewSizeFromAspectRatio(N,S,{width:z.maxWidth,height:z.maxHeight},{width:l,height:d});if(N=k.newWidth,S=k.newHeight,this.props.grid){var j=kh(N,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),Y=kh(S,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),M=this.props.snapGap||0,G=M===0||Math.abs(j-N)<=M?j:N,Q=M===0||Math.abs(Y-S)<=M?Y:S;N=G,S=Q}var J={width:N-x.width,height:S-x.height};if(E&&typeof E=="string"){if(E.endsWith("%")){var U=N/w.width*100;N=U+"%"}else if(E.endsWith("vw")){var F=N/this.window.innerWidth*100;N=F+"vw"}else if(E.endsWith("vh")){var P=N/this.window.innerHeight*100;N=P+"vh"}}if(D&&typeof D=="string"){if(D.endsWith("%")){var U=S/w.height*100;S=U+"%"}else if(D.endsWith("vw")){var F=S/this.window.innerWidth*100;S=F+"vw"}else if(D.endsWith("vh")){var P=S/this.window.innerHeight*100;S=P+"vh"}}var $={width:this.createSizeForCssProperty(N,"width"),height:this.createSizeForCssProperty(S,"height")};this.flexDir==="row"?$.flexBasis=$.width:this.flexDir==="column"&&($.flexBasis=$.height);var W=this.state.width!==$.width,ee=this.state.height!==$.height,L=this.state.flexBasis!==$.flexBasis,te=W||ee||L;te&&t0.flushSync(function(){o.setState($)}),this.props.onResize&&te&&this.props.onResize(r,m,this.resizable,J)}},n.prototype.onMouseUp=function(r){var o,s,c=this.state,a=c.isResizing,l=c.direction,d=c.original;if(!(!a||!this.resizable)){var p={width:this.size.width-d.width,height:this.size.height-d.height};this.props.onResizeStop&&this.props.onResizeStop(r,l,this.resizable,p),this.props.size&&this.setState({width:(o=this.props.size.width)!==null&&o!==void 0?o:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:zn(zn({},this.state.backgroundStyle),{cursor:"auto"})})}},n.prototype.updateSize=function(r){var o,s;this.setState({width:(o=r.width)!==null&&o!==void 0?o:"auto",height:(s=r.height)!==null&&s!==void 0?s:"auto"})},n.prototype.renderResizer=function(){var r=this,o=this.props,s=o.enable,c=o.handleStyles,a=o.handleClasses,l=o.handleWrapperStyle,d=o.handleWrapperClass,p=o.handleComponent;if(!s)return null;var h=Object.keys(s).map(function(g){return s[g]!==!1?A.createElement(nA,{key:g,direction:g,onResizeStart:r.onResizeStart,replaceStyles:c&&c[g],className:a&&a[g]},p&&p[g]?p[g]:null):null});return A.createElement("div",{className:d,style:l},h)},n.prototype.render=function(){var r=this,o=Object.keys(this.props).reduce(function(a,l){return aA.indexOf(l)!==-1||(a[l]=r.props[l]),a},{}),s=zn(zn(zn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var c=this.props.as||"div";return A.createElement(c,zn({style:s,className:this.props.className},o,{ref:function(a){a&&(r.resizable=a)}}),this.state.isResizing&&A.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(A.PureComponent);const jh="jdmEditor:graphPanel:height",Gp=()=>{const e=gt(),{panels:n,activePanel:r}=Ze(({panels:c,activePanel:a})=>({panels:c,activePanel:a})),o=A.useMemo(()=>r===void 0?void 0:(n||[]).find(c=>c.id===r),[r,n]),s=A.useMemo(()=>Number.parseFloat(localStorage.getItem(jh)??"")??300,[o]);return o?b.jsxs(cA,{className:"grl-dg__panel",defaultSize:{height:s},handleStyles:{bottom:{display:"none"},left:{display:"none"},topLeft:{display:"none"},topRight:{display:"none"},right:{display:"none"},bottomLeft:{display:"none"},bottomRight:{display:"none"}},maxHeight:400,minHeight:150,onResize:(c,a,l)=>{localStorage.setItem(jh,l.clientHeight.toString())},children:[!o.hideHeader&&b.jsxs("div",{className:"grl-dg__panel__toolbar",children:[b.jsx("div",{className:"grl-dg__panel__toolbar__content",children:b.jsx(ft.Text,{style:{fontSize:13},children:o.title})}),b.jsx("div",{className:"grl-dg__panel__toolbar__actions",children:b.jsx($n,{placement:"topLeft",title:"Close panel",children:b.jsx(Ge,{size:"small",type:"text",icon:b.jsx(jr,{style:{fontSize:12}}),onClick:()=>e.setActivePanel(void 0)})})})]}),b.jsx("div",{className:"grl-dg__panel__content",children:o?.renderPanel?.({})})]}):null};Gp.__docgenInfo={description:"",methods:[],displayName:"GraphPanel"};const Co=ie.string().default(crypto.randomUUID);var Up=(e=>(e.Input="inputNode",e.Output="outputNode",e.DecisionTable="decisionTableNode",e.Function="functionNode",e.Expression="expressionNode",e.Switch="switchNode",e.Decision="decisionNode",e))(Up||{});const lA="customNode",sr=ie.object({id:Co,name:ie.string(),position:ie.object({x:ie.number(),y:ie.number()}).default({x:0,y:0})}),dA=ie.object({type:ie.literal("inputNode")}).merge(sr),fA=ie.object({type:ie.literal("outputNode")}).merge(sr),hA=ie.object({type:ie.literal("decisionTableNode"),content:ie.object({hitPolicy:ie.enum(["first","collect"]).nullish().transform(e=>e??"first"),rules:ie.array(ie.record(ie.string(),ie.string().nullish().transform(e=>e??""))).default([]),inputs:ie.array(ie.object({id:Co,name:ie.string().nullish(),field:ie.string().nullish(),defaultValue:ie.string().nullish()})),outputs:ie.array(ie.object({id:Co,name:ie.string(),field:ie.string(),defaultValue:ie.string().nullish()})),passThrough:ie.boolean().nullish().transform(e=>e??!1),inputField:ie.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),outputPath:ie.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),executionMode:ie.enum(["single","loop"]).nullish().transform(e=>e??"single")})}).merge(sr),pA=ie.object({type:ie.literal("functionNode"),content:ie.string().or(ie.object({source:ie.string().default("")})).nullish()}).merge(sr),gA=ie.object({type:ie.literal("expressionNode"),content:ie.object({expressions:ie.array(ie.object({id:Co,key:ie.string().default(""),value:ie.string().default("")})),passThrough:ie.boolean().nullish().transform(e=>e??!1),inputField:ie.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),outputPath:ie.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),executionMode:ie.enum(["single","loop"]).nullish().transform(e=>e??"single")})}).merge(sr),mA=ie.object({type:ie.literal("decisionNode"),content:ie.object({key:ie.string(),passThrough:ie.boolean().nullish().transform(e=>e??!1),inputField:ie.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),outputPath:ie.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),executionMode:ie.enum(["single","loop"]).nullish().transform(e=>e??"single")})}).merge(sr),yA=ie.object({type:ie.literal("switchNode"),content:ie.object({hitPolicy:ie.enum(["first","collect"]).nullish().transform(e=>e??"first"),statements:ie.array(ie.object({id:Co,condition:ie.string().nullish().transform(e=>e??""),isDefault:ie.boolean().nullish().transform(e=>e??!1)}))})}).merge(sr),DA=ie.object({type:ie.literal(lA),content:ie.object({kind:ie.string(),config:ie.any()})}).merge(sr),vA=ie.object({type:ie.string().refine(e=>!Object.values(Up).includes(e),{message:"Invalid type"}),content:ie.any().nullish()}).merge(sr),zc=ie.discriminatedUnion("type",[mA,gA,pA,hA,yA,DA,dA,fA]).or(vA),xA=ie.object({id:ie.string(),sourceId:ie.string(),targetId:ie.string(),sourceHandle:ie.string().nullish(),type:ie.enum(["edge"])}),_A=ie.object({inputSchema:ie.any().nullish().default(null),outputSchema:ie.any().nullish().default(null)}),wA=ie.object({validation:_A}).default({validation:{inputSchema:null,outputSchema:null}}),Vh=ie.object({nodes:ie.array(zc).default([]),edges:ie.array(xA).default([]),settings:wA}),qp=e=>{const n=gt(),{id:r,sourceX:o,sourceY:s,targetX:c,targetY:a,sourcePosition:l,targetPosition:d,style:p={},markerEnd:h}=e,{isHovered:g,disabled:m}=Ze(({hoveredEdgeId:v,disabled:T})=>({isHovered:v===r,disabled:T})),{diff:x}=j8(r),[E,D,w]=el({sourceX:o,sourceY:s,sourcePosition:l,targetX:c,targetY:a,targetPosition:d});return b.jsxs(b.Fragment,{children:[b.jsx(bi,{path:E,markerEnd:h,style:{...p||{},stroke:Ie(x).with({status:"added"},()=>"var(--grl-color-success)").with({status:"removed"},()=>"var(--grl-color-error)").otherwise(()=>{})}}),b.jsx(l8,{children:b.jsx("div",{className:"nodrag nopan edge-renderer",style:{transform:`translate(-50%, -50%) translate(${D}px,${w}px)`},children:!m&&b.jsx(Ge,{type:"primary",shape:"round",icon:b.jsx(tu,{}),danger:!0,className:$e("grl-edge-delete-button"),"data-visible":g,onClick:()=>n.removeEdges([r])})})})]})},CA=e=>n=>b.jsx(qp,{...n,...e});qp.__docgenInfo={description:"",methods:[],displayName:"CustomEdge"};const EA=e=>typeof e!="object"?!1:Array.isArray(e?.nodes),bA=(e,n)=>{const r=Fi(),o=gt(),s=A.useCallback(async a=>{try{if(!e.current)return;const l=(r.stateStore.getState()?.decisionGraph?.nodes||[]).filter(g=>a.some(m=>m.id===g.id)),d=l.map(g=>g.id),p=[];l.length>0&&e.current.getEdges().forEach(m=>{d.includes(m.source)&&d.includes(m.target)&&p.push({id:m.id,type:m.type,sourceId:m.source,targetId:m.target,sourceHandle:m.sourceHandle??void 0,targetHandle:m.targetHandle??void 0})}),await uc(JSON.stringify({nodes:l,edges:p})),Ct.success("Copied to clipboard!")}catch(l){Ct.error(l.message)}},[r]),c=A.useCallback(async()=>{try{if(!e?.current)return;const a=await Ux();if(!a)return;const l=JSON.parse(a);if(!EA(l))throw new Error("invalid clipboard");const d=l.nodes.reduce((D,w)=>({...D,[w.id]:crypto.randomUUID()}),{}),p=Object.keys(d),h=e.current.getNodes().find(D=>p.includes(D.id)),g=l.nodes.find(D=>D.id===h?.id),m={x:l.nodes.reduce((D,w)=>D+w.position.x,0)/l.nodes.length,y:l.nodes.reduce((D,w)=>D+w.position.y,0)/l.nodes.length},x=l.nodes.map(D=>{const w={x:D?.position?.x||0,y:D?.position?.y||0};if(h&&g)D.id===h.id?(w.x=h.position.x,w.y=h.position.y-20):(w.x=h.position.x-g.position.x+D.position.x,w.y=h.position.y-g.position.y+D.position.y-20);else if(n.current){const v=n.current.getBoundingClientRect(),T={x:v.width/2,y:v.height/2},S=e.current.project(T);w.x=D.position.x+S.x-m.x/2,w.y=D.position.y+S.y-m.y/2}return{...D,position:w,id:d[D.id]}}),E=(l.edges||[]).map(D=>({id:crypto.randomUUID(),type:D.type,sourceId:d[D.sourceId],targetId:d[D.targetId],sourceHandle:D.sourceHandle??void 0,targetHandle:D.targetHandle??void 0}));if(o.addNodes(x),o.addEdges(E),Ct.success("Pasted from clipboard!"),h)try{await uc(JSON.stringify({nodes:x}))}catch{}}catch{Ct.error("Failed to paste from clipboard")}},[e,n]);return A.useMemo(()=>({copyNodes:s,pasteNodes:c}),[s,c])},Yp=H.memo(({inputDisabled:e,disabled:n})=>{const r=Ze(h=>h.components||[]),o=Ze(h=>h.customNodes||[]),[s,c]=A.useState(""),a=A.useCallback((h,g,m)=>{const x=h.target;if(!x)return;const{offsetX:E,offsetY:D}=h.nativeEvent,{height:w,width:v}=x.getBoundingClientRect(),T={x:E/v,y:D/w};h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("application/reactflow",g),h.dataTransfer.setData("relativePosition",JSON.stringify(T)),m&&h.dataTransfer.setData("customNodeComponent",m)},[]),l=A.useMemo(()=>{const h={core:Object.values(Gr)};return r?.length>0&&(h.extended=r),(o||[]).forEach(g=>{const m=g.group?.trim?.()||"";m.length>0&&(h?.[m]?h[m].push({...g,type:"customNode"}):h[m]=[{...g,type:"customNode"}])}),(o||[]).forEach(g=>{g?.group||(h?.custom?h.custom.push({...g,type:"customNode"}):h.custom=[{...g,type:"customNode"}])}),h},[r,o]),d=A.useMemo(()=>Object.keys(l).reduce((h,g)=>({...h,[g]:(l[g]||[]).filter(m=>!(s?.trim?.().length>0)||(m.type||"").toLowerCase().indexOf(s.toLowerCase())>-1||(m.displayName||"").toLowerCase().indexOf(s.toLowerCase())>-1||(m.shortDescription||"").toLowerCase().indexOf(s.toLowerCase())>-1||(m.group||"").toLowerCase().indexOf(s.toLowerCase())>-1)}),{}),[l,s]),p=r.length+o.length;return b.jsxs("div",{children:[p>5&&b.jsx(ix,{placeholder:"Search components...",value:s,onChange:h=>c(h.target.value||""),allowClear:!0,className:"grl-dg__aside__menu__components__search"}),b.jsx("div",{className:"grl-dg__aside__menu__components",children:Object.keys(d).map(h=>Ie(h).with("core",()=>d.core?.length>0&&b.jsx(H.Fragment,{children:(d.core||[]).map(g=>b.jsx(H.Fragment,{children:b.jsx(Wh,{disabled:Ie(g.type).with(Pe.Input,()=>n||e).otherwise(()=>n),specification:g,onDragStart:m=>Gr[g.type]!==void 0?a(m,g.type):a(m,"customNode","kind"in g?g.kind:"")})},"kind"in g?g.kind:g.type))},h)).otherwise(g=>d[g]?.length>0&&b.jsx(H.Fragment,{children:(d?.[g]||[]).map(m=>b.jsx(Wh,{disabled:n,specification:m,onDragStart:x=>g==="extended"?a(x,m.type):a(x,"customNode","kind"in m?m.kind:"")},"kind"in m?m.kind:m.type))},g)))})]})}),Wh=({specification:e,disabled:n=!1,...r})=>b.jsx("div",{className:$e("draggable-component"),draggable:!n,...r,children:b.jsx("div",{style:{pointerEvents:"none"},children:b.jsx(al,{listMode:!0,compactMode:!0,color:e.color,icon:e.icon,name:e.displayName,type:e.shortDescription})})});Yp.__docgenInfo={description:"",methods:[],displayName:"GraphComponents",props:{inputDisabled:{required:!1,tsType:{name:"boolean"},description:""},components:{required:!1,tsType:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const AA=Object.entries(Gr).reduce((e,[n,r])=>({...e,[n]:H.memo(o=>r.renderNode({specification:r,...o}),(o,s)=>o.id===s.id&&o.selected===s.selected&&o.data===s.data)}),{}),SA={edge:H.memo(CA(null))},Xp=A.forwardRef(function({reactFlowProOptions:n,className:r},o){const s=A.useRef(null),c=A.useRef(null),a=d8([]),l=f8([]),[d,p]=A.useState(!0),h=Fi(),g=gt(),m=L8(M=>M),{onReactFlowInit:x}=Wp(({onReactFlowInit:M})=>({onReactFlowInit:M})),{disabled:E,hasInputNode:D,components:w,customNodes:v}=Ze(({disabled:M,components:G,customNodes:Q,decisionGraph:J})=>({disabled:M,components:G,customNodes:Q,hasInputNode:(J?.nodes||[]).some(U=>U.type===Pe.Input)}));m.nodesState.current=a,m.edgesState.current=l,m.graphClipboard.current=bA(c,s);const T=A.useMemo(()=>H.memo(M=>{const G=v.find(Q=>Q.kind===M?.data?.kind);return G?G.renderNode({specification:G,...M}):(console.warn("node not found",M,v),b.jsx(Er,{id:M.id,specification:{displayName:`${M.data?.kind}`,color:"var(--grl-color-error)",icon:b.jsx(Aw,{})},name:M?.data?.name,isSelected:M.selected,displayError:!0,noBodyPadding:!0,handleLeft:!0,handleRight:!0}))},(M,G)=>M.id===G.id&&M.selected===G.selected&&M.data===G.data),[v]),S=A.useMemo(()=>w.reduce((M,G)=>({...M,[G.type]:H.memo(Q=>G.renderNode({specification:G,...Q}),(Q,J)=>Q.id===J.id&&Q.selected===J.selected&&Q.data===J.data)}),{...AA,customNode:T}),[w,T]),N=async(M,G,Q)=>{if(!s.current||!c.current)return;if(!G){const P=s.current.getBoundingClientRect(),$={x:P.width/2,y:P.height/2};G=c.current.project($)}const J=Ie(M).with("customNode",()=>v.find(P=>P.kind===Q)).otherwise(()=>[...Object.values(Gr),...w].find($=>$.type===M));if(!J){Ct.error(`Unknown node type ${M} - ${Q}.`);return}let U=Ie(J).with({kind:Ne.string},P=>{const $=(c.current?.getNodes()||[]).filter(ee=>ee.data?.kind===P.kind).length+1,W=P.generateNode({index:$});return{id:crypto.randomUUID(),type:"customNode",name:W.name,position:G,content:{kind:P.kind,config:W?.config}}}).with({type:Ne.string},P=>{const $=(c.current?.getNodes()||[]).filter(ee=>ee.type===P.type).length+1,W=P.generateNode({index:$});return{id:crypto.randomUUID(),type:P.type,position:G,...W}}).otherwise(()=>null);if(!U){Ct.error(`Unknown node type ${M} - ${Q}.`);return}if(J.onNodeAdd)try{U=await J.onNodeAdd(U)}catch{return}const F=zc.safeParse(U);if(F.success)return g.addNodes([zc.parse(U)]);Ct.error(F.error?.message)},z=M=>{if(M.source===M.target||E)return!1;const[G]=a,[Q]=l,J=Q.some(P=>P.source===M.source&&P.target===M.target&&(P.sourceHandle??null)===(M.sourceHandle??null)&&(P.targetHandle??null)===(M.targetHandle??null)),U=G.find(P=>P.id===M.target);if(!U||U.id===M.source)return!1;const F=(P,$=new Set)=>{if($.has(P.id))return!1;$.add(P.id);for(const W of Ks(P,G,Q))if(W.id===M.source||F(W,$))return!0};return!J&&!F(U)},k=M=>{if(M.preventDefault(),M.stopPropagation(),!s.current||!c.current)return;const G=s.current.getBoundingClientRect(),Q=M.dataTransfer.getData("application/reactflow");let J;try{J=JSON.parse(M.dataTransfer.getData("relativePosition"))}catch{return}const U=c.current.project({x:M.clientX-G.left,y:M.clientY-G.top});U.x-=Math.round(J.x*226/10)*10,U.y-=Math.round(J.y*60/10)*10;const F=Ie(M.dataTransfer.getData("customNodeComponent")).with(Ne.string,P=>P).otherwise(()=>{});N(Q,U,F)},j=M=>{M.preventDefault(),M.dataTransfer.dropEffect="move"},Y=M=>{const G={...M,type:"edge",id:crypto.randomUUID()};E||g.addEdges([H8(G)])};return A.useImperativeHandle(o,()=>({...g,stateStore:h.stateStore})),b.jsx("div",{className:$e(["tab-content",r]),tabIndex:0,onKeyDown:M=>{M.key==="v"&&M.metaKey&&!E&&g.pasteNodes()},children:b.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",display:"flex"},children:[!E&&!d&&b.jsx("div",{className:"grl-dg__components__floating",style:{position:"absolute",top:8,right:8,zIndex:1},children:b.jsx($n,{placement:"right",title:"Components",children:b.jsx(Ge,{icon:b.jsx(Fx,{style:{fontSize:12}}),onClick:()=>p(!0)})})}),b.jsx("div",{tabIndex:0,className:"content-wrapper",onKeyDown:M=>{const[G]=a,[Q]=l;if(M.key==="c"&&M.metaKey){const J=a[0].filter(U=>U.selected).map(({id:U})=>U);if(J.length===0)return;g.copyNodes(J),M.preventDefault()}else if(M.key==="d"&&M.metaKey){if(!E){const J=G.filter(U=>U.selected).map(({id:U})=>U);if(J.length===0)return;g.duplicateNodes(J)}M.preventDefault()}else if(M.key==="Backspace"){if(!E){const J=G.filter(F=>F.selected),U=Q.filter(F=>F.selected);if(J.length>0){const F=J.length,P=F>1?"nodes":"node";Oc.confirm({icon:null,title:`Delete ${P}`,content:b.jsxs(ft.Text,{children:["Are you sure you want to delete ",F>1?`${F} ${P}`:P,"?"]}),okButtonProps:{danger:!0},onOk:()=>{U.length>0&&g.removeEdges(U.map($=>$.id)),g.removeNodes(J.map($=>$.id))}})}else U.length>0&&g.removeEdges(U.map(F=>F.id))}M.stopPropagation(),M.preventDefault()}},children:b.jsx("div",{className:$e(["react-flow"]),ref:s,children:b.jsxs(Rp,{onlyRenderVisibleElements:!0,deleteKeyCode:null,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,zoomOnDoubleClick:!1,connectionRadius:35,nodes:a[0],edges:l[0],onInit:M=>{c.current=M,x?.(M)},snapToGrid:!0,snapGrid:[5,5],minZoom:.25,selectionMode:Ei.Partial,nodeTypes:S,edgeTypes:SA,onDrop:k,onDragOver:j,onConnect:Y,isValidConnection:z,proOptions:n,nodesConnectable:!E,nodesDraggable:!E,edgesUpdatable:!E,onNodesChange:g.handleNodesChange,onEdgesChange:g.handleEdgesChange,onNodesDelete:M=>{M.forEach(G=>{g.closeTab(G?.id)})},onEdgeMouseEnter:(M,G)=>g.setHoveredEdgeId(G.id),onEdgeMouseLeave:()=>g.setHoveredEdgeId(null),children:[b.jsx(v8,{showInteractive:!1,children:b.jsx(gi,{onClick:()=>g.toggleCompactMode(),children:b.jsx(K_,{})})}),b.jsx(b8,{color:"var(--grl-color-border)",gap:20})]})})}),!E&&d&&b.jsx("div",{className:"grl-dg__aside__menu",children:b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grl-dg__aside__menu__heading",children:[b.jsxs("div",{className:"grl-dg__aside__menu__heading__text",children:[b.jsx(ft.Text,{strong:!0,style:{marginBottom:0},children:"Components"})," ",b.jsx(ft.Text,{type:"secondary",style:{fontSize:10,marginLeft:5},children:"(Drag-and-drop)"})]}),b.jsx(Ge,{type:"text",size:"small",icon:b.jsx(jr,{style:{fontSize:12}}),onClick:()=>p(!1)})]}),b.jsx("div",{className:"grl-dg__aside__menu__content",children:b.jsx(Yp,{inputDisabled:D,disabled:E})})]})})]})})});Xp.__docgenInfo={description:"",methods:[],displayName:"Graph"};const Gh="application/vnd.gorules.decision",Zp=()=>{const e=Fi(),n=A.useRef(null),r=A.useRef(null),{setDecisionGraph:o,setActivePanel:s}=gt(),{disabled:c,panels:a,activePanel:l}=Ze(({disabled:E,panels:D,activePanel:w})=>({disabled:E,panels:D,activePanel:w})),d=async E=>{const D=E?.target?.files,w=new FileReader;w.onload=function(v){try{const T=JSON.parse(v?.target?.result);if(T?.contentType!==Gh)throw new Error("Invalid content type");const S=Array.isArray(T?.nodes)?T.nodes:[],N=S.map(j=>j.id),z=T.edges.filter(j=>N.includes(j?.targetId)&&N.includes(j?.sourceId)),k=Vh.safeParse({nodes:S,edges:z,settings:T?.settings});if(!k.success){console.log(k.error?.message),Ct.error(k.error?.message);return}o(k.data)}catch(T){Ct.error(T.message)}},w.readAsText(Array.from(D)?.[0],"UTF-8")},p=E=>{const D=E?.target?.files[0],w=new FileReader;try{w.readAsArrayBuffer(D),w.onload=async()=>{const v=w.result;if(!v)return;const T=await Nx(v),{decisionGraph:S}=e.stateStore.getState(),N=S.nodes.map(j=>{let Y=j;return T.forEach(M=>{M.id===j.id&&(Y={...j,content:M.content})}),Y}),z=T.filter(j=>!N.some(Y=>Y.id===j.id)).map((j,Y)=>({...j,position:{x:Y*250,y:0}})),k=Vh.safeParse({nodes:[...N,...z],edges:S.edges,settings:S.settings});if(!k.success){console.log(k.error?.message),Ct.error(k.error?.message);return}o(k.data),Ct.success("Excel file has been uploaded successfully!")}}catch{Ct.error("Failed to upload Excel!")}},h=async()=>{try{const{name:E}=e.stateStore.getState(),{decisionGraph:D}=e.stateStore.getState(),w=`${E.replaceAll(".json","")}.json`,v=JSON.stringify({contentType:Gh,nodes:D.nodes,edges:D.edges,settings:D.settings},null,2),T=new Blob([v],{type:"application/json"}),S=URL.createObjectURL(T),N=window.document.createElement("a");N.href=S,N.download=w,window.document.body.appendChild(N),N.click(),window.document.body.removeChild(N),URL.revokeObjectURL(S)}catch(E){Ct.error(E.message)}},g=async(E="decision tables")=>{try{const{decisionGraph:D}=e.stateStore.getState(),w=D.nodes.filter(v=>v.type===Pe.DecisionTable).map(v=>({...v.content,id:v.id,name:v.name}));await Tx(E,w),Ct.success("Excel file has been downloaded successfully!")}catch{Ct.error("Failed to download Excel file!")}},m=[{key:"upload-json",label:"Upload JSON",onClick:()=>n?.current?.click?.()},{key:"upload-excel",label:"Upload Excel",onClick:()=>r?.current?.click?.()}],x=[{key:"download-json",label:"Download JSON",onClick:()=>h()},{key:"download-excel",label:"Download Excel",onClick:()=>g()}];return b.jsxs("div",{className:"grl-dg__aside",children:[b.jsx("input",{hidden:!0,accept:"application/json",type:"file",ref:n,onChange:d,onClick:E=>{E.target.value=null}}),b.jsx("input",{hidden:!0,accept:".xlsx",type:"file",ref:r,onChange:p,onClick:E=>{E.target.value=null}}),b.jsxs("div",{className:"grl-dg__aside__side-bar",children:[b.jsxs("div",{className:"grl-dg__aside__side-bar__top",children:[!c&&b.jsx(po,{menu:{items:m},placement:"bottomRight",trigger:["click"],arrow:!0,children:b.jsx(Ge,{type:"text",disabled:c,icon:b.jsx(Y_,{})})}),b.jsx(po,{menu:{items:x},placement:"bottomRight",trigger:["click"],arrow:!0,children:b.jsx(Ge,{type:"text",icon:b.jsx(G_,{})})})]}),b.jsx("div",{className:"grl-dg__aside__side-bar__bottom",children:(a||[]).map(E=>{const D=l===E.id;return b.jsx($n,{title:`${D?"Close":"Open"} ${E.title.toLowerCase()} panel`,placement:"right",children:b.jsx(Ge,{type:"text",icon:E.icon,style:{background:D?"rgba(0, 0, 0, 0.1)":void 0},onClick:()=>{if(E?.onClick)return E.onClick();E?.renderPanel&&s(D?void 0:E.id)}},E.id)},E.id)})})]})]})};Zp.__docgenInfo={description:"",methods:[],displayName:"GraphSideToolbar"};const Kp=({disabled:e,tabBarExtraContent:n})=>{const r=gt(),{openNodes:o,activeNodeId:s}=Ze(({decisionGraph:c,activeTab:a,openTabs:l})=>({activeNodeId:(c?.nodes??[]).find(d=>d.id===a)?.id,openNodes:(l||[]).map(d=>{const p=(c?.nodes??[]).find(h=>h.id===d);if(p)return{id:p?.id,name:p.name,type:p.type,diff:p?._diff}}).filter(d=>!!d)}));return b.jsx("div",{children:b.jsx(e0,{type:"line",size:"small",className:$e("grl-graph-tabs"),activeKey:s||"graph",onChange:c=>r.openTab(c),tabBarExtraContent:n,items:[{closable:!1,key:"graph",label:b.jsx(Uh,{total:o?.length,icon:b.jsx(ew,{}),name:"Graph",active:!s||s==="graph",onContextClick:c=>{r.closeTab("graph",c)}})},...o.map((c,a)=>{const l=Gr[c.type];return{disabled:e,key:c.id,label:b.jsx(Uh,{onContextClick:d=>{r.closeTab(c.id,d)},icon:l?.icon,name:c?.name??c?.type,diffStatus:c?.diff?.status,color:l?.color,index:a,active:c.id===s,total:o?.length,onClose:()=>r.closeTab(c.id)}),closable:!0}})]})})},Uh=({total:e=0,index:n=-1,icon:r,name:o,active:s,diffStatus:c,color:a=Ur.Blue,onClose:l,onContextClick:d})=>{const p=[e>0&&n!==-1&&{key:"close",label:"Close",onClick:()=>d?.("close")},e>0&&n!==-1&&{key:"close-all",label:"Close all Tabs",onClick:()=>d?.("close-all")},e>0&&n!==-1&&{key:"close-other",label:"Close other Tabs",onClick:()=>d?.("close-other")},e>0&&n+1<e&&{key:"close-right",label:"Close Tabs to the right",onClick:()=>d?.("close-right")},e>0&&n>0&&n>0&&{key:"close-left",label:"Close Tabs to the left",onClick:()=>d?.("close-left")}].filter(h=>!!h);return b.jsx(po,{menu:{items:p},trigger:["contextMenu"],children:b.jsxs("div",{className:"grl-graph-tabs__tab","data-active":s,children:[b.jsx(l0,{size:"small",shape:"square",style:{background:a,fontSize:11,width:18,height:18,lineHeight:"18px",borderRadius:3},icon:r}),o,b.jsx(qh,{status:c,style:{fontSize:16}}),l&&b.jsx(Ge,{className:"grl-graph-tabs__closeIcon",type:"text",size:"small",style:{height:20,width:20,color:"black",borderRadius:"50%",lineHeight:0},icon:b.jsx(jr,{style:{fontSize:10}}),onClick:h=>{h.stopPropagation(),l?.()}})]})})};Kp.__docgenInfo={description:"",methods:[],displayName:"GraphTabs",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""},tabBarExtraContent:{required:!1,tsType:{name:"TabsProps['tabBarExtraContent']",raw:"TabsProps['tabBarExtraContent']"},description:""}}};const Jp=H.memo(A.forwardRef(function({reactFlowProOptions:n,tabBarExtraContent:r},o){const[s,c]=A.useState(!1),a=Ze(({decisionGraph:l,activeTab:d})=>(l?.nodes??[]).some(p=>p.id===d));return b.jsxs(b.Fragment,{children:[b.jsx(Zp,{}),b.jsxs("div",{className:"grl-dg__graph",children:[b.jsx(Kp,{disabled:s,tabBarExtraContent:r}),b.jsx(Xp,{ref:o,className:$e([!a&&"active"]),reactFlowProOptions:n,onDisableTabs:c}),b.jsx(FA,{})]}),b.jsx(Gp,{})]})})),FA=H.memo(()=>{const{openNodes:e,activeNodeId:n,components:r}=Ze(({decisionGraph:c,openTabs:a,activeTab:l,components:d})=>{const p=(c?.nodes??[]).find(g=>g.id===l)?.id;return{openNodes:(c?.nodes??[]).filter(g=>a.includes(g.id)).map(({id:g,type:m})=>({id:g,type:m})),activeNodeId:p,components:d}}),o=A.useRef(null),s=A.useMemo(()=>ox(sx,void 0,{rootElement:o.current}),[o.current]);return b.jsx("div",{style:{display:"contents"},ref:o,children:e.map(c=>b.jsx("div",{className:$e(["tab-content",n===c?.id&&"active"]),children:Ie(c?.type).with(Pe.DecisionTable,()=>cl?.renderTab?.({id:c?.id,manager:s})).with(Pe.Function,()=>dl?.renderTab?.({id:c?.id,manager:s})).with(Pe.Expression,()=>ll?.renderTab?.({id:c?.id,manager:s})).otherwise(()=>{const a=r.find(l=>l.type===c.type);return a?a?.renderTab?.({id:c.id,manager:s}):null})},c?.id))})});Jp.__docgenInfo={description:"",methods:[],displayName:"DecisionGraphWrapper"};const NA=A.forwardRef(({manager:e,reactFlowProOptions:n,tabBarExtraContent:r,...o},s)=>b.jsx("div",{className:"grl-dg",children:b.jsx(ul,{children:b.jsxs(Vp,{children:[b.jsx(Jp,{ref:s,reactFlowProOptions:n,tabBarExtraContent:r}),b.jsx(K8,{}),b.jsx(V8,{...o})]})})}));NA.__docgenInfo={description:"",methods:[],displayName:"DecisionGraph"};export{NA as D,Er as G,gw as R,Ze as a,B8 as b,$8 as c,so as l,gt as u};
