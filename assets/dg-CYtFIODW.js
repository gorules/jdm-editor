const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-2uN6teXX.js","./function-C6K1UQDs.js","./wrapNativeSuper-ezTqcbMv.js","./index-uubelm5h.js","./iframe-CwFzC9Un.js","./index.module-BtD3W-fm.js","./wasm-BDspEZMq.js","./index-BK_xiHMm.js","./index-TW2i6qtr.js","./button-B6duM6Ds.js","./function-xBkw6gzU.css"])))=>i.map(i=>d[i]);
import{_ as Zt,j as F}from"./wrapNativeSuper-ezTqcbMv.js";import{r as S,R as j,c as qs,g as wC,b as z0}from"./index-uubelm5h.js";import{j as CC,k as EC,l as bC,m as AC,D as L0,p as yt,b as mn,g as Au,f as j0,P as H0,R as Su,a as Cl,I as SC,c as FC,H as NC}from"./diff-icon-DQb9vZ-p.js";import{ah as to,K as V0,L as hs,M as TC,Z as U0,ai as IC,H as G0,N as kC,C as Ho,u as Fu,c as Wn,aj as BC,ak as RC,n as MC,al as OC,m as PC,Q as $C,am as zC,an as LC,q as jC,a as HC,ao as VC,I as Wt,z as Ze,T as $t,S as Ge,i as fo,V as gn,a5 as ss,ap as UC,t as GC}from"./wasm-BDspEZMq.js";import{N as ZC,b as go,c as WC,d as qC,e as XC,f as YC,g as KC,r as JC,A as QC,h as mo,i as eE,j as no,M as _d,k as Ye,s as Rt,D as tE,l as Dd,F as wr,m as nE,n as $l,o as Z0,a as rE,p as iE,q as sE,T as oE}from"./dt-D4hzTdwp.js";import{R as aE,c as uE}from"./index.module-BtD3W-fm.js";import{r as cE}from"./index-BK_xiHMm.js";import{E as lE}from"./expression-D1rYs__Z.js";import{c as Xe}from"./ce-3j-Ucdms.js";import{r as dE,B as ct}from"./button-B6duM6Ds.js";import{R as fE,S as xd,a as hE,d as pE}from"./function-C6K1UQDs.js";import{_ as gE}from"./iframe-CwFzC9Un.js";const mE=e=>{const{componentCls:t,notificationMarginEdge:n,animationMaxHeight:i}=e,o=`${t}-notice`,a=new to("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),u=new to("antNotificationTopFadeIn",{"0%":{top:-i,opacity:0},"100%":{top:0,opacity:1}}),l=new to("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(i).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),d=new to("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[o]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:u}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:l}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:a}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:n,_skip_check_:!0},[o]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:d}}}}},yE=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],vE={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},_E=(e,t)=>{const{componentCls:n}=e;return{[`${n}-${t}`]:{[`&${n}-stack > ${n}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[vE[t]]:{value:0,_skip_check_:!0}}}}},DE=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},xE=e=>{const t={};for(let n=1;n<e.notificationStackLayer;n++)t[`&:nth-last-child(${n+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)},wE=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`all ${e.motionDurationSlow}, backdrop-filter 0s`,position:"absolute"},DE(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},xE(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},yE.map(n=>_E(e,n)).reduce((n,i)=>Object.assign(Object.assign({},n),i),{}))},W0=e=>{const{iconCls:t,componentCls:n,boxShadow:i,fontSizeLG:o,notificationMarginBottom:a,borderRadiusLG:u,colorSuccess:l,colorInfo:d,colorWarning:f,colorError:h,colorTextHeading:g,notificationBg:m,notificationPadding:D,notificationMarginEdge:w,notificationProgressBg:v,notificationProgressHeight:x,fontSize:_,lineHeight:b,width:I,notificationIconSize:N,colorText:M}=e,z=`${n}-notice`;return{position:"relative",marginBottom:a,marginInlineStart:"auto",background:m,borderRadius:u,boxShadow:i,[z]:{padding:D,width:I,maxWidth:`calc(100vw - ${hs(e.calc(w).mul(2).equal())})`,overflow:"hidden",lineHeight:b,wordWrap:"break-word"},[`${z}-message`]:{marginBottom:e.marginXS,color:g,fontSize:o,lineHeight:e.lineHeightLG},[`${z}-description`]:{fontSize:_,color:M},[`${z}-closable ${z}-message`]:{paddingInlineEnd:e.paddingLG},[`${z}-with-icon ${z}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(N).equal(),fontSize:o},[`${z}-with-icon ${z}-description`]:{marginInlineStart:e.calc(e.marginSM).add(N).equal(),fontSize:_},[`${z}-icon`]:{position:"absolute",fontSize:N,lineHeight:1,[`&-success${t}`]:{color:l},[`&-info${t}`]:{color:d},[`&-warning${t}`]:{color:f},[`&-error${t}`]:{color:h}},[`${z}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},TC(e)),[`${z}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${hs(u)} * 2)`,left:{_skip_check_:!0,value:u},right:{_skip_check_:!0,value:u},bottom:0,blockSize:x,border:0,"&, &::-webkit-progress-bar":{borderRadius:u,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:v},"&::-webkit-progress-value":{borderRadius:u,background:v}},[`${z}-btn`]:{float:"right",marginTop:e.marginSM}}},CE=e=>{const{componentCls:t,notificationMarginBottom:n,notificationMarginEdge:i,motionDurationMid:o,motionEaseInOut:a}=e,u=`${t}-notice`,l=new to("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:n},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},U0(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:i,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:a,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:a,animationFillMode:"both",animationDuration:o,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:l,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${u}-btn`]:{float:"left"}}})},{[t]:{[`${u}-wrapper`]:Object.assign({},W0(e))}}]},q0=e=>({zIndexPopup:e.zIndexPopupBase+IC+50,width:384}),X0=e=>{const t=e.paddingMD,n=e.paddingLG;return G0(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:n,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${hs(e.paddingMD)} ${hs(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})},Y0=V0("Notification",e=>{const t=X0(e);return[CE(t),mE(t),wE(t)]},q0),EE=kC(["Notification","PurePanel"],e=>{const t=`${e.componentCls}-notice`,n=X0(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},W0(n)),{width:n.width,maxWidth:`calc(100vw - ${hs(e.calc(n.notificationMarginEdge).mul(2).equal())})`,margin:0})}},q0);var bE=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};function wd(e,t){return t===null||t===!1?null:t||S.createElement(go,{className:`${e}-close-icon`})}const AE={success:WC,info:qC,error:BC,warning:CC},K0=e=>{const{prefixCls:t,icon:n,type:i,message:o,description:a,btn:u,role:l="alert"}=e;let d=null;return n?d=S.createElement("span",{className:`${t}-icon`},n):i&&(d=S.createElement(AE[i]||null,{className:Wn(`${t}-icon`,`${t}-icon-${i}`)})),S.createElement("div",{className:Wn({[`${t}-with-icon`]:d}),role:l},d,S.createElement("div",{className:`${t}-message`},o),S.createElement("div",{className:`${t}-description`},a),u&&S.createElement("div",{className:`${t}-btn`},u))},SE=e=>{const{prefixCls:t,className:n,icon:i,type:o,message:a,description:u,btn:l,closable:d=!0,closeIcon:f,className:h}=e,g=bE(e,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:m}=S.useContext(Ho),D=t||m("notification"),w=`${D}-notice`,v=Fu(D),[x,_,b]=Y0(D,v);return x(S.createElement("div",{className:Wn(`${w}-pure-panel`,_,n,b,v)},S.createElement(EE,{prefixCls:D}),S.createElement(ZC,Object.assign({},g,{prefixCls:D,eventKey:"pure",duration:null,closable:d,className:Wn({notificationClassName:h}),closeIcon:wd(D,f),content:S.createElement(K0,{prefixCls:w,icon:i,type:o,message:a,description:u,btn:l})}))))};function FE(e,t,n){let i;switch(e){case"top":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":i={left:0,top:t,bottom:"auto"};break;case"topRight":i={right:0,top:t,bottom:"auto"};break;case"bottom":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":i={left:0,top:"auto",bottom:n};break;default:i={right:0,top:"auto",bottom:n};break}return i}function NE(e){return{motionName:`${e}-fade`}}var TE=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};const Cp=24,IE=4.5,kE="topRight",BE=e=>{let{children:t,prefixCls:n}=e;const i=Fu(n),[o,a,u]=Y0(n,i);return o(j.createElement(YC,{classNames:{list:Wn(a,u,i)}},t))},RE=(e,t)=>{let{prefixCls:n,key:i}=t;return j.createElement(BE,{prefixCls:n,key:i},e)},ME=j.forwardRef((e,t)=>{const{top:n,bottom:i,prefixCls:o,getContainer:a,maxCount:u,rtl:l,onAllRemoved:d,stack:f,duration:h,pauseOnHover:g=!0,showProgress:m}=e,{getPrefixCls:D,getPopupContainer:w,notification:v,direction:x}=S.useContext(Ho),[,_]=MC(),b=o||D("notification"),I=X=>FE(X,n??Cp,i??Cp),N=()=>Wn({[`${b}-rtl`]:l??x==="rtl"}),M=()=>NE(b),[z,O]=XC({prefixCls:b,style:I,className:N,motion:M,closable:!0,closeIcon:wd(b),duration:h??IE,getContainer:()=>a?.()||w?.()||document.body,maxCount:u,pauseOnHover:g,showProgress:m,onAllRemoved:d,renderNotifications:RE,stack:f===!1?!1:{threshold:typeof f=="object"?f?.threshold:void 0,offset:8,gap:_.margin}});return j.useImperativeHandle(t,()=>Object.assign(Object.assign({},z),{prefixCls:b,notification:v})),O});function J0(e){const t=j.useRef(null);return RC(),[j.useMemo(()=>{const i=l=>{var d;if(!t.current)return;const{open:f,prefixCls:h,notification:g}=t.current,m=`${h}-notice`,{message:D,description:w,icon:v,type:x,btn:_,className:b,style:I,role:N="alert",closeIcon:M,closable:z}=l,O=TE(l,["message","description","icon","type","btn","className","style","role","closeIcon","closable"]),X=wd(m,typeof M<"u"?M:g?.closeIcon);return f(Object.assign(Object.assign({placement:(d=e?.placement)!==null&&d!==void 0?d:kE},O),{content:j.createElement(K0,{prefixCls:m,icon:v,type:x,message:D,description:w,btn:_,role:N}),className:Wn(x&&`${m}-${x}`,b,g?.className),style:Object.assign(Object.assign({},g?.style),I),closeIcon:X,closable:z??!!X}))},a={open:i,destroy:l=>{var d,f;l!==void 0?(d=t.current)===null||d===void 0||d.close(l):(f=t.current)===null||f===void 0||f.destroy()}};return["success","info","warning","error"].forEach(l=>{a[l]=d=>i(Object.assign(Object.assign({},d),{type:l}))}),a},[]),j.createElement(ME,Object.assign({key:"notification-holder"},e,{ref:t}))]}function OE(e){return J0(e)}function PE(){const[,e]=S.useReducer(t=>t+1,0);return e}function $E(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const t=S.useRef({}),n=PE(),i=KC();return OC(()=>{const o=i.subscribe(a=>{t.current=a,e&&n()});return()=>i.unsubscribe(o)},[]),t.current}const zl=S.createContext({}),zE=e=>{const{antCls:t,componentCls:n,iconCls:i,avatarBg:o,avatarColor:a,containerSize:u,containerSizeLG:l,containerSizeSM:d,textFontSize:f,textFontSizeLG:h,textFontSizeSM:g,borderRadius:m,borderRadiusLG:D,borderRadiusSM:w,lineWidth:v,lineType:x}=e,_=(b,I,N)=>({width:b,height:b,borderRadius:"50%",[`&${n}-square`]:{borderRadius:N},[`&${n}-icon`]:{fontSize:I,[`> ${i}`]:{margin:0}}});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},U0(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:a,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:o,border:`${hs(v)} ${x} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),_(u,f,m)),{"&-lg":Object.assign({},_(l,h,D)),"&-sm":Object.assign({},_(d,g,w)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},LE=e=>{const{componentCls:t,groupBorderColor:n,groupOverlapping:i,groupSpace:o}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:n},"> *:not(:first-child)":{marginInlineStart:i}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:o}}}},jE=e=>{const{controlHeight:t,controlHeightLG:n,controlHeightSM:i,fontSize:o,fontSizeLG:a,fontSizeXL:u,fontSizeHeading3:l,marginXS:d,marginXXS:f,colorBorderBg:h}=e;return{containerSize:t,containerSizeLG:n,containerSizeSM:i,textFontSize:Math.round((a+u)/2),textFontSizeLG:l,textFontSizeSM:o,groupSpace:f,groupOverlapping:-d,groupBorderColor:h}},Q0=V0("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:n}=e,i=G0(e,{avatarBg:n,avatarColor:t});return[zE(i),LE(i)]},jE);var HE=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};const VE=(e,t)=>{const[n,i]=S.useState(1),[o,a]=S.useState(!1),[u,l]=S.useState(!0),d=S.useRef(null),f=S.useRef(null),h=PC(t,d),{getPrefixCls:g,avatar:m}=S.useContext(Ho),D=S.useContext(zl),w=()=>{if(!f.current||!d.current)return;const le=f.current.offsetWidth,ge=d.current.offsetWidth;if(le!==0&&ge!==0){const{gap:we=4}=e;we*2<ge&&i(ge-we*2<le?(ge-we*2)/le:1)}};S.useEffect(()=>{a(!0)},[]),S.useEffect(()=>{l(!0),i(1)},[e.src]),S.useEffect(w,[e.gap]);const v=()=>{const{onError:le}=e;le?.()!==!1&&l(!1)},{prefixCls:x,shape:_,size:b,src:I,srcSet:N,icon:M,className:z,rootClassName:O,alt:X,draggable:B,children:U,crossOrigin:K}=e,q=HE(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),G=$C(le=>{var ge,we;return(we=(ge=b??D?.size)!==null&&ge!==void 0?ge:le)!==null&&we!==void 0?we:"default"}),A=Object.keys(typeof G=="object"?G||{}:{}).some(le=>["xs","sm","md","lg","xl","xxl"].includes(le)),$=$E(A),P=S.useMemo(()=>{if(typeof G!="object")return{};const le=JC.find(we=>$[we]),ge=G[le];return ge?{width:ge,height:ge,fontSize:ge&&(M||U)?ge/2:18}:{}},[$,G]),Z=g("avatar",x),ee=Fu(Z),[H,ne,re]=Q0(Z,ee),ae=Wn({[`${Z}-lg`]:G==="large",[`${Z}-sm`]:G==="small"}),W=S.isValidElement(I),ie=_||D?.shape||"circle",ue=Wn(Z,ae,m?.className,`${Z}-${ie}`,{[`${Z}-image`]:W||I&&u,[`${Z}-icon`]:!!M},re,ee,z,O,ne),de=typeof G=="number"?{width:G,height:G,fontSize:M?G/2:18}:{};let fe;if(typeof I=="string"&&u)fe=S.createElement("img",{src:I,draggable:B,srcSet:N,onError:v,alt:X,crossOrigin:K});else if(W)fe=I;else if(M)fe=M;else if(o||n!==1){const le=`scale(${n})`,ge={msTransform:le,WebkitTransform:le,transform:le};fe=S.createElement(zC,{onResize:w},S.createElement("span",{className:`${Z}-string`,ref:f,style:Object.assign({},ge)},U))}else fe=S.createElement("span",{className:`${Z}-string`,style:{opacity:0},ref:f},U);return delete q.onError,delete q.gap,H(S.createElement("span",Object.assign({},q,{style:Object.assign(Object.assign(Object.assign(Object.assign({},de),P),m?.style),q.style),className:ue,ref:h}),fe))},eg=S.forwardRef(VE),Ep=e=>{const{size:t,shape:n}=S.useContext(zl),i=S.useMemo(()=>({size:e.size||t,shape:e.shape||n}),[e.size,e.shape,t,n]);return S.createElement(zl.Provider,{value:i},e.children)},UE=e=>{var t,n,i;const{getPrefixCls:o,direction:a}=S.useContext(Ho),{prefixCls:u,className:l,rootClassName:d,style:f,maxCount:h,maxStyle:g,size:m,shape:D,maxPopoverPlacement:w,maxPopoverTrigger:v,children:x,max:_}=e,b=o("avatar",u),I=`${b}-group`,N=Fu(b),[M,z,O]=Q0(b,N),X=Wn(I,{[`${I}-rtl`]:a==="rtl"},O,N,l,d,z),B=LC(x).map((q,G)=>jC(q,{key:`avatar-key-${G}`})),U=_?.count||h,K=B.length;if(U&&U<K){const q=B.slice(0,U),G=B.slice(U,K),A=_?.style||g,$=((t=_?.popover)===null||t===void 0?void 0:t.trigger)||v||"hover",P=((n=_?.popover)===null||n===void 0?void 0:n.placement)||w||"top",Z=Object.assign(Object.assign({content:G},_?.popover),{overlayClassName:Wn(`${I}-popover`,(i=_?.popover)===null||i===void 0?void 0:i.overlayClassName),placement:P,trigger:$});return q.push(S.createElement(EC,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},Z),S.createElement(eg,{style:A},`+${K-U}`))),M(S.createElement(Ep,{shape:D,size:m},S.createElement("div",{className:X,style:f},q)))}return M(S.createElement(Ep,{shape:D,size:m},S.createElement("div",{className:X,style:f},B)))},tg=eg;tg.Group=UE;let zn=null,Xa=e=>e(),ru=[],yo={};function bp(){const{getContainer:e,rtl:t,maxCount:n,top:i,bottom:o,showProgress:a,pauseOnHover:u}=yo,l=e?.()||document.body;return{getContainer:()=>l,rtl:t,maxCount:n,top:i,bottom:o,showProgress:a,pauseOnHover:u}}const GE=j.forwardRef((e,t)=>{const{notificationConfig:n,sync:i}=e,{getPrefixCls:o}=S.useContext(Ho),a=yo.prefixCls||o("notification"),u=S.useContext(QC),[l,d]=J0(Object.assign(Object.assign(Object.assign({},n),{prefixCls:a}),u.notification));return j.useEffect(i,[]),j.useImperativeHandle(t,()=>{const f=Object.assign({},l);return Object.keys(f).forEach(h=>{f[h]=function(){return i(),l[h].apply(l,arguments)}}),{instance:f,sync:i}}),d}),ZE=j.forwardRef((e,t)=>{const[n,i]=j.useState(bp),o=()=>{i(bp)};j.useEffect(o,[]);const a=VC(),u=a.getRootPrefixCls(),l=a.getIconPrefixCls(),d=a.getTheme(),f=j.createElement(GE,{ref:t,sync:o,notificationConfig:n});return j.createElement(HC,{prefixCls:u,iconPrefixCls:l,theme:d},a.holderRender?a.holderRender(f):f)});function Cd(){if(!zn){const e=document.createDocumentFragment(),t={fragment:e};zn=t,Xa(()=>{dE(j.createElement(ZE,{ref:n=>{const{instance:i,sync:o}=n||{};Promise.resolve().then(()=>{!t.instance&&i&&(t.instance=i,t.sync=o,Cd())})}}),e)});return}zn.instance&&(ru.forEach(e=>{switch(e.type){case"open":{Xa(()=>{zn.instance.open(Object.assign(Object.assign({},yo),e.config))});break}case"destroy":Xa(()=>{zn?.instance.destroy(e.key)});break}}),ru=[])}function WE(e){yo=Object.assign(Object.assign({},yo),e),Xa(()=>{var t;(t=zn?.sync)===null||t===void 0||t.call(zn)})}function ng(e){ru.push({type:"open",config:e}),Cd()}const qE=e=>{ru.push({type:"destroy",key:e}),Cd()},XE=["success","info","warning","error"],YE={open:ng,destroy:qE,config:WE,useNotification:OE,_InternalPanelDoNotUseOrYouWillBeFired:SE},Ll=YE;XE.forEach(e=>{Ll[e]=t=>ng(Object.assign(Object.assign({},t),{type:e}))});var KE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"},JE=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:KE}))},rg=S.forwardRef(JE),QE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M740 161c-61.8 0-112 50.2-112 112 0 50.1 33.1 92.6 78.5 106.9v95.9L320 602.4V318.1c44.2-15 76-56.9 76-106.1 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 49.2 31.8 91 76 106.1V706c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-27.8l423.5-138.7a50.52 50.52 0 0034.9-48.2V378.2c42.9-15.8 73.6-57 73.6-105.2 0-61.8-50.2-112-112-112zm-504 51a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm96 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm408-491a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"branches",theme:"outlined"},e2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:QE}))},t2=S.forwardRef(e2),n2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},r2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:n2}))},i2=S.forwardRef(r2),s2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},o2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:s2}))},a2=S.forwardRef(o2),u2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},c2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:u2}))},l2=S.forwardRef(c2),d2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M326 664H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V696c0-17.7-14.3-32-32-32zm16-576h-48c-8.8 0-16 7.2-16 16v176H104c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V104c0-8.8-7.2-16-16-16zm578 576H698c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V744h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm0-384H746V104c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16z"}}]},name:"compress",theme:"outlined"},f2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:d2}))},h2=S.forwardRef(f2),p2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"}}]},name:"deployment-unit",theme:"outlined"},g2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:p2}))},m2=S.forwardRef(g2),y2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"},v2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:y2}))},_2=S.forwardRef(v2),D2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},x2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:D2}))},w2=S.forwardRef(x2),C2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 394c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H400V152c0-4.4-3.6-8-8-8h-64c-4.4 0-8 3.6-8 8v166H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v236H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h168v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h228v166c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V706h164c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8H708V394h164zM628 630H400V394h228v236z"}}]},name:"number",theme:"outlined"},E2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:C2}))},b2=S.forwardRef(E2),A2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},S2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:A2}))},F2=S.forwardRef(S2),N2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},T2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:N2}))},ig=S.forwardRef(T2),I2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},k2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:I2}))},B2=S.forwardRef(k2),R2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},M2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:R2}))},O2=S.forwardRef(M2),P2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"},$2=function(t,n){return S.createElement(Wt,Zt({},t,{ref:n,icon:P2}))},z2=S.forwardRef($2),L2=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,j2=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,H2=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,El={Space_Separator:L2,ID_Start:j2,ID_Continue:H2},wt={isSpaceSeparator(e){return typeof e=="string"&&El.Space_Separator.test(e)},isIdStartChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||El.ID_Start.test(e))},isIdContinueChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e==="‌"||e==="‍"||El.ID_Continue.test(e))},isDigit(e){return typeof e=="string"&&/[0-9]/.test(e)},isHexDigit(e){return typeof e=="string"&&/[0-9A-Fa-f]/.test(e)}};let jl,Ut,Cr,iu,qr,Vn,Nt,Ed,ho;var V2=function(t,n){jl=String(t),Ut="start",Cr=[],iu=0,qr=1,Vn=0,Nt=void 0,Ed=void 0,ho=void 0;do Nt=U2(),W2[Ut]();while(Nt.type!=="eof");return typeof n=="function"?Hl({"":ho},"",n):ho};function Hl(e,t,n){const i=e[t];if(i!=null&&typeof i=="object")if(Array.isArray(i))for(let o=0;o<i.length;o++){const a=String(o),u=Hl(i,a,n);u===void 0?delete i[a]:Object.defineProperty(i,a,{value:u,writable:!0,enumerable:!0,configurable:!0})}else for(const o in i){const a=Hl(i,o,n);a===void 0?delete i[o]:Object.defineProperty(i,o,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n.call(e,t,i)}let Me,Te,ro,Dr,Ue;function U2(){for(Me="default",Te="",ro=!1,Dr=1;;){Ue=Ar();const e=sg[Me]();if(e)return e}}function Ar(){if(jl[iu])return String.fromCodePoint(jl.codePointAt(iu))}function te(){const e=Ar();return e===`
`?(qr++,Vn=0):e?Vn+=e.length:Vn++,e&&(iu+=e.length),e}const sg={default(){switch(Ue){case"	":case"\v":case"\f":case" ":case" ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":te();return;case"/":te(),Me="comment";return;case void 0:return te(),at("eof")}if(wt.isSpaceSeparator(Ue)){te();return}return sg[Ut]()},comment(){switch(Ue){case"*":te(),Me="multiLineComment";return;case"/":te(),Me="singleLineComment";return}throw ut(te())},multiLineComment(){switch(Ue){case"*":te(),Me="multiLineCommentAsterisk";return;case void 0:throw ut(te())}te()},multiLineCommentAsterisk(){switch(Ue){case"*":te();return;case"/":te(),Me="default";return;case void 0:throw ut(te())}te(),Me="multiLineComment"},singleLineComment(){switch(Ue){case`
`:case"\r":case"\u2028":case"\u2029":te(),Me="default";return;case void 0:return te(),at("eof")}te()},value(){switch(Ue){case"{":case"[":return at("punctuator",te());case"n":return te(),fi("ull"),at("null",null);case"t":return te(),fi("rue"),at("boolean",!0);case"f":return te(),fi("alse"),at("boolean",!1);case"-":case"+":te()==="-"&&(Dr=-1),Me="sign";return;case".":Te=te(),Me="decimalPointLeading";return;case"0":Te=te(),Me="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Te=te(),Me="decimalInteger";return;case"I":return te(),fi("nfinity"),at("numeric",1/0);case"N":return te(),fi("aN"),at("numeric",NaN);case'"':case"'":ro=te()==='"',Te="",Me="string";return}throw ut(te())},identifierNameStartEscape(){if(Ue!=="u")throw ut(te());te();const e=Vl();switch(e){case"$":case"_":break;default:if(!wt.isIdStartChar(e))throw Ap();break}Te+=e,Me="identifierName"},identifierName(){switch(Ue){case"$":case"_":case"‌":case"‍":Te+=te();return;case"\\":te(),Me="identifierNameEscape";return}if(wt.isIdContinueChar(Ue)){Te+=te();return}return at("identifier",Te)},identifierNameEscape(){if(Ue!=="u")throw ut(te());te();const e=Vl();switch(e){case"$":case"_":case"‌":case"‍":break;default:if(!wt.isIdContinueChar(e))throw Ap();break}Te+=e,Me="identifierName"},sign(){switch(Ue){case".":Te=te(),Me="decimalPointLeading";return;case"0":Te=te(),Me="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Te=te(),Me="decimalInteger";return;case"I":return te(),fi("nfinity"),at("numeric",Dr*(1/0));case"N":return te(),fi("aN"),at("numeric",NaN)}throw ut(te())},zero(){switch(Ue){case".":Te+=te(),Me="decimalPoint";return;case"e":case"E":Te+=te(),Me="decimalExponent";return;case"x":case"X":Te+=te(),Me="hexadecimal";return}return at("numeric",Dr*0)},decimalInteger(){switch(Ue){case".":Te+=te(),Me="decimalPoint";return;case"e":case"E":Te+=te(),Me="decimalExponent";return}if(wt.isDigit(Ue)){Te+=te();return}return at("numeric",Dr*Number(Te))},decimalPointLeading(){if(wt.isDigit(Ue)){Te+=te(),Me="decimalFraction";return}throw ut(te())},decimalPoint(){switch(Ue){case"e":case"E":Te+=te(),Me="decimalExponent";return}if(wt.isDigit(Ue)){Te+=te(),Me="decimalFraction";return}return at("numeric",Dr*Number(Te))},decimalFraction(){switch(Ue){case"e":case"E":Te+=te(),Me="decimalExponent";return}if(wt.isDigit(Ue)){Te+=te();return}return at("numeric",Dr*Number(Te))},decimalExponent(){switch(Ue){case"+":case"-":Te+=te(),Me="decimalExponentSign";return}if(wt.isDigit(Ue)){Te+=te(),Me="decimalExponentInteger";return}throw ut(te())},decimalExponentSign(){if(wt.isDigit(Ue)){Te+=te(),Me="decimalExponentInteger";return}throw ut(te())},decimalExponentInteger(){if(wt.isDigit(Ue)){Te+=te();return}return at("numeric",Dr*Number(Te))},hexadecimal(){if(wt.isHexDigit(Ue)){Te+=te(),Me="hexadecimalInteger";return}throw ut(te())},hexadecimalInteger(){if(wt.isHexDigit(Ue)){Te+=te();return}return at("numeric",Dr*Number(Te))},string(){switch(Ue){case"\\":te(),Te+=G2();return;case'"':if(ro)return te(),at("string",Te);Te+=te();return;case"'":if(!ro)return te(),at("string",Te);Te+=te();return;case`
`:case"\r":throw ut(te());case"\u2028":case"\u2029":q2(Ue);break;case void 0:throw ut(te())}Te+=te()},start(){switch(Ue){case"{":case"[":return at("punctuator",te())}Me="value"},beforePropertyName(){switch(Ue){case"$":case"_":Te=te(),Me="identifierName";return;case"\\":te(),Me="identifierNameStartEscape";return;case"}":return at("punctuator",te());case'"':case"'":ro=te()==='"',Me="string";return}if(wt.isIdStartChar(Ue)){Te+=te(),Me="identifierName";return}throw ut(te())},afterPropertyName(){if(Ue===":")return at("punctuator",te());throw ut(te())},beforePropertyValue(){Me="value"},afterPropertyValue(){switch(Ue){case",":case"}":return at("punctuator",te())}throw ut(te())},beforeArrayValue(){if(Ue==="]")return at("punctuator",te());Me="value"},afterArrayValue(){switch(Ue){case",":case"]":return at("punctuator",te())}throw ut(te())},end(){throw ut(te())}};function at(e,t){return{type:e,value:t,line:qr,column:Vn}}function fi(e){for(const t of e){if(Ar()!==t)throw ut(te());te()}}function G2(){switch(Ar()){case"b":return te(),"\b";case"f":return te(),"\f";case"n":return te(),`
`;case"r":return te(),"\r";case"t":return te(),"	";case"v":return te(),"\v";case"0":if(te(),wt.isDigit(Ar()))throw ut(te());return"\0";case"x":return te(),Z2();case"u":return te(),Vl();case`
`:case"\u2028":case"\u2029":return te(),"";case"\r":return te(),Ar()===`
`&&te(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw ut(te());case void 0:throw ut(te())}return te()}function Z2(){let e="",t=Ar();if(!wt.isHexDigit(t)||(e+=te(),t=Ar(),!wt.isHexDigit(t)))throw ut(te());return e+=te(),String.fromCodePoint(parseInt(e,16))}function Vl(){let e="",t=4;for(;t-- >0;){const n=Ar();if(!wt.isHexDigit(n))throw ut(te());e+=te()}return String.fromCodePoint(parseInt(e,16))}const W2={start(){if(Nt.type==="eof")throw hi();bl()},beforePropertyName(){switch(Nt.type){case"identifier":case"string":Ed=Nt.value,Ut="afterPropertyName";return;case"punctuator":Pa();return;case"eof":throw hi()}},afterPropertyName(){if(Nt.type==="eof")throw hi();Ut="beforePropertyValue"},beforePropertyValue(){if(Nt.type==="eof")throw hi();bl()},beforeArrayValue(){if(Nt.type==="eof")throw hi();if(Nt.type==="punctuator"&&Nt.value==="]"){Pa();return}bl()},afterPropertyValue(){if(Nt.type==="eof")throw hi();switch(Nt.value){case",":Ut="beforePropertyName";return;case"}":Pa()}},afterArrayValue(){if(Nt.type==="eof")throw hi();switch(Nt.value){case",":Ut="beforeArrayValue";return;case"]":Pa()}},end(){}};function bl(){let e;switch(Nt.type){case"punctuator":switch(Nt.value){case"{":e={};break;case"[":e=[];break}break;case"null":case"boolean":case"numeric":case"string":e=Nt.value;break}if(ho===void 0)ho=e;else{const t=Cr[Cr.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,Ed,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(e!==null&&typeof e=="object")Cr.push(e),Array.isArray(e)?Ut="beforeArrayValue":Ut="beforePropertyName";else{const t=Cr[Cr.length-1];t==null?Ut="end":Array.isArray(t)?Ut="afterArrayValue":Ut="afterPropertyValue"}}function Pa(){Cr.pop();const e=Cr[Cr.length-1];e==null?Ut="end":Array.isArray(e)?Ut="afterArrayValue":Ut="afterPropertyValue"}function ut(e){return su(e===void 0?`JSON5: invalid end of input at ${qr}:${Vn}`:`JSON5: invalid character '${og(e)}' at ${qr}:${Vn}`)}function hi(){return su(`JSON5: invalid end of input at ${qr}:${Vn}`)}function Ap(){return Vn-=5,su(`JSON5: invalid identifier character at ${qr}:${Vn}`)}function q2(e){console.warn(`JSON5: '${og(e)}' in strings is not valid ECMAScript; consider escaping`)}function og(e){const t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){const n=e.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return e}function su(e){const t=new SyntaxError(e);return t.lineNumber=qr,t.columnNumber=Vn,t}var X2=function(t,n,i){const o=[];let a="",u,l,d="",f;if(n!=null&&typeof n=="object"&&!Array.isArray(n)&&(i=n.space,f=n.quote,n=n.replacer),typeof n=="function")l=n;else if(Array.isArray(n)){u=[];for(const v of n){let x;typeof v=="string"?x=v:(typeof v=="number"||v instanceof String||v instanceof Number)&&(x=String(v)),x!==void 0&&u.indexOf(x)<0&&u.push(x)}}return i instanceof Number?i=Number(i):i instanceof String&&(i=String(i)),typeof i=="number"?i>0&&(i=Math.min(10,Math.floor(i)),d="          ".substr(0,i)):typeof i=="string"&&(d=i.substr(0,10)),h("",{"":t});function h(v,x){let _=x[v];switch(_!=null&&(typeof _.toJSON5=="function"?_=_.toJSON5(v):typeof _.toJSON=="function"&&(_=_.toJSON(v))),l&&(_=l.call(x,v,_)),_ instanceof Number?_=Number(_):_ instanceof String?_=String(_):_ instanceof Boolean&&(_=_.valueOf()),_){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof _=="string")return g(_);if(typeof _=="number")return String(_);if(typeof _=="object")return Array.isArray(_)?w(_):m(_)}function g(v){const x={"'":.1,'"':.2},_={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let b="";for(let N=0;N<v.length;N++){const M=v[N];switch(M){case"'":case'"':x[M]++,b+=M;continue;case"\0":if(wt.isDigit(v[N+1])){b+="\\x00";continue}}if(_[M]){b+=_[M];continue}if(M<" "){let z=M.charCodeAt(0).toString(16);b+="\\x"+("00"+z).substring(z.length);continue}b+=M}const I=f||Object.keys(x).reduce((N,M)=>x[N]<x[M]?N:M);return b=b.replace(new RegExp(I,"g"),_[I]),I+b+I}function m(v){if(o.indexOf(v)>=0)throw TypeError("Converting circular structure to JSON5");o.push(v);let x=a;a=a+d;let _=u||Object.keys(v),b=[];for(const N of _){const M=h(N,v);if(M!==void 0){let z=D(N)+":";d!==""&&(z+=" "),z+=M,b.push(z)}}let I;if(b.length===0)I="{}";else{let N;if(d==="")N=b.join(","),I="{"+N+"}";else{let M=`,
`+a;N=b.join(M),I=`{
`+a+N+`,
`+x+"}"}}return o.pop(),a=x,I}function D(v){if(v.length===0)return g(v);const x=String.fromCodePoint(v.codePointAt(0));if(!wt.isIdStartChar(x))return g(v);for(let _=x.length;_<v.length;_++)if(!wt.isIdContinueChar(String.fromCodePoint(v.codePointAt(_))))return g(v);return v}function w(v){if(o.indexOf(v)>=0)throw TypeError("Converting circular structure to JSON5");o.push(v);let x=a;a=a+d;let _=[];for(let I=0;I<v.length;I++){const N=h(String(I),v);_.push(N!==void 0?N:"null")}let b;if(_.length===0)b="[]";else if(d==="")b="["+_.join(",")+"]";else{let I=`,
`+a,N=_.join(I);b=`[
`+a+N+`,
`+x+"]"}return o.pop(),a=x,b}};const Y2={parse:V2,stringify:X2};var Ji=Y2;function qt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=qt(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const{useDebugValue:K2}=j,{useSyncExternalStoreWithSelector:J2}=bC,Q2=e=>e;function ag(e,t=Q2,n){const i=J2(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return K2(i),i}const Sp=(e,t)=>{const n=AC(e),i=(o,a=t)=>ag(n,o,a);return Object.assign(i,n),i},eb=(e,t)=>e?Sp(e,t):Sp;function zt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,o]of e)if(!Object.is(o,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(t,i)||!Object.is(e[i],t[i]))return!1;return!0}var tb={value:()=>{}};function Nu(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ya(n)}function Ya(e){this._=e}function nb(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ya.prototype=Nu.prototype={constructor:Ya,on:function(e,t){var n=this._,i=nb(e+"",n),o,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((o=(e=i[a]).type)&&(o=rb(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<u;)if(o=(e=i[a]).type)n[o]=Fp(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Fp(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ya(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(t,n)}};function rb(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function Fp(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=tb,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ul="http://www.w3.org/1999/xhtml";const Np={svg:"http://www.w3.org/2000/svg",xhtml:Ul,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Np.hasOwnProperty(t)?{space:Np[t],local:e}:e}function ib(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ul&&t.documentElement.namespaceURI===Ul?t.createElement(e):t.createElementNS(n,e)}}function sb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ug(e){var t=Tu(e);return(t.local?sb:ib)(t)}function ob(){}function bd(e){return e==null?ob:function(){return this.querySelector(e)}}function ab(e){typeof e!="function"&&(e=bd(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var a=t[o],u=a.length,l=i[o]=new Array(u),d,f,h=0;h<u;++h)(d=a[h])&&(f=e.call(d,d.__data__,h,a))&&("__data__"in d&&(f.__data__=d.__data__),l[h]=f);return new vn(i,this._parents)}function ub(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function cb(){return[]}function cg(e){return e==null?cb:function(){return this.querySelectorAll(e)}}function lb(e){return function(){return ub(e.apply(this,arguments))}}function db(e){typeof e=="function"?e=lb(e):e=cg(e);for(var t=this._groups,n=t.length,i=[],o=[],a=0;a<n;++a)for(var u=t[a],l=u.length,d,f=0;f<l;++f)(d=u[f])&&(i.push(e.call(d,d.__data__,f,u)),o.push(d));return new vn(i,o)}function lg(e){return function(){return this.matches(e)}}function dg(e){return function(t){return t.matches(e)}}var fb=Array.prototype.find;function hb(e){return function(){return fb.call(this.children,e)}}function pb(){return this.firstElementChild}function gb(e){return this.select(e==null?pb:hb(typeof e=="function"?e:dg(e)))}var mb=Array.prototype.filter;function yb(){return Array.from(this.children)}function vb(e){return function(){return mb.call(this.children,e)}}function _b(e){return this.selectAll(e==null?yb:vb(typeof e=="function"?e:dg(e)))}function Db(e){typeof e!="function"&&(e=lg(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var a=t[o],u=a.length,l=i[o]=[],d,f=0;f<u;++f)(d=a[f])&&e.call(d,d.__data__,f,a)&&l.push(d);return new vn(i,this._parents)}function fg(e){return new Array(e.length)}function xb(){return new vn(this._enter||this._groups.map(fg),this._parents)}function ou(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ou.prototype={constructor:ou,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function wb(e){return function(){return e}}function Cb(e,t,n,i,o,a){for(var u=0,l,d=t.length,f=a.length;u<f;++u)(l=t[u])?(l.__data__=a[u],i[u]=l):n[u]=new ou(e,a[u]);for(;u<d;++u)(l=t[u])&&(o[u]=l)}function Eb(e,t,n,i,o,a,u){var l,d,f=new Map,h=t.length,g=a.length,m=new Array(h),D;for(l=0;l<h;++l)(d=t[l])&&(m[l]=D=u.call(d,d.__data__,l,t)+"",f.has(D)?o[l]=d:f.set(D,d));for(l=0;l<g;++l)D=u.call(e,a[l],l,a)+"",(d=f.get(D))?(i[l]=d,d.__data__=a[l],f.delete(D)):n[l]=new ou(e,a[l]);for(l=0;l<h;++l)(d=t[l])&&f.get(m[l])===d&&(o[l]=d)}function bb(e){return e.__data__}function Ab(e,t){if(!arguments.length)return Array.from(this,bb);var n=t?Eb:Cb,i=this._parents,o=this._groups;typeof e!="function"&&(e=wb(e));for(var a=o.length,u=new Array(a),l=new Array(a),d=new Array(a),f=0;f<a;++f){var h=i[f],g=o[f],m=g.length,D=Sb(e.call(h,h&&h.__data__,f,i)),w=D.length,v=l[f]=new Array(w),x=u[f]=new Array(w),_=d[f]=new Array(m);n(h,g,v,x,_,D,t);for(var b=0,I=0,N,M;b<w;++b)if(N=v[b]){for(b>=I&&(I=b+1);!(M=x[I])&&++I<w;);N._next=M||null}}return u=new vn(u,i),u._enter=l,u._exit=d,u}function Sb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Fb(){return new vn(this._exit||this._groups.map(fg),this._parents)}function Nb(e,t,n){var i=this.enter(),o=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function Tb(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,a=i.length,u=Math.min(o,a),l=new Array(o),d=0;d<u;++d)for(var f=n[d],h=i[d],g=f.length,m=l[d]=new Array(g),D,w=0;w<g;++w)(D=f[w]||h[w])&&(m[w]=D);for(;d<o;++d)l[d]=n[d];return new vn(l,this._parents)}function Ib(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,a=i[o],u;--o>=0;)(u=i[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function kb(e){e||(e=Bb);function t(g,m){return g&&m?e(g.__data__,m.__data__):!g-!m}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var u=n[a],l=u.length,d=o[a]=new Array(l),f,h=0;h<l;++h)(f=u[h])&&(d[h]=f);d.sort(t)}return new vn(o,this._parents).order()}function Bb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Rb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Mb(){return Array.from(this)}function Ob(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null}function Pb(){let e=0;for(const t of this)++e;return e}function $b(){return!this.node()}function zb(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],a=0,u=o.length,l;a<u;++a)(l=o[a])&&e.call(l,l.__data__,a,o);return this}function Lb(e){return function(){this.removeAttribute(e)}}function jb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hb(e,t){return function(){this.setAttribute(e,t)}}function Vb(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ub(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Gb(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Zb(e,t){var n=Tu(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?jb:Lb:typeof t=="function"?n.local?Gb:Ub:n.local?Vb:Hb)(n,t))}function hg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Wb(e){return function(){this.style.removeProperty(e)}}function qb(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xb(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Yb(e,t,n){return arguments.length>1?this.each((t==null?Wb:typeof t=="function"?Xb:qb)(e,t,n??"")):ps(this.node(),e)}function ps(e,t){return e.style.getPropertyValue(t)||hg(e).getComputedStyle(e,null).getPropertyValue(t)}function Kb(e){return function(){delete this[e]}}function Jb(e,t){return function(){this[e]=t}}function Qb(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function eA(e,t){return arguments.length>1?this.each((t==null?Kb:typeof t=="function"?Qb:Jb)(e,t)):this.node()[e]}function pg(e){return e.trim().split(/^|\s+/)}function Ad(e){return e.classList||new gg(e)}function gg(e){this._node=e,this._names=pg(e.getAttribute("class")||"")}gg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function mg(e,t){for(var n=Ad(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function yg(e,t){for(var n=Ad(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function tA(e){return function(){mg(this,e)}}function nA(e){return function(){yg(this,e)}}function rA(e,t){return function(){(t.apply(this,arguments)?mg:yg)(this,e)}}function iA(e,t){var n=pg(e+"");if(arguments.length<2){for(var i=Ad(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?rA:t?tA:nA)(n,t))}function sA(){this.textContent=""}function oA(e){return function(){this.textContent=e}}function aA(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function uA(e){return arguments.length?this.each(e==null?sA:(typeof e=="function"?aA:oA)(e)):this.node().textContent}function cA(){this.innerHTML=""}function lA(e){return function(){this.innerHTML=e}}function dA(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function fA(e){return arguments.length?this.each(e==null?cA:(typeof e=="function"?dA:lA)(e)):this.node().innerHTML}function hA(){this.nextSibling&&this.parentNode.appendChild(this)}function pA(){return this.each(hA)}function gA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mA(){return this.each(gA)}function yA(e){var t=typeof e=="function"?e:ug(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function vA(){return null}function _A(e,t){var n=typeof e=="function"?e:ug(e),i=t==null?vA:typeof t=="function"?t:bd(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function DA(){var e=this.parentNode;e&&e.removeChild(this)}function xA(){return this.each(DA)}function wA(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function CA(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EA(e){return this.select(e?CA:wA)}function bA(e){return arguments.length?this.property("__data__",e):this.node().__data__}function AA(e){return function(t){e.call(this,t,this.__data__)}}function SA(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function FA(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,a;n<o;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function NA(e,t,n){return function(){var i=this.__on,o,a=AA(t);if(i){for(var u=0,l=i.length;u<l;++u)if((o=i[u]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(o):this.__on=[o]}}function TA(e,t,n){var i=SA(e+""),o,a=i.length,u;if(arguments.length<2){var l=this.node().__on;if(l){for(var d=0,f=l.length,h;d<f;++d)for(o=0,h=l[d];o<a;++o)if((u=i[o]).type===h.type&&u.name===h.name)return h.value}return}for(l=t?NA:FA,o=0;o<a;++o)this.each(l(i[o],t,n));return this}function vg(e,t,n){var i=hg(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function IA(e,t){return function(){return vg(this,e,t)}}function kA(e,t){return function(){return vg(this,e,t.apply(this,arguments))}}function BA(e,t){return this.each((typeof t=="function"?kA:IA)(e,t))}function*RA(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,a=i.length,u;o<a;++o)(u=i[o])&&(yield u)}var _g=[null];function vn(e,t){this._groups=e,this._parents=t}function Vo(){return new vn([[document.documentElement]],_g)}function MA(){return this}vn.prototype=Vo.prototype={constructor:vn,select:ab,selectAll:db,selectChild:gb,selectChildren:_b,filter:Db,data:Ab,enter:xb,exit:Fb,join:Nb,merge:Tb,selection:MA,order:Ib,sort:kb,call:Rb,nodes:Mb,node:Ob,size:Pb,empty:$b,each:zb,attr:Zb,style:Yb,property:eA,classed:iA,text:uA,html:fA,raise:pA,lower:mA,append:yA,insert:_A,remove:xA,clone:EA,datum:bA,on:TA,dispatch:BA,[Symbol.iterator]:RA};function Ln(e){return typeof e=="string"?new vn([[document.querySelector(e)]],[document.documentElement]):new vn([[e]],_g)}function OA(e){let t;for(;t=e.sourceEvent;)e=t;return e}function tr(e,t){if(e=OA(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const PA={passive:!1},vo={capture:!0,passive:!1};function Al(e){e.stopImmediatePropagation()}function os(e){e.preventDefault(),e.stopImmediatePropagation()}function Dg(e){var t=e.document.documentElement,n=Ln(e).on("dragstart.drag",os,vo);"onselectstart"in t?n.on("selectstart.drag",os,vo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function xg(e,t){var n=e.document.documentElement,i=Ln(e).on("dragstart.drag",null);t&&(i.on("click.drag",os,vo),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const $a=e=>()=>e;function Gl(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:a,x:u,y:l,dx:d,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}Gl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function $A(e){return!e.ctrlKey&&!e.button}function zA(){return this.parentNode}function LA(e,t){return t??{x:e.x,y:e.y}}function jA(){return navigator.maxTouchPoints||"ontouchstart"in this}function HA(){var e=$A,t=zA,n=LA,i=jA,o={},a=Nu("start","drag","end"),u=0,l,d,f,h,g=0;function m(N){N.on("mousedown.drag",D).filter(i).on("touchstart.drag",x).on("touchmove.drag",_,PA).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function D(N,M){if(!(h||!e.call(this,N,M))){var z=I(this,t.call(this,N,M),N,M,"mouse");z&&(Ln(N.view).on("mousemove.drag",w,vo).on("mouseup.drag",v,vo),Dg(N.view),Al(N),f=!1,l=N.clientX,d=N.clientY,z("start",N))}}function w(N){if(os(N),!f){var M=N.clientX-l,z=N.clientY-d;f=M*M+z*z>g}o.mouse("drag",N)}function v(N){Ln(N.view).on("mousemove.drag mouseup.drag",null),xg(N.view,f),os(N),o.mouse("end",N)}function x(N,M){if(e.call(this,N,M)){var z=N.changedTouches,O=t.call(this,N,M),X=z.length,B,U;for(B=0;B<X;++B)(U=I(this,O,N,M,z[B].identifier,z[B]))&&(Al(N),U("start",N,z[B]))}}function _(N){var M=N.changedTouches,z=M.length,O,X;for(O=0;O<z;++O)(X=o[M[O].identifier])&&(os(N),X("drag",N,M[O]))}function b(N){var M=N.changedTouches,z=M.length,O,X;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),O=0;O<z;++O)(X=o[M[O].identifier])&&(Al(N),X("end",N,M[O]))}function I(N,M,z,O,X,B){var U=a.copy(),K=tr(B||z,M),q,G,A;if((A=n.call(N,new Gl("beforestart",{sourceEvent:z,target:m,identifier:X,active:u,x:K[0],y:K[1],dx:0,dy:0,dispatch:U}),O))!=null)return q=A.x-K[0]||0,G=A.y-K[1]||0,function $(P,Z,ee){var H=K,ne;switch(P){case"start":o[X]=$,ne=u++;break;case"end":delete o[X],--u;case"drag":K=tr(ee||Z,M),ne=u;break}U.call(P,N,new Gl(P,{sourceEvent:Z,subject:A,target:m,identifier:X,active:ne,x:K[0]+q,y:K[1]+G,dx:K[0]-H[0],dy:K[1]-H[1],dispatch:U}),O)}}return m.filter=function(N){return arguments.length?(e=typeof N=="function"?N:$a(!!N),m):e},m.container=function(N){return arguments.length?(t=typeof N=="function"?N:$a(N),m):t},m.subject=function(N){return arguments.length?(n=typeof N=="function"?N:$a(N),m):n},m.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:$a(!!N),m):i},m.on=function(){var N=a.on.apply(a,arguments);return N===a?m:N},m.clickDistance=function(N){return arguments.length?(g=(N=+N)*N,m):Math.sqrt(g)},m}function Sd(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function wg(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Uo(){}var _o=.7,au=1/_o,as="\\s*([+-]?\\d+)\\s*",Do="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VA=/^#([0-9a-f]{3,8})$/,UA=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),GA=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),ZA=new RegExp(`^rgba\\(${as},${as},${as},${Do}\\)$`),WA=new RegExp(`^rgba\\(${nr},${nr},${nr},${Do}\\)$`),qA=new RegExp(`^hsl\\(${Do},${nr},${nr}\\)$`),XA=new RegExp(`^hsla\\(${Do},${nr},${nr},${Do}\\)$`),Tp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sd(Uo,xo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ip,formatHex:Ip,formatHex8:YA,formatHsl:KA,formatRgb:kp,toString:kp});function Ip(){return this.rgb().formatHex()}function YA(){return this.rgb().formatHex8()}function KA(){return Cg(this).formatHsl()}function kp(){return this.rgb().formatRgb()}function xo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=VA.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Bp(t):n===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?za(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?za(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=UA.exec(e))?new sn(t[1],t[2],t[3],1):(t=GA.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ZA.exec(e))?za(t[1],t[2],t[3],t[4]):(t=WA.exec(e))?za(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qA.exec(e))?Op(t[1],t[2]/100,t[3]/100,1):(t=XA.exec(e))?Op(t[1],t[2]/100,t[3]/100,t[4]):Tp.hasOwnProperty(e)?Bp(Tp[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function Bp(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function za(e,t,n,i){return i<=0&&(e=t=n=NaN),new sn(e,t,n,i)}function JA(e){return e instanceof Uo||(e=xo(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function Zl(e,t,n,i){return arguments.length===1?JA(e):new sn(e,t,n,i??1)}function sn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Sd(sn,Zl,wg(Uo,{brighter(e){return e=e==null?au:Math.pow(au,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_o:Math.pow(_o,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(_i(this.r),_i(this.g),_i(this.b),uu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rp,formatHex:Rp,formatHex8:QA,formatRgb:Mp,toString:Mp}));function Rp(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}`}function QA(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}${mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Mp(){const e=uu(this.opacity);return`${e===1?"rgb(":"rgba("}${_i(this.r)}, ${_i(this.g)}, ${_i(this.b)}${e===1?")":`, ${e})`}`}function uu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _i(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mi(e){return e=_i(e),(e<16?"0":"")+e.toString(16)}function Op(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jn(e,t,n,i)}function Cg(e){if(e instanceof jn)return new jn(e.h,e.s,e.l,e.opacity);if(e instanceof Uo||(e=xo(e)),!e)return new jn;if(e instanceof jn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),a=Math.max(t,n,i),u=NaN,l=a-o,d=(a+o)/2;return l?(t===a?u=(n-i)/l+(n<i)*6:n===a?u=(i-t)/l+2:u=(t-n)/l+4,l/=d<.5?a+o:2-a-o,u*=60):l=d>0&&d<1?0:u,new jn(u,l,d,e.opacity)}function eS(e,t,n,i){return arguments.length===1?Cg(e):new jn(e,t,n,i??1)}function jn(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Sd(jn,eS,wg(Uo,{brighter(e){return e=e==null?au:Math.pow(au,e),new jn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_o:Math.pow(_o,e),new jn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new sn(Sl(e>=240?e-240:e+120,o,i),Sl(e,o,i),Sl(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new jn(Pp(this.h),La(this.s),La(this.l),uu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uu(this.opacity);return`${e===1?"hsl(":"hsla("}${Pp(this.h)}, ${La(this.s)*100}%, ${La(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pp(e){return e=(e||0)%360,e<0?e+360:e}function La(e){return Math.max(0,Math.min(1,e||0))}function Sl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Eg=e=>()=>e;function tS(e,t){return function(n){return e+n*t}}function nS(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function rS(e){return(e=+e)==1?bg:function(t,n){return n-t?nS(t,n,e):Eg(isNaN(t)?n:t)}}function bg(e,t){var n=t-e;return n?tS(e,n):Eg(isNaN(e)?t:e)}const $p=function e(t){var n=rS(t);function i(o,a){var u=n((o=Zl(o)).r,(a=Zl(a)).r),l=n(o.g,a.g),d=n(o.b,a.b),f=bg(o.opacity,a.opacity);return function(h){return o.r=u(h),o.g=l(h),o.b=d(h),o.opacity=f(h),o+""}}return i.gamma=e,i}(1);function jr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Wl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fl=new RegExp(Wl.source,"g");function iS(e){return function(){return e}}function sS(e){return function(t){return e(t)+""}}function oS(e,t){var n=Wl.lastIndex=Fl.lastIndex=0,i,o,a,u=-1,l=[],d=[];for(e=e+"",t=t+"";(i=Wl.exec(e))&&(o=Fl.exec(t));)(a=o.index)>n&&(a=t.slice(n,a),l[u]?l[u]+=a:l[++u]=a),(i=i[0])===(o=o[0])?l[u]?l[u]+=o:l[++u]=o:(l[++u]=null,d.push({i:u,x:jr(i,o)})),n=Fl.lastIndex;return n<t.length&&(a=t.slice(n),l[u]?l[u]+=a:l[++u]=a),l.length<2?d[0]?sS(d[0].x):iS(t):(t=d.length,function(f){for(var h=0,g;h<t;++h)l[(g=d[h]).i]=g.x(f);return l.join("")})}var zp=180/Math.PI,ql={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ag(e,t,n,i,o,a){var u,l,d;return(u=Math.sqrt(e*e+t*t))&&(e/=u,t/=u),(d=e*n+t*i)&&(n-=e*d,i-=t*d),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,d/=l),e*i<t*n&&(e=-e,t=-t,d=-d,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(t,e)*zp,skewX:Math.atan(d)*zp,scaleX:u,scaleY:l}}var ja;function aS(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ql:Ag(t.a,t.b,t.c,t.d,t.e,t.f)}function uS(e){return e==null||(ja||(ja=document.createElementNS("http://www.w3.org/2000/svg","g")),ja.setAttribute("transform",e),!(e=ja.transform.baseVal.consolidate()))?ql:(e=e.matrix,Ag(e.a,e.b,e.c,e.d,e.e,e.f))}function Sg(e,t,n,i){function o(f){return f.length?f.pop()+" ":""}function a(f,h,g,m,D,w){if(f!==g||h!==m){var v=D.push("translate(",null,t,null,n);w.push({i:v-4,x:jr(f,g)},{i:v-2,x:jr(h,m)})}else(g||m)&&D.push("translate("+g+t+m+n)}function u(f,h,g,m){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),m.push({i:g.push(o(g)+"rotate(",null,i)-2,x:jr(f,h)})):h&&g.push(o(g)+"rotate("+h+i)}function l(f,h,g,m){f!==h?m.push({i:g.push(o(g)+"skewX(",null,i)-2,x:jr(f,h)}):h&&g.push(o(g)+"skewX("+h+i)}function d(f,h,g,m,D,w){if(f!==g||h!==m){var v=D.push(o(D)+"scale(",null,",",null,")");w.push({i:v-4,x:jr(f,g)},{i:v-2,x:jr(h,m)})}else(g!==1||m!==1)&&D.push(o(D)+"scale("+g+","+m+")")}return function(f,h){var g=[],m=[];return f=e(f),h=e(h),a(f.translateX,f.translateY,h.translateX,h.translateY,g,m),u(f.rotate,h.rotate,g,m),l(f.skewX,h.skewX,g,m),d(f.scaleX,f.scaleY,h.scaleX,h.scaleY,g,m),f=h=null,function(D){for(var w=-1,v=m.length,x;++w<v;)g[(x=m[w]).i]=x.x(D);return g.join("")}}}var cS=Sg(aS,"px, ","px)","deg)"),lS=Sg(uS,", ",")",")"),dS=1e-12;function Lp(e){return((e=Math.exp(e))+1/e)/2}function fS(e){return((e=Math.exp(e))-1/e)/2}function hS(e){return((e=Math.exp(2*e))-1)/(e+1)}const pS=function e(t,n,i){function o(a,u){var l=a[0],d=a[1],f=a[2],h=u[0],g=u[1],m=u[2],D=h-l,w=g-d,v=D*D+w*w,x,_;if(v<dS)_=Math.log(m/f)/t,x=function(O){return[l+O*D,d+O*w,f*Math.exp(t*O*_)]};else{var b=Math.sqrt(v),I=(m*m-f*f+i*v)/(2*f*n*b),N=(m*m-f*f-i*v)/(2*m*n*b),M=Math.log(Math.sqrt(I*I+1)-I),z=Math.log(Math.sqrt(N*N+1)-N);_=(z-M)/t,x=function(O){var X=O*_,B=Lp(M),U=f/(n*b)*(B*hS(t*X+M)-fS(M));return[l+U*D,d+U*w,f*B/Lp(t*X+M)]}}return x.duration=_*1e3*t/Math.SQRT2,x}return o.rho=function(a){var u=Math.max(.001,+a),l=u*u,d=l*l;return e(u,l,d)},o}(Math.SQRT2,2,4);var gs=0,io=0,Xs=0,Fg=1e3,cu,so,lu=0,Ci=0,Iu=0,wo=typeof performance=="object"&&performance.now?performance:Date,Ng=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Fd(){return Ci||(Ng(gS),Ci=wo.now()+Iu)}function gS(){Ci=0}function du(){this._call=this._time=this._next=null}du.prototype=Tg.prototype={constructor:du,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Fd():+n)+(t==null?0:+t),!this._next&&so!==this&&(so?so._next=this:cu=this,so=this),this._call=e,this._time=n,Xl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xl())}};function Tg(e,t,n){var i=new du;return i.restart(e,t,n),i}function mS(){Fd(),++gs;for(var e=cu,t;e;)(t=Ci-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gs}function jp(){Ci=(lu=wo.now())+Iu,gs=io=0;try{mS()}finally{gs=0,vS(),Ci=0}}function yS(){var e=wo.now(),t=e-lu;t>Fg&&(Iu-=t,lu=e)}function vS(){for(var e,t=cu,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:cu=n);so=e,Xl(i)}function Xl(e){if(!gs){io&&(io=clearTimeout(io));var t=e-Ci;t>24?(e<1/0&&(io=setTimeout(jp,e-wo.now()-Iu)),Xs&&(Xs=clearInterval(Xs))):(Xs||(lu=wo.now(),Xs=setInterval(yS,Fg)),gs=1,Ng(jp))}}function Hp(e,t,n){var i=new du;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var _S=Nu("start","end","cancel","interrupt"),DS=[],Ig=0,Vp=1,Yl=2,Ka=3,Up=4,Kl=5,Ja=6;function ku(e,t,n,i,o,a){var u=e.__transition;if(!u)e.__transition={};else if(n in u)return;xS(e,n,{name:t,index:i,group:o,on:_S,tween:DS,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ig})}function Nd(e,t){var n=Xn(e,t);if(n.state>Ig)throw new Error("too late; already scheduled");return n}function or(e,t){var n=Xn(e,t);if(n.state>Ka)throw new Error("too late; already running");return n}function Xn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function xS(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=Tg(a,0,n.time);function a(f){n.state=Vp,n.timer.restart(u,n.delay,n.time),n.delay<=f&&u(f-n.delay)}function u(f){var h,g,m,D;if(n.state!==Vp)return d();for(h in i)if(D=i[h],D.name===n.name){if(D.state===Ka)return Hp(u);D.state===Up?(D.state=Ja,D.timer.stop(),D.on.call("interrupt",e,e.__data__,D.index,D.group),delete i[h]):+h<t&&(D.state=Ja,D.timer.stop(),D.on.call("cancel",e,e.__data__,D.index,D.group),delete i[h])}if(Hp(function(){n.state===Ka&&(n.state=Up,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=Yl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Yl){for(n.state=Ka,o=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(D=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++g]=D);o.length=g+1}}function l(f){for(var h=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=Kl,1),g=-1,m=o.length;++g<m;)o[g].call(e,h);n.state===Kl&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=Ja,n.timer.stop(),delete i[t];for(var f in i)return;delete e.__transition}}function Qa(e,t){var n=e.__transition,i,o,a=!0,u;if(n){t=t==null?null:t+"";for(u in n){if((i=n[u]).name!==t){a=!1;continue}o=i.state>Yl&&i.state<Kl,i.state=Ja,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[u]}a&&delete e.__transition}}function wS(e){return this.each(function(){Qa(this,e)})}function CS(e,t){var n,i;return function(){var o=or(this,e),a=o.tween;if(a!==n){i=n=a;for(var u=0,l=i.length;u<l;++u)if(i[u].name===t){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function ES(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=or(this,e),u=a.tween;if(u!==i){o=(i=u).slice();for(var l={name:t,value:n},d=0,f=o.length;d<f;++d)if(o[d].name===t){o[d]=l;break}d===f&&o.push(l)}a.tween=o}}function bS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=Xn(this.node(),n).tween,o=0,a=i.length,u;o<a;++o)if((u=i[o]).name===e)return u.value;return null}return this.each((t==null?CS:ES)(n,e,t))}function Td(e,t,n){var i=e._id;return e.each(function(){var o=or(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Xn(o,i).value[t]}}function kg(e,t){var n;return(typeof t=="number"?jr:t instanceof xo?$p:(n=xo(t))?(t=n,$p):oS)(e,t)}function AS(e){return function(){this.removeAttribute(e)}}function SS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function FS(e,t,n){var i,o=n+"",a;return function(){var u=this.getAttribute(e);return u===o?null:u===i?a:a=t(i=u,n)}}function NS(e,t,n){var i,o=n+"",a;return function(){var u=this.getAttributeNS(e.space,e.local);return u===o?null:u===i?a:a=t(i=u,n)}}function TS(e,t,n){var i,o,a;return function(){var u,l=n(this),d;return l==null?void this.removeAttribute(e):(u=this.getAttribute(e),d=l+"",u===d?null:u===i&&d===o?a:(o=d,a=t(i=u,l)))}}function IS(e,t,n){var i,o,a;return function(){var u,l=n(this),d;return l==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),d=l+"",u===d?null:u===i&&d===o?a:(o=d,a=t(i=u,l)))}}function kS(e,t){var n=Tu(e),i=n==="transform"?lS:kg;return this.attrTween(e,typeof t=="function"?(n.local?IS:TS)(n,i,Td(this,"attr."+e,t)):t==null?(n.local?SS:AS)(n):(n.local?NS:FS)(n,i,t))}function BS(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function RS(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function MS(e,t){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&RS(e,a)),n}return o._value=t,o}function OS(e,t){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&BS(e,a)),n}return o._value=t,o}function PS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=Tu(e);return this.tween(n,(i.local?MS:OS)(i,t))}function $S(e,t){return function(){Nd(this,e).delay=+t.apply(this,arguments)}}function zS(e,t){return t=+t,function(){Nd(this,e).delay=t}}function LS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$S:zS)(t,e)):Xn(this.node(),t).delay}function jS(e,t){return function(){or(this,e).duration=+t.apply(this,arguments)}}function HS(e,t){return t=+t,function(){or(this,e).duration=t}}function VS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jS:HS)(t,e)):Xn(this.node(),t).duration}function US(e,t){if(typeof t!="function")throw new Error;return function(){or(this,e).ease=t}}function GS(e){var t=this._id;return arguments.length?this.each(US(t,e)):Xn(this.node(),t).ease}function ZS(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;or(this,e).ease=n}}function WS(e){if(typeof e!="function")throw new Error;return this.each(ZS(this._id,e))}function qS(e){typeof e!="function"&&(e=lg(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var a=t[o],u=a.length,l=i[o]=[],d,f=0;f<u;++f)(d=a[f])&&e.call(d,d.__data__,f,a)&&l.push(d);return new Sr(i,this._parents,this._name,this._id)}function XS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var d=t[l],f=n[l],h=d.length,g=u[l]=new Array(h),m,D=0;D<h;++D)(m=d[D]||f[D])&&(g[D]=m);for(;l<i;++l)u[l]=t[l];return new Sr(u,this._parents,this._name,this._id)}function YS(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function KS(e,t,n){var i,o,a=YS(t)?Nd:or;return function(){var u=a(this,e),l=u.on;l!==i&&(o=(i=l).copy()).on(t,n),u.on=o}}function JS(e,t){var n=this._id;return arguments.length<2?Xn(this.node(),n).on.on(e):this.each(KS(n,e,t))}function QS(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function e3(){return this.on("end.remove",QS(this._id))}function t3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bd(e));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var l=i[u],d=l.length,f=a[u]=new Array(d),h,g,m=0;m<d;++m)(h=l[m])&&(g=e.call(h,h.__data__,m,l))&&("__data__"in h&&(g.__data__=h.__data__),f[m]=g,ku(f[m],t,n,m,f,Xn(h,n)));return new Sr(a,this._parents,t,n)}function n3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=cg(e));for(var i=this._groups,o=i.length,a=[],u=[],l=0;l<o;++l)for(var d=i[l],f=d.length,h,g=0;g<f;++g)if(h=d[g]){for(var m=e.call(h,h.__data__,g,d),D,w=Xn(h,n),v=0,x=m.length;v<x;++v)(D=m[v])&&ku(D,t,n,v,m,w);a.push(m),u.push(h)}return new Sr(a,u,t,n)}var r3=Vo.prototype.constructor;function i3(){return new r3(this._groups,this._parents)}function s3(e,t){var n,i,o;return function(){var a=ps(this,e),u=(this.style.removeProperty(e),ps(this,e));return a===u?null:a===n&&u===i?o:o=t(n=a,i=u)}}function Bg(e){return function(){this.style.removeProperty(e)}}function o3(e,t,n){var i,o=n+"",a;return function(){var u=ps(this,e);return u===o?null:u===i?a:a=t(i=u,n)}}function a3(e,t,n){var i,o,a;return function(){var u=ps(this,e),l=n(this),d=l+"";return l==null&&(d=l=(this.style.removeProperty(e),ps(this,e))),u===d?null:u===i&&d===o?a:(o=d,a=t(i=u,l))}}function u3(e,t){var n,i,o,a="style."+t,u="end."+a,l;return function(){var d=or(this,e),f=d.on,h=d.value[a]==null?l||(l=Bg(t)):void 0;(f!==n||o!==h)&&(i=(n=f).copy()).on(u,o=h),d.on=i}}function c3(e,t,n){var i=(e+="")=="transform"?cS:kg;return t==null?this.styleTween(e,s3(e,i)).on("end.style."+e,Bg(e)):typeof t=="function"?this.styleTween(e,a3(e,i,Td(this,"style."+e,t))).each(u3(this._id,e)):this.styleTween(e,o3(e,i,t),n).on("end.style."+e,null)}function l3(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function d3(e,t,n){var i,o;function a(){var u=t.apply(this,arguments);return u!==o&&(i=(o=u)&&l3(e,u,n)),i}return a._value=t,a}function f3(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,d3(e,t,n??""))}function h3(e){return function(){this.textContent=e}}function p3(e){return function(){var t=e(this);this.textContent=t??""}}function g3(e){return this.tween("text",typeof e=="function"?p3(Td(this,"text",e)):h3(e==null?"":e+""))}function m3(e){return function(t){this.textContent=e.call(this,t)}}function y3(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&m3(o)),t}return i._value=e,i}function v3(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,y3(e))}function _3(){for(var e=this._name,t=this._id,n=Rg(),i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],l=u.length,d,f=0;f<l;++f)if(d=u[f]){var h=Xn(d,t);ku(d,e,n,f,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Sr(i,this._parents,e,n)}function D3(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(a,u){var l={value:u},d={value:function(){--o===0&&a()}};n.each(function(){var f=or(this,i),h=f.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(d)),f.on=t}),o===0&&a()})}var x3=0;function Sr(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Rg(){return++x3}var _r=Vo.prototype;Sr.prototype={constructor:Sr,select:t3,selectAll:n3,selectChild:_r.selectChild,selectChildren:_r.selectChildren,filter:qS,merge:XS,selection:i3,transition:_3,call:_r.call,nodes:_r.nodes,node:_r.node,size:_r.size,empty:_r.empty,each:_r.each,on:JS,attr:kS,attrTween:PS,style:c3,styleTween:f3,text:g3,textTween:v3,remove:e3,tween:bS,delay:LS,duration:VS,ease:GS,easeVarying:WS,end:D3,[Symbol.iterator]:_r[Symbol.iterator]};function w3(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var C3={time:null,delay:0,duration:250,ease:w3};function E3(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function b3(e){var t,n;e instanceof Sr?(t=e._id,e=e._name):(t=Rg(),(n=C3).time=Fd(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],l=u.length,d,f=0;f<l;++f)(d=u[f])&&ku(d,e,t,f,u,n||E3(d,t));return new Sr(i,this._parents,e,t)}Vo.prototype.interrupt=wS;Vo.prototype.transition=b3;const Ha=e=>()=>e;function A3(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function br(e,t,n){this.k=e,this.x=t,this.y=n}br.prototype={constructor:br,scale:function(e){return e===1?this:new br(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new br(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Zr=new br(1,0,0);br.prototype;function Nl(e){e.stopImmediatePropagation()}function Ys(e){e.preventDefault(),e.stopImmediatePropagation()}function S3(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function F3(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Gp(){return this.__zoom||Zr}function N3(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function T3(){return navigator.maxTouchPoints||"ontouchstart"in this}function I3(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],u=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function k3(){var e=S3,t=F3,n=I3,i=N3,o=T3,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],l=250,d=pS,f=Nu("start","zoom","end"),h,g,m,D=500,w=150,v=0,x=10;function _(A){A.property("__zoom",Gp).on("wheel.zoom",X,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",U).filter(o).on("touchstart.zoom",K).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(A,$,P,Z){var ee=A.selection?A.selection():A;ee.property("__zoom",Gp),A!==ee?M(A,$,P,Z):ee.interrupt().each(function(){z(this,arguments).event(Z).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},_.scaleBy=function(A,$,P,Z){_.scaleTo(A,function(){var ee=this.__zoom.k,H=typeof $=="function"?$.apply(this,arguments):$;return ee*H},P,Z)},_.scaleTo=function(A,$,P,Z){_.transform(A,function(){var ee=t.apply(this,arguments),H=this.__zoom,ne=P==null?N(ee):typeof P=="function"?P.apply(this,arguments):P,re=H.invert(ne),ae=typeof $=="function"?$.apply(this,arguments):$;return n(I(b(H,ae),ne,re),ee,u)},P,Z)},_.translateBy=function(A,$,P,Z){_.transform(A,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),u)},null,Z)},_.translateTo=function(A,$,P,Z,ee){_.transform(A,function(){var H=t.apply(this,arguments),ne=this.__zoom,re=Z==null?N(H):typeof Z=="function"?Z.apply(this,arguments):Z;return n(Zr.translate(re[0],re[1]).scale(ne.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof P=="function"?-P.apply(this,arguments):-P),H,u)},Z,ee)};function b(A,$){return $=Math.max(a[0],Math.min(a[1],$)),$===A.k?A:new br($,A.x,A.y)}function I(A,$,P){var Z=$[0]-P[0]*A.k,ee=$[1]-P[1]*A.k;return Z===A.x&&ee===A.y?A:new br(A.k,Z,ee)}function N(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function M(A,$,P,Z){A.on("start.zoom",function(){z(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(Z).end()}).tween("zoom",function(){var ee=this,H=arguments,ne=z(ee,H).event(Z),re=t.apply(ee,H),ae=P==null?N(re):typeof P=="function"?P.apply(ee,H):P,W=Math.max(re[1][0]-re[0][0],re[1][1]-re[0][1]),ie=ee.__zoom,ue=typeof $=="function"?$.apply(ee,H):$,de=d(ie.invert(ae).concat(W/ie.k),ue.invert(ae).concat(W/ue.k));return function(fe){if(fe===1)fe=ue;else{var le=de(fe),ge=W/le[2];fe=new br(ge,ae[0]-le[0]*ge,ae[1]-le[1]*ge)}ne.zoom(null,fe)}})}function z(A,$,P){return!P&&A.__zooming||new O(A,$)}function O(A,$){this.that=A,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(A,$),this.taps=0}O.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,$){return this.mouse&&A!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var $=Ln(this.that).datum();f.call(A,this.that,new A3(A,{sourceEvent:this.sourceEvent,target:_,type:A,transform:this.that.__zoom,dispatch:f}),$)}};function X(A,...$){if(!e.apply(this,arguments))return;var P=z(this,$).event(A),Z=this.__zoom,ee=Math.max(a[0],Math.min(a[1],Z.k*Math.pow(2,i.apply(this,arguments)))),H=tr(A);if(P.wheel)(P.mouse[0][0]!==H[0]||P.mouse[0][1]!==H[1])&&(P.mouse[1]=Z.invert(P.mouse[0]=H)),clearTimeout(P.wheel);else{if(Z.k===ee)return;P.mouse=[H,Z.invert(H)],Qa(this),P.start()}Ys(A),P.wheel=setTimeout(ne,w),P.zoom("mouse",n(I(b(Z,ee),P.mouse[0],P.mouse[1]),P.extent,u));function ne(){P.wheel=null,P.end()}}function B(A,...$){if(m||!e.apply(this,arguments))return;var P=A.currentTarget,Z=z(this,$,!0).event(A),ee=Ln(A.view).on("mousemove.zoom",ae,!0).on("mouseup.zoom",W,!0),H=tr(A,P),ne=A.clientX,re=A.clientY;Dg(A.view),Nl(A),Z.mouse=[H,this.__zoom.invert(H)],Qa(this),Z.start();function ae(ie){if(Ys(ie),!Z.moved){var ue=ie.clientX-ne,de=ie.clientY-re;Z.moved=ue*ue+de*de>v}Z.event(ie).zoom("mouse",n(I(Z.that.__zoom,Z.mouse[0]=tr(ie,P),Z.mouse[1]),Z.extent,u))}function W(ie){ee.on("mousemove.zoom mouseup.zoom",null),xg(ie.view,Z.moved),Ys(ie),Z.event(ie).end()}}function U(A,...$){if(e.apply(this,arguments)){var P=this.__zoom,Z=tr(A.changedTouches?A.changedTouches[0]:A,this),ee=P.invert(Z),H=P.k*(A.shiftKey?.5:2),ne=n(I(b(P,H),Z,ee),t.apply(this,$),u);Ys(A),l>0?Ln(this).transition().duration(l).call(M,ne,Z,A):Ln(this).call(_.transform,ne,Z,A)}}function K(A,...$){if(e.apply(this,arguments)){var P=A.touches,Z=P.length,ee=z(this,$,A.changedTouches.length===Z).event(A),H,ne,re,ae;for(Nl(A),ne=0;ne<Z;++ne)re=P[ne],ae=tr(re,this),ae=[ae,this.__zoom.invert(ae),re.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==ae[2]&&(ee.touch1=ae,ee.taps=0):(ee.touch0=ae,H=!0,ee.taps=1+!!h);h&&(h=clearTimeout(h)),H&&(ee.taps<2&&(g=ae[0],h=setTimeout(function(){h=null},D)),Qa(this),ee.start())}}function q(A,...$){if(this.__zooming){var P=z(this,$).event(A),Z=A.changedTouches,ee=Z.length,H,ne,re,ae;for(Ys(A),H=0;H<ee;++H)ne=Z[H],re=tr(ne,this),P.touch0&&P.touch0[2]===ne.identifier?P.touch0[0]=re:P.touch1&&P.touch1[2]===ne.identifier&&(P.touch1[0]=re);if(ne=P.that.__zoom,P.touch1){var W=P.touch0[0],ie=P.touch0[1],ue=P.touch1[0],de=P.touch1[1],fe=(fe=ue[0]-W[0])*fe+(fe=ue[1]-W[1])*fe,le=(le=de[0]-ie[0])*le+(le=de[1]-ie[1])*le;ne=b(ne,Math.sqrt(fe/le)),re=[(W[0]+ue[0])/2,(W[1]+ue[1])/2],ae=[(ie[0]+de[0])/2,(ie[1]+de[1])/2]}else if(P.touch0)re=P.touch0[0],ae=P.touch0[1];else return;P.zoom("touch",n(I(ne,re,ae),P.extent,u))}}function G(A,...$){if(this.__zooming){var P=z(this,$).event(A),Z=A.changedTouches,ee=Z.length,H,ne;for(Nl(A),m&&clearTimeout(m),m=setTimeout(function(){m=null},D),H=0;H<ee;++H)ne=Z[H],P.touch0&&P.touch0[2]===ne.identifier?delete P.touch0:P.touch1&&P.touch1[2]===ne.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(ne=tr(ne,this),Math.hypot(g[0]-ne[0],g[1]-ne[1])<x)){var re=Ln(this).on("dblclick.zoom");re&&re.apply(this,arguments)}}}return _.wheelDelta=function(A){return arguments.length?(i=typeof A=="function"?A:Ha(+A),_):i},_.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Ha(!!A),_):e},_.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:Ha(!!A),_):o},_.extent=function(A){return arguments.length?(t=typeof A=="function"?A:Ha([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),_):t},_.scaleExtent=function(A){return arguments.length?(a[0]=+A[0],a[1]=+A[1],_):[a[0],a[1]]},_.translateExtent=function(A){return arguments.length?(u[0][0]=+A[0][0],u[1][0]=+A[1][0],u[0][1]=+A[0][1],u[1][1]=+A[1][1],_):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},_.constrain=function(A){return arguments.length?(n=A,_):n},_.duration=function(A){return arguments.length?(l=+A,_):l},_.interpolate=function(A){return arguments.length?(d=A,_):d},_.on=function(){var A=f.on.apply(f,arguments);return A===f?_:A},_.clickDistance=function(A){return arguments.length?(v=(A=+A)*A,_):Math.sqrt(v)},_.tapDistance=function(A){return arguments.length?(x=+A,_):x},_}const Bu=S.createContext(null),B3=Bu.Provider,Fr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Mg=Fr.error001();function ft(e,t){const n=S.useContext(Bu);if(n===null)throw new Error(Mg);return ag(n,e,t)}const It=()=>{const e=S.useContext(Bu);if(e===null)throw new Error(Mg);return S.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},R3=e=>e.userSelectionActive?"none":"all";function Og({position:e,children:t,className:n,style:i,...o}){const a=ft(R3),u=`${e}`.split("-");return j.createElement("div",{className:qt(["react-flow__panel",n,...u]),style:{...i,pointerEvents:a},...o},t)}function M3({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:j.createElement(Og,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},j.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const O3=({x:e,y:t,label:n,labelStyle:i={},labelShowBg:o=!0,labelBgStyle:a={},labelBgPadding:u=[2,4],labelBgBorderRadius:l=2,children:d,className:f,...h})=>{const g=S.useRef(null),[m,D]=S.useState({x:0,y:0,width:0,height:0}),w=qt(["react-flow__edge-textwrapper",f]);return S.useEffect(()=>{if(g.current){const v=g.current.getBBox();D({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:j.createElement("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:w,visibility:m.width?"visible":"hidden",...h},o&&j.createElement("rect",{width:m.width+2*u[0],x:-u[0],y:-u[1],height:m.height+2*u[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),j.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:g,style:i},n),d)};var P3=S.memo(O3);const Id=e=>({width:e.offsetWidth,height:e.offsetHeight}),ms=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),kd=(e={x:0,y:0},t)=>({x:ms(e.x,t[0][0],t[1][0]),y:ms(e.y,t[0][1],t[1][1])}),Zp=(e,t,n)=>e<t?ms(Math.abs(e-t),1,50)/50:e>n?-ms(Math.abs(e-n),1,50)/50:0,Pg=(e,t)=>{const n=Zp(e.x,35,t.width-35)*20,i=Zp(e.y,35,t.height-35)*20;return[n,i]},$g=e=>e.getRootNode?.()||window?.document,$3=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Bd=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),z3=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),Wp=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Jl=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},L3=e=>Nn(e.width)&&Nn(e.height)&&Nn(e.x)&&Nn(e.y),Nn=e=>!isNaN(e)&&isFinite(e),vt=Symbol.for("internals"),zg=["Enter"," ","Escape"],j3=(e,t)=>{},H3=e=>"nativeEvent"in e;function Ql(e){const n=(H3(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const Lg=e=>"clientX"in e,Wr=(e,t)=>{const n=Lg(e),i=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:i-(t?.left??0),y:o-(t?.top??0)}},fu=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,ws=({id:e,path:t,labelX:n,labelY:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:m,interactionWidth:D=20})=>j.createElement(j.Fragment,null,j.createElement("path",{id:e,style:h,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:g,markerStart:m}),D&&j.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:D,className:"react-flow__edge-interaction"}),o&&Nn(n)&&Nn(i)?j.createElement(P3,{x:n,y:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f}):null);ws.displayName="BaseEdge";function Ks(e,t,n){return n===void 0?n:i=>{const o=t().edges.find(a=>a.id===e);o&&n(i,{...o})}}function jg({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,a=n<e?n+o:n-o,u=Math.abs(i-t)/2,l=i<t?i+u:i-u;return[a,l,o,u]}function Hg({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:u,targetControlY:l}){const d=e*.125+o*.375+u*.375+n*.125,f=t*.125+a*.375+l*.375+i*.125,h=Math.abs(d-e),g=Math.abs(f-t);return[d,f,h,g]}var Ei;(function(e){e.Strict="strict",e.Loose="loose"})(Ei||(Ei={}));var yi;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(yi||(yi={}));var ys;(function(e){e.Partial="partial",e.Full="full"})(ys||(ys={}));var Vr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Vr||(Vr={}));var Co;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Co||(Co={}));var De;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(De||(De={}));function qp({pos:e,x1:t,y1:n,x2:i,y2:o}){return e===De.Left||e===De.Right?[.5*(t+i),n]:[t,.5*(n+o)]}function Vg({sourceX:e,sourceY:t,sourcePosition:n=De.Bottom,targetX:i,targetY:o,targetPosition:a=De.Top}){const[u,l]=qp({pos:n,x1:e,y1:t,x2:i,y2:o}),[d,f]=qp({pos:a,x1:i,y1:o,x2:e,y2:t}),[h,g,m,D]=Hg({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:u,sourceControlY:l,targetControlX:d,targetControlY:f});return[`M${e},${t} C${u},${l} ${d},${f} ${i},${o}`,h,g,m,D]}const Rd=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:o=De.Bottom,targetPosition:a=De.Top,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:D,markerStart:w,interactionWidth:v})=>{const[x,_,b]=Vg({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:i,targetPosition:a});return j.createElement(ws,{path:x,labelX:_,labelY:b,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:D,markerStart:w,interactionWidth:v})});Rd.displayName="SimpleBezierEdge";const Xp={[De.Left]:{x:-1,y:0},[De.Right]:{x:1,y:0},[De.Top]:{x:0,y:-1},[De.Bottom]:{x:0,y:1}},V3=({source:e,sourcePosition:t=De.Bottom,target:n})=>t===De.Left||t===De.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Yp=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function U3({source:e,sourcePosition:t=De.Bottom,target:n,targetPosition:i=De.Top,center:o,offset:a}){const u=Xp[t],l=Xp[i],d={x:e.x+u.x*a,y:e.y+u.y*a},f={x:n.x+l.x*a,y:n.y+l.y*a},h=V3({source:d,sourcePosition:t,target:f}),g=h.x!==0?"x":"y",m=h[g];let D=[],w,v;const x={x:0,y:0},_={x:0,y:0},[b,I,N,M]=jg({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[g]*l[g]===-1){w=o.x??b,v=o.y??I;const O=[{x:w,y:d.y},{x:w,y:f.y}],X=[{x:d.x,y:v},{x:f.x,y:v}];u[g]===m?D=g==="x"?O:X:D=g==="x"?X:O}else{const O=[{x:d.x,y:f.y}],X=[{x:f.x,y:d.y}];if(g==="x"?D=u.x===m?X:O:D=u.y===m?O:X,t===i){const G=Math.abs(e[g]-n[g]);if(G<=a){const A=Math.min(a-1,a-G);u[g]===m?x[g]=(d[g]>e[g]?-1:1)*A:_[g]=(f[g]>n[g]?-1:1)*A}}if(t!==i){const G=g==="x"?"y":"x",A=u[g]===l[G],$=d[G]>f[G],P=d[G]<f[G];(u[g]===1&&(!A&&$||A&&P)||u[g]!==1&&(!A&&P||A&&$))&&(D=g==="x"?O:X)}const B={x:d.x+x.x,y:d.y+x.y},U={x:f.x+_.x,y:f.y+_.y},K=Math.max(Math.abs(B.x-D[0].x),Math.abs(U.x-D[0].x)),q=Math.max(Math.abs(B.y-D[0].y),Math.abs(U.y-D[0].y));K>=q?(w=(B.x+U.x)/2,v=D[0].y):(w=D[0].x,v=(B.y+U.y)/2)}return[[e,{x:d.x+x.x,y:d.y+x.y},...D,{x:f.x+_.x,y:f.y+_.y},n],w,v,N,M]}function G3(e,t,n,i){const o=Math.min(Yp(e,t)/2,Yp(t,n)/2,i),{x:a,y:u}=t;if(e.x===a&&a===n.x||e.y===u&&u===n.y)return`L${a} ${u}`;if(e.y===u){const f=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${a+o*f},${u}Q ${a},${u} ${a},${u+o*h}`}const l=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${a},${u+o*d}Q ${a},${u} ${a+o*l},${u}`}function ed({sourceX:e,sourceY:t,sourcePosition:n=De.Bottom,targetX:i,targetY:o,targetPosition:a=De.Top,borderRadius:u=5,centerX:l,centerY:d,offset:f=20}){const[h,g,m,D,w]=U3({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:a,center:{x:l,y:d},offset:f});return[h.reduce((x,_,b)=>{let I="";return b>0&&b<h.length-1?I=G3(h[b-1],_,h[b+1],u):I=`${b===0?"M":"L"}${_.x} ${_.y}`,x+=I,x},""),g,m,D,w]}const Ru=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,sourcePosition:g=De.Bottom,targetPosition:m=De.Top,markerEnd:D,markerStart:w,pathOptions:v,interactionWidth:x})=>{const[_,b,I]=ed({sourceX:e,sourceY:t,sourcePosition:g,targetX:n,targetY:i,targetPosition:m,borderRadius:v?.borderRadius,offset:v?.offset});return j.createElement(ws,{path:_,labelX:b,labelY:I,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:D,markerStart:w,interactionWidth:x})});Ru.displayName="SmoothStepEdge";const Md=S.memo(e=>j.createElement(Ru,{...e,pathOptions:S.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));Md.displayName="StepEdge";function Z3({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,a,u,l]=jg({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,a,u,l]}const Od=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:m,interactionWidth:D})=>{const[w,v,x]=Z3({sourceX:e,sourceY:t,targetX:n,targetY:i});return j.createElement(ws,{path:w,labelX:v,labelY:x,label:o,labelStyle:a,labelShowBg:u,labelBgStyle:l,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:m,interactionWidth:D})});Od.displayName="StraightEdge";function Va(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Kp({pos:e,x1:t,y1:n,x2:i,y2:o,c:a}){switch(e){case De.Left:return[t-Va(t-i,a),n];case De.Right:return[t+Va(i-t,a),n];case De.Top:return[t,n-Va(n-o,a)];case De.Bottom:return[t,n+Va(o-n,a)]}}function Pd({sourceX:e,sourceY:t,sourcePosition:n=De.Bottom,targetX:i,targetY:o,targetPosition:a=De.Top,curvature:u=.25}){const[l,d]=Kp({pos:n,x1:e,y1:t,x2:i,y2:o,c:u}),[f,h]=Kp({pos:a,x1:i,y1:o,x2:e,y2:t,c:u}),[g,m,D,w]=Hg({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:l,sourceControlY:d,targetControlX:f,targetControlY:h});return[`M${e},${t} C${l},${d} ${f},${h} ${i},${o}`,g,m,D,w]}const hu=S.memo(({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:o=De.Bottom,targetPosition:a=De.Top,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:D,markerStart:w,pathOptions:v,interactionWidth:x})=>{const[_,b,I]=Pd({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:i,targetPosition:a,curvature:v?.curvature});return j.createElement(ws,{path:_,labelX:b,labelY:I,label:u,labelStyle:l,labelShowBg:d,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:g,style:m,markerEnd:D,markerStart:w,interactionWidth:x})});hu.displayName="BezierEdge";const $d=S.createContext(null),W3=$d.Provider;$d.Consumer;const q3=()=>S.useContext($d),X3=e=>"id"in e&&"source"in e&&"target"in e,Ug=e=>"id"in e&&!("source"in e)&&!("target"in e),pu=(e,t,n)=>{if(!Ug(e))return[];const i=n.filter(o=>o.source===e.id).map(o=>o.target);return t.filter(o=>i.includes(o.id))},Y3=(e,t,n)=>{if(!Ug(e))return[];const i=n.filter(o=>o.target===e.id).map(o=>o.source);return t.filter(o=>i.includes(o.id))},K3=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`reactflow__edge-${e}${t||""}-${n}${i||""}`,td=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`,J3=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Q3=(e,t)=>{if(!e.source||!e.target)return t;let n;return X3(e)?n={...e}:n={...e,id:K3(e)},J3(n,t)?t:t.concat(n)},nd=({x:e,y:t},[n,i,o],a,[u,l])=>{const d={x:(e-n)/o,y:(t-i)/o};return a?{x:u*Math.round(d.x/u),y:l*Math.round(d.y/l)}:d},Gg=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i}),us=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],i=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-i};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-i}:o}},zd=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,o)=>{const{x:a,y:u}=us(o,t).positionAbsolute;return $3(i,Bd({x:a,y:u,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return z3(n)},Zg=(e,t,[n,i,o]=[0,0,1],a=!1,u=!1,l=[0,0])=>{const d={x:(t.x-n)/o,y:(t.y-i)/o,width:t.width/o,height:t.height/o},f=[];return e.forEach(h=>{const{width:g,height:m,selectable:D=!0,hidden:w=!1}=h;if(u&&!D||w)return!1;const{positionAbsolute:v}=us(h,l),x={x:v.x,y:v.y,width:g||0,height:m||0},_=Jl(d,x),b=typeof g>"u"||typeof m>"u"||g===null||m===null,I=a&&_>0,N=(g||0)*(m||0);(b||I||_>=N||h.dragging)&&f.push(h)}),f},Wg=(e,t)=>{const n=e.map(i=>i.id);return t.filter(i=>n.includes(i.source)||n.includes(i.target))},qg=(e,t,n,i,o,a=.1)=>{const u=t/(e.width*(1+a)),l=n/(e.height*(1+a)),d=Math.min(u,l),f=ms(d,i,o),h=e.x+e.width/2,g=e.y+e.height/2,m=t/2-h*f,D=n/2-g*f;return{x:m,y:D,zoom:f}},gi=(e,t=0)=>e.transition().duration(t);function Jp(e,t,n,i){return(t[n]||[]).reduce((o,a)=>(`${e.id}-${a.id}-${n}`!==i&&o.push({id:a.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+a.x+a.width/2,y:(e.positionAbsolute?.y??0)+a.y+a.height/2}),o),[])}function e8(e,t,n,i,o,a){const{x:u,y:l}=Wr(e),f=t.elementsFromPoint(u,l).find(w=>w.classList.contains("react-flow__handle"));if(f){const w=f.getAttribute("data-nodeid");if(w){const v=Ld(void 0,f),x=f.getAttribute("data-handleid"),_=a({nodeId:w,id:x,type:v});if(_){const b=o.find(I=>I.nodeId===w&&I.type===v&&I.id===x);return{handle:{id:x,type:v,nodeId:w,x:b?.x||n.x,y:b?.y||n.y},validHandleResult:_}}}}let h=[],g=1/0;if(o.forEach(w=>{const v=Math.sqrt((w.x-n.x)**2+(w.y-n.y)**2);if(v<=i){const x=a(w);v<=g&&(v<g?h=[{handle:w,validHandleResult:x}]:v===g&&h.push({handle:w,validHandleResult:x}),g=v)}}),!h.length)return{handle:null,validHandleResult:Xg()};if(h.length===1)return h[0];const m=h.some(({validHandleResult:w})=>w.isValid),D=h.some(({handle:w})=>w.type==="target");return h.find(({handle:w,validHandleResult:v})=>D?w.type==="target":m?v.isValid:!0)||h[0]}const t8={source:null,target:null,sourceHandle:null,targetHandle:null},Xg=()=>({handleDomNode:null,isValid:!1,connection:t8,endHandle:null});function Yg(e,t,n,i,o,a,u){const l=o==="target",d=u.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),f={...Xg(),handleDomNode:d};if(d){const h=Ld(void 0,d),g=d.getAttribute("data-nodeid"),m=d.getAttribute("data-handleid"),D=d.classList.contains("connectable"),w=d.classList.contains("connectableend"),v={source:l?g:n,sourceHandle:l?m:i,target:l?n:g,targetHandle:l?i:m};f.connection=v,D&&w&&(t===Ei.Strict?l&&h==="source"||!l&&h==="target":g!==n||m!==i)&&(f.endHandle={nodeId:g,handleId:m,type:h},f.isValid=a(v))}return f}function n8({nodes:e,nodeId:t,handleId:n,handleType:i}){return e.reduce((o,a)=>{if(a[vt]){const{handleBounds:u}=a[vt];let l=[],d=[];u&&(l=Jp(a,u,"source",`${t}-${n}-${i}`),d=Jp(a,u,"target",`${t}-${n}-${i}`)),o.push(...l,...d)}return o},[])}function Ld(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Tl(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function r8(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Kg({event:e,handleId:t,nodeId:n,onConnect:i,isTarget:o,getState:a,setState:u,isValidConnection:l,edgeUpdaterType:d,onReconnectEnd:f}){const h=$g(e.target),{connectionMode:g,domNode:m,autoPanOnConnect:D,connectionRadius:w,onConnectStart:v,panBy:x,getNodes:_,cancelConnection:b}=a();let I=0,N;const{x:M,y:z}=Wr(e),O=h?.elementFromPoint(M,z),X=Ld(d,O),B=m?.getBoundingClientRect();if(!B||!X)return;let U,K=Wr(e,B),q=!1,G=null,A=!1,$=null;const P=n8({nodes:_(),nodeId:n,handleId:t,handleType:X}),Z=()=>{if(!D)return;const[ne,re]=Pg(K,B);x({x:ne,y:re}),I=requestAnimationFrame(Z)};u({connectionPosition:K,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:X,connectionStartHandle:{nodeId:n,handleId:t,type:X},connectionEndHandle:null}),v?.(e,{nodeId:n,handleId:t,handleType:X});function ee(ne){const{transform:re}=a();K=Wr(ne,B);const{handle:ae,validHandleResult:W}=e8(ne,h,nd(K,re,!1,[1,1]),w,P,ie=>Yg(ie,g,n,t,o?"target":"source",l,h));if(N=ae,q||(Z(),q=!0),$=W.handleDomNode,G=W.connection,A=W.isValid,u({connectionPosition:N&&A?Gg({x:N.x,y:N.y},re):K,connectionStatus:r8(!!N,A),connectionEndHandle:W.endHandle}),!N&&!A&&!$)return Tl(U);G.source!==G.target&&$&&(Tl(U),U=$,$.classList.add("connecting","react-flow__handle-connecting"),$.classList.toggle("valid",A),$.classList.toggle("react-flow__handle-valid",A))}function H(ne){(N||$)&&G&&A&&i?.(G),a().onConnectEnd?.(ne),d&&f?.(ne),Tl(U),b(),cancelAnimationFrame(I),q=!1,A=!1,G=null,$=null,h.removeEventListener("mousemove",ee),h.removeEventListener("mouseup",H),h.removeEventListener("touchmove",ee),h.removeEventListener("touchend",H)}h.addEventListener("mousemove",ee),h.addEventListener("mouseup",H),h.addEventListener("touchmove",ee),h.addEventListener("touchend",H)}const Qp=()=>!0,i8=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),s8=(e,t,n)=>i=>{const{connectionStartHandle:o,connectionEndHandle:a,connectionClickStartHandle:u}=i;return{connecting:o?.nodeId===e&&o?.handleId===t&&o?.type===n||a?.nodeId===e&&a?.handleId===t&&a?.type===n,clickConnecting:u?.nodeId===e&&u?.handleId===t&&u?.type===n}},Jg=S.forwardRef(({type:e="source",position:t=De.Top,isValidConnection:n,isConnectable:i=!0,isConnectableStart:o=!0,isConnectableEnd:a=!0,id:u,onConnect:l,children:d,className:f,onMouseDown:h,onTouchStart:g,...m},D)=>{const w=u||null,v=e==="target",x=It(),_=q3(),{connectOnClick:b,noPanClassName:I}=ft(i8,zt),{connecting:N,clickConnecting:M}=ft(s8(_,w,e),zt);_||x.getState().onError?.("010",Fr.error010());const z=B=>{const{defaultEdgeOptions:U,onConnect:K,hasDefaultEdges:q}=x.getState(),G={...U,...B};if(q){const{edges:A,setEdges:$}=x.getState();$(Q3(G,A))}K?.(G),l?.(G)},O=B=>{if(!_)return;const U=Lg(B);o&&(U&&B.button===0||!U)&&Kg({event:B,handleId:w,nodeId:_,onConnect:z,isTarget:v,getState:x.getState,setState:x.setState,isValidConnection:n||x.getState().isValidConnection||Qp}),U?h?.(B):g?.(B)},X=B=>{const{onClickConnectStart:U,onClickConnectEnd:K,connectionClickStartHandle:q,connectionMode:G,isValidConnection:A}=x.getState();if(!_||!q&&!o)return;if(!q){U?.(B,{nodeId:_,handleId:w,handleType:e}),x.setState({connectionClickStartHandle:{nodeId:_,type:e,handleId:w}});return}const $=$g(B.target),P=n||A||Qp,{connection:Z,isValid:ee}=Yg({nodeId:_,id:w,type:e},G,q.nodeId,q.handleId||null,q.type,P,$);ee&&z(Z),K?.(B),x.setState({connectionClickStartHandle:null})};return j.createElement("div",{"data-handleid":w,"data-nodeid":_,"data-handlepos":t,"data-id":`${_}-${w}-${e}`,className:qt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",I,f,{source:!v,target:v,connectable:i,connectablestart:o,connectableend:a,connecting:M,connectionindicator:i&&(o&&!N||a&&N)}]),onMouseDown:O,onTouchStart:O,onClick:b?X:void 0,ref:D,...m},d)});Jg.displayName="Handle";var Xr=S.memo(Jg);const Qg=({data:e,isConnectable:t,targetPosition:n=De.Top,sourcePosition:i=De.Bottom})=>j.createElement(j.Fragment,null,j.createElement(Xr,{type:"target",position:n,isConnectable:t}),e?.label,j.createElement(Xr,{type:"source",position:i,isConnectable:t}));Qg.displayName="DefaultNode";var rd=S.memo(Qg);const em=({data:e,isConnectable:t,sourcePosition:n=De.Bottom})=>j.createElement(j.Fragment,null,e?.label,j.createElement(Xr,{type:"source",position:n,isConnectable:t}));em.displayName="InputNode";var tm=S.memo(em);const nm=({data:e,isConnectable:t,targetPosition:n=De.Top})=>j.createElement(j.Fragment,null,j.createElement(Xr,{type:"target",position:n,isConnectable:t}),e?.label);nm.displayName="OutputNode";var rm=S.memo(nm);const jd=()=>null;jd.displayName="GroupNode";const o8=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ua=e=>e.id;function a8(e,t){return zt(e.selectedNodes.map(Ua),t.selectedNodes.map(Ua))&&zt(e.selectedEdges.map(Ua),t.selectedEdges.map(Ua))}const im=S.memo(({onSelectionChange:e})=>{const t=It(),{selectedNodes:n,selectedEdges:i}=ft(o8,a8);return S.useEffect(()=>{const o={nodes:n,edges:i};e?.(o),t.getState().onSelectionChange.forEach(a=>a(o))},[n,i,e]),null});im.displayName="SelectionListener";const u8=e=>!!e.onSelectionChange;function c8({onSelectionChange:e}){const t=ft(u8);return e||t?j.createElement(im,{onSelectionChange:e}):null}const l8=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Zi(e,t){S.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ze(e,t,n){S.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const d8=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:o,onConnectStart:a,onConnectEnd:u,onClickConnectStart:l,onClickConnectEnd:d,nodesDraggable:f,nodesConnectable:h,nodesFocusable:g,edgesFocusable:m,edgesUpdatable:D,elevateNodesOnSelect:w,minZoom:v,maxZoom:x,nodeExtent:_,onNodesChange:b,onEdgesChange:I,elementsSelectable:N,connectionMode:M,snapGrid:z,snapToGrid:O,translateExtent:X,connectOnClick:B,defaultEdgeOptions:U,fitView:K,fitViewOptions:q,onNodesDelete:G,onEdgesDelete:A,onNodeDrag:$,onNodeDragStart:P,onNodeDragStop:Z,onSelectionDrag:ee,onSelectionDragStart:H,onSelectionDragStop:ne,noPanClassName:re,nodeOrigin:ae,rfId:W,autoPanOnConnect:ie,autoPanOnNodeDrag:ue,onError:de,connectionRadius:fe,isValidConnection:le,nodeDragThreshold:ge})=>{const{setNodes:we,setEdges:nt,setDefaultNodesAndEdges:Je,setMinZoom:Le,setMaxZoom:He,setTranslateExtent:Qe,setNodeExtent:gt,reset:Be}=ft(l8,zt),ve=It();return S.useEffect(()=>{const _t=i?.map(Mt=>({...Mt,...U}));return Je(n,_t),()=>{Be()}},[]),ze("defaultEdgeOptions",U,ve.setState),ze("connectionMode",M,ve.setState),ze("onConnect",o,ve.setState),ze("onConnectStart",a,ve.setState),ze("onConnectEnd",u,ve.setState),ze("onClickConnectStart",l,ve.setState),ze("onClickConnectEnd",d,ve.setState),ze("nodesDraggable",f,ve.setState),ze("nodesConnectable",h,ve.setState),ze("nodesFocusable",g,ve.setState),ze("edgesFocusable",m,ve.setState),ze("edgesUpdatable",D,ve.setState),ze("elementsSelectable",N,ve.setState),ze("elevateNodesOnSelect",w,ve.setState),ze("snapToGrid",O,ve.setState),ze("snapGrid",z,ve.setState),ze("onNodesChange",b,ve.setState),ze("onEdgesChange",I,ve.setState),ze("connectOnClick",B,ve.setState),ze("fitViewOnInit",K,ve.setState),ze("fitViewOnInitOptions",q,ve.setState),ze("onNodesDelete",G,ve.setState),ze("onEdgesDelete",A,ve.setState),ze("onNodeDrag",$,ve.setState),ze("onNodeDragStart",P,ve.setState),ze("onNodeDragStop",Z,ve.setState),ze("onSelectionDrag",ee,ve.setState),ze("onSelectionDragStart",H,ve.setState),ze("onSelectionDragStop",ne,ve.setState),ze("noPanClassName",re,ve.setState),ze("nodeOrigin",ae,ve.setState),ze("rfId",W,ve.setState),ze("autoPanOnConnect",ie,ve.setState),ze("autoPanOnNodeDrag",ue,ve.setState),ze("onError",de,ve.setState),ze("connectionRadius",fe,ve.setState),ze("isValidConnection",le,ve.setState),ze("nodeDragThreshold",ge,ve.setState),Zi(e,we),Zi(t,nt),Zi(v,Le),Zi(x,He),Zi(X,Qe),Zi(_,gt),null},e0={display:"none"},f8={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},sm="react-flow__node-desc",om="react-flow__edge-desc",h8="react-flow__aria-live",p8=e=>e.ariaLiveMessage;function g8({rfId:e}){const t=ft(p8);return j.createElement("div",{id:`${h8}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:f8},t)}function m8({rfId:e,disableKeyboardA11y:t}){return j.createElement(j.Fragment,null,j.createElement("div",{id:`${sm}-${e}`,style:e0},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),j.createElement("div",{id:`${om}-${e}`,style:e0},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&j.createElement(g8,{rfId:e}))}var Eo=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,i]=S.useState(!1),o=S.useRef(!1),a=S.useRef(new Set([])),[u,l]=S.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(g=>typeof g=="string").map(g=>g.split("+")),h=f.reduce((g,m)=>g.concat(...m),[]);return[f,h]}return[[],[]]},[e]);return S.useEffect(()=>{const d=typeof document<"u"?document:null,f=t?.target||d;if(e!==null){const h=D=>{if(o.current=D.ctrlKey||D.metaKey||D.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Ql(D))return!1;const v=n0(D.code,l);a.current.add(D[v]),t0(u,a.current,!1)&&(D.preventDefault(),i(!0))},g=D=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Ql(D))return!1;const v=n0(D.code,l);t0(u,a.current,!0)?(i(!1),a.current.clear()):a.current.delete(D[v]),D.key==="Meta"&&a.current.clear(),o.current=!1},m=()=>{a.current.clear(),i(!1)};return f?.addEventListener("keydown",h),f?.addEventListener("keyup",g),window.addEventListener("blur",m),()=>{f?.removeEventListener("keydown",h),f?.removeEventListener("keyup",g),window.removeEventListener("blur",m)}}},[e,i]),n};function t0(e,t,n){return e.filter(i=>n||i.length===t.size).some(i=>i.every(o=>t.has(o)))}function n0(e,t){return t.includes(e)?"code":"key"}function am(e,t,n,i){const o=e.parentNode||e.parentId;if(!o)return n;const a=t.get(o),u=us(a,i);return am(a,t,{x:(n.x??0)+u.x,y:(n.y??0)+u.y,z:(a[vt]?.z??0)>(n.z??0)?a[vt]?.z??0:n.z??0},i)}function um(e,t,n){e.forEach(i=>{const o=i.parentNode||i.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n?.[i.id]){const{x:a,y:u,z:l}=am(i,e,{...i.position,z:i[vt]?.z??0},t);i.positionAbsolute={x:a,y:u},i[vt].z=l,n?.[i.id]&&(i[vt].isParent=!0)}})}function Il(e,t,n,i){const o=new Map,a={},u=i?1e3:0;return e.forEach(l=>{const d=(Nn(l.zIndex)?l.zIndex:0)+(l.selected?u:0),f=t.get(l.id),h={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},g=l.parentNode||l.parentId;g&&(a[g]=!0);const m=f?.type&&f?.type!==l.type;Object.defineProperty(h,vt,{enumerable:!1,value:{handleBounds:m?void 0:f?.[vt]?.handleBounds,z:d}}),o.set(l.id,h)}),um(o,n,a),o}function cm(e,t={}){const{getNodes:n,width:i,height:o,minZoom:a,maxZoom:u,d3Zoom:l,d3Selection:d,fitViewOnInitDone:f,fitViewOnInit:h,nodeOrigin:g}=e(),m=t.initial&&!f&&h;if(l&&d&&(m||!t.initial)){const w=n().filter(x=>{const _=t.includeHiddenNodes?x.width&&x.height:!x.hidden;return t.nodes?.length?_&&t.nodes.some(b=>b.id===x.id):_}),v=w.every(x=>x.width&&x.height);if(w.length>0&&v){const x=zd(w,g),{x:_,y:b,zoom:I}=qg(x,i,o,t.minZoom??a,t.maxZoom??u,t.padding??.1),N=Zr.translate(_,b).scale(I);return typeof t.duration=="number"&&t.duration>0?l.transform(gi(d,t.duration),N):l.transform(d,N),!0}}return!1}function y8(e,t){return e.forEach(n=>{const i=t.get(n.id);i&&t.set(i.id,{...i,[vt]:i[vt],selected:n.selected})}),new Map(t)}function v8(e,t){return t.map(n=>{const i=e.find(o=>o.id===n.id);return i&&(n.selected=i.selected),n})}function Ga({changedNodes:e,changedEdges:t,get:n,set:i}){const{nodeInternals:o,edges:a,onNodesChange:u,onEdgesChange:l,hasDefaultNodes:d,hasDefaultEdges:f}=n();e?.length&&(d&&i({nodeInternals:y8(e,o)}),u?.(e)),t?.length&&(f&&i({edges:v8(t,a)}),l?.(t))}const Wi=()=>{},_8={zoomIn:Wi,zoomOut:Wi,zoomTo:Wi,getZoom:()=>1,setViewport:Wi,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Wi,fitBounds:Wi,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},D8=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),x8=()=>{const e=It(),{d3Zoom:t,d3Selection:n}=ft(D8,zt);return S.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(gi(n,o?.duration),1.2),zoomOut:o=>t.scaleBy(gi(n,o?.duration),1/1.2),zoomTo:(o,a)=>t.scaleTo(gi(n,a?.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,a)=>{const[u,l,d]=e.getState().transform,f=Zr.translate(o.x??u,o.y??l).scale(o.zoom??d);t.transform(gi(n,a?.duration),f)},getViewport:()=>{const[o,a,u]=e.getState().transform;return{x:o,y:a,zoom:u}},fitView:o=>cm(e.getState,o),setCenter:(o,a,u)=>{const{width:l,height:d,maxZoom:f}=e.getState(),h=typeof u?.zoom<"u"?u.zoom:f,g=l/2-o*h,m=d/2-a*h,D=Zr.translate(g,m).scale(h);t.transform(gi(n,u?.duration),D)},fitBounds:(o,a)=>{const{width:u,height:l,minZoom:d,maxZoom:f}=e.getState(),{x:h,y:g,zoom:m}=qg(o,u,l,d,f,a?.padding??.1),D=Zr.translate(h,g).scale(m);t.transform(gi(n,a?.duration),D)},project:o=>{const{transform:a,snapToGrid:u,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),nd(o,a,u,l)},screenToFlowPosition:o=>{const{transform:a,snapToGrid:u,snapGrid:l,domNode:d}=e.getState();if(!d)return o;const{x:f,y:h}=d.getBoundingClientRect(),g={x:o.x-f,y:o.y-h};return nd(g,a,u,l)},flowToScreenPosition:o=>{const{transform:a,domNode:u}=e.getState();if(!u)return o;const{x:l,y:d}=u.getBoundingClientRect(),f=Gg(o,a);return{x:f.x+l,y:f.y+d}},viewportInitialized:!0}:_8,[t,n])};function Hd(){const e=x8(),t=It(),n=S.useCallback(()=>t.getState().getNodes().map(v=>({...v})),[]),i=S.useCallback(v=>t.getState().nodeInternals.get(v),[]),o=S.useCallback(()=>{const{edges:v=[]}=t.getState();return v.map(x=>({...x}))},[]),a=S.useCallback(v=>{const{edges:x=[]}=t.getState();return x.find(_=>_.id===v)},[]),u=S.useCallback(v=>{const{getNodes:x,setNodes:_,hasDefaultNodes:b,onNodesChange:I}=t.getState(),N=x(),M=typeof v=="function"?v(N):v;if(b)_(M);else if(I){const z=M.length===0?N.map(O=>({type:"remove",id:O.id})):M.map(O=>({item:O,type:"reset"}));I(z)}},[]),l=S.useCallback(v=>{const{edges:x=[],setEdges:_,hasDefaultEdges:b,onEdgesChange:I}=t.getState(),N=typeof v=="function"?v(x):v;if(b)_(N);else if(I){const M=N.length===0?x.map(z=>({type:"remove",id:z.id})):N.map(z=>({item:z,type:"reset"}));I(M)}},[]),d=S.useCallback(v=>{const x=Array.isArray(v)?v:[v],{getNodes:_,setNodes:b,hasDefaultNodes:I,onNodesChange:N}=t.getState();if(I){const z=[..._(),...x];b(z)}else if(N){const M=x.map(z=>({item:z,type:"add"}));N(M)}},[]),f=S.useCallback(v=>{const x=Array.isArray(v)?v:[v],{edges:_=[],setEdges:b,hasDefaultEdges:I,onEdgesChange:N}=t.getState();if(I)b([..._,...x]);else if(N){const M=x.map(z=>({item:z,type:"add"}));N(M)}},[]),h=S.useCallback(()=>{const{getNodes:v,edges:x=[],transform:_}=t.getState(),[b,I,N]=_;return{nodes:v().map(M=>({...M})),edges:x.map(M=>({...M})),viewport:{x:b,y:I,zoom:N}}},[]),g=S.useCallback(({nodes:v,edges:x})=>{const{nodeInternals:_,getNodes:b,edges:I,hasDefaultNodes:N,hasDefaultEdges:M,onNodesDelete:z,onEdgesDelete:O,onNodesChange:X,onEdgesChange:B}=t.getState(),U=(v||[]).map($=>$.id),K=(x||[]).map($=>$.id),q=b().reduce(($,P)=>{const Z=P.parentNode||P.parentId,ee=!U.includes(P.id)&&Z&&$.find(ne=>ne.id===Z);return(typeof P.deletable=="boolean"?P.deletable:!0)&&(U.includes(P.id)||ee)&&$.push(P),$},[]),G=I.filter($=>typeof $.deletable=="boolean"?$.deletable:!0),A=G.filter($=>K.includes($.id));if(q||A){const $=Wg(q,G),P=[...A,...$],Z=P.reduce((ee,H)=>(ee.includes(H.id)||ee.push(H.id),ee),[]);if((M||N)&&(M&&t.setState({edges:I.filter(ee=>!Z.includes(ee.id))}),N&&(q.forEach(ee=>{_.delete(ee.id)}),t.setState({nodeInternals:new Map(_)}))),Z.length>0&&(O?.(P),B&&B(Z.map(ee=>({id:ee,type:"remove"})))),q.length>0&&(z?.(q),X)){const ee=q.map(H=>({id:H.id,type:"remove"}));X(ee)}}},[]),m=S.useCallback(v=>{const x=L3(v),_=x?null:t.getState().nodeInternals.get(v.id);return!x&&!_?[null,null,x]:[x?v:Wp(_),_,x]},[]),D=S.useCallback((v,x=!0,_)=>{const[b,I,N]=m(v);return b?(_||t.getState().getNodes()).filter(M=>{if(!N&&(M.id===I.id||!M.positionAbsolute))return!1;const z=Wp(M),O=Jl(z,b);return x&&O>0||O>=b.width*b.height}):[]},[]),w=S.useCallback((v,x,_=!0)=>{const[b]=m(v);if(!b)return!1;const I=Jl(b,x);return _&&I>0||I>=b.width*b.height},[]);return S.useMemo(()=>({...e,getNodes:n,getNode:i,getEdges:o,getEdge:a,setNodes:u,setEdges:l,addNodes:d,addEdges:f,toObject:h,deleteElements:g,getIntersectingNodes:D,isNodeIntersecting:w}),[e,n,i,o,a,u,l,d,f,h,g,D,w])}const w8={actInsideInputWithModifier:!1};var C8=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=It(),{deleteElements:i}=Hd(),o=Eo(e,w8),a=Eo(t);S.useEffect(()=>{if(o){const{edges:u,getNodes:l}=n.getState(),d=l().filter(h=>h.selected),f=u.filter(h=>h.selected);i({nodes:d,edges:f}),n.setState({nodesSelectionActive:!1})}},[o]),S.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function E8(e){const t=It();S.useEffect(()=>{let n;const i=()=>{if(!e.current)return;const o=Id(e.current);(o.height===0||o.width===0)&&t.getState().onError?.("004",Fr.error004()),t.setState({width:o.width||500,height:o.height||500})};return i(),window.addEventListener("resize",i),e.current&&(n=new ResizeObserver(()=>i()),n.observe(e.current)),()=>{window.removeEventListener("resize",i),n&&e.current&&n.unobserve(e.current)}},[])}const Vd={position:"absolute",width:"100%",height:"100%",top:0,left:0},b8=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Za=e=>({x:e.x,y:e.y,zoom:e.k}),qi=(e,t)=>e.target.closest(`.${t}`),r0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),i0=e=>{const t=e.ctrlKey&&fu()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},A8=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),S8=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:i,zoomOnScroll:o=!0,zoomOnPinch:a=!0,panOnScroll:u=!1,panOnScrollSpeed:l=.5,panOnScrollMode:d=yi.Free,zoomOnDoubleClick:f=!0,elementsSelectable:h,panOnDrag:g=!0,defaultViewport:m,translateExtent:D,minZoom:w,maxZoom:v,zoomActivationKeyCode:x,preventScrolling:_=!0,children:b,noWheelClassName:I,noPanClassName:N})=>{const M=S.useRef(),z=It(),O=S.useRef(!1),X=S.useRef(!1),B=S.useRef(null),U=S.useRef({x:0,y:0,zoom:0}),{d3Zoom:K,d3Selection:q,d3ZoomHandler:G,userSelectionActive:A}=ft(A8,zt),$=Eo(x),P=S.useRef(0),Z=S.useRef(!1),ee=S.useRef();return E8(B),S.useEffect(()=>{if(B.current){const H=B.current.getBoundingClientRect(),ne=k3().scaleExtent([w,v]).translateExtent(D),re=Ln(B.current).call(ne),ae=Zr.translate(m.x,m.y).scale(ms(m.zoom,w,v)),W=[[0,0],[H.width,H.height]],ie=ne.constrain()(ae,W,D);ne.transform(re,ie),ne.wheelDelta(i0),z.setState({d3Zoom:ne,d3Selection:re,d3ZoomHandler:re.on("wheel.zoom"),transform:[ie.x,ie.y,ie.k],domNode:B.current.closest(".react-flow")})}},[]),S.useEffect(()=>{q&&K&&(u&&!$&&!A?q.on("wheel.zoom",H=>{if(qi(H,I))return!1;H.preventDefault(),H.stopImmediatePropagation();const ne=q.property("__zoom").k||1;if(H.ctrlKey&&a){const le=tr(H),ge=i0(H),we=ne*Math.pow(2,ge);K.scaleTo(q,we,le,H);return}const re=H.deltaMode===1?20:1;let ae=d===yi.Vertical?0:H.deltaX*re,W=d===yi.Horizontal?0:H.deltaY*re;!fu()&&H.shiftKey&&d!==yi.Vertical&&(ae=H.deltaY*re,W=0),K.translateBy(q,-(ae/ne)*l,-(W/ne)*l,{internal:!0});const ie=Za(q.property("__zoom")),{onViewportChangeStart:ue,onViewportChange:de,onViewportChangeEnd:fe}=z.getState();clearTimeout(ee.current),Z.current||(Z.current=!0,t?.(H,ie),ue?.(ie)),Z.current&&(e?.(H,ie),de?.(ie),ee.current=setTimeout(()=>{n?.(H,ie),fe?.(ie),Z.current=!1},150))},{passive:!1}):typeof G<"u"&&q.on("wheel.zoom",function(H,ne){if(!_&&H.type==="wheel"&&!H.ctrlKey||qi(H,I))return null;H.preventDefault(),G.call(this,H,ne)},{passive:!1}))},[A,u,d,q,K,G,$,a,_,I,t,e,n]),S.useEffect(()=>{K&&K.on("start",H=>{if(!H.sourceEvent||H.sourceEvent.internal)return null;P.current=H.sourceEvent?.button;const{onViewportChangeStart:ne}=z.getState(),re=Za(H.transform);O.current=!0,U.current=re,H.sourceEvent?.type==="mousedown"&&z.setState({paneDragging:!0}),ne?.(re),t?.(H.sourceEvent,re)})},[K,t]),S.useEffect(()=>{K&&(A&&!O.current?K.on("zoom",null):A||K.on("zoom",H=>{const{onViewportChange:ne}=z.getState();if(z.setState({transform:[H.transform.x,H.transform.y,H.transform.k]}),X.current=!!(i&&r0(g,P.current??0)),(e||ne)&&!H.sourceEvent?.internal){const re=Za(H.transform);ne?.(re),e?.(H.sourceEvent,re)}}))},[A,K,e,g,i]),S.useEffect(()=>{K&&K.on("end",H=>{if(!H.sourceEvent||H.sourceEvent.internal)return null;const{onViewportChangeEnd:ne}=z.getState();if(O.current=!1,z.setState({paneDragging:!1}),i&&r0(g,P.current??0)&&!X.current&&i(H.sourceEvent),X.current=!1,(n||ne)&&b8(U.current,H.transform)){const re=Za(H.transform);U.current=re,clearTimeout(M.current),M.current=setTimeout(()=>{ne?.(re),n?.(H.sourceEvent,re)},u?150:0)}})},[K,u,g,n,i]),S.useEffect(()=>{K&&K.filter(H=>{const ne=$||o,re=a&&H.ctrlKey;if((g===!0||Array.isArray(g)&&g.includes(1))&&H.button===1&&H.type==="mousedown"&&(qi(H,"react-flow__node")||qi(H,"react-flow__edge")))return!0;if(!g&&!ne&&!u&&!f&&!a||A||!f&&H.type==="dblclick"||qi(H,I)&&H.type==="wheel"||qi(H,N)&&(H.type!=="wheel"||u&&H.type==="wheel"&&!$)||!a&&H.ctrlKey&&H.type==="wheel"||!ne&&!u&&!re&&H.type==="wheel"||!g&&(H.type==="mousedown"||H.type==="touchstart")||Array.isArray(g)&&!g.includes(H.button)&&H.type==="mousedown")return!1;const ae=Array.isArray(g)&&g.includes(H.button)||!H.button||H.button<=1;return(!H.ctrlKey||H.type==="wheel")&&ae})},[A,K,o,a,u,f,g,h,$]),j.createElement("div",{className:"react-flow__renderer",ref:B,style:Vd},b)},F8=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function N8(){const{userSelectionActive:e,userSelectionRect:t}=ft(F8,zt);return e&&t?j.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function s0(e,t){const n=t.parentNode||t.parentId,i=e.find(o=>o.id===n);if(i){const o=t.position.x+t.width-i.width,a=t.position.y+t.height-i.height;if(o>0||a>0||t.position.x<0||t.position.y<0){if(i.style={...i.style},i.style.width=i.style.width??i.width,i.style.height=i.style.height??i.height,o>0&&(i.style.width+=o),a>0&&(i.style.height+=a),t.position.x<0){const u=Math.abs(t.position.x);i.position.x=i.position.x-u,i.style.width+=u,t.position.x=0}if(t.position.y<0){const u=Math.abs(t.position.y);i.position.y=i.position.y-u,i.style.height+=u,t.position.y=0}i.width=i.style.width,i.height=i.style.height}}}function lm(e,t){if(e.some(i=>i.type==="reset"))return e.filter(i=>i.type==="reset").map(i=>i.item);const n=e.filter(i=>i.type==="add").map(i=>i.item);return t.reduce((i,o)=>{const a=e.filter(l=>l.id===o.id);if(a.length===0)return i.push(o),i;const u={...o};for(const l of a)if(l)switch(l.type){case"select":{u.selected=l.selected;break}case"position":{typeof l.position<"u"&&(u.position=l.position),typeof l.positionAbsolute<"u"&&(u.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(u.dragging=l.dragging),u.expandParent&&s0(i,u);break}case"dimensions":{typeof l.dimensions<"u"&&(u.width=l.dimensions.width,u.height=l.dimensions.height),typeof l.updateStyle<"u"&&(u.style={...u.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(u.resizing=l.resizing),u.expandParent&&s0(i,u);break}case"remove":return i}return i.push(u),i},n)}function dm(e,t){return lm(e,t)}function T8(e,t){return lm(e,t)}const Hr=(e,t)=>({id:e,type:"select",selected:t});function ts(e,t){return e.reduce((n,i)=>{const o=t.includes(i.id);return!i.selected&&o?(i.selected=!0,n.push(Hr(i.id,!0))):i.selected&&!o&&(i.selected=!1,n.push(Hr(i.id,!1))),n},[])}const kl=(e,t)=>n=>{n.target===t.current&&e?.(n)},I8=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),fm=S.memo(({isSelecting:e,selectionMode:t=ys.Full,panOnDrag:n,onSelectionStart:i,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:l,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:h,children:g})=>{const m=S.useRef(null),D=It(),w=S.useRef(0),v=S.useRef(0),x=S.useRef(),{userSelectionActive:_,elementsSelectable:b,dragging:I}=ft(I8,zt),N=()=>{D.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,v.current=0},M=G=>{a?.(G),D.getState().resetSelectedElements(),D.setState({nodesSelectionActive:!1})},z=G=>{if(Array.isArray(n)&&n?.includes(2)){G.preventDefault();return}u?.(G)},O=l?G=>l(G):void 0,X=G=>{const{resetSelectedElements:A,domNode:$}=D.getState();if(x.current=$?.getBoundingClientRect(),!b||!e||G.button!==0||G.target!==m.current||!x.current)return;const{x:P,y:Z}=Wr(G,x.current);A(),D.setState({userSelectionRect:{width:0,height:0,startX:P,startY:Z,x:P,y:Z}}),i?.(G)},B=G=>{const{userSelectionRect:A,nodeInternals:$,edges:P,transform:Z,onNodesChange:ee,onEdgesChange:H,nodeOrigin:ne,getNodes:re}=D.getState();if(!e||!x.current||!A)return;D.setState({userSelectionActive:!0,nodesSelectionActive:!1});const ae=Wr(G,x.current),W=A.startX??0,ie=A.startY??0,ue={...A,x:ae.x<W?ae.x:W,y:ae.y<ie?ae.y:ie,width:Math.abs(ae.x-W),height:Math.abs(ae.y-ie)},de=re(),fe=Zg($,ue,Z,t===ys.Partial,!0,ne),le=Wg(fe,P).map(we=>we.id),ge=fe.map(we=>we.id);if(w.current!==ge.length){w.current=ge.length;const we=ts(de,ge);we.length&&ee?.(we)}if(v.current!==le.length){v.current=le.length;const we=ts(P,le);we.length&&H?.(we)}D.setState({userSelectionRect:ue})},U=G=>{if(G.button!==0)return;const{userSelectionRect:A}=D.getState();!_&&A&&G.target===m.current&&M?.(G),D.setState({nodesSelectionActive:w.current>0}),N(),o?.(G)},K=G=>{_&&(D.setState({nodesSelectionActive:w.current>0}),o?.(G)),N()},q=b&&(e||_);return j.createElement("div",{className:qt(["react-flow__pane",{dragging:I,selection:e}]),onClick:q?void 0:kl(M,m),onContextMenu:kl(z,m),onWheel:kl(O,m),onMouseEnter:q?void 0:d,onMouseDown:q?X:void 0,onMouseMove:q?B:f,onMouseUp:q?U:void 0,onMouseLeave:q?K:h,ref:m,style:Vd},g,j.createElement(N8,null))});fm.displayName="Pane";function hm(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const i=t.get(n);return i?i.selected?!0:hm(i,t):!1}function o0(e,t,n){let i=e;do{if(i?.matches(t))return!0;if(i===n.current)return!1;i=i.parentElement}while(i);return!1}function k8(e,t,n,i){return Array.from(e.values()).filter(o=>(o.selected||o.id===i)&&(!o.parentNode||o.parentId||!hm(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>({id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(o.positionAbsolute?.x??0),y:n.y-(o.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}))}function B8(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function pm(e,t,n,i,o=[0,0],a){const u=B8(e,e.extent||i);let l=u;const d=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(d&&e.width&&e.height){const g=n.get(d),{x:m,y:D}=us(g,o).positionAbsolute;l=g&&Nn(m)&&Nn(D)&&Nn(g.width)&&Nn(g.height)?[[m+e.width*o[0],D+e.height*o[1]],[m+g.width-e.width+e.width*o[0],D+g.height-e.height+e.height*o[1]]]:l}else a?.("005",Fr.error005()),l=u;else if(e.extent&&d&&e.extent!=="parent"){const g=n.get(d),{x:m,y:D}=us(g,o).positionAbsolute;l=[[e.extent[0][0]+m,e.extent[0][1]+D],[e.extent[1][0]+m,e.extent[1][1]+D]]}let f={x:0,y:0};if(d){const g=n.get(d);f=us(g,o).positionAbsolute}const h=l&&l!=="parent"?kd(t,l):t;return{position:{x:h.x-f.x,y:h.y-f.y},positionAbsolute:h}}function Bl({nodeId:e,dragItems:t,nodeInternals:n}){const i=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?i.find(o=>o.id===e):i[0],i]}const a0=(e,t,n,i)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const a=Array.from(o),u=t.getBoundingClientRect(),l={x:u.width*i[0],y:u.height*i[1]};return a.map(d=>{const f=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),position:d.getAttribute("data-handlepos"),x:(f.left-u.left-l.x)/n,y:(f.top-u.top-l.y)/n,...Id(d)}})};function Js(e,t,n){return n===void 0?n:i=>{const o=t().nodeInternals.get(e);o&&n(i,{...o})}}function id({id:e,store:t,unselect:n=!1,nodeRef:i}){const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:u,nodeInternals:l,onError:d}=t.getState(),f=l.get(e);if(!f){d?.("012",Fr.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&u)&&(a({nodes:[f],edges:[]}),requestAnimationFrame(()=>i?.current?.blur())):o([e])}function R8(){const e=It();return S.useCallback(({sourceEvent:n})=>{const{transform:i,snapGrid:o,snapToGrid:a}=e.getState(),u=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,d={x:(u-i[0])/i[2],y:(l-i[1])/i[2]};return{xSnapped:a?o[0]*Math.round(d.x/o[0]):d.x,ySnapped:a?o[1]*Math.round(d.y/o[1]):d.y,...d}},[])}function Rl(e){return(t,n,i)=>e?.(t,i)}function gm({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:i,nodeId:o,isSelectable:a,selectNodesOnDrag:u}){const l=It(),[d,f]=S.useState(!1),h=S.useRef([]),g=S.useRef({x:null,y:null}),m=S.useRef(0),D=S.useRef(null),w=S.useRef({x:0,y:0}),v=S.useRef(null),x=S.useRef(!1),_=S.useRef(!1),b=S.useRef(!1),I=R8();return S.useEffect(()=>{if(e?.current){const N=Ln(e.current),M=({x:X,y:B})=>{const{nodeInternals:U,onNodeDrag:K,onSelectionDrag:q,updateNodePositions:G,nodeExtent:A,snapGrid:$,snapToGrid:P,nodeOrigin:Z,onError:ee}=l.getState();g.current={x:X,y:B};let H=!1,ne={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&A){const ae=zd(h.current,Z);ne=Bd(ae)}if(h.current=h.current.map(ae=>{const W={x:X-ae.distance.x,y:B-ae.distance.y};P&&(W.x=$[0]*Math.round(W.x/$[0]),W.y=$[1]*Math.round(W.y/$[1]));const ie=[[A[0][0],A[0][1]],[A[1][0],A[1][1]]];h.current.length>1&&A&&!ae.extent&&(ie[0][0]=ae.positionAbsolute.x-ne.x+A[0][0],ie[1][0]=ae.positionAbsolute.x+(ae.width??0)-ne.x2+A[1][0],ie[0][1]=ae.positionAbsolute.y-ne.y+A[0][1],ie[1][1]=ae.positionAbsolute.y+(ae.height??0)-ne.y2+A[1][1]);const ue=pm(ae,W,U,ie,Z,ee);return H=H||ae.position.x!==ue.position.x||ae.position.y!==ue.position.y,ae.position=ue.position,ae.positionAbsolute=ue.positionAbsolute,ae}),!H)return;G(h.current,!0,!0),f(!0);const re=o?K:Rl(q);if(re&&v.current){const[ae,W]=Bl({nodeId:o,dragItems:h.current,nodeInternals:U});re(v.current,ae,W)}},z=()=>{if(!D.current)return;const[X,B]=Pg(w.current,D.current);if(X!==0||B!==0){const{transform:U,panBy:K}=l.getState();g.current.x=(g.current.x??0)-X/U[2],g.current.y=(g.current.y??0)-B/U[2],K({x:X,y:B})&&M(g.current)}m.current=requestAnimationFrame(z)},O=X=>{const{nodeInternals:B,multiSelectionActive:U,nodesDraggable:K,unselectNodesAndEdges:q,onNodeDragStart:G,onSelectionDragStart:A}=l.getState();_.current=!0;const $=o?G:Rl(A);(!u||!a)&&!U&&o&&(B.get(o)?.selected||q()),o&&a&&u&&id({id:o,store:l,nodeRef:e});const P=I(X);if(g.current=P,h.current=k8(B,K,P,o),$&&h.current){const[Z,ee]=Bl({nodeId:o,dragItems:h.current,nodeInternals:B});$(X.sourceEvent,Z,ee)}};if(t)N.on(".drag",null);else{const X=HA().on("start",B=>{const{domNode:U,nodeDragThreshold:K}=l.getState();K===0&&O(B),b.current=!1;const q=I(B);g.current=q,D.current=U?.getBoundingClientRect()||null,w.current=Wr(B.sourceEvent,D.current)}).on("drag",B=>{const U=I(B),{autoPanOnNodeDrag:K,nodeDragThreshold:q}=l.getState();if(B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!x.current&&_.current&&K&&(x.current=!0,z()),!_.current){const G=U.xSnapped-(g?.current?.x??0),A=U.ySnapped-(g?.current?.y??0);Math.sqrt(G*G+A*A)>q&&O(B)}(g.current.x!==U.xSnapped||g.current.y!==U.ySnapped)&&h.current&&_.current&&(v.current=B.sourceEvent,w.current=Wr(B.sourceEvent,D.current),M(U))}}).on("end",B=>{if(!(!_.current||b.current)&&(f(!1),x.current=!1,_.current=!1,cancelAnimationFrame(m.current),h.current)){const{updateNodePositions:U,nodeInternals:K,onNodeDragStop:q,onSelectionDragStop:G}=l.getState(),A=o?q:Rl(G);if(U(h.current,!1,!1),A){const[$,P]=Bl({nodeId:o,dragItems:h.current,nodeInternals:K});A(B.sourceEvent,$,P)}}}).filter(B=>{const U=B.target;return!B.button&&(!n||!o0(U,`.${n}`,e))&&(!i||o0(U,i,e))});return N.call(X),()=>{N.on(".drag",null)}}}},[e,t,n,i,a,l,o,u,I]),d}function mm(){const e=It();return S.useCallback(n=>{const{nodeInternals:i,nodeExtent:o,updateNodePositions:a,getNodes:u,snapToGrid:l,snapGrid:d,onError:f,nodesDraggable:h}=e.getState(),g=u().filter(b=>b.selected&&(b.draggable||h&&typeof b.draggable>"u")),m=l?d[0]:5,D=l?d[1]:5,w=n.isShiftPressed?4:1,v=n.x*m*w,x=n.y*D*w,_=g.map(b=>{if(b.positionAbsolute){const I={x:b.positionAbsolute.x+v,y:b.positionAbsolute.y+x};l&&(I.x=d[0]*Math.round(I.x/d[0]),I.y=d[1]*Math.round(I.y/d[1]));const{positionAbsolute:N,position:M}=pm(b,I,i,o,void 0,f);b.position=M,b.positionAbsolute=N}return b});a(_,!0,!1)},[])}const cs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Qs=e=>{const t=({id:n,type:i,data:o,xPos:a,yPos:u,xPosOrigin:l,yPosOrigin:d,selected:f,onClick:h,onMouseEnter:g,onMouseMove:m,onMouseLeave:D,onContextMenu:w,onDoubleClick:v,style:x,className:_,isDraggable:b,isSelectable:I,isConnectable:N,isFocusable:M,selectNodesOnDrag:z,sourcePosition:O,targetPosition:X,hidden:B,resizeObserver:U,dragHandle:K,zIndex:q,isParent:G,noDragClassName:A,noPanClassName:$,initialized:P,disableKeyboardA11y:Z,ariaLabel:ee,rfId:H,hasHandleBounds:ne})=>{const re=It(),ae=S.useRef(null),W=S.useRef(null),ie=S.useRef(O),ue=S.useRef(X),de=S.useRef(i),fe=I||b||h||g||m||D,le=mm(),ge=Js(n,re.getState,g),we=Js(n,re.getState,m),nt=Js(n,re.getState,D),Je=Js(n,re.getState,w),Le=Js(n,re.getState,v),He=Be=>{const{nodeDragThreshold:ve}=re.getState();if(I&&(!z||!b||ve>0)&&id({id:n,store:re,nodeRef:ae}),h){const _t=re.getState().nodeInternals.get(n);_t&&h(Be,{..._t})}},Qe=Be=>{if(!Ql(Be)&&!Z)if(zg.includes(Be.key)&&I){const ve=Be.key==="Escape";id({id:n,store:re,unselect:ve,nodeRef:ae})}else b&&f&&Object.prototype.hasOwnProperty.call(cs,Be.key)&&(re.setState({ariaLiveMessage:`Moved selected node ${Be.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~u}`}),le({x:cs[Be.key].x,y:cs[Be.key].y,isShiftPressed:Be.shiftKey}))};S.useEffect(()=>()=>{W.current&&(U?.unobserve(W.current),W.current=null)},[]),S.useEffect(()=>{if(ae.current&&!B){const Be=ae.current;(!P||!ne||W.current!==Be)&&(W.current&&U?.unobserve(W.current),U?.observe(Be),W.current=Be)}},[B,P,ne]),S.useEffect(()=>{const Be=de.current!==i,ve=ie.current!==O,_t=ue.current!==X;ae.current&&(Be||ve||_t)&&(Be&&(de.current=i),ve&&(ie.current=O),_t&&(ue.current=X),re.getState().updateNodeDimensions([{id:n,nodeElement:ae.current,forceUpdate:!0}]))},[n,i,O,X]);const gt=gm({nodeRef:ae,disabled:B||!b,noDragClassName:A,handleSelector:K,nodeId:n,isSelectable:I,selectNodesOnDrag:z});return B?null:j.createElement("div",{className:qt(["react-flow__node",`react-flow__node-${i}`,{[$]:b},_,{selected:f,selectable:I,parent:G,dragging:gt}]),ref:ae,style:{zIndex:q,transform:`translate(${l}px,${d}px)`,pointerEvents:fe?"all":"none",visibility:P?"visible":"hidden",...x},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ge,onMouseMove:we,onMouseLeave:nt,onContextMenu:Je,onClick:He,onDoubleClick:Le,onKeyDown:M?Qe:void 0,tabIndex:M?0:void 0,role:M?"button":void 0,"aria-describedby":Z?void 0:`${sm}-${H}`,"aria-label":ee},j.createElement(W3,{value:n},j.createElement(e,{id:n,data:o,type:i,xPos:a,yPos:u,selected:f,isConnectable:N,sourcePosition:O,targetPosition:X,dragging:gt,dragHandle:K,zIndex:q})))};return t.displayName="NodeWrapper",S.memo(t)};const M8=e=>{const t=e.getNodes().filter(n=>n.selected);return{...zd(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function O8({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const i=It(),{width:o,height:a,x:u,y:l,transformString:d,userSelectionActive:f}=ft(M8,zt),h=mm(),g=S.useRef(null);if(S.useEffect(()=>{n||g.current?.focus({preventScroll:!0})},[n]),gm({nodeRef:g}),f||!o||!a)return null;const m=e?w=>{const v=i.getState().getNodes().filter(x=>x.selected);e(w,v)}:void 0,D=w=>{Object.prototype.hasOwnProperty.call(cs,w.key)&&h({x:cs[w.key].x,y:cs[w.key].y,isShiftPressed:w.shiftKey})};return j.createElement("div",{className:qt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:d}},j.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:D,style:{width:o,height:a,top:l,left:u}}))}var P8=S.memo(O8);const $8=e=>e.nodesSelectionActive,ym=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:u,deleteKeyCode:l,onMove:d,onMoveStart:f,onMoveEnd:h,selectionKeyCode:g,selectionOnDrag:m,selectionMode:D,onSelectionStart:w,onSelectionEnd:v,multiSelectionKeyCode:x,panActivationKeyCode:_,zoomActivationKeyCode:b,elementsSelectable:I,zoomOnScroll:N,zoomOnPinch:M,panOnScroll:z,panOnScrollSpeed:O,panOnScrollMode:X,zoomOnDoubleClick:B,panOnDrag:U,defaultViewport:K,translateExtent:q,minZoom:G,maxZoom:A,preventScrolling:$,onSelectionContextMenu:P,noWheelClassName:Z,noPanClassName:ee,disableKeyboardA11y:H})=>{const ne=ft($8),re=Eo(g),ae=Eo(_),W=ae||U,ie=ae||z,ue=re||m&&W!==!0;return C8({deleteKeyCode:l,multiSelectionKeyCode:x}),j.createElement(S8,{onMove:d,onMoveStart:f,onMoveEnd:h,onPaneContextMenu:a,elementsSelectable:I,zoomOnScroll:N,zoomOnPinch:M,panOnScroll:ie,panOnScrollSpeed:O,panOnScrollMode:X,zoomOnDoubleClick:B,panOnDrag:!re&&W,defaultViewport:K,translateExtent:q,minZoom:G,maxZoom:A,zoomActivationKeyCode:b,preventScrolling:$,noWheelClassName:Z,noPanClassName:ee},j.createElement(fm,{onSelectionStart:w,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:u,panOnDrag:W,isSelecting:!!ue,selectionMode:D},e,ne&&j.createElement(P8,{onSelectionContextMenu:P,noPanClassName:ee,disableKeyboardA11y:H})))};ym.displayName="FlowRenderer";var z8=S.memo(ym);function L8(e){return ft(S.useCallback(n=>e?Zg(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function j8(e){const t={input:Qs(e.input||tm),default:Qs(e.default||rd),output:Qs(e.output||rm),group:Qs(e.group||jd)},n={},i=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,a)=>(o[a]=Qs(e[a]||rd),o),n);return{...t,...i}}const H8=({x:e,y:t,width:n,height:i,origin:o})=>!n||!i?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-i*o[1]},V8=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),vm=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:o,updateNodeDimensions:a,onError:u}=ft(V8,zt),l=L8(e.onlyRenderVisibleElements),d=S.useRef(),f=S.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(g=>{const m=g.map(D=>({id:D.target.getAttribute("data-id"),nodeElement:D.target,forceUpdate:!0}));a(m)});return d.current=h,h},[]);return S.useEffect(()=>()=>{d?.current?.disconnect()},[]),j.createElement("div",{className:"react-flow__nodes",style:Vd},l.map(h=>{let g=h.type||"default";e.nodeTypes[g]||(u?.("003",Fr.error003(g)),g="default");const m=e.nodeTypes[g]||e.nodeTypes.default,D=!!(h.draggable||t&&typeof h.draggable>"u"),w=!!(h.selectable||o&&typeof h.selectable>"u"),v=!!(h.connectable||n&&typeof h.connectable>"u"),x=!!(h.focusable||i&&typeof h.focusable>"u"),_=e.nodeExtent?kd(h.positionAbsolute,e.nodeExtent):h.positionAbsolute,b=_?.x??0,I=_?.y??0,N=H8({x:b,y:I,width:h.width??0,height:h.height??0,origin:e.nodeOrigin});return j.createElement(m,{key:h.id,id:h.id,className:h.className,style:h.style,type:g,data:h.data,sourcePosition:h.sourcePosition||De.Bottom,targetPosition:h.targetPosition||De.Top,hidden:h.hidden,xPos:b,yPos:I,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:D,isSelectable:w,isConnectable:v,isFocusable:x,resizeObserver:f,dragHandle:h.dragHandle,zIndex:h[vt]?.z??0,isParent:!!h[vt]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:h.ariaLabel,hasHandleBounds:!!h[vt]?.handleBounds})}))};vm.displayName="NodeRenderer";var U8=S.memo(vm);const G8=(e,t,n)=>n===De.Left?e-t:n===De.Right?e+t:e,Z8=(e,t,n)=>n===De.Top?e-t:n===De.Bottom?e+t:e,u0="react-flow__edgeupdater",c0=({position:e,centerX:t,centerY:n,radius:i=10,onMouseDown:o,onMouseEnter:a,onMouseOut:u,type:l})=>j.createElement("circle",{onMouseDown:o,onMouseEnter:a,onMouseOut:u,className:qt([u0,`${u0}-${l}`]),cx:G8(t,i,e),cy:Z8(n,i,e),r:i,stroke:"transparent",fill:"transparent"}),W8=()=>!0;var Xi=e=>{const t=({id:n,className:i,type:o,data:a,onClick:u,onEdgeDoubleClick:l,selected:d,animated:f,label:h,labelStyle:g,labelShowBg:m,labelBgStyle:D,labelBgPadding:w,labelBgBorderRadius:v,style:x,source:_,target:b,sourceX:I,sourceY:N,targetX:M,targetY:z,sourcePosition:O,targetPosition:X,elementsSelectable:B,hidden:U,sourceHandleId:K,targetHandleId:q,onContextMenu:G,onMouseEnter:A,onMouseMove:$,onMouseLeave:P,reconnectRadius:Z,onReconnect:ee,onReconnectStart:H,onReconnectEnd:ne,markerEnd:re,markerStart:ae,rfId:W,ariaLabel:ie,isFocusable:ue,isReconnectable:de,pathOptions:fe,interactionWidth:le,disableKeyboardA11y:ge})=>{const we=S.useRef(null),[nt,Je]=S.useState(!1),[Le,He]=S.useState(!1),Qe=It(),gt=S.useMemo(()=>`url('#${td(ae,W)}')`,[ae,W]),Be=S.useMemo(()=>`url('#${td(re,W)}')`,[re,W]);if(U)return null;const ve=Ct=>{const{edges:Xt,addSelectedEdges:kn,unselectNodesAndEdges:Bn,multiSelectionActive:Kn}=Qe.getState(),Yt=Xt.find(Rn=>Rn.id===n);Yt&&(B&&(Qe.setState({nodesSelectionActive:!1}),Yt.selected&&Kn?(Bn({nodes:[],edges:[Yt]}),we.current?.blur()):kn([n])),u&&u(Ct,Yt))},_t=Ks(n,Qe.getState,l),Mt=Ks(n,Qe.getState,G),bt=Ks(n,Qe.getState,A),_n=Ks(n,Qe.getState,$),Tn=Ks(n,Qe.getState,P),In=(Ct,Xt)=>{if(Ct.button!==0)return;const{edges:kn,isValidConnection:Bn}=Qe.getState(),Kn=Xt?b:_,Yt=(Xt?q:K)||null,Rn=Xt?"target":"source",As=Bn||W8,Ss=Xt,ti=kn.find(cr=>cr.id===n);He(!0),H?.(Ct,ti,Rn);const Ti=cr=>{He(!1),ne?.(cr,ti,Rn)};Kg({event:Ct,handleId:Yt,nodeId:Kn,onConnect:cr=>ee?.(ti,cr),isTarget:Ss,getState:Qe.getState,setState:Qe.setState,isValidConnection:As,edgeUpdaterType:Rn,onReconnectEnd:Ti})},Dn=Ct=>In(Ct,!0),ar=Ct=>In(Ct,!1),on=()=>Je(!0),an=()=>Je(!1),Yn=!B&&!u,ur=Ct=>{if(!ge&&zg.includes(Ct.key)&&B){const{unselectNodesAndEdges:Xt,addSelectedEdges:kn,edges:Bn}=Qe.getState();Ct.key==="Escape"?(we.current?.blur(),Xt({edges:[Bn.find(Yt=>Yt.id===n)]})):kn([n])}};return j.createElement("g",{className:qt(["react-flow__edge",`react-flow__edge-${o}`,i,{selected:d,animated:f,inactive:Yn,updating:nt}]),onClick:ve,onDoubleClick:_t,onContextMenu:Mt,onMouseEnter:bt,onMouseMove:_n,onMouseLeave:Tn,onKeyDown:ue?ur:void 0,tabIndex:ue?0:void 0,role:ue?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":ie===null?void 0:ie||`Edge from ${_} to ${b}`,"aria-describedby":ue?`${om}-${W}`:void 0,ref:we},!Le&&j.createElement(e,{id:n,source:_,target:b,selected:d,animated:f,label:h,labelStyle:g,labelShowBg:m,labelBgStyle:D,labelBgPadding:w,labelBgBorderRadius:v,data:a,style:x,sourceX:I,sourceY:N,targetX:M,targetY:z,sourcePosition:O,targetPosition:X,sourceHandleId:K,targetHandleId:q,markerStart:gt,markerEnd:Be,pathOptions:fe,interactionWidth:le}),de&&j.createElement(j.Fragment,null,(de==="source"||de===!0)&&j.createElement(c0,{position:O,centerX:I,centerY:N,radius:Z,onMouseDown:Dn,onMouseEnter:on,onMouseOut:an,type:"source"}),(de==="target"||de===!0)&&j.createElement(c0,{position:X,centerX:M,centerY:z,radius:Z,onMouseDown:ar,onMouseEnter:on,onMouseOut:an,type:"target"})))};return t.displayName="EdgeWrapper",S.memo(t)};function q8(e){const t={default:Xi(e.default||hu),straight:Xi(e.bezier||Od),step:Xi(e.step||Md),smoothstep:Xi(e.step||Ru),simplebezier:Xi(e.simplebezier||Rd)},n={},i=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,a)=>(o[a]=Xi(e[a]||hu),o),n);return{...t,...i}}function l0(e,t,n=null){const i=(n?.x||0)+t.x,o=(n?.y||0)+t.y,a=n?.width||t.width,u=n?.height||t.height;switch(e){case De.Top:return{x:i+a/2,y:o};case De.Right:return{x:i+a,y:o+u/2};case De.Bottom:return{x:i+a/2,y:o+u};case De.Left:return{x:i,y:o+u/2}}}function d0(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const X8=(e,t,n,i,o,a)=>{const u=l0(n,e,t),l=l0(a,i,o);return{sourceX:u.x,sourceY:u.y,targetX:l.x,targetY:l.y}};function Y8({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:i,targetWidth:o,targetHeight:a,width:u,height:l,transform:d}){const f={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+i,t.y+a)};f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const h=Bd({x:(0-d[0])/d[2],y:(0-d[1])/d[2],width:u/d[2],height:l/d[2]}),g=Math.max(0,Math.min(h.x2,f.x2)-Math.max(h.x,f.x)),m=Math.max(0,Math.min(h.y2,f.y2)-Math.max(h.y,f.y));return Math.ceil(g*m)>0}function f0(e){const t=e?.[vt]?.handleBounds||null,n=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const K8=[{level:0,isMaxLevel:!0,edges:[]}];function J8(e,t,n=!1){let i=-1;const o=e.reduce((u,l)=>{const d=Nn(l.zIndex);let f=d?l.zIndex:0;if(n){const h=t.get(l.target),g=t.get(l.source),m=l.selected||h?.selected||g?.selected,D=Math.max(g?.[vt]?.z||0,h?.[vt]?.z||0,1e3);f=(d?l.zIndex:0)+(m?D:0)}return u[f]?u[f].push(l):u[f]=[l],i=f>i?f:i,u},{}),a=Object.entries(o).map(([u,l])=>{const d=+u;return{edges:l,level:d,isMaxLevel:d===i}});return a.length===0?K8:a}function Q8(e,t,n){const i=ft(S.useCallback(o=>e?o.edges.filter(a=>{const u=t.get(a.source),l=t.get(a.target);return u?.width&&u?.height&&l?.width&&l?.height&&Y8({sourcePos:u.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:u.width,sourceHeight:u.height,targetWidth:l.width,targetHeight:l.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return J8(i,t,n)}const e6=({color:e="none",strokeWidth:t=1})=>j.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),t6=({color:e="none",strokeWidth:t=1})=>j.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),h0={[Co.Arrow]:e6,[Co.ArrowClosed]:t6};function n6(e){const t=It();return S.useMemo(()=>Object.prototype.hasOwnProperty.call(h0,e)?h0[e]:(t.getState().onError?.("009",Fr.error009(e)),null),[e])}const r6=({id:e,type:t,color:n,width:i=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:u,orient:l="auto-start-reverse"})=>{const d=n6(t);return d?j.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0"},j.createElement(d,{color:n,strokeWidth:u})):null},i6=({defaultColor:e,rfId:t})=>n=>{const i=[];return n.edges.reduce((o,a)=>([a.markerStart,a.markerEnd].forEach(u=>{if(u&&typeof u=="object"){const l=td(u,t);i.includes(l)||(o.push({id:l,color:u.color||e,...u}),i.push(l))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))},_m=({defaultColor:e,rfId:t})=>{const n=ft(S.useCallback(i6({defaultColor:e,rfId:t}),[e,t]),(i,o)=>!(i.length!==o.length||i.some((a,u)=>a.id!==o[u].id)));return j.createElement("defs",null,n.map(i=>j.createElement(r6,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})))};_m.displayName="MarkerDefinitions";var s6=S.memo(_m);const o6=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Dm=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:i,edgeTypes:o,noPanClassName:a,onEdgeContextMenu:u,onEdgeMouseEnter:l,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:h,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:D,onReconnectEnd:w,reconnectRadius:v,children:x,disableKeyboardA11y:_})=>{const{edgesFocusable:b,edgesUpdatable:I,elementsSelectable:N,width:M,height:z,connectionMode:O,nodeInternals:X,onError:B}=ft(o6,zt),U=Q8(t,X,n);return M?j.createElement(j.Fragment,null,U.map(({level:K,edges:q,isMaxLevel:G})=>j.createElement("svg",{key:K,style:{zIndex:K},width:M,height:z,className:"react-flow__edges react-flow__container"},G&&j.createElement(s6,{defaultColor:e,rfId:i}),j.createElement("g",null,q.map(A=>{const[$,P,Z]=f0(X.get(A.source)),[ee,H,ne]=f0(X.get(A.target));if(!Z||!ne)return null;let re=A.type||"default";o[re]||(B?.("011",Fr.error011(re)),re="default");const ae=o[re]||o.default,W=O===Ei.Strict?H.target:(H.target??[]).concat(H.source??[]),ie=d0(P.source,A.sourceHandle),ue=d0(W,A.targetHandle),de=ie?.position||De.Bottom,fe=ue?.position||De.Top,le=!!(A.focusable||b&&typeof A.focusable>"u"),ge=A.reconnectable||A.updatable,we=typeof m<"u"&&(ge||I&&typeof ge>"u");if(!ie||!ue)return B?.("008",Fr.error008(ie,A)),null;const{sourceX:nt,sourceY:Je,targetX:Le,targetY:He}=X8($,ie,de,ee,ue,fe);return j.createElement(ae,{key:A.id,id:A.id,className:qt([A.className,a]),type:re,data:A.data,selected:!!A.selected,animated:!!A.animated,hidden:!!A.hidden,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,style:A.style,source:A.source,target:A.target,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerEnd:A.markerEnd,markerStart:A.markerStart,sourceX:nt,sourceY:Je,targetX:Le,targetY:He,sourcePosition:de,targetPosition:fe,elementsSelectable:N,onContextMenu:u,onMouseEnter:l,onMouseMove:d,onMouseLeave:f,onClick:h,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:D,onReconnectEnd:w,reconnectRadius:v,rfId:i,ariaLabel:A.ariaLabel,isFocusable:le,isReconnectable:we,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth,disableKeyboardA11y:_})})))),x):null};Dm.displayName="EdgeRenderer";var a6=S.memo(Dm);const u6=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function c6({children:e}){const t=ft(u6);return j.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function l6(e){const t=Hd(),n=S.useRef(!1);S.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const d6={[De.Left]:De.Right,[De.Right]:De.Left,[De.Top]:De.Bottom,[De.Bottom]:De.Top},xm=({nodeId:e,handleType:t,style:n,type:i=Vr.Bezier,CustomComponent:o,connectionStatus:a})=>{const{fromNode:u,handleId:l,toX:d,toY:f,connectionMode:h}=ft(S.useCallback(z=>({fromNode:z.nodeInternals.get(e),handleId:z.connectionHandleId,toX:(z.connectionPosition.x-z.transform[0])/z.transform[2],toY:(z.connectionPosition.y-z.transform[1])/z.transform[2],connectionMode:z.connectionMode}),[e]),zt),g=u?.[vt]?.handleBounds;let m=g?.[t];if(h===Ei.Loose&&(m=m||g?.[t==="source"?"target":"source"]),!u||!m)return null;const D=l?m.find(z=>z.id===l):m[0],w=D?D.x+D.width/2:(u.width??0)/2,v=D?D.y+D.height/2:u.height??0,x=(u.positionAbsolute?.x??0)+w,_=(u.positionAbsolute?.y??0)+v,b=D?.position,I=b?d6[b]:null;if(!b||!I)return null;if(o)return j.createElement(o,{connectionLineType:i,connectionLineStyle:n,fromNode:u,fromHandle:D,fromX:x,fromY:_,toX:d,toY:f,fromPosition:b,toPosition:I,connectionStatus:a});let N="";const M={sourceX:x,sourceY:_,sourcePosition:b,targetX:d,targetY:f,targetPosition:I};return i===Vr.Bezier?[N]=Pd(M):i===Vr.Step?[N]=ed({...M,borderRadius:0}):i===Vr.SmoothStep?[N]=ed(M):i===Vr.SimpleBezier?[N]=Vg(M):N=`M${x},${_} ${d},${f}`,j.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:n})};xm.displayName="ConnectionLine";const f6=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function h6({containerStyle:e,style:t,type:n,component:i}){const{nodeId:o,handleType:a,nodesConnectable:u,width:l,height:d,connectionStatus:f}=ft(f6,zt);return!(o&&a&&l&&u)?null:j.createElement("svg",{style:e,width:l,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},j.createElement("g",{className:qt(["react-flow__connection",f])},j.createElement(xm,{nodeId:o,handleType:a,style:t,type:n,CustomComponent:i,connectionStatus:f})))}function p0(e,t){return S.useRef(null),It(),S.useMemo(()=>t(e),[e])}const wm=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:i,onMoveEnd:o,onInit:a,onNodeClick:u,onEdgeClick:l,onNodeDoubleClick:d,onEdgeDoubleClick:f,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:m,onNodeContextMenu:D,onSelectionContextMenu:w,onSelectionStart:v,onSelectionEnd:x,connectionLineType:_,connectionLineStyle:b,connectionLineComponent:I,connectionLineContainerStyle:N,selectionKeyCode:M,selectionOnDrag:z,selectionMode:O,multiSelectionKeyCode:X,panActivationKeyCode:B,zoomActivationKeyCode:U,deleteKeyCode:K,onlyRenderVisibleElements:q,elementsSelectable:G,selectNodesOnDrag:A,defaultViewport:$,translateExtent:P,minZoom:Z,maxZoom:ee,preventScrolling:H,defaultMarkerColor:ne,zoomOnScroll:re,zoomOnPinch:ae,panOnScroll:W,panOnScrollSpeed:ie,panOnScrollMode:ue,zoomOnDoubleClick:de,panOnDrag:fe,onPaneClick:le,onPaneMouseEnter:ge,onPaneMouseMove:we,onPaneMouseLeave:nt,onPaneScroll:Je,onPaneContextMenu:Le,onEdgeContextMenu:He,onEdgeMouseEnter:Qe,onEdgeMouseMove:gt,onEdgeMouseLeave:Be,onReconnect:ve,onReconnectStart:_t,onReconnectEnd:Mt,reconnectRadius:bt,noDragClassName:_n,noWheelClassName:Tn,noPanClassName:In,elevateEdgesOnSelect:Dn,disableKeyboardA11y:ar,nodeOrigin:on,nodeExtent:an,rfId:Yn})=>{const ur=p0(e,j8),Ct=p0(t,q8);return l6(a),j.createElement(z8,{onPaneClick:le,onPaneMouseEnter:ge,onPaneMouseMove:we,onPaneMouseLeave:nt,onPaneContextMenu:Le,onPaneScroll:Je,deleteKeyCode:K,selectionKeyCode:M,selectionOnDrag:z,selectionMode:O,onSelectionStart:v,onSelectionEnd:x,multiSelectionKeyCode:X,panActivationKeyCode:B,zoomActivationKeyCode:U,elementsSelectable:G,onMove:n,onMoveStart:i,onMoveEnd:o,zoomOnScroll:re,zoomOnPinch:ae,zoomOnDoubleClick:de,panOnScroll:W,panOnScrollSpeed:ie,panOnScrollMode:ue,panOnDrag:fe,defaultViewport:$,translateExtent:P,minZoom:Z,maxZoom:ee,onSelectionContextMenu:w,preventScrolling:H,noDragClassName:_n,noWheelClassName:Tn,noPanClassName:In,disableKeyboardA11y:ar},j.createElement(c6,null,j.createElement(a6,{edgeTypes:Ct,onEdgeClick:l,onEdgeDoubleClick:f,onlyRenderVisibleElements:q,onEdgeContextMenu:He,onEdgeMouseEnter:Qe,onEdgeMouseMove:gt,onEdgeMouseLeave:Be,onReconnect:ve,onReconnectStart:_t,onReconnectEnd:Mt,reconnectRadius:bt,defaultMarkerColor:ne,noPanClassName:In,elevateEdgesOnSelect:!!Dn,disableKeyboardA11y:ar,rfId:Yn},j.createElement(h6,{style:b,type:_,component:I,containerStyle:N})),j.createElement("div",{className:"react-flow__edgelabel-renderer"}),j.createElement(U8,{nodeTypes:ur,onNodeClick:u,onNodeDoubleClick:d,onNodeMouseEnter:h,onNodeMouseMove:g,onNodeMouseLeave:m,onNodeContextMenu:D,selectNodesOnDrag:A,onlyRenderVisibleElements:q,noPanClassName:In,noDragClassName:_n,disableKeyboardA11y:ar,nodeOrigin:on,nodeExtent:an,rfId:Yn})))};wm.displayName="GraphView";var p6=S.memo(wm);const sd=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Lr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:sd,nodeExtent:sd,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Ei.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:j3,isValidConnection:void 0},g6=()=>eb((e,t)=>({...Lr,setNodes:n=>{const{nodeInternals:i,nodeOrigin:o,elevateNodesOnSelect:a}=t();e({nodeInternals:Il(n,i,o,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:i={}}=t();e({edges:n.map(o=>({...i,...o}))})},setDefaultNodesAndEdges:(n,i)=>{const o=typeof n<"u",a=typeof i<"u",u=o?Il(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:u,edges:a?i:[],hasDefaultNodes:o,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:i,nodeInternals:o,fitViewOnInit:a,fitViewOnInitDone:u,fitViewOnInitOptions:l,domNode:d,nodeOrigin:f}=t(),h=d?.querySelector(".react-flow__viewport");if(!h)return;const g=window.getComputedStyle(h),{m22:m}=new window.DOMMatrixReadOnly(g.transform),D=n.reduce((v,x)=>{const _=o.get(x.id);if(_?.hidden)o.set(_.id,{..._,[vt]:{..._[vt],handleBounds:void 0}});else if(_){const b=Id(x.nodeElement);!!(b.width&&b.height&&(_.width!==b.width||_.height!==b.height||x.forceUpdate))&&(o.set(_.id,{..._,[vt]:{..._[vt],handleBounds:{source:a0(".source",x.nodeElement,m,f),target:a0(".target",x.nodeElement,m,f)}},...b}),v.push({id:_.id,type:"dimensions",dimensions:b}))}return v},[]);um(o,f);const w=u||a&&!u&&cm(t,{initial:!0,...l});e({nodeInternals:new Map(o),fitViewOnInitDone:w}),D?.length>0&&i?.(D)},updateNodePositions:(n,i=!0,o=!1)=>{const{triggerNodeChanges:a}=t(),u=n.map(l=>{const d={id:l.id,type:"position",dragging:o};return i&&(d.positionAbsolute=l.positionAbsolute,d.position=l.position),d});a(u)},triggerNodeChanges:n=>{const{onNodesChange:i,nodeInternals:o,hasDefaultNodes:a,nodeOrigin:u,getNodes:l,elevateNodesOnSelect:d}=t();if(n?.length){if(a){const f=dm(n,l()),h=Il(f,o,u,d);e({nodeInternals:h})}i?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:i,edges:o,getNodes:a}=t();let u,l=null;i?u=n.map(d=>Hr(d,!0)):(u=ts(a(),n),l=ts(o,[])),Ga({changedNodes:u,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:i,edges:o,getNodes:a}=t();let u,l=null;i?u=n.map(d=>Hr(d,!0)):(u=ts(o,n),l=ts(a(),[])),Ga({changedNodes:l,changedEdges:u,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:i}={})=>{const{edges:o,getNodes:a}=t(),u=n||a(),l=i||o,d=u.map(h=>(h.selected=!1,Hr(h.id,!1))),f=l.map(h=>Hr(h.id,!1));Ga({changedNodes:d,changedEdges:f,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:i,maxZoom:o}=t();i?.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:i,minZoom:o}=t();i?.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:i}=t(),a=i().filter(l=>l.selected).map(l=>Hr(l.id,!1)),u=n.filter(l=>l.selected).map(l=>Hr(l.id,!1));Ga({changedNodes:a,changedEdges:u,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:i}=t();i.forEach(o=>{o.positionAbsolute=kd(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(i)})},panBy:n=>{const{transform:i,width:o,height:a,d3Zoom:u,d3Selection:l,translateExtent:d}=t();if(!u||!l||!n.x&&!n.y)return!1;const f=Zr.translate(i[0]+n.x,i[1]+n.y).scale(i[2]),h=[[0,0],[o,a]],g=u?.constrain()(f,h,d);return u.transform(l,g),i[0]!==g.x||i[1]!==g.y||i[2]!==g.k},cancelConnection:()=>e({connectionNodeId:Lr.connectionNodeId,connectionHandleId:Lr.connectionHandleId,connectionHandleType:Lr.connectionHandleType,connectionStatus:Lr.connectionStatus,connectionStartHandle:Lr.connectionStartHandle,connectionEndHandle:Lr.connectionEndHandle}),reset:()=>e({...Lr})}),Object.is),Ud=({children:e})=>{const t=S.useRef(null);return t.current||(t.current=g6()),j.createElement(B3,{value:t.current},e)};Ud.displayName="ReactFlowProvider";const Cm=({children:e})=>S.useContext(Bu)?j.createElement(j.Fragment,null,e):j.createElement(Ud,null,e);Cm.displayName="ReactFlowWrapper";const m6={input:tm,default:rd,output:rm,group:jd},y6={default:hu,straight:Od,step:Md,smoothstep:Ru,simplebezier:Rd},v6=[0,0],_6=[15,15],D6={x:0,y:0,zoom:1},x6={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Em=S.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,className:o,nodeTypes:a=m6,edgeTypes:u=y6,onNodeClick:l,onEdgeClick:d,onInit:f,onMove:h,onMoveStart:g,onMoveEnd:m,onConnect:D,onConnectStart:w,onConnectEnd:v,onClickConnectStart:x,onClickConnectEnd:_,onNodeMouseEnter:b,onNodeMouseMove:I,onNodeMouseLeave:N,onNodeContextMenu:M,onNodeDoubleClick:z,onNodeDragStart:O,onNodeDrag:X,onNodeDragStop:B,onNodesDelete:U,onEdgesDelete:K,onSelectionChange:q,onSelectionDragStart:G,onSelectionDrag:A,onSelectionDragStop:$,onSelectionContextMenu:P,onSelectionStart:Z,onSelectionEnd:ee,connectionMode:H=Ei.Strict,connectionLineType:ne=Vr.Bezier,connectionLineStyle:re,connectionLineComponent:ae,connectionLineContainerStyle:W,deleteKeyCode:ie="Backspace",selectionKeyCode:ue="Shift",selectionOnDrag:de=!1,selectionMode:fe=ys.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:ge=fu()?"Meta":"Control",zoomActivationKeyCode:we=fu()?"Meta":"Control",snapToGrid:nt=!1,snapGrid:Je=_6,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:He=!0,nodesDraggable:Qe,nodesConnectable:gt,nodesFocusable:Be,nodeOrigin:ve=v6,edgesFocusable:_t,edgesUpdatable:Mt,elementsSelectable:bt,defaultViewport:_n=D6,minZoom:Tn=.5,maxZoom:In=2,translateExtent:Dn=sd,preventScrolling:ar=!0,nodeExtent:on,defaultMarkerColor:an="#b1b1b7",zoomOnScroll:Yn=!0,zoomOnPinch:ur=!0,panOnScroll:Ct=!1,panOnScrollSpeed:Xt=.5,panOnScrollMode:kn=yi.Free,zoomOnDoubleClick:Bn=!0,panOnDrag:Kn=!0,onPaneClick:Yt,onPaneMouseEnter:Rn,onPaneMouseMove:As,onPaneMouseLeave:Ss,onPaneScroll:ti,onPaneContextMenu:Ti,children:Fs,onEdgeContextMenu:cr,onEdgeDoubleClick:ju,onEdgeMouseEnter:Hu,onEdgeMouseMove:Vu,onEdgeMouseLeave:Zo,onEdgeUpdate:Uu,onEdgeUpdateStart:Gu,onEdgeUpdateEnd:Zu,onReconnect:Ns,onReconnectStart:Wu,onReconnectEnd:Ts,reconnectRadius:qu=10,edgeUpdaterRadius:Xu=10,onNodesChange:Yu,onEdgesChange:Ku,noDragClassName:Ju="nodrag",noWheelClassName:Qu="nowheel",noPanClassName:Wo="nopan",fitView:ec=!1,fitViewOptions:qo,connectOnClick:tc=!0,attributionPosition:nc,proOptions:rc,defaultEdgeOptions:ic,elevateNodesOnSelect:sc=!0,elevateEdgesOnSelect:oc=!1,disableKeyboardA11y:ni=!1,autoPanOnConnect:ac=!0,autoPanOnNodeDrag:Ii=!0,connectionRadius:uc=20,isValidConnection:cc,onError:lc,style:Xo,id:Is,nodeDragThreshold:Yo,...dc},fc)=>{const ks=Is||"1";return j.createElement("div",{...dc,style:{...Xo,...x6},ref:fc,className:qt(["react-flow",o]),"data-testid":"rf__wrapper",id:Is},j.createElement(Cm,null,j.createElement(p6,{onInit:f,onMove:h,onMoveStart:g,onMoveEnd:m,onNodeClick:l,onEdgeClick:d,onNodeMouseEnter:b,onNodeMouseMove:I,onNodeMouseLeave:N,onNodeContextMenu:M,onNodeDoubleClick:z,nodeTypes:a,edgeTypes:u,connectionLineType:ne,connectionLineStyle:re,connectionLineComponent:ae,connectionLineContainerStyle:W,selectionKeyCode:ue,selectionOnDrag:de,selectionMode:fe,deleteKeyCode:ie,multiSelectionKeyCode:ge,panActivationKeyCode:le,zoomActivationKeyCode:we,onlyRenderVisibleElements:Le,selectNodesOnDrag:He,defaultViewport:_n,translateExtent:Dn,minZoom:Tn,maxZoom:In,preventScrolling:ar,zoomOnScroll:Yn,zoomOnPinch:ur,zoomOnDoubleClick:Bn,panOnScroll:Ct,panOnScrollSpeed:Xt,panOnScrollMode:kn,panOnDrag:Kn,onPaneClick:Yt,onPaneMouseEnter:Rn,onPaneMouseMove:As,onPaneMouseLeave:Ss,onPaneScroll:ti,onPaneContextMenu:Ti,onSelectionContextMenu:P,onSelectionStart:Z,onSelectionEnd:ee,onEdgeContextMenu:cr,onEdgeDoubleClick:ju,onEdgeMouseEnter:Hu,onEdgeMouseMove:Vu,onEdgeMouseLeave:Zo,onReconnect:Ns??Uu,onReconnectStart:Wu??Gu,onReconnectEnd:Ts??Zu,reconnectRadius:qu??Xu,defaultMarkerColor:an,noDragClassName:Ju,noWheelClassName:Qu,noPanClassName:Wo,elevateEdgesOnSelect:oc,rfId:ks,disableKeyboardA11y:ni,nodeOrigin:ve,nodeExtent:on}),j.createElement(d8,{nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:D,onConnectStart:w,onConnectEnd:v,onClickConnectStart:x,onClickConnectEnd:_,nodesDraggable:Qe,nodesConnectable:gt,nodesFocusable:Be,edgesFocusable:_t,edgesUpdatable:Mt,elementsSelectable:bt,elevateNodesOnSelect:sc,minZoom:Tn,maxZoom:In,nodeExtent:on,onNodesChange:Yu,onEdgesChange:Ku,snapToGrid:nt,snapGrid:Je,connectionMode:H,translateExtent:Dn,connectOnClick:tc,defaultEdgeOptions:ic,fitView:ec,fitViewOptions:qo,onNodesDelete:U,onEdgesDelete:K,onNodeDragStart:O,onNodeDrag:X,onNodeDragStop:B,onSelectionDrag:A,onSelectionDragStart:G,onSelectionDragStop:$,noPanClassName:Wo,nodeOrigin:ve,rfId:ks,autoPanOnConnect:ac,autoPanOnNodeDrag:Ii,onError:lc,connectionRadius:uc,isValidConnection:cc,nodeDragThreshold:Yo}),j.createElement(c8,{onSelectionChange:q}),Fs,j.createElement(M3,{proOptions:rc,position:nc}),j.createElement(m8,{rfId:ks,disableKeyboardA11y:ni})))});Em.displayName="ReactFlow";const w6=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function C6({children:e}){const t=ft(w6);return t?cE.createPortal(e,t):null}function bm(e){return t=>{const[n,i]=S.useState(t),o=S.useCallback(a=>i(u=>e(a,u)),[]);return[n,i,o]}}const E6=bm(dm),b6=bm(T8);function A6(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},j.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function S6(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},j.createElement("path",{d:"M0 0h32v4.2H0z"}))}function F6(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},j.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function N6(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},j.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function T6(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},j.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ns=({children:e,className:t,...n})=>j.createElement("button",{type:"button",className:qt(["react-flow__controls-button",t]),...n},e);ns.displayName="ControlButton";const I6=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Am=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:i=!0,fitViewOptions:o,onZoomIn:a,onZoomOut:u,onFitView:l,onInteractiveChange:d,className:f,children:h,position:g="bottom-left"})=>{const m=It(),[D,w]=S.useState(!1),{isInteractive:v,minZoomReached:x,maxZoomReached:_}=ft(I6,zt),{zoomIn:b,zoomOut:I,fitView:N}=Hd();if(S.useEffect(()=>{w(!0)},[]),!D)return null;const M=()=>{b(),a?.()},z=()=>{I(),u?.()},O=()=>{N(o),l?.()},X=()=>{m.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),d?.(!v)};return j.createElement(Og,{className:qt(["react-flow__controls",f]),position:g,style:e,"data-testid":"rf__controls"},t&&j.createElement(j.Fragment,null,j.createElement(ns,{onClick:M,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:_},j.createElement(A6,null)),j.createElement(ns,{onClick:z,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x},j.createElement(S6,null))),n&&j.createElement(ns,{className:"react-flow__controls-fitview",onClick:O,title:"fit view","aria-label":"fit view"},j.createElement(F6,null)),i&&j.createElement(ns,{className:"react-flow__controls-interactive",onClick:X,title:"toggle interactivity","aria-label":"toggle interactivity"},v?j.createElement(T6,null):j.createElement(N6,null)),h)};Am.displayName="Controls";var k6=S.memo(Am),Un;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Un||(Un={}));function B6({color:e,dimensions:t,lineWidth:n}){return j.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function R6({color:e,radius:t}){return j.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const M6={[Un.Dots]:"#91919a",[Un.Lines]:"#eee",[Un.Cross]:"#e2e2e2"},O6={[Un.Dots]:1,[Un.Lines]:1,[Un.Cross]:6},P6=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Sm({id:e,variant:t=Un.Dots,gap:n=20,size:i,lineWidth:o=1,offset:a=2,color:u,style:l,className:d}){const f=S.useRef(null),{transform:h,patternId:g}=ft(P6,zt),m=u||M6[t],D=i||O6[t],w=t===Un.Dots,v=t===Un.Cross,x=Array.isArray(n)?n:[n,n],_=[x[0]*h[2]||1,x[1]*h[2]||1],b=D*h[2],I=v?[b,b]:_,N=w?[b/a,b/a]:[I[0]/a,I[1]/a];return j.createElement("svg",{className:qt(["react-flow__background",d]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:f,"data-testid":"rf__background"},j.createElement("pattern",{id:g+e,x:h[0]%_[0],y:h[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},w?j.createElement(R6,{color:m,radius:b/a}):j.createElement(B6,{dimensions:I,color:m,lineWidth:o})),j.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${g+e})`}))}Sm.displayName="Background";var $6=S.memo(Sm),gu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */gu.exports;(function(e,t){(function(){var n,i="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",g=1,m=2,D=4,w=1,v=2,x=1,_=2,b=4,I=8,N=16,M=32,z=64,O=128,X=256,B=512,U=30,K="...",q=800,G=16,A=1,$=2,P=3,Z=1/0,ee=9007199254740991,H=17976931348623157e292,ne=NaN,re=4294967295,ae=re-1,W=re>>>1,ie=[["ary",O],["bind",x],["bindKey",_],["curry",I],["curryRight",N],["flip",B],["partial",M],["partialRight",z],["rearg",X]],ue="[object Arguments]",de="[object Array]",fe="[object AsyncFunction]",le="[object Boolean]",ge="[object Date]",we="[object DOMException]",nt="[object Error]",Je="[object Function]",Le="[object GeneratorFunction]",He="[object Map]",Qe="[object Number]",gt="[object Null]",Be="[object Object]",ve="[object Promise]",_t="[object Proxy]",Mt="[object RegExp]",bt="[object Set]",_n="[object String]",Tn="[object Symbol]",In="[object Undefined]",Dn="[object WeakMap]",ar="[object WeakSet]",on="[object ArrayBuffer]",an="[object DataView]",Yn="[object Float32Array]",ur="[object Float64Array]",Ct="[object Int8Array]",Xt="[object Int16Array]",kn="[object Int32Array]",Bn="[object Uint8Array]",Kn="[object Uint8ClampedArray]",Yt="[object Uint16Array]",Rn="[object Uint32Array]",As=/\b__p \+= '';/g,Ss=/\b(__p \+=) '' \+/g,ti=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ti=/&(?:amp|lt|gt|quot|#39);/g,Fs=/[&<>"']/g,cr=RegExp(Ti.source),ju=RegExp(Fs.source),Hu=/<%-([\s\S]+?)%>/g,Vu=/<%([\s\S]+?)%>/g,Zo=/<%=([\s\S]+?)%>/g,Uu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gu=/^\w*$/,Zu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ns=/[\\^$.*+?()[\]{}|]/g,Wu=RegExp(Ns.source),Ts=/^\s+/,qu=/\s/,Xu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yu=/\{\n\/\* \[wrapped with (.+)\] \*/,Ku=/,? & /,Ju=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qu=/[()=,{}\[\]\/\s]/,Wo=/\\(\\)?/g,ec=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qo=/\w*$/,tc=/^[-+]0x[0-9a-f]+$/i,nc=/^0b[01]+$/i,rc=/^\[object .+?Constructor\]$/,ic=/^0o[0-7]+$/i,sc=/^(?:0|[1-9]\d*)$/,oc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ni=/($^)/,ac=/['\n\r\u2028\u2029\\]/g,Ii="\\ud800-\\udfff",uc="\\u0300-\\u036f",cc="\\ufe20-\\ufe2f",lc="\\u20d0-\\u20ff",Xo=uc+cc+lc,Is="\\u2700-\\u27bf",Yo="a-z\\xdf-\\xf6\\xf8-\\xff",dc="\\xac\\xb1\\xd7\\xf7",fc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ks="\\u2000-\\u206f",xy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ef="A-Z\\xc0-\\xd6\\xd8-\\xde",tf="\\ufe0e\\ufe0f",nf=dc+fc+ks+xy,hc="['’]",wy="["+Ii+"]",rf="["+nf+"]",Ko="["+Xo+"]",sf="\\d+",Cy="["+Is+"]",of="["+Yo+"]",af="[^"+Ii+nf+sf+Is+Yo+ef+"]",pc="\\ud83c[\\udffb-\\udfff]",Ey="(?:"+Ko+"|"+pc+")",uf="[^"+Ii+"]",gc="(?:\\ud83c[\\udde6-\\uddff]){2}",mc="[\\ud800-\\udbff][\\udc00-\\udfff]",ki="["+ef+"]",cf="\\u200d",lf="(?:"+of+"|"+af+")",by="(?:"+ki+"|"+af+")",df="(?:"+hc+"(?:d|ll|m|re|s|t|ve))?",ff="(?:"+hc+"(?:D|LL|M|RE|S|T|VE))?",hf=Ey+"?",pf="["+tf+"]?",Ay="(?:"+cf+"(?:"+[uf,gc,mc].join("|")+")"+pf+hf+")*",Sy="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Fy="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",gf=pf+hf+Ay,Ny="(?:"+[Cy,gc,mc].join("|")+")"+gf,Ty="(?:"+[uf+Ko+"?",Ko,gc,mc,wy].join("|")+")",Iy=RegExp(hc,"g"),ky=RegExp(Ko,"g"),yc=RegExp(pc+"(?="+pc+")|"+Ty+gf,"g"),By=RegExp([ki+"?"+of+"+"+df+"(?="+[rf,ki,"$"].join("|")+")",by+"+"+ff+"(?="+[rf,ki+lf,"$"].join("|")+")",ki+"?"+lf+"+"+df,ki+"+"+ff,Fy,Sy,sf,Ny].join("|"),"g"),Ry=RegExp("["+cf+Ii+Xo+tf+"]"),My=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Oy=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Py=-1,ot={};ot[Yn]=ot[ur]=ot[Ct]=ot[Xt]=ot[kn]=ot[Bn]=ot[Kn]=ot[Yt]=ot[Rn]=!0,ot[ue]=ot[de]=ot[on]=ot[le]=ot[an]=ot[ge]=ot[nt]=ot[Je]=ot[He]=ot[Qe]=ot[Be]=ot[Mt]=ot[bt]=ot[_n]=ot[Dn]=!1;var it={};it[ue]=it[de]=it[on]=it[an]=it[le]=it[ge]=it[Yn]=it[ur]=it[Ct]=it[Xt]=it[kn]=it[He]=it[Qe]=it[Be]=it[Mt]=it[bt]=it[_n]=it[Tn]=it[Bn]=it[Kn]=it[Yt]=it[Rn]=!0,it[nt]=it[Je]=it[Dn]=!1;var $y={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},zy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ly={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hy=parseFloat,Vy=parseInt,mf=typeof qs=="object"&&qs&&qs.Object===Object&&qs,Uy=typeof self=="object"&&self&&self.Object===Object&&self,kt=mf||Uy||Function("return this")(),vc=t&&!t.nodeType&&t,ri=vc&&!0&&e&&!e.nodeType&&e,yf=ri&&ri.exports===vc,_c=yf&&mf.process,xn=function(){try{var R=ri&&ri.require&&ri.require("util").types;return R||_c&&_c.binding&&_c.binding("util")}catch{}}(),vf=xn&&xn.isArrayBuffer,_f=xn&&xn.isDate,Df=xn&&xn.isMap,xf=xn&&xn.isRegExp,wf=xn&&xn.isSet,Cf=xn&&xn.isTypedArray;function un(R,Y,V){switch(V.length){case 0:return R.call(Y);case 1:return R.call(Y,V[0]);case 2:return R.call(Y,V[0],V[1]);case 3:return R.call(Y,V[0],V[1],V[2])}return R.apply(Y,V)}function Gy(R,Y,V,ye){for(var Fe=-1,Ke=R==null?0:R.length;++Fe<Ke;){var At=R[Fe];Y(ye,At,V(At),R)}return ye}function wn(R,Y){for(var V=-1,ye=R==null?0:R.length;++V<ye&&Y(R[V],V,R)!==!1;);return R}function Zy(R,Y){for(var V=R==null?0:R.length;V--&&Y(R[V],V,R)!==!1;);return R}function Ef(R,Y){for(var V=-1,ye=R==null?0:R.length;++V<ye;)if(!Y(R[V],V,R))return!1;return!0}function Ir(R,Y){for(var V=-1,ye=R==null?0:R.length,Fe=0,Ke=[];++V<ye;){var At=R[V];Y(At,V,R)&&(Ke[Fe++]=At)}return Ke}function Jo(R,Y){var V=R==null?0:R.length;return!!V&&Bi(R,Y,0)>-1}function Dc(R,Y,V){for(var ye=-1,Fe=R==null?0:R.length;++ye<Fe;)if(V(Y,R[ye]))return!0;return!1}function dt(R,Y){for(var V=-1,ye=R==null?0:R.length,Fe=Array(ye);++V<ye;)Fe[V]=Y(R[V],V,R);return Fe}function kr(R,Y){for(var V=-1,ye=Y.length,Fe=R.length;++V<ye;)R[Fe+V]=Y[V];return R}function xc(R,Y,V,ye){var Fe=-1,Ke=R==null?0:R.length;for(ye&&Ke&&(V=R[++Fe]);++Fe<Ke;)V=Y(V,R[Fe],Fe,R);return V}function Wy(R,Y,V,ye){var Fe=R==null?0:R.length;for(ye&&Fe&&(V=R[--Fe]);Fe--;)V=Y(V,R[Fe],Fe,R);return V}function wc(R,Y){for(var V=-1,ye=R==null?0:R.length;++V<ye;)if(Y(R[V],V,R))return!0;return!1}var qy=Cc("length");function Xy(R){return R.split("")}function Yy(R){return R.match(Ju)||[]}function bf(R,Y,V){var ye;return V(R,function(Fe,Ke,At){if(Y(Fe,Ke,At))return ye=Ke,!1}),ye}function Qo(R,Y,V,ye){for(var Fe=R.length,Ke=V+(ye?1:-1);ye?Ke--:++Ke<Fe;)if(Y(R[Ke],Ke,R))return Ke;return-1}function Bi(R,Y,V){return Y===Y?u1(R,Y,V):Qo(R,Af,V)}function Ky(R,Y,V,ye){for(var Fe=V-1,Ke=R.length;++Fe<Ke;)if(ye(R[Fe],Y))return Fe;return-1}function Af(R){return R!==R}function Sf(R,Y){var V=R==null?0:R.length;return V?bc(R,Y)/V:ne}function Cc(R){return function(Y){return Y==null?n:Y[R]}}function Ec(R){return function(Y){return R==null?n:R[Y]}}function Ff(R,Y,V,ye,Fe){return Fe(R,function(Ke,At,rt){V=ye?(ye=!1,Ke):Y(V,Ke,At,rt)}),V}function Jy(R,Y){var V=R.length;for(R.sort(Y);V--;)R[V]=R[V].value;return R}function bc(R,Y){for(var V,ye=-1,Fe=R.length;++ye<Fe;){var Ke=Y(R[ye]);Ke!==n&&(V=V===n?Ke:V+Ke)}return V}function Ac(R,Y){for(var V=-1,ye=Array(R);++V<R;)ye[V]=Y(V);return ye}function Qy(R,Y){return dt(Y,function(V){return[V,R[V]]})}function Nf(R){return R&&R.slice(0,Bf(R)+1).replace(Ts,"")}function cn(R){return function(Y){return R(Y)}}function Sc(R,Y){return dt(Y,function(V){return R[V]})}function Bs(R,Y){return R.has(Y)}function Tf(R,Y){for(var V=-1,ye=R.length;++V<ye&&Bi(Y,R[V],0)>-1;);return V}function If(R,Y){for(var V=R.length;V--&&Bi(Y,R[V],0)>-1;);return V}function e1(R,Y){for(var V=R.length,ye=0;V--;)R[V]===Y&&++ye;return ye}var t1=Ec($y),n1=Ec(zy);function r1(R){return"\\"+jy[R]}function i1(R,Y){return R==null?n:R[Y]}function Ri(R){return Ry.test(R)}function s1(R){return My.test(R)}function o1(R){for(var Y,V=[];!(Y=R.next()).done;)V.push(Y.value);return V}function Fc(R){var Y=-1,V=Array(R.size);return R.forEach(function(ye,Fe){V[++Y]=[Fe,ye]}),V}function kf(R,Y){return function(V){return R(Y(V))}}function Br(R,Y){for(var V=-1,ye=R.length,Fe=0,Ke=[];++V<ye;){var At=R[V];(At===Y||At===h)&&(R[V]=h,Ke[Fe++]=V)}return Ke}function ea(R){var Y=-1,V=Array(R.size);return R.forEach(function(ye){V[++Y]=ye}),V}function a1(R){var Y=-1,V=Array(R.size);return R.forEach(function(ye){V[++Y]=[ye,ye]}),V}function u1(R,Y,V){for(var ye=V-1,Fe=R.length;++ye<Fe;)if(R[ye]===Y)return ye;return-1}function c1(R,Y,V){for(var ye=V+1;ye--;)if(R[ye]===Y)return ye;return ye}function Mi(R){return Ri(R)?d1(R):qy(R)}function Mn(R){return Ri(R)?f1(R):Xy(R)}function Bf(R){for(var Y=R.length;Y--&&qu.test(R.charAt(Y)););return Y}var l1=Ec(Ly);function d1(R){for(var Y=yc.lastIndex=0;yc.test(R);)++Y;return Y}function f1(R){return R.match(yc)||[]}function h1(R){return R.match(By)||[]}var p1=function R(Y){Y=Y==null?kt:Oi.defaults(kt.Object(),Y,Oi.pick(kt,Oy));var V=Y.Array,ye=Y.Date,Fe=Y.Error,Ke=Y.Function,At=Y.Math,rt=Y.Object,Nc=Y.RegExp,g1=Y.String,Cn=Y.TypeError,ta=V.prototype,m1=Ke.prototype,Pi=rt.prototype,na=Y["__core-js_shared__"],ra=m1.toString,tt=Pi.hasOwnProperty,y1=0,Rf=function(){var r=/[^.]+$/.exec(na&&na.keys&&na.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),ia=Pi.toString,v1=ra.call(rt),_1=kt._,D1=Nc("^"+ra.call(tt).replace(Ns,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sa=yf?Y.Buffer:n,Rr=Y.Symbol,oa=Y.Uint8Array,Mf=sa?sa.allocUnsafe:n,aa=kf(rt.getPrototypeOf,rt),Of=rt.create,Pf=Pi.propertyIsEnumerable,ua=ta.splice,$f=Rr?Rr.isConcatSpreadable:n,Rs=Rr?Rr.iterator:n,ii=Rr?Rr.toStringTag:n,ca=function(){try{var r=ci(rt,"defineProperty");return r({},"",{}),r}catch{}}(),x1=Y.clearTimeout!==kt.clearTimeout&&Y.clearTimeout,w1=ye&&ye.now!==kt.Date.now&&ye.now,C1=Y.setTimeout!==kt.setTimeout&&Y.setTimeout,la=At.ceil,da=At.floor,Tc=rt.getOwnPropertySymbols,E1=sa?sa.isBuffer:n,zf=Y.isFinite,b1=ta.join,A1=kf(rt.keys,rt),St=At.max,Ot=At.min,S1=ye.now,F1=Y.parseInt,Lf=At.random,N1=ta.reverse,Ic=ci(Y,"DataView"),Ms=ci(Y,"Map"),kc=ci(Y,"Promise"),$i=ci(Y,"Set"),Os=ci(Y,"WeakMap"),Ps=ci(rt,"create"),fa=Os&&new Os,zi={},T1=li(Ic),I1=li(Ms),k1=li(kc),B1=li($i),R1=li(Os),ha=Rr?Rr.prototype:n,$s=ha?ha.valueOf:n,jf=ha?ha.toString:n;function C(r){if(mt(r)&&!Ne(r)&&!(r instanceof Ve)){if(r instanceof En)return r;if(tt.call(r,"__wrapped__"))return Hh(r)}return new En(r)}var Li=function(){function r(){}return function(s){if(!ht(s))return{};if(Of)return Of(s);r.prototype=s;var c=new r;return r.prototype=n,c}}();function pa(){}function En(r,s){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=n}C.templateSettings={escape:Hu,evaluate:Vu,interpolate:Zo,variable:"",imports:{_:C}},C.prototype=pa.prototype,C.prototype.constructor=C,En.prototype=Li(pa.prototype),En.prototype.constructor=En;function Ve(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=re,this.__views__=[]}function M1(){var r=new Ve(this.__wrapped__);return r.__actions__=Kt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Kt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Kt(this.__views__),r}function O1(){if(this.__filtered__){var r=new Ve(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function P1(){var r=this.__wrapped__.value(),s=this.__dir__,c=Ne(r),p=s<0,y=c?r.length:0,E=Xv(0,y,this.__views__),T=E.start,k=E.end,L=k-T,J=p?k:T-1,Q=this.__iteratees__,se=Q.length,he=0,_e=Ot(L,this.__takeCount__);if(!c||!p&&y==L&&_e==L)return dh(r,this.__actions__);var Ee=[];e:for(;L--&&he<_e;){J+=s;for(var Re=-1,be=r[J];++Re<se;){var je=Q[Re],We=je.iteratee,fn=je.type,Vt=We(be);if(fn==$)be=Vt;else if(!Vt){if(fn==A)continue e;break e}}Ee[he++]=be}return Ee}Ve.prototype=Li(pa.prototype),Ve.prototype.constructor=Ve;function si(r){var s=-1,c=r==null?0:r.length;for(this.clear();++s<c;){var p=r[s];this.set(p[0],p[1])}}function $1(){this.__data__=Ps?Ps(null):{},this.size=0}function z1(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s}function L1(r){var s=this.__data__;if(Ps){var c=s[r];return c===d?n:c}return tt.call(s,r)?s[r]:n}function j1(r){var s=this.__data__;return Ps?s[r]!==n:tt.call(s,r)}function H1(r,s){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Ps&&s===n?d:s,this}si.prototype.clear=$1,si.prototype.delete=z1,si.prototype.get=L1,si.prototype.has=j1,si.prototype.set=H1;function lr(r){var s=-1,c=r==null?0:r.length;for(this.clear();++s<c;){var p=r[s];this.set(p[0],p[1])}}function V1(){this.__data__=[],this.size=0}function U1(r){var s=this.__data__,c=ga(s,r);if(c<0)return!1;var p=s.length-1;return c==p?s.pop():ua.call(s,c,1),--this.size,!0}function G1(r){var s=this.__data__,c=ga(s,r);return c<0?n:s[c][1]}function Z1(r){return ga(this.__data__,r)>-1}function W1(r,s){var c=this.__data__,p=ga(c,r);return p<0?(++this.size,c.push([r,s])):c[p][1]=s,this}lr.prototype.clear=V1,lr.prototype.delete=U1,lr.prototype.get=G1,lr.prototype.has=Z1,lr.prototype.set=W1;function dr(r){var s=-1,c=r==null?0:r.length;for(this.clear();++s<c;){var p=r[s];this.set(p[0],p[1])}}function q1(){this.size=0,this.__data__={hash:new si,map:new(Ms||lr),string:new si}}function X1(r){var s=Sa(this,r).delete(r);return this.size-=s?1:0,s}function Y1(r){return Sa(this,r).get(r)}function K1(r){return Sa(this,r).has(r)}function J1(r,s){var c=Sa(this,r),p=c.size;return c.set(r,s),this.size+=c.size==p?0:1,this}dr.prototype.clear=q1,dr.prototype.delete=X1,dr.prototype.get=Y1,dr.prototype.has=K1,dr.prototype.set=J1;function oi(r){var s=-1,c=r==null?0:r.length;for(this.__data__=new dr;++s<c;)this.add(r[s])}function Q1(r){return this.__data__.set(r,d),this}function ev(r){return this.__data__.has(r)}oi.prototype.add=oi.prototype.push=Q1,oi.prototype.has=ev;function On(r){var s=this.__data__=new lr(r);this.size=s.size}function tv(){this.__data__=new lr,this.size=0}function nv(r){var s=this.__data__,c=s.delete(r);return this.size=s.size,c}function rv(r){return this.__data__.get(r)}function iv(r){return this.__data__.has(r)}function sv(r,s){var c=this.__data__;if(c instanceof lr){var p=c.__data__;if(!Ms||p.length<o-1)return p.push([r,s]),this.size=++c.size,this;c=this.__data__=new dr(p)}return c.set(r,s),this.size=c.size,this}On.prototype.clear=tv,On.prototype.delete=nv,On.prototype.get=rv,On.prototype.has=iv,On.prototype.set=sv;function Hf(r,s){var c=Ne(r),p=!c&&di(r),y=!c&&!p&&zr(r),E=!c&&!p&&!y&&Ui(r),T=c||p||y||E,k=T?Ac(r.length,g1):[],L=k.length;for(var J in r)(s||tt.call(r,J))&&!(T&&(J=="length"||y&&(J=="offset"||J=="parent")||E&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||gr(J,L)))&&k.push(J);return k}function Vf(r){var s=r.length;return s?r[Vc(0,s-1)]:n}function ov(r,s){return Fa(Kt(r),ai(s,0,r.length))}function av(r){return Fa(Kt(r))}function Bc(r,s,c){(c!==n&&!Pn(r[s],c)||c===n&&!(s in r))&&fr(r,s,c)}function zs(r,s,c){var p=r[s];(!(tt.call(r,s)&&Pn(p,c))||c===n&&!(s in r))&&fr(r,s,c)}function ga(r,s){for(var c=r.length;c--;)if(Pn(r[c][0],s))return c;return-1}function uv(r,s,c,p){return Mr(r,function(y,E,T){s(p,y,c(y),T)}),p}function Uf(r,s){return r&&Qn(s,Ft(s),r)}function cv(r,s){return r&&Qn(s,Qt(s),r)}function fr(r,s,c){s=="__proto__"&&ca?ca(r,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[s]=c}function Rc(r,s){for(var c=-1,p=s.length,y=V(p),E=r==null;++c<p;)y[c]=E?n:pl(r,s[c]);return y}function ai(r,s,c){return r===r&&(c!==n&&(r=r<=c?r:c),s!==n&&(r=r>=s?r:s)),r}function bn(r,s,c,p,y,E){var T,k=s&g,L=s&m,J=s&D;if(c&&(T=y?c(r,p,y,E):c(r)),T!==n)return T;if(!ht(r))return r;var Q=Ne(r);if(Q){if(T=Kv(r),!k)return Kt(r,T)}else{var se=Pt(r),he=se==Je||se==Le;if(zr(r))return ph(r,k);if(se==Be||se==ue||he&&!y){if(T=L||he?{}:Bh(r),!k)return L?Lv(r,cv(T,r)):zv(r,Uf(T,r))}else{if(!it[se])return y?r:{};T=Jv(r,se,k)}}E||(E=new On);var _e=E.get(r);if(_e)return _e;E.set(r,T),up(r)?r.forEach(function(be){T.add(bn(be,s,c,be,r,E))}):op(r)&&r.forEach(function(be,je){T.set(je,bn(be,s,c,je,r,E))});var Ee=J?L?el:Qc:L?Qt:Ft,Re=Q?n:Ee(r);return wn(Re||r,function(be,je){Re&&(je=be,be=r[je]),zs(T,je,bn(be,s,c,je,r,E))}),T}function lv(r){var s=Ft(r);return function(c){return Gf(c,r,s)}}function Gf(r,s,c){var p=c.length;if(r==null)return!p;for(r=rt(r);p--;){var y=c[p],E=s[y],T=r[y];if(T===n&&!(y in r)||!E(T))return!1}return!0}function Zf(r,s,c){if(typeof r!="function")throw new Cn(u);return Zs(function(){r.apply(n,c)},s)}function Ls(r,s,c,p){var y=-1,E=Jo,T=!0,k=r.length,L=[],J=s.length;if(!k)return L;c&&(s=dt(s,cn(c))),p?(E=Dc,T=!1):s.length>=o&&(E=Bs,T=!1,s=new oi(s));e:for(;++y<k;){var Q=r[y],se=c==null?Q:c(Q);if(Q=p||Q!==0?Q:0,T&&se===se){for(var he=J;he--;)if(s[he]===se)continue e;L.push(Q)}else E(s,se,p)||L.push(Q)}return L}var Mr=_h(Jn),Wf=_h(Oc,!0);function dv(r,s){var c=!0;return Mr(r,function(p,y,E){return c=!!s(p,y,E),c}),c}function ma(r,s,c){for(var p=-1,y=r.length;++p<y;){var E=r[p],T=s(E);if(T!=null&&(k===n?T===T&&!dn(T):c(T,k)))var k=T,L=E}return L}function fv(r,s,c,p){var y=r.length;for(c=ke(c),c<0&&(c=-c>y?0:y+c),p=p===n||p>y?y:ke(p),p<0&&(p+=y),p=c>p?0:lp(p);c<p;)r[c++]=s;return r}function qf(r,s){var c=[];return Mr(r,function(p,y,E){s(p,y,E)&&c.push(p)}),c}function Bt(r,s,c,p,y){var E=-1,T=r.length;for(c||(c=e_),y||(y=[]);++E<T;){var k=r[E];s>0&&c(k)?s>1?Bt(k,s-1,c,p,y):kr(y,k):p||(y[y.length]=k)}return y}var Mc=Dh(),Xf=Dh(!0);function Jn(r,s){return r&&Mc(r,s,Ft)}function Oc(r,s){return r&&Xf(r,s,Ft)}function ya(r,s){return Ir(s,function(c){return mr(r[c])})}function ui(r,s){s=Pr(s,r);for(var c=0,p=s.length;r!=null&&c<p;)r=r[er(s[c++])];return c&&c==p?r:n}function Yf(r,s,c){var p=s(r);return Ne(r)?p:kr(p,c(r))}function jt(r){return r==null?r===n?In:gt:ii&&ii in rt(r)?qv(r):a_(r)}function Pc(r,s){return r>s}function hv(r,s){return r!=null&&tt.call(r,s)}function pv(r,s){return r!=null&&s in rt(r)}function gv(r,s,c){return r>=Ot(s,c)&&r<St(s,c)}function $c(r,s,c){for(var p=c?Dc:Jo,y=r[0].length,E=r.length,T=E,k=V(E),L=1/0,J=[];T--;){var Q=r[T];T&&s&&(Q=dt(Q,cn(s))),L=Ot(Q.length,L),k[T]=!c&&(s||y>=120&&Q.length>=120)?new oi(T&&Q):n}Q=r[0];var se=-1,he=k[0];e:for(;++se<y&&J.length<L;){var _e=Q[se],Ee=s?s(_e):_e;if(_e=c||_e!==0?_e:0,!(he?Bs(he,Ee):p(J,Ee,c))){for(T=E;--T;){var Re=k[T];if(!(Re?Bs(Re,Ee):p(r[T],Ee,c)))continue e}he&&he.push(Ee),J.push(_e)}}return J}function mv(r,s,c,p){return Jn(r,function(y,E,T){s(p,c(y),E,T)}),p}function js(r,s,c){s=Pr(s,r),r=Ph(r,s);var p=r==null?r:r[er(Sn(s))];return p==null?n:un(p,r,c)}function Kf(r){return mt(r)&&jt(r)==ue}function yv(r){return mt(r)&&jt(r)==on}function vv(r){return mt(r)&&jt(r)==ge}function Hs(r,s,c,p,y){return r===s?!0:r==null||s==null||!mt(r)&&!mt(s)?r!==r&&s!==s:_v(r,s,c,p,Hs,y)}function _v(r,s,c,p,y,E){var T=Ne(r),k=Ne(s),L=T?de:Pt(r),J=k?de:Pt(s);L=L==ue?Be:L,J=J==ue?Be:J;var Q=L==Be,se=J==Be,he=L==J;if(he&&zr(r)){if(!zr(s))return!1;T=!0,Q=!1}if(he&&!Q)return E||(E=new On),T||Ui(r)?Th(r,s,c,p,y,E):Zv(r,s,L,c,p,y,E);if(!(c&w)){var _e=Q&&tt.call(r,"__wrapped__"),Ee=se&&tt.call(s,"__wrapped__");if(_e||Ee){var Re=_e?r.value():r,be=Ee?s.value():s;return E||(E=new On),y(Re,be,c,p,E)}}return he?(E||(E=new On),Wv(r,s,c,p,y,E)):!1}function Dv(r){return mt(r)&&Pt(r)==He}function zc(r,s,c,p){var y=c.length,E=y,T=!p;if(r==null)return!E;for(r=rt(r);y--;){var k=c[y];if(T&&k[2]?k[1]!==r[k[0]]:!(k[0]in r))return!1}for(;++y<E;){k=c[y];var L=k[0],J=r[L],Q=k[1];if(T&&k[2]){if(J===n&&!(L in r))return!1}else{var se=new On;if(p)var he=p(J,Q,L,r,s,se);if(!(he===n?Hs(Q,J,w|v,p,se):he))return!1}}return!0}function Jf(r){if(!ht(r)||n_(r))return!1;var s=mr(r)?D1:rc;return s.test(li(r))}function xv(r){return mt(r)&&jt(r)==Mt}function wv(r){return mt(r)&&Pt(r)==bt}function Cv(r){return mt(r)&&Ra(r.length)&&!!ot[jt(r)]}function Qf(r){return typeof r=="function"?r:r==null?en:typeof r=="object"?Ne(r)?nh(r[0],r[1]):th(r):xp(r)}function Lc(r){if(!Gs(r))return A1(r);var s=[];for(var c in rt(r))tt.call(r,c)&&c!="constructor"&&s.push(c);return s}function Ev(r){if(!ht(r))return o_(r);var s=Gs(r),c=[];for(var p in r)p=="constructor"&&(s||!tt.call(r,p))||c.push(p);return c}function jc(r,s){return r<s}function eh(r,s){var c=-1,p=Jt(r)?V(r.length):[];return Mr(r,function(y,E,T){p[++c]=s(y,E,T)}),p}function th(r){var s=nl(r);return s.length==1&&s[0][2]?Mh(s[0][0],s[0][1]):function(c){return c===r||zc(c,r,s)}}function nh(r,s){return il(r)&&Rh(s)?Mh(er(r),s):function(c){var p=pl(c,r);return p===n&&p===s?gl(c,r):Hs(s,p,w|v)}}function va(r,s,c,p,y){r!==s&&Mc(s,function(E,T){if(y||(y=new On),ht(E))bv(r,s,T,c,va,p,y);else{var k=p?p(ol(r,T),E,T+"",r,s,y):n;k===n&&(k=E),Bc(r,T,k)}},Qt)}function bv(r,s,c,p,y,E,T){var k=ol(r,c),L=ol(s,c),J=T.get(L);if(J){Bc(r,c,J);return}var Q=E?E(k,L,c+"",r,s,T):n,se=Q===n;if(se){var he=Ne(L),_e=!he&&zr(L),Ee=!he&&!_e&&Ui(L);Q=L,he||_e||Ee?Ne(k)?Q=k:Dt(k)?Q=Kt(k):_e?(se=!1,Q=ph(L,!0)):Ee?(se=!1,Q=gh(L,!0)):Q=[]:Ws(L)||di(L)?(Q=k,di(k)?Q=dp(k):(!ht(k)||mr(k))&&(Q=Bh(L))):se=!1}se&&(T.set(L,Q),y(Q,L,p,E,T),T.delete(L)),Bc(r,c,Q)}function rh(r,s){var c=r.length;if(c)return s+=s<0?c:0,gr(s,c)?r[s]:n}function ih(r,s,c){s.length?s=dt(s,function(E){return Ne(E)?function(T){return ui(T,E.length===1?E[0]:E)}:E}):s=[en];var p=-1;s=dt(s,cn(Ce()));var y=eh(r,function(E,T,k){var L=dt(s,function(J){return J(E)});return{criteria:L,index:++p,value:E}});return Jy(y,function(E,T){return $v(E,T,c)})}function Av(r,s){return sh(r,s,function(c,p){return gl(r,p)})}function sh(r,s,c){for(var p=-1,y=s.length,E={};++p<y;){var T=s[p],k=ui(r,T);c(k,T)&&Vs(E,Pr(T,r),k)}return E}function Sv(r){return function(s){return ui(s,r)}}function Hc(r,s,c,p){var y=p?Ky:Bi,E=-1,T=s.length,k=r;for(r===s&&(s=Kt(s)),c&&(k=dt(r,cn(c)));++E<T;)for(var L=0,J=s[E],Q=c?c(J):J;(L=y(k,Q,L,p))>-1;)k!==r&&ua.call(k,L,1),ua.call(r,L,1);return r}function oh(r,s){for(var c=r?s.length:0,p=c-1;c--;){var y=s[c];if(c==p||y!==E){var E=y;gr(y)?ua.call(r,y,1):Zc(r,y)}}return r}function Vc(r,s){return r+da(Lf()*(s-r+1))}function Fv(r,s,c,p){for(var y=-1,E=St(la((s-r)/(c||1)),0),T=V(E);E--;)T[p?E:++y]=r,r+=c;return T}function Uc(r,s){var c="";if(!r||s<1||s>ee)return c;do s%2&&(c+=r),s=da(s/2),s&&(r+=r);while(s);return c}function $e(r,s){return al(Oh(r,s,en),r+"")}function Nv(r){return Vf(Gi(r))}function Tv(r,s){var c=Gi(r);return Fa(c,ai(s,0,c.length))}function Vs(r,s,c,p){if(!ht(r))return r;s=Pr(s,r);for(var y=-1,E=s.length,T=E-1,k=r;k!=null&&++y<E;){var L=er(s[y]),J=c;if(L==="__proto__"||L==="constructor"||L==="prototype")return r;if(y!=T){var Q=k[L];J=p?p(Q,L,k):n,J===n&&(J=ht(Q)?Q:gr(s[y+1])?[]:{})}zs(k,L,J),k=k[L]}return r}var ah=fa?function(r,s){return fa.set(r,s),r}:en,Iv=ca?function(r,s){return ca(r,"toString",{configurable:!0,enumerable:!1,value:yl(s),writable:!0})}:en;function kv(r){return Fa(Gi(r))}function An(r,s,c){var p=-1,y=r.length;s<0&&(s=-s>y?0:y+s),c=c>y?y:c,c<0&&(c+=y),y=s>c?0:c-s>>>0,s>>>=0;for(var E=V(y);++p<y;)E[p]=r[p+s];return E}function Bv(r,s){var c;return Mr(r,function(p,y,E){return c=s(p,y,E),!c}),!!c}function _a(r,s,c){var p=0,y=r==null?p:r.length;if(typeof s=="number"&&s===s&&y<=W){for(;p<y;){var E=p+y>>>1,T=r[E];T!==null&&!dn(T)&&(c?T<=s:T<s)?p=E+1:y=E}return y}return Gc(r,s,en,c)}function Gc(r,s,c,p){var y=0,E=r==null?0:r.length;if(E===0)return 0;s=c(s);for(var T=s!==s,k=s===null,L=dn(s),J=s===n;y<E;){var Q=da((y+E)/2),se=c(r[Q]),he=se!==n,_e=se===null,Ee=se===se,Re=dn(se);if(T)var be=p||Ee;else J?be=Ee&&(p||he):k?be=Ee&&he&&(p||!_e):L?be=Ee&&he&&!_e&&(p||!Re):_e||Re?be=!1:be=p?se<=s:se<s;be?y=Q+1:E=Q}return Ot(E,ae)}function uh(r,s){for(var c=-1,p=r.length,y=0,E=[];++c<p;){var T=r[c],k=s?s(T):T;if(!c||!Pn(k,L)){var L=k;E[y++]=T===0?0:T}}return E}function ch(r){return typeof r=="number"?r:dn(r)?ne:+r}function ln(r){if(typeof r=="string")return r;if(Ne(r))return dt(r,ln)+"";if(dn(r))return jf?jf.call(r):"";var s=r+"";return s=="0"&&1/r==-Z?"-0":s}function Or(r,s,c){var p=-1,y=Jo,E=r.length,T=!0,k=[],L=k;if(c)T=!1,y=Dc;else if(E>=o){var J=s?null:Uv(r);if(J)return ea(J);T=!1,y=Bs,L=new oi}else L=s?[]:k;e:for(;++p<E;){var Q=r[p],se=s?s(Q):Q;if(Q=c||Q!==0?Q:0,T&&se===se){for(var he=L.length;he--;)if(L[he]===se)continue e;s&&L.push(se),k.push(Q)}else y(L,se,c)||(L!==k&&L.push(se),k.push(Q))}return k}function Zc(r,s){return s=Pr(s,r),r=Ph(r,s),r==null||delete r[er(Sn(s))]}function lh(r,s,c,p){return Vs(r,s,c(ui(r,s)),p)}function Da(r,s,c,p){for(var y=r.length,E=p?y:-1;(p?E--:++E<y)&&s(r[E],E,r););return c?An(r,p?0:E,p?E+1:y):An(r,p?E+1:0,p?y:E)}function dh(r,s){var c=r;return c instanceof Ve&&(c=c.value()),xc(s,function(p,y){return y.func.apply(y.thisArg,kr([p],y.args))},c)}function Wc(r,s,c){var p=r.length;if(p<2)return p?Or(r[0]):[];for(var y=-1,E=V(p);++y<p;)for(var T=r[y],k=-1;++k<p;)k!=y&&(E[y]=Ls(E[y]||T,r[k],s,c));return Or(Bt(E,1),s,c)}function fh(r,s,c){for(var p=-1,y=r.length,E=s.length,T={};++p<y;){var k=p<E?s[p]:n;c(T,r[p],k)}return T}function qc(r){return Dt(r)?r:[]}function Xc(r){return typeof r=="function"?r:en}function Pr(r,s){return Ne(r)?r:il(r,s)?[r]:jh(et(r))}var Rv=$e;function $r(r,s,c){var p=r.length;return c=c===n?p:c,!s&&c>=p?r:An(r,s,c)}var hh=x1||function(r){return kt.clearTimeout(r)};function ph(r,s){if(s)return r.slice();var c=r.length,p=Mf?Mf(c):new r.constructor(c);return r.copy(p),p}function Yc(r){var s=new r.constructor(r.byteLength);return new oa(s).set(new oa(r)),s}function Mv(r,s){var c=s?Yc(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function Ov(r){var s=new r.constructor(r.source,qo.exec(r));return s.lastIndex=r.lastIndex,s}function Pv(r){return $s?rt($s.call(r)):{}}function gh(r,s){var c=s?Yc(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function mh(r,s){if(r!==s){var c=r!==n,p=r===null,y=r===r,E=dn(r),T=s!==n,k=s===null,L=s===s,J=dn(s);if(!k&&!J&&!E&&r>s||E&&T&&L&&!k&&!J||p&&T&&L||!c&&L||!y)return 1;if(!p&&!E&&!J&&r<s||J&&c&&y&&!p&&!E||k&&c&&y||!T&&y||!L)return-1}return 0}function $v(r,s,c){for(var p=-1,y=r.criteria,E=s.criteria,T=y.length,k=c.length;++p<T;){var L=mh(y[p],E[p]);if(L){if(p>=k)return L;var J=c[p];return L*(J=="desc"?-1:1)}}return r.index-s.index}function yh(r,s,c,p){for(var y=-1,E=r.length,T=c.length,k=-1,L=s.length,J=St(E-T,0),Q=V(L+J),se=!p;++k<L;)Q[k]=s[k];for(;++y<T;)(se||y<E)&&(Q[c[y]]=r[y]);for(;J--;)Q[k++]=r[y++];return Q}function vh(r,s,c,p){for(var y=-1,E=r.length,T=-1,k=c.length,L=-1,J=s.length,Q=St(E-k,0),se=V(Q+J),he=!p;++y<Q;)se[y]=r[y];for(var _e=y;++L<J;)se[_e+L]=s[L];for(;++T<k;)(he||y<E)&&(se[_e+c[T]]=r[y++]);return se}function Kt(r,s){var c=-1,p=r.length;for(s||(s=V(p));++c<p;)s[c]=r[c];return s}function Qn(r,s,c,p){var y=!c;c||(c={});for(var E=-1,T=s.length;++E<T;){var k=s[E],L=p?p(c[k],r[k],k,c,r):n;L===n&&(L=r[k]),y?fr(c,k,L):zs(c,k,L)}return c}function zv(r,s){return Qn(r,rl(r),s)}function Lv(r,s){return Qn(r,Ih(r),s)}function xa(r,s){return function(c,p){var y=Ne(c)?Gy:uv,E=s?s():{};return y(c,r,Ce(p,2),E)}}function ji(r){return $e(function(s,c){var p=-1,y=c.length,E=y>1?c[y-1]:n,T=y>2?c[2]:n;for(E=r.length>3&&typeof E=="function"?(y--,E):n,T&&Ht(c[0],c[1],T)&&(E=y<3?n:E,y=1),s=rt(s);++p<y;){var k=c[p];k&&r(s,k,p,E)}return s})}function _h(r,s){return function(c,p){if(c==null)return c;if(!Jt(c))return r(c,p);for(var y=c.length,E=s?y:-1,T=rt(c);(s?E--:++E<y)&&p(T[E],E,T)!==!1;);return c}}function Dh(r){return function(s,c,p){for(var y=-1,E=rt(s),T=p(s),k=T.length;k--;){var L=T[r?k:++y];if(c(E[L],L,E)===!1)break}return s}}function jv(r,s,c){var p=s&x,y=Us(r);function E(){var T=this&&this!==kt&&this instanceof E?y:r;return T.apply(p?c:this,arguments)}return E}function xh(r){return function(s){s=et(s);var c=Ri(s)?Mn(s):n,p=c?c[0]:s.charAt(0),y=c?$r(c,1).join(""):s.slice(1);return p[r]()+y}}function Hi(r){return function(s){return xc(_p(vp(s).replace(Iy,"")),r,"")}}function Us(r){return function(){var s=arguments;switch(s.length){case 0:return new r;case 1:return new r(s[0]);case 2:return new r(s[0],s[1]);case 3:return new r(s[0],s[1],s[2]);case 4:return new r(s[0],s[1],s[2],s[3]);case 5:return new r(s[0],s[1],s[2],s[3],s[4]);case 6:return new r(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new r(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var c=Li(r.prototype),p=r.apply(c,s);return ht(p)?p:c}}function Hv(r,s,c){var p=Us(r);function y(){for(var E=arguments.length,T=V(E),k=E,L=Vi(y);k--;)T[k]=arguments[k];var J=E<3&&T[0]!==L&&T[E-1]!==L?[]:Br(T,L);if(E-=J.length,E<c)return Ah(r,s,wa,y.placeholder,n,T,J,n,n,c-E);var Q=this&&this!==kt&&this instanceof y?p:r;return un(Q,this,T)}return y}function wh(r){return function(s,c,p){var y=rt(s);if(!Jt(s)){var E=Ce(c,3);s=Ft(s),c=function(k){return E(y[k],k,y)}}var T=r(s,c,p);return T>-1?y[E?s[T]:T]:n}}function Ch(r){return pr(function(s){var c=s.length,p=c,y=En.prototype.thru;for(r&&s.reverse();p--;){var E=s[p];if(typeof E!="function")throw new Cn(u);if(y&&!T&&Aa(E)=="wrapper")var T=new En([],!0)}for(p=T?p:c;++p<c;){E=s[p];var k=Aa(E),L=k=="wrapper"?tl(E):n;L&&sl(L[0])&&L[1]==(O|I|M|X)&&!L[4].length&&L[9]==1?T=T[Aa(L[0])].apply(T,L[3]):T=E.length==1&&sl(E)?T[k]():T.thru(E)}return function(){var J=arguments,Q=J[0];if(T&&J.length==1&&Ne(Q))return T.plant(Q).value();for(var se=0,he=c?s[se].apply(this,J):Q;++se<c;)he=s[se].call(this,he);return he}})}function wa(r,s,c,p,y,E,T,k,L,J){var Q=s&O,se=s&x,he=s&_,_e=s&(I|N),Ee=s&B,Re=he?n:Us(r);function be(){for(var je=arguments.length,We=V(je),fn=je;fn--;)We[fn]=arguments[fn];if(_e)var Vt=Vi(be),hn=e1(We,Vt);if(p&&(We=yh(We,p,y,_e)),E&&(We=vh(We,E,T,_e)),je-=hn,_e&&je<J){var xt=Br(We,Vt);return Ah(r,s,wa,be.placeholder,c,We,xt,k,L,J-je)}var $n=se?c:this,vr=he?$n[r]:r;return je=We.length,k?We=u_(We,k):Ee&&je>1&&We.reverse(),Q&&L<je&&(We.length=L),this&&this!==kt&&this instanceof be&&(vr=Re||Us(vr)),vr.apply($n,We)}return be}function Eh(r,s){return function(c,p){return mv(c,r,s(p),{})}}function Ca(r,s){return function(c,p){var y;if(c===n&&p===n)return s;if(c!==n&&(y=c),p!==n){if(y===n)return p;typeof c=="string"||typeof p=="string"?(c=ln(c),p=ln(p)):(c=ch(c),p=ch(p)),y=r(c,p)}return y}}function Kc(r){return pr(function(s){return s=dt(s,cn(Ce())),$e(function(c){var p=this;return r(s,function(y){return un(y,p,c)})})})}function Ea(r,s){s=s===n?" ":ln(s);var c=s.length;if(c<2)return c?Uc(s,r):s;var p=Uc(s,la(r/Mi(s)));return Ri(s)?$r(Mn(p),0,r).join(""):p.slice(0,r)}function Vv(r,s,c,p){var y=s&x,E=Us(r);function T(){for(var k=-1,L=arguments.length,J=-1,Q=p.length,se=V(Q+L),he=this&&this!==kt&&this instanceof T?E:r;++J<Q;)se[J]=p[J];for(;L--;)se[J++]=arguments[++k];return un(he,y?c:this,se)}return T}function bh(r){return function(s,c,p){return p&&typeof p!="number"&&Ht(s,c,p)&&(c=p=n),s=yr(s),c===n?(c=s,s=0):c=yr(c),p=p===n?s<c?1:-1:yr(p),Fv(s,c,p,r)}}function ba(r){return function(s,c){return typeof s=="string"&&typeof c=="string"||(s=Fn(s),c=Fn(c)),r(s,c)}}function Ah(r,s,c,p,y,E,T,k,L,J){var Q=s&I,se=Q?T:n,he=Q?n:T,_e=Q?E:n,Ee=Q?n:E;s|=Q?M:z,s&=~(Q?z:M),s&b||(s&=~(x|_));var Re=[r,s,y,_e,se,Ee,he,k,L,J],be=c.apply(n,Re);return sl(r)&&$h(be,Re),be.placeholder=p,zh(be,r,s)}function Jc(r){var s=At[r];return function(c,p){if(c=Fn(c),p=p==null?0:Ot(ke(p),292),p&&zf(c)){var y=(et(c)+"e").split("e"),E=s(y[0]+"e"+(+y[1]+p));return y=(et(E)+"e").split("e"),+(y[0]+"e"+(+y[1]-p))}return s(c)}}var Uv=$i&&1/ea(new $i([,-0]))[1]==Z?function(r){return new $i(r)}:Dl;function Sh(r){return function(s){var c=Pt(s);return c==He?Fc(s):c==bt?a1(s):Qy(s,r(s))}}function hr(r,s,c,p,y,E,T,k){var L=s&_;if(!L&&typeof r!="function")throw new Cn(u);var J=p?p.length:0;if(J||(s&=~(M|z),p=y=n),T=T===n?T:St(ke(T),0),k=k===n?k:ke(k),J-=y?y.length:0,s&z){var Q=p,se=y;p=y=n}var he=L?n:tl(r),_e=[r,s,c,p,y,Q,se,E,T,k];if(he&&s_(_e,he),r=_e[0],s=_e[1],c=_e[2],p=_e[3],y=_e[4],k=_e[9]=_e[9]===n?L?0:r.length:St(_e[9]-J,0),!k&&s&(I|N)&&(s&=~(I|N)),!s||s==x)var Ee=jv(r,s,c);else s==I||s==N?Ee=Hv(r,s,k):(s==M||s==(x|M))&&!y.length?Ee=Vv(r,s,c,p):Ee=wa.apply(n,_e);var Re=he?ah:$h;return zh(Re(Ee,_e),r,s)}function Fh(r,s,c,p){return r===n||Pn(r,Pi[c])&&!tt.call(p,c)?s:r}function Nh(r,s,c,p,y,E){return ht(r)&&ht(s)&&(E.set(s,r),va(r,s,n,Nh,E),E.delete(s)),r}function Gv(r){return Ws(r)?n:r}function Th(r,s,c,p,y,E){var T=c&w,k=r.length,L=s.length;if(k!=L&&!(T&&L>k))return!1;var J=E.get(r),Q=E.get(s);if(J&&Q)return J==s&&Q==r;var se=-1,he=!0,_e=c&v?new oi:n;for(E.set(r,s),E.set(s,r);++se<k;){var Ee=r[se],Re=s[se];if(p)var be=T?p(Re,Ee,se,s,r,E):p(Ee,Re,se,r,s,E);if(be!==n){if(be)continue;he=!1;break}if(_e){if(!wc(s,function(je,We){if(!Bs(_e,We)&&(Ee===je||y(Ee,je,c,p,E)))return _e.push(We)})){he=!1;break}}else if(!(Ee===Re||y(Ee,Re,c,p,E))){he=!1;break}}return E.delete(r),E.delete(s),he}function Zv(r,s,c,p,y,E,T){switch(c){case an:if(r.byteLength!=s.byteLength||r.byteOffset!=s.byteOffset)return!1;r=r.buffer,s=s.buffer;case on:return!(r.byteLength!=s.byteLength||!E(new oa(r),new oa(s)));case le:case ge:case Qe:return Pn(+r,+s);case nt:return r.name==s.name&&r.message==s.message;case Mt:case _n:return r==s+"";case He:var k=Fc;case bt:var L=p&w;if(k||(k=ea),r.size!=s.size&&!L)return!1;var J=T.get(r);if(J)return J==s;p|=v,T.set(r,s);var Q=Th(k(r),k(s),p,y,E,T);return T.delete(r),Q;case Tn:if($s)return $s.call(r)==$s.call(s)}return!1}function Wv(r,s,c,p,y,E){var T=c&w,k=Qc(r),L=k.length,J=Qc(s),Q=J.length;if(L!=Q&&!T)return!1;for(var se=L;se--;){var he=k[se];if(!(T?he in s:tt.call(s,he)))return!1}var _e=E.get(r),Ee=E.get(s);if(_e&&Ee)return _e==s&&Ee==r;var Re=!0;E.set(r,s),E.set(s,r);for(var be=T;++se<L;){he=k[se];var je=r[he],We=s[he];if(p)var fn=T?p(We,je,he,s,r,E):p(je,We,he,r,s,E);if(!(fn===n?je===We||y(je,We,c,p,E):fn)){Re=!1;break}be||(be=he=="constructor")}if(Re&&!be){var Vt=r.constructor,hn=s.constructor;Vt!=hn&&"constructor"in r&&"constructor"in s&&!(typeof Vt=="function"&&Vt instanceof Vt&&typeof hn=="function"&&hn instanceof hn)&&(Re=!1)}return E.delete(r),E.delete(s),Re}function pr(r){return al(Oh(r,n,Gh),r+"")}function Qc(r){return Yf(r,Ft,rl)}function el(r){return Yf(r,Qt,Ih)}var tl=fa?function(r){return fa.get(r)}:Dl;function Aa(r){for(var s=r.name+"",c=zi[s],p=tt.call(zi,s)?c.length:0;p--;){var y=c[p],E=y.func;if(E==null||E==r)return y.name}return s}function Vi(r){var s=tt.call(C,"placeholder")?C:r;return s.placeholder}function Ce(){var r=C.iteratee||vl;return r=r===vl?Qf:r,arguments.length?r(arguments[0],arguments[1]):r}function Sa(r,s){var c=r.__data__;return t_(s)?c[typeof s=="string"?"string":"hash"]:c.map}function nl(r){for(var s=Ft(r),c=s.length;c--;){var p=s[c],y=r[p];s[c]=[p,y,Rh(y)]}return s}function ci(r,s){var c=i1(r,s);return Jf(c)?c:n}function qv(r){var s=tt.call(r,ii),c=r[ii];try{r[ii]=n;var p=!0}catch{}var y=ia.call(r);return p&&(s?r[ii]=c:delete r[ii]),y}var rl=Tc?function(r){return r==null?[]:(r=rt(r),Ir(Tc(r),function(s){return Pf.call(r,s)}))}:xl,Ih=Tc?function(r){for(var s=[];r;)kr(s,rl(r)),r=aa(r);return s}:xl,Pt=jt;(Ic&&Pt(new Ic(new ArrayBuffer(1)))!=an||Ms&&Pt(new Ms)!=He||kc&&Pt(kc.resolve())!=ve||$i&&Pt(new $i)!=bt||Os&&Pt(new Os)!=Dn)&&(Pt=function(r){var s=jt(r),c=s==Be?r.constructor:n,p=c?li(c):"";if(p)switch(p){case T1:return an;case I1:return He;case k1:return ve;case B1:return bt;case R1:return Dn}return s});function Xv(r,s,c){for(var p=-1,y=c.length;++p<y;){var E=c[p],T=E.size;switch(E.type){case"drop":r+=T;break;case"dropRight":s-=T;break;case"take":s=Ot(s,r+T);break;case"takeRight":r=St(r,s-T);break}}return{start:r,end:s}}function Yv(r){var s=r.match(Yu);return s?s[1].split(Ku):[]}function kh(r,s,c){s=Pr(s,r);for(var p=-1,y=s.length,E=!1;++p<y;){var T=er(s[p]);if(!(E=r!=null&&c(r,T)))break;r=r[T]}return E||++p!=y?E:(y=r==null?0:r.length,!!y&&Ra(y)&&gr(T,y)&&(Ne(r)||di(r)))}function Kv(r){var s=r.length,c=new r.constructor(s);return s&&typeof r[0]=="string"&&tt.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function Bh(r){return typeof r.constructor=="function"&&!Gs(r)?Li(aa(r)):{}}function Jv(r,s,c){var p=r.constructor;switch(s){case on:return Yc(r);case le:case ge:return new p(+r);case an:return Mv(r,c);case Yn:case ur:case Ct:case Xt:case kn:case Bn:case Kn:case Yt:case Rn:return gh(r,c);case He:return new p;case Qe:case _n:return new p(r);case Mt:return Ov(r);case bt:return new p;case Tn:return Pv(r)}}function Qv(r,s){var c=s.length;if(!c)return r;var p=c-1;return s[p]=(c>1?"& ":"")+s[p],s=s.join(c>2?", ":" "),r.replace(Xu,`{
/* [wrapped with `+s+`] */
`)}function e_(r){return Ne(r)||di(r)||!!($f&&r&&r[$f])}function gr(r,s){var c=typeof r;return s=s??ee,!!s&&(c=="number"||c!="symbol"&&sc.test(r))&&r>-1&&r%1==0&&r<s}function Ht(r,s,c){if(!ht(c))return!1;var p=typeof s;return(p=="number"?Jt(c)&&gr(s,c.length):p=="string"&&s in c)?Pn(c[s],r):!1}function il(r,s){if(Ne(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||dn(r)?!0:Gu.test(r)||!Uu.test(r)||s!=null&&r in rt(s)}function t_(r){var s=typeof r;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?r!=="__proto__":r===null}function sl(r){var s=Aa(r),c=C[s];if(typeof c!="function"||!(s in Ve.prototype))return!1;if(r===c)return!0;var p=tl(c);return!!p&&r===p[0]}function n_(r){return!!Rf&&Rf in r}var r_=na?mr:wl;function Gs(r){var s=r&&r.constructor,c=typeof s=="function"&&s.prototype||Pi;return r===c}function Rh(r){return r===r&&!ht(r)}function Mh(r,s){return function(c){return c==null?!1:c[r]===s&&(s!==n||r in rt(c))}}function i_(r){var s=ka(r,function(p){return c.size===f&&c.clear(),p}),c=s.cache;return s}function s_(r,s){var c=r[1],p=s[1],y=c|p,E=y<(x|_|O),T=p==O&&c==I||p==O&&c==X&&r[7].length<=s[8]||p==(O|X)&&s[7].length<=s[8]&&c==I;if(!(E||T))return r;p&x&&(r[2]=s[2],y|=c&x?0:b);var k=s[3];if(k){var L=r[3];r[3]=L?yh(L,k,s[4]):k,r[4]=L?Br(r[3],h):s[4]}return k=s[5],k&&(L=r[5],r[5]=L?vh(L,k,s[6]):k,r[6]=L?Br(r[5],h):s[6]),k=s[7],k&&(r[7]=k),p&O&&(r[8]=r[8]==null?s[8]:Ot(r[8],s[8])),r[9]==null&&(r[9]=s[9]),r[0]=s[0],r[1]=y,r}function o_(r){var s=[];if(r!=null)for(var c in rt(r))s.push(c);return s}function a_(r){return ia.call(r)}function Oh(r,s,c){return s=St(s===n?r.length-1:s,0),function(){for(var p=arguments,y=-1,E=St(p.length-s,0),T=V(E);++y<E;)T[y]=p[s+y];y=-1;for(var k=V(s+1);++y<s;)k[y]=p[y];return k[s]=c(T),un(r,this,k)}}function Ph(r,s){return s.length<2?r:ui(r,An(s,0,-1))}function u_(r,s){for(var c=r.length,p=Ot(s.length,c),y=Kt(r);p--;){var E=s[p];r[p]=gr(E,c)?y[E]:n}return r}function ol(r,s){if(!(s==="constructor"&&typeof r[s]=="function")&&s!="__proto__")return r[s]}var $h=Lh(ah),Zs=C1||function(r,s){return kt.setTimeout(r,s)},al=Lh(Iv);function zh(r,s,c){var p=s+"";return al(r,Qv(p,c_(Yv(p),c)))}function Lh(r){var s=0,c=0;return function(){var p=S1(),y=G-(p-c);if(c=p,y>0){if(++s>=q)return arguments[0]}else s=0;return r.apply(n,arguments)}}function Fa(r,s){var c=-1,p=r.length,y=p-1;for(s=s===n?p:s;++c<s;){var E=Vc(c,y),T=r[E];r[E]=r[c],r[c]=T}return r.length=s,r}var jh=i_(function(r){var s=[];return r.charCodeAt(0)===46&&s.push(""),r.replace(Zu,function(c,p,y,E){s.push(y?E.replace(Wo,"$1"):p||c)}),s});function er(r){if(typeof r=="string"||dn(r))return r;var s=r+"";return s=="0"&&1/r==-Z?"-0":s}function li(r){if(r!=null){try{return ra.call(r)}catch{}try{return r+""}catch{}}return""}function c_(r,s){return wn(ie,function(c){var p="_."+c[0];s&c[1]&&!Jo(r,p)&&r.push(p)}),r.sort()}function Hh(r){if(r instanceof Ve)return r.clone();var s=new En(r.__wrapped__,r.__chain__);return s.__actions__=Kt(r.__actions__),s.__index__=r.__index__,s.__values__=r.__values__,s}function l_(r,s,c){(c?Ht(r,s,c):s===n)?s=1:s=St(ke(s),0);var p=r==null?0:r.length;if(!p||s<1)return[];for(var y=0,E=0,T=V(la(p/s));y<p;)T[E++]=An(r,y,y+=s);return T}function d_(r){for(var s=-1,c=r==null?0:r.length,p=0,y=[];++s<c;){var E=r[s];E&&(y[p++]=E)}return y}function f_(){var r=arguments.length;if(!r)return[];for(var s=V(r-1),c=arguments[0],p=r;p--;)s[p-1]=arguments[p];return kr(Ne(c)?Kt(c):[c],Bt(s,1))}var h_=$e(function(r,s){return Dt(r)?Ls(r,Bt(s,1,Dt,!0)):[]}),p_=$e(function(r,s){var c=Sn(s);return Dt(c)&&(c=n),Dt(r)?Ls(r,Bt(s,1,Dt,!0),Ce(c,2)):[]}),g_=$e(function(r,s){var c=Sn(s);return Dt(c)&&(c=n),Dt(r)?Ls(r,Bt(s,1,Dt,!0),n,c):[]});function m_(r,s,c){var p=r==null?0:r.length;return p?(s=c||s===n?1:ke(s),An(r,s<0?0:s,p)):[]}function y_(r,s,c){var p=r==null?0:r.length;return p?(s=c||s===n?1:ke(s),s=p-s,An(r,0,s<0?0:s)):[]}function v_(r,s){return r&&r.length?Da(r,Ce(s,3),!0,!0):[]}function __(r,s){return r&&r.length?Da(r,Ce(s,3),!0):[]}function D_(r,s,c,p){var y=r==null?0:r.length;return y?(c&&typeof c!="number"&&Ht(r,s,c)&&(c=0,p=y),fv(r,s,c,p)):[]}function Vh(r,s,c){var p=r==null?0:r.length;if(!p)return-1;var y=c==null?0:ke(c);return y<0&&(y=St(p+y,0)),Qo(r,Ce(s,3),y)}function Uh(r,s,c){var p=r==null?0:r.length;if(!p)return-1;var y=p-1;return c!==n&&(y=ke(c),y=c<0?St(p+y,0):Ot(y,p-1)),Qo(r,Ce(s,3),y,!0)}function Gh(r){var s=r==null?0:r.length;return s?Bt(r,1):[]}function x_(r){var s=r==null?0:r.length;return s?Bt(r,Z):[]}function w_(r,s){var c=r==null?0:r.length;return c?(s=s===n?1:ke(s),Bt(r,s)):[]}function C_(r){for(var s=-1,c=r==null?0:r.length,p={};++s<c;){var y=r[s];p[y[0]]=y[1]}return p}function Zh(r){return r&&r.length?r[0]:n}function E_(r,s,c){var p=r==null?0:r.length;if(!p)return-1;var y=c==null?0:ke(c);return y<0&&(y=St(p+y,0)),Bi(r,s,y)}function b_(r){var s=r==null?0:r.length;return s?An(r,0,-1):[]}var A_=$e(function(r){var s=dt(r,qc);return s.length&&s[0]===r[0]?$c(s):[]}),S_=$e(function(r){var s=Sn(r),c=dt(r,qc);return s===Sn(c)?s=n:c.pop(),c.length&&c[0]===r[0]?$c(c,Ce(s,2)):[]}),F_=$e(function(r){var s=Sn(r),c=dt(r,qc);return s=typeof s=="function"?s:n,s&&c.pop(),c.length&&c[0]===r[0]?$c(c,n,s):[]});function N_(r,s){return r==null?"":b1.call(r,s)}function Sn(r){var s=r==null?0:r.length;return s?r[s-1]:n}function T_(r,s,c){var p=r==null?0:r.length;if(!p)return-1;var y=p;return c!==n&&(y=ke(c),y=y<0?St(p+y,0):Ot(y,p-1)),s===s?c1(r,s,y):Qo(r,Af,y,!0)}function I_(r,s){return r&&r.length?rh(r,ke(s)):n}var k_=$e(Wh);function Wh(r,s){return r&&r.length&&s&&s.length?Hc(r,s):r}function B_(r,s,c){return r&&r.length&&s&&s.length?Hc(r,s,Ce(c,2)):r}function R_(r,s,c){return r&&r.length&&s&&s.length?Hc(r,s,n,c):r}var M_=pr(function(r,s){var c=r==null?0:r.length,p=Rc(r,s);return oh(r,dt(s,function(y){return gr(y,c)?+y:y}).sort(mh)),p});function O_(r,s){var c=[];if(!(r&&r.length))return c;var p=-1,y=[],E=r.length;for(s=Ce(s,3);++p<E;){var T=r[p];s(T,p,r)&&(c.push(T),y.push(p))}return oh(r,y),c}function ul(r){return r==null?r:N1.call(r)}function P_(r,s,c){var p=r==null?0:r.length;return p?(c&&typeof c!="number"&&Ht(r,s,c)?(s=0,c=p):(s=s==null?0:ke(s),c=c===n?p:ke(c)),An(r,s,c)):[]}function $_(r,s){return _a(r,s)}function z_(r,s,c){return Gc(r,s,Ce(c,2))}function L_(r,s){var c=r==null?0:r.length;if(c){var p=_a(r,s);if(p<c&&Pn(r[p],s))return p}return-1}function j_(r,s){return _a(r,s,!0)}function H_(r,s,c){return Gc(r,s,Ce(c,2),!0)}function V_(r,s){var c=r==null?0:r.length;if(c){var p=_a(r,s,!0)-1;if(Pn(r[p],s))return p}return-1}function U_(r){return r&&r.length?uh(r):[]}function G_(r,s){return r&&r.length?uh(r,Ce(s,2)):[]}function Z_(r){var s=r==null?0:r.length;return s?An(r,1,s):[]}function W_(r,s,c){return r&&r.length?(s=c||s===n?1:ke(s),An(r,0,s<0?0:s)):[]}function q_(r,s,c){var p=r==null?0:r.length;return p?(s=c||s===n?1:ke(s),s=p-s,An(r,s<0?0:s,p)):[]}function X_(r,s){return r&&r.length?Da(r,Ce(s,3),!1,!0):[]}function Y_(r,s){return r&&r.length?Da(r,Ce(s,3)):[]}var K_=$e(function(r){return Or(Bt(r,1,Dt,!0))}),J_=$e(function(r){var s=Sn(r);return Dt(s)&&(s=n),Or(Bt(r,1,Dt,!0),Ce(s,2))}),Q_=$e(function(r){var s=Sn(r);return s=typeof s=="function"?s:n,Or(Bt(r,1,Dt,!0),n,s)});function eD(r){return r&&r.length?Or(r):[]}function tD(r,s){return r&&r.length?Or(r,Ce(s,2)):[]}function nD(r,s){return s=typeof s=="function"?s:n,r&&r.length?Or(r,n,s):[]}function cl(r){if(!(r&&r.length))return[];var s=0;return r=Ir(r,function(c){if(Dt(c))return s=St(c.length,s),!0}),Ac(s,function(c){return dt(r,Cc(c))})}function qh(r,s){if(!(r&&r.length))return[];var c=cl(r);return s==null?c:dt(c,function(p){return un(s,n,p)})}var rD=$e(function(r,s){return Dt(r)?Ls(r,s):[]}),iD=$e(function(r){return Wc(Ir(r,Dt))}),sD=$e(function(r){var s=Sn(r);return Dt(s)&&(s=n),Wc(Ir(r,Dt),Ce(s,2))}),oD=$e(function(r){var s=Sn(r);return s=typeof s=="function"?s:n,Wc(Ir(r,Dt),n,s)}),aD=$e(cl);function uD(r,s){return fh(r||[],s||[],zs)}function cD(r,s){return fh(r||[],s||[],Vs)}var lD=$e(function(r){var s=r.length,c=s>1?r[s-1]:n;return c=typeof c=="function"?(r.pop(),c):n,qh(r,c)});function Xh(r){var s=C(r);return s.__chain__=!0,s}function dD(r,s){return s(r),r}function Na(r,s){return s(r)}var fD=pr(function(r){var s=r.length,c=s?r[0]:0,p=this.__wrapped__,y=function(E){return Rc(E,r)};return s>1||this.__actions__.length||!(p instanceof Ve)||!gr(c)?this.thru(y):(p=p.slice(c,+c+(s?1:0)),p.__actions__.push({func:Na,args:[y],thisArg:n}),new En(p,this.__chain__).thru(function(E){return s&&!E.length&&E.push(n),E}))});function hD(){return Xh(this)}function pD(){return new En(this.value(),this.__chain__)}function gD(){this.__values__===n&&(this.__values__=cp(this.value()));var r=this.__index__>=this.__values__.length,s=r?n:this.__values__[this.__index__++];return{done:r,value:s}}function mD(){return this}function yD(r){for(var s,c=this;c instanceof pa;){var p=Hh(c);p.__index__=0,p.__values__=n,s?y.__wrapped__=p:s=p;var y=p;c=c.__wrapped__}return y.__wrapped__=r,s}function vD(){var r=this.__wrapped__;if(r instanceof Ve){var s=r;return this.__actions__.length&&(s=new Ve(this)),s=s.reverse(),s.__actions__.push({func:Na,args:[ul],thisArg:n}),new En(s,this.__chain__)}return this.thru(ul)}function _D(){return dh(this.__wrapped__,this.__actions__)}var DD=xa(function(r,s,c){tt.call(r,c)?++r[c]:fr(r,c,1)});function xD(r,s,c){var p=Ne(r)?Ef:dv;return c&&Ht(r,s,c)&&(s=n),p(r,Ce(s,3))}function wD(r,s){var c=Ne(r)?Ir:qf;return c(r,Ce(s,3))}var CD=wh(Vh),ED=wh(Uh);function bD(r,s){return Bt(Ta(r,s),1)}function AD(r,s){return Bt(Ta(r,s),Z)}function SD(r,s,c){return c=c===n?1:ke(c),Bt(Ta(r,s),c)}function Yh(r,s){var c=Ne(r)?wn:Mr;return c(r,Ce(s,3))}function Kh(r,s){var c=Ne(r)?Zy:Wf;return c(r,Ce(s,3))}var FD=xa(function(r,s,c){tt.call(r,c)?r[c].push(s):fr(r,c,[s])});function ND(r,s,c,p){r=Jt(r)?r:Gi(r),c=c&&!p?ke(c):0;var y=r.length;return c<0&&(c=St(y+c,0)),Ma(r)?c<=y&&r.indexOf(s,c)>-1:!!y&&Bi(r,s,c)>-1}var TD=$e(function(r,s,c){var p=-1,y=typeof s=="function",E=Jt(r)?V(r.length):[];return Mr(r,function(T){E[++p]=y?un(s,T,c):js(T,s,c)}),E}),ID=xa(function(r,s,c){fr(r,c,s)});function Ta(r,s){var c=Ne(r)?dt:eh;return c(r,Ce(s,3))}function kD(r,s,c,p){return r==null?[]:(Ne(s)||(s=s==null?[]:[s]),c=p?n:c,Ne(c)||(c=c==null?[]:[c]),ih(r,s,c))}var BD=xa(function(r,s,c){r[c?0:1].push(s)},function(){return[[],[]]});function RD(r,s,c){var p=Ne(r)?xc:Ff,y=arguments.length<3;return p(r,Ce(s,4),c,y,Mr)}function MD(r,s,c){var p=Ne(r)?Wy:Ff,y=arguments.length<3;return p(r,Ce(s,4),c,y,Wf)}function OD(r,s){var c=Ne(r)?Ir:qf;return c(r,Ba(Ce(s,3)))}function PD(r){var s=Ne(r)?Vf:Nv;return s(r)}function $D(r,s,c){(c?Ht(r,s,c):s===n)?s=1:s=ke(s);var p=Ne(r)?ov:Tv;return p(r,s)}function zD(r){var s=Ne(r)?av:kv;return s(r)}function LD(r){if(r==null)return 0;if(Jt(r))return Ma(r)?Mi(r):r.length;var s=Pt(r);return s==He||s==bt?r.size:Lc(r).length}function jD(r,s,c){var p=Ne(r)?wc:Bv;return c&&Ht(r,s,c)&&(s=n),p(r,Ce(s,3))}var HD=$e(function(r,s){if(r==null)return[];var c=s.length;return c>1&&Ht(r,s[0],s[1])?s=[]:c>2&&Ht(s[0],s[1],s[2])&&(s=[s[0]]),ih(r,Bt(s,1),[])}),Ia=w1||function(){return kt.Date.now()};function VD(r,s){if(typeof s!="function")throw new Cn(u);return r=ke(r),function(){if(--r<1)return s.apply(this,arguments)}}function Jh(r,s,c){return s=c?n:s,s=r&&s==null?r.length:s,hr(r,O,n,n,n,n,s)}function Qh(r,s){var c;if(typeof s!="function")throw new Cn(u);return r=ke(r),function(){return--r>0&&(c=s.apply(this,arguments)),r<=1&&(s=n),c}}var ll=$e(function(r,s,c){var p=x;if(c.length){var y=Br(c,Vi(ll));p|=M}return hr(r,p,s,c,y)}),ep=$e(function(r,s,c){var p=x|_;if(c.length){var y=Br(c,Vi(ep));p|=M}return hr(s,p,r,c,y)});function tp(r,s,c){s=c?n:s;var p=hr(r,I,n,n,n,n,n,s);return p.placeholder=tp.placeholder,p}function np(r,s,c){s=c?n:s;var p=hr(r,N,n,n,n,n,n,s);return p.placeholder=np.placeholder,p}function rp(r,s,c){var p,y,E,T,k,L,J=0,Q=!1,se=!1,he=!0;if(typeof r!="function")throw new Cn(u);s=Fn(s)||0,ht(c)&&(Q=!!c.leading,se="maxWait"in c,E=se?St(Fn(c.maxWait)||0,s):E,he="trailing"in c?!!c.trailing:he);function _e(xt){var $n=p,vr=y;return p=y=n,J=xt,T=r.apply(vr,$n),T}function Ee(xt){return J=xt,k=Zs(je,s),Q?_e(xt):T}function Re(xt){var $n=xt-L,vr=xt-J,wp=s-$n;return se?Ot(wp,E-vr):wp}function be(xt){var $n=xt-L,vr=xt-J;return L===n||$n>=s||$n<0||se&&vr>=E}function je(){var xt=Ia();if(be(xt))return We(xt);k=Zs(je,Re(xt))}function We(xt){return k=n,he&&p?_e(xt):(p=y=n,T)}function fn(){k!==n&&hh(k),J=0,p=L=y=k=n}function Vt(){return k===n?T:We(Ia())}function hn(){var xt=Ia(),$n=be(xt);if(p=arguments,y=this,L=xt,$n){if(k===n)return Ee(L);if(se)return hh(k),k=Zs(je,s),_e(L)}return k===n&&(k=Zs(je,s)),T}return hn.cancel=fn,hn.flush=Vt,hn}var UD=$e(function(r,s){return Zf(r,1,s)}),GD=$e(function(r,s,c){return Zf(r,Fn(s)||0,c)});function ZD(r){return hr(r,B)}function ka(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new Cn(u);var c=function(){var p=arguments,y=s?s.apply(this,p):p[0],E=c.cache;if(E.has(y))return E.get(y);var T=r.apply(this,p);return c.cache=E.set(y,T)||E,T};return c.cache=new(ka.Cache||dr),c}ka.Cache=dr;function Ba(r){if(typeof r!="function")throw new Cn(u);return function(){var s=arguments;switch(s.length){case 0:return!r.call(this);case 1:return!r.call(this,s[0]);case 2:return!r.call(this,s[0],s[1]);case 3:return!r.call(this,s[0],s[1],s[2])}return!r.apply(this,s)}}function WD(r){return Qh(2,r)}var qD=Rv(function(r,s){s=s.length==1&&Ne(s[0])?dt(s[0],cn(Ce())):dt(Bt(s,1),cn(Ce()));var c=s.length;return $e(function(p){for(var y=-1,E=Ot(p.length,c);++y<E;)p[y]=s[y].call(this,p[y]);return un(r,this,p)})}),dl=$e(function(r,s){var c=Br(s,Vi(dl));return hr(r,M,n,s,c)}),ip=$e(function(r,s){var c=Br(s,Vi(ip));return hr(r,z,n,s,c)}),XD=pr(function(r,s){return hr(r,X,n,n,n,s)});function YD(r,s){if(typeof r!="function")throw new Cn(u);return s=s===n?s:ke(s),$e(r,s)}function KD(r,s){if(typeof r!="function")throw new Cn(u);return s=s==null?0:St(ke(s),0),$e(function(c){var p=c[s],y=$r(c,0,s);return p&&kr(y,p),un(r,this,y)})}function JD(r,s,c){var p=!0,y=!0;if(typeof r!="function")throw new Cn(u);return ht(c)&&(p="leading"in c?!!c.leading:p,y="trailing"in c?!!c.trailing:y),rp(r,s,{leading:p,maxWait:s,trailing:y})}function QD(r){return Jh(r,1)}function ex(r,s){return dl(Xc(s),r)}function tx(){if(!arguments.length)return[];var r=arguments[0];return Ne(r)?r:[r]}function nx(r){return bn(r,D)}function rx(r,s){return s=typeof s=="function"?s:n,bn(r,D,s)}function ix(r){return bn(r,g|D)}function sx(r,s){return s=typeof s=="function"?s:n,bn(r,g|D,s)}function ox(r,s){return s==null||Gf(r,s,Ft(s))}function Pn(r,s){return r===s||r!==r&&s!==s}var ax=ba(Pc),ux=ba(function(r,s){return r>=s}),di=Kf(function(){return arguments}())?Kf:function(r){return mt(r)&&tt.call(r,"callee")&&!Pf.call(r,"callee")},Ne=V.isArray,cx=vf?cn(vf):yv;function Jt(r){return r!=null&&Ra(r.length)&&!mr(r)}function Dt(r){return mt(r)&&Jt(r)}function lx(r){return r===!0||r===!1||mt(r)&&jt(r)==le}var zr=E1||wl,dx=_f?cn(_f):vv;function fx(r){return mt(r)&&r.nodeType===1&&!Ws(r)}function hx(r){if(r==null)return!0;if(Jt(r)&&(Ne(r)||typeof r=="string"||typeof r.splice=="function"||zr(r)||Ui(r)||di(r)))return!r.length;var s=Pt(r);if(s==He||s==bt)return!r.size;if(Gs(r))return!Lc(r).length;for(var c in r)if(tt.call(r,c))return!1;return!0}function px(r,s){return Hs(r,s)}function gx(r,s,c){c=typeof c=="function"?c:n;var p=c?c(r,s):n;return p===n?Hs(r,s,n,c):!!p}function fl(r){if(!mt(r))return!1;var s=jt(r);return s==nt||s==we||typeof r.message=="string"&&typeof r.name=="string"&&!Ws(r)}function mx(r){return typeof r=="number"&&zf(r)}function mr(r){if(!ht(r))return!1;var s=jt(r);return s==Je||s==Le||s==fe||s==_t}function sp(r){return typeof r=="number"&&r==ke(r)}function Ra(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=ee}function ht(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}function mt(r){return r!=null&&typeof r=="object"}var op=Df?cn(Df):Dv;function yx(r,s){return r===s||zc(r,s,nl(s))}function vx(r,s,c){return c=typeof c=="function"?c:n,zc(r,s,nl(s),c)}function _x(r){return ap(r)&&r!=+r}function Dx(r){if(r_(r))throw new Fe(a);return Jf(r)}function xx(r){return r===null}function wx(r){return r==null}function ap(r){return typeof r=="number"||mt(r)&&jt(r)==Qe}function Ws(r){if(!mt(r)||jt(r)!=Be)return!1;var s=aa(r);if(s===null)return!0;var c=tt.call(s,"constructor")&&s.constructor;return typeof c=="function"&&c instanceof c&&ra.call(c)==v1}var hl=xf?cn(xf):xv;function Cx(r){return sp(r)&&r>=-ee&&r<=ee}var up=wf?cn(wf):wv;function Ma(r){return typeof r=="string"||!Ne(r)&&mt(r)&&jt(r)==_n}function dn(r){return typeof r=="symbol"||mt(r)&&jt(r)==Tn}var Ui=Cf?cn(Cf):Cv;function Ex(r){return r===n}function bx(r){return mt(r)&&Pt(r)==Dn}function Ax(r){return mt(r)&&jt(r)==ar}var Sx=ba(jc),Fx=ba(function(r,s){return r<=s});function cp(r){if(!r)return[];if(Jt(r))return Ma(r)?Mn(r):Kt(r);if(Rs&&r[Rs])return o1(r[Rs]());var s=Pt(r),c=s==He?Fc:s==bt?ea:Gi;return c(r)}function yr(r){if(!r)return r===0?r:0;if(r=Fn(r),r===Z||r===-Z){var s=r<0?-1:1;return s*H}return r===r?r:0}function ke(r){var s=yr(r),c=s%1;return s===s?c?s-c:s:0}function lp(r){return r?ai(ke(r),0,re):0}function Fn(r){if(typeof r=="number")return r;if(dn(r))return ne;if(ht(r)){var s=typeof r.valueOf=="function"?r.valueOf():r;r=ht(s)?s+"":s}if(typeof r!="string")return r===0?r:+r;r=Nf(r);var c=nc.test(r);return c||ic.test(r)?Vy(r.slice(2),c?2:8):tc.test(r)?ne:+r}function dp(r){return Qn(r,Qt(r))}function Nx(r){return r?ai(ke(r),-ee,ee):r===0?r:0}function et(r){return r==null?"":ln(r)}var Tx=ji(function(r,s){if(Gs(s)||Jt(s)){Qn(s,Ft(s),r);return}for(var c in s)tt.call(s,c)&&zs(r,c,s[c])}),fp=ji(function(r,s){Qn(s,Qt(s),r)}),Oa=ji(function(r,s,c,p){Qn(s,Qt(s),r,p)}),Ix=ji(function(r,s,c,p){Qn(s,Ft(s),r,p)}),kx=pr(Rc);function Bx(r,s){var c=Li(r);return s==null?c:Uf(c,s)}var Rx=$e(function(r,s){r=rt(r);var c=-1,p=s.length,y=p>2?s[2]:n;for(y&&Ht(s[0],s[1],y)&&(p=1);++c<p;)for(var E=s[c],T=Qt(E),k=-1,L=T.length;++k<L;){var J=T[k],Q=r[J];(Q===n||Pn(Q,Pi[J])&&!tt.call(r,J))&&(r[J]=E[J])}return r}),Mx=$e(function(r){return r.push(n,Nh),un(hp,n,r)});function Ox(r,s){return bf(r,Ce(s,3),Jn)}function Px(r,s){return bf(r,Ce(s,3),Oc)}function $x(r,s){return r==null?r:Mc(r,Ce(s,3),Qt)}function zx(r,s){return r==null?r:Xf(r,Ce(s,3),Qt)}function Lx(r,s){return r&&Jn(r,Ce(s,3))}function jx(r,s){return r&&Oc(r,Ce(s,3))}function Hx(r){return r==null?[]:ya(r,Ft(r))}function Vx(r){return r==null?[]:ya(r,Qt(r))}function pl(r,s,c){var p=r==null?n:ui(r,s);return p===n?c:p}function Ux(r,s){return r!=null&&kh(r,s,hv)}function gl(r,s){return r!=null&&kh(r,s,pv)}var Gx=Eh(function(r,s,c){s!=null&&typeof s.toString!="function"&&(s=ia.call(s)),r[s]=c},yl(en)),Zx=Eh(function(r,s,c){s!=null&&typeof s.toString!="function"&&(s=ia.call(s)),tt.call(r,s)?r[s].push(c):r[s]=[c]},Ce),Wx=$e(js);function Ft(r){return Jt(r)?Hf(r):Lc(r)}function Qt(r){return Jt(r)?Hf(r,!0):Ev(r)}function qx(r,s){var c={};return s=Ce(s,3),Jn(r,function(p,y,E){fr(c,s(p,y,E),p)}),c}function Xx(r,s){var c={};return s=Ce(s,3),Jn(r,function(p,y,E){fr(c,y,s(p,y,E))}),c}var Yx=ji(function(r,s,c){va(r,s,c)}),hp=ji(function(r,s,c,p){va(r,s,c,p)}),Kx=pr(function(r,s){var c={};if(r==null)return c;var p=!1;s=dt(s,function(E){return E=Pr(E,r),p||(p=E.length>1),E}),Qn(r,el(r),c),p&&(c=bn(c,g|m|D,Gv));for(var y=s.length;y--;)Zc(c,s[y]);return c});function Jx(r,s){return pp(r,Ba(Ce(s)))}var Qx=pr(function(r,s){return r==null?{}:Av(r,s)});function pp(r,s){if(r==null)return{};var c=dt(el(r),function(p){return[p]});return s=Ce(s),sh(r,c,function(p,y){return s(p,y[0])})}function ew(r,s,c){s=Pr(s,r);var p=-1,y=s.length;for(y||(y=1,r=n);++p<y;){var E=r==null?n:r[er(s[p])];E===n&&(p=y,E=c),r=mr(E)?E.call(r):E}return r}function tw(r,s,c){return r==null?r:Vs(r,s,c)}function nw(r,s,c,p){return p=typeof p=="function"?p:n,r==null?r:Vs(r,s,c,p)}var gp=Sh(Ft),mp=Sh(Qt);function rw(r,s,c){var p=Ne(r),y=p||zr(r)||Ui(r);if(s=Ce(s,4),c==null){var E=r&&r.constructor;y?c=p?new E:[]:ht(r)?c=mr(E)?Li(aa(r)):{}:c={}}return(y?wn:Jn)(r,function(T,k,L){return s(c,T,k,L)}),c}function iw(r,s){return r==null?!0:Zc(r,s)}function sw(r,s,c){return r==null?r:lh(r,s,Xc(c))}function ow(r,s,c,p){return p=typeof p=="function"?p:n,r==null?r:lh(r,s,Xc(c),p)}function Gi(r){return r==null?[]:Sc(r,Ft(r))}function aw(r){return r==null?[]:Sc(r,Qt(r))}function uw(r,s,c){return c===n&&(c=s,s=n),c!==n&&(c=Fn(c),c=c===c?c:0),s!==n&&(s=Fn(s),s=s===s?s:0),ai(Fn(r),s,c)}function cw(r,s,c){return s=yr(s),c===n?(c=s,s=0):c=yr(c),r=Fn(r),gv(r,s,c)}function lw(r,s,c){if(c&&typeof c!="boolean"&&Ht(r,s,c)&&(s=c=n),c===n&&(typeof s=="boolean"?(c=s,s=n):typeof r=="boolean"&&(c=r,r=n)),r===n&&s===n?(r=0,s=1):(r=yr(r),s===n?(s=r,r=0):s=yr(s)),r>s){var p=r;r=s,s=p}if(c||r%1||s%1){var y=Lf();return Ot(r+y*(s-r+Hy("1e-"+((y+"").length-1))),s)}return Vc(r,s)}var dw=Hi(function(r,s,c){return s=s.toLowerCase(),r+(c?yp(s):s)});function yp(r){return ml(et(r).toLowerCase())}function vp(r){return r=et(r),r&&r.replace(oc,t1).replace(ky,"")}function fw(r,s,c){r=et(r),s=ln(s);var p=r.length;c=c===n?p:ai(ke(c),0,p);var y=c;return c-=s.length,c>=0&&r.slice(c,y)==s}function hw(r){return r=et(r),r&&ju.test(r)?r.replace(Fs,n1):r}function pw(r){return r=et(r),r&&Wu.test(r)?r.replace(Ns,"\\$&"):r}var gw=Hi(function(r,s,c){return r+(c?"-":"")+s.toLowerCase()}),mw=Hi(function(r,s,c){return r+(c?" ":"")+s.toLowerCase()}),yw=xh("toLowerCase");function vw(r,s,c){r=et(r),s=ke(s);var p=s?Mi(r):0;if(!s||p>=s)return r;var y=(s-p)/2;return Ea(da(y),c)+r+Ea(la(y),c)}function _w(r,s,c){r=et(r),s=ke(s);var p=s?Mi(r):0;return s&&p<s?r+Ea(s-p,c):r}function Dw(r,s,c){r=et(r),s=ke(s);var p=s?Mi(r):0;return s&&p<s?Ea(s-p,c)+r:r}function xw(r,s,c){return c||s==null?s=0:s&&(s=+s),F1(et(r).replace(Ts,""),s||0)}function ww(r,s,c){return(c?Ht(r,s,c):s===n)?s=1:s=ke(s),Uc(et(r),s)}function Cw(){var r=arguments,s=et(r[0]);return r.length<3?s:s.replace(r[1],r[2])}var Ew=Hi(function(r,s,c){return r+(c?"_":"")+s.toLowerCase()});function bw(r,s,c){return c&&typeof c!="number"&&Ht(r,s,c)&&(s=c=n),c=c===n?re:c>>>0,c?(r=et(r),r&&(typeof s=="string"||s!=null&&!hl(s))&&(s=ln(s),!s&&Ri(r))?$r(Mn(r),0,c):r.split(s,c)):[]}var Aw=Hi(function(r,s,c){return r+(c?" ":"")+ml(s)});function Sw(r,s,c){return r=et(r),c=c==null?0:ai(ke(c),0,r.length),s=ln(s),r.slice(c,c+s.length)==s}function Fw(r,s,c){var p=C.templateSettings;c&&Ht(r,s,c)&&(s=n),r=et(r),s=Oa({},s,p,Fh);var y=Oa({},s.imports,p.imports,Fh),E=Ft(y),T=Sc(y,E),k,L,J=0,Q=s.interpolate||ni,se="__p += '",he=Nc((s.escape||ni).source+"|"+Q.source+"|"+(Q===Zo?ec:ni).source+"|"+(s.evaluate||ni).source+"|$","g"),_e="//# sourceURL="+(tt.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Py+"]")+`
`;r.replace(he,function(be,je,We,fn,Vt,hn){return We||(We=fn),se+=r.slice(J,hn).replace(ac,r1),je&&(k=!0,se+=`' +
__e(`+je+`) +
'`),Vt&&(L=!0,se+=`';
`+Vt+`;
__p += '`),We&&(se+=`' +
((__t = (`+We+`)) == null ? '' : __t) +
'`),J=hn+be.length,be}),se+=`';
`;var Ee=tt.call(s,"variable")&&s.variable;if(!Ee)se=`with (obj) {
`+se+`
}
`;else if(Qu.test(Ee))throw new Fe(l);se=(L?se.replace(As,""):se).replace(Ss,"$1").replace(ti,"$1;"),se="function("+(Ee||"obj")+`) {
`+(Ee?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(L?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+se+`return __p
}`;var Re=Dp(function(){return Ke(E,_e+"return "+se).apply(n,T)});if(Re.source=se,fl(Re))throw Re;return Re}function Nw(r){return et(r).toLowerCase()}function Tw(r){return et(r).toUpperCase()}function Iw(r,s,c){if(r=et(r),r&&(c||s===n))return Nf(r);if(!r||!(s=ln(s)))return r;var p=Mn(r),y=Mn(s),E=Tf(p,y),T=If(p,y)+1;return $r(p,E,T).join("")}function kw(r,s,c){if(r=et(r),r&&(c||s===n))return r.slice(0,Bf(r)+1);if(!r||!(s=ln(s)))return r;var p=Mn(r),y=If(p,Mn(s))+1;return $r(p,0,y).join("")}function Bw(r,s,c){if(r=et(r),r&&(c||s===n))return r.replace(Ts,"");if(!r||!(s=ln(s)))return r;var p=Mn(r),y=Tf(p,Mn(s));return $r(p,y).join("")}function Rw(r,s){var c=U,p=K;if(ht(s)){var y="separator"in s?s.separator:y;c="length"in s?ke(s.length):c,p="omission"in s?ln(s.omission):p}r=et(r);var E=r.length;if(Ri(r)){var T=Mn(r);E=T.length}if(c>=E)return r;var k=c-Mi(p);if(k<1)return p;var L=T?$r(T,0,k).join(""):r.slice(0,k);if(y===n)return L+p;if(T&&(k+=L.length-k),hl(y)){if(r.slice(k).search(y)){var J,Q=L;for(y.global||(y=Nc(y.source,et(qo.exec(y))+"g")),y.lastIndex=0;J=y.exec(Q);)var se=J.index;L=L.slice(0,se===n?k:se)}}else if(r.indexOf(ln(y),k)!=k){var he=L.lastIndexOf(y);he>-1&&(L=L.slice(0,he))}return L+p}function Mw(r){return r=et(r),r&&cr.test(r)?r.replace(Ti,l1):r}var Ow=Hi(function(r,s,c){return r+(c?" ":"")+s.toUpperCase()}),ml=xh("toUpperCase");function _p(r,s,c){return r=et(r),s=c?n:s,s===n?s1(r)?h1(r):Yy(r):r.match(s)||[]}var Dp=$e(function(r,s){try{return un(r,n,s)}catch(c){return fl(c)?c:new Fe(c)}}),Pw=pr(function(r,s){return wn(s,function(c){c=er(c),fr(r,c,ll(r[c],r))}),r});function $w(r){var s=r==null?0:r.length,c=Ce();return r=s?dt(r,function(p){if(typeof p[1]!="function")throw new Cn(u);return[c(p[0]),p[1]]}):[],$e(function(p){for(var y=-1;++y<s;){var E=r[y];if(un(E[0],this,p))return un(E[1],this,p)}})}function zw(r){return lv(bn(r,g))}function yl(r){return function(){return r}}function Lw(r,s){return r==null||r!==r?s:r}var jw=Ch(),Hw=Ch(!0);function en(r){return r}function vl(r){return Qf(typeof r=="function"?r:bn(r,g))}function Vw(r){return th(bn(r,g))}function Uw(r,s){return nh(r,bn(s,g))}var Gw=$e(function(r,s){return function(c){return js(c,r,s)}}),Zw=$e(function(r,s){return function(c){return js(r,c,s)}});function _l(r,s,c){var p=Ft(s),y=ya(s,p);c==null&&!(ht(s)&&(y.length||!p.length))&&(c=s,s=r,r=this,y=ya(s,Ft(s)));var E=!(ht(c)&&"chain"in c)||!!c.chain,T=mr(r);return wn(y,function(k){var L=s[k];r[k]=L,T&&(r.prototype[k]=function(){var J=this.__chain__;if(E||J){var Q=r(this.__wrapped__),se=Q.__actions__=Kt(this.__actions__);return se.push({func:L,args:arguments,thisArg:r}),Q.__chain__=J,Q}return L.apply(r,kr([this.value()],arguments))})}),r}function Ww(){return kt._===this&&(kt._=_1),this}function Dl(){}function qw(r){return r=ke(r),$e(function(s){return rh(s,r)})}var Xw=Kc(dt),Yw=Kc(Ef),Kw=Kc(wc);function xp(r){return il(r)?Cc(er(r)):Sv(r)}function Jw(r){return function(s){return r==null?n:ui(r,s)}}var Qw=bh(),eC=bh(!0);function xl(){return[]}function wl(){return!1}function tC(){return{}}function nC(){return""}function rC(){return!0}function iC(r,s){if(r=ke(r),r<1||r>ee)return[];var c=re,p=Ot(r,re);s=Ce(s),r-=re;for(var y=Ac(p,s);++c<r;)s(c);return y}function sC(r){return Ne(r)?dt(r,er):dn(r)?[r]:Kt(jh(et(r)))}function oC(r){var s=++y1;return et(r)+s}var aC=Ca(function(r,s){return r+s},0),uC=Jc("ceil"),cC=Ca(function(r,s){return r/s},1),lC=Jc("floor");function dC(r){return r&&r.length?ma(r,en,Pc):n}function fC(r,s){return r&&r.length?ma(r,Ce(s,2),Pc):n}function hC(r){return Sf(r,en)}function pC(r,s){return Sf(r,Ce(s,2))}function gC(r){return r&&r.length?ma(r,en,jc):n}function mC(r,s){return r&&r.length?ma(r,Ce(s,2),jc):n}var yC=Ca(function(r,s){return r*s},1),vC=Jc("round"),_C=Ca(function(r,s){return r-s},0);function DC(r){return r&&r.length?bc(r,en):0}function xC(r,s){return r&&r.length?bc(r,Ce(s,2)):0}return C.after=VD,C.ary=Jh,C.assign=Tx,C.assignIn=fp,C.assignInWith=Oa,C.assignWith=Ix,C.at=kx,C.before=Qh,C.bind=ll,C.bindAll=Pw,C.bindKey=ep,C.castArray=tx,C.chain=Xh,C.chunk=l_,C.compact=d_,C.concat=f_,C.cond=$w,C.conforms=zw,C.constant=yl,C.countBy=DD,C.create=Bx,C.curry=tp,C.curryRight=np,C.debounce=rp,C.defaults=Rx,C.defaultsDeep=Mx,C.defer=UD,C.delay=GD,C.difference=h_,C.differenceBy=p_,C.differenceWith=g_,C.drop=m_,C.dropRight=y_,C.dropRightWhile=v_,C.dropWhile=__,C.fill=D_,C.filter=wD,C.flatMap=bD,C.flatMapDeep=AD,C.flatMapDepth=SD,C.flatten=Gh,C.flattenDeep=x_,C.flattenDepth=w_,C.flip=ZD,C.flow=jw,C.flowRight=Hw,C.fromPairs=C_,C.functions=Hx,C.functionsIn=Vx,C.groupBy=FD,C.initial=b_,C.intersection=A_,C.intersectionBy=S_,C.intersectionWith=F_,C.invert=Gx,C.invertBy=Zx,C.invokeMap=TD,C.iteratee=vl,C.keyBy=ID,C.keys=Ft,C.keysIn=Qt,C.map=Ta,C.mapKeys=qx,C.mapValues=Xx,C.matches=Vw,C.matchesProperty=Uw,C.memoize=ka,C.merge=Yx,C.mergeWith=hp,C.method=Gw,C.methodOf=Zw,C.mixin=_l,C.negate=Ba,C.nthArg=qw,C.omit=Kx,C.omitBy=Jx,C.once=WD,C.orderBy=kD,C.over=Xw,C.overArgs=qD,C.overEvery=Yw,C.overSome=Kw,C.partial=dl,C.partialRight=ip,C.partition=BD,C.pick=Qx,C.pickBy=pp,C.property=xp,C.propertyOf=Jw,C.pull=k_,C.pullAll=Wh,C.pullAllBy=B_,C.pullAllWith=R_,C.pullAt=M_,C.range=Qw,C.rangeRight=eC,C.rearg=XD,C.reject=OD,C.remove=O_,C.rest=YD,C.reverse=ul,C.sampleSize=$D,C.set=tw,C.setWith=nw,C.shuffle=zD,C.slice=P_,C.sortBy=HD,C.sortedUniq=U_,C.sortedUniqBy=G_,C.split=bw,C.spread=KD,C.tail=Z_,C.take=W_,C.takeRight=q_,C.takeRightWhile=X_,C.takeWhile=Y_,C.tap=dD,C.throttle=JD,C.thru=Na,C.toArray=cp,C.toPairs=gp,C.toPairsIn=mp,C.toPath=sC,C.toPlainObject=dp,C.transform=rw,C.unary=QD,C.union=K_,C.unionBy=J_,C.unionWith=Q_,C.uniq=eD,C.uniqBy=tD,C.uniqWith=nD,C.unset=iw,C.unzip=cl,C.unzipWith=qh,C.update=sw,C.updateWith=ow,C.values=Gi,C.valuesIn=aw,C.without=rD,C.words=_p,C.wrap=ex,C.xor=iD,C.xorBy=sD,C.xorWith=oD,C.zip=aD,C.zipObject=uD,C.zipObjectDeep=cD,C.zipWith=lD,C.entries=gp,C.entriesIn=mp,C.extend=fp,C.extendWith=Oa,_l(C,C),C.add=aC,C.attempt=Dp,C.camelCase=dw,C.capitalize=yp,C.ceil=uC,C.clamp=uw,C.clone=nx,C.cloneDeep=ix,C.cloneDeepWith=sx,C.cloneWith=rx,C.conformsTo=ox,C.deburr=vp,C.defaultTo=Lw,C.divide=cC,C.endsWith=fw,C.eq=Pn,C.escape=hw,C.escapeRegExp=pw,C.every=xD,C.find=CD,C.findIndex=Vh,C.findKey=Ox,C.findLast=ED,C.findLastIndex=Uh,C.findLastKey=Px,C.floor=lC,C.forEach=Yh,C.forEachRight=Kh,C.forIn=$x,C.forInRight=zx,C.forOwn=Lx,C.forOwnRight=jx,C.get=pl,C.gt=ax,C.gte=ux,C.has=Ux,C.hasIn=gl,C.head=Zh,C.identity=en,C.includes=ND,C.indexOf=E_,C.inRange=cw,C.invoke=Wx,C.isArguments=di,C.isArray=Ne,C.isArrayBuffer=cx,C.isArrayLike=Jt,C.isArrayLikeObject=Dt,C.isBoolean=lx,C.isBuffer=zr,C.isDate=dx,C.isElement=fx,C.isEmpty=hx,C.isEqual=px,C.isEqualWith=gx,C.isError=fl,C.isFinite=mx,C.isFunction=mr,C.isInteger=sp,C.isLength=Ra,C.isMap=op,C.isMatch=yx,C.isMatchWith=vx,C.isNaN=_x,C.isNative=Dx,C.isNil=wx,C.isNull=xx,C.isNumber=ap,C.isObject=ht,C.isObjectLike=mt,C.isPlainObject=Ws,C.isRegExp=hl,C.isSafeInteger=Cx,C.isSet=up,C.isString=Ma,C.isSymbol=dn,C.isTypedArray=Ui,C.isUndefined=Ex,C.isWeakMap=bx,C.isWeakSet=Ax,C.join=N_,C.kebabCase=gw,C.last=Sn,C.lastIndexOf=T_,C.lowerCase=mw,C.lowerFirst=yw,C.lt=Sx,C.lte=Fx,C.max=dC,C.maxBy=fC,C.mean=hC,C.meanBy=pC,C.min=gC,C.minBy=mC,C.stubArray=xl,C.stubFalse=wl,C.stubObject=tC,C.stubString=nC,C.stubTrue=rC,C.multiply=yC,C.nth=I_,C.noConflict=Ww,C.noop=Dl,C.now=Ia,C.pad=vw,C.padEnd=_w,C.padStart=Dw,C.parseInt=xw,C.random=lw,C.reduce=RD,C.reduceRight=MD,C.repeat=ww,C.replace=Cw,C.result=ew,C.round=vC,C.runInContext=R,C.sample=PD,C.size=LD,C.snakeCase=Ew,C.some=jD,C.sortedIndex=$_,C.sortedIndexBy=z_,C.sortedIndexOf=L_,C.sortedLastIndex=j_,C.sortedLastIndexBy=H_,C.sortedLastIndexOf=V_,C.startCase=Aw,C.startsWith=Sw,C.subtract=_C,C.sum=DC,C.sumBy=xC,C.template=Fw,C.times=iC,C.toFinite=yr,C.toInteger=ke,C.toLength=lp,C.toLower=Nw,C.toNumber=Fn,C.toSafeInteger=Nx,C.toString=et,C.toUpper=Tw,C.trim=Iw,C.trimEnd=kw,C.trimStart=Bw,C.truncate=Rw,C.unescape=Mw,C.uniqueId=oC,C.upperCase=Ow,C.upperFirst=ml,C.each=Yh,C.eachRight=Kh,C.first=Zh,_l(C,function(){var r={};return Jn(C,function(s,c){tt.call(C.prototype,c)||(r[c]=s)}),r}(),{chain:!1}),C.VERSION=i,wn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){C[r].placeholder=C}),wn(["drop","take"],function(r,s){Ve.prototype[r]=function(c){c=c===n?1:St(ke(c),0);var p=this.__filtered__&&!s?new Ve(this):this.clone();return p.__filtered__?p.__takeCount__=Ot(c,p.__takeCount__):p.__views__.push({size:Ot(c,re),type:r+(p.__dir__<0?"Right":"")}),p},Ve.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),wn(["filter","map","takeWhile"],function(r,s){var c=s+1,p=c==A||c==P;Ve.prototype[r]=function(y){var E=this.clone();return E.__iteratees__.push({iteratee:Ce(y,3),type:c}),E.__filtered__=E.__filtered__||p,E}}),wn(["head","last"],function(r,s){var c="take"+(s?"Right":"");Ve.prototype[r]=function(){return this[c](1).value()[0]}}),wn(["initial","tail"],function(r,s){var c="drop"+(s?"":"Right");Ve.prototype[r]=function(){return this.__filtered__?new Ve(this):this[c](1)}}),Ve.prototype.compact=function(){return this.filter(en)},Ve.prototype.find=function(r){return this.filter(r).head()},Ve.prototype.findLast=function(r){return this.reverse().find(r)},Ve.prototype.invokeMap=$e(function(r,s){return typeof r=="function"?new Ve(this):this.map(function(c){return js(c,r,s)})}),Ve.prototype.reject=function(r){return this.filter(Ba(Ce(r)))},Ve.prototype.slice=function(r,s){r=ke(r);var c=this;return c.__filtered__&&(r>0||s<0)?new Ve(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),s!==n&&(s=ke(s),c=s<0?c.dropRight(-s):c.take(s-r)),c)},Ve.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Ve.prototype.toArray=function(){return this.take(re)},Jn(Ve.prototype,function(r,s){var c=/^(?:filter|find|map|reject)|While$/.test(s),p=/^(?:head|last)$/.test(s),y=C[p?"take"+(s=="last"?"Right":""):s],E=p||/^find/.test(s);y&&(C.prototype[s]=function(){var T=this.__wrapped__,k=p?[1]:arguments,L=T instanceof Ve,J=k[0],Q=L||Ne(T),se=function(je){var We=y.apply(C,kr([je],k));return p&&he?We[0]:We};Q&&c&&typeof J=="function"&&J.length!=1&&(L=Q=!1);var he=this.__chain__,_e=!!this.__actions__.length,Ee=E&&!he,Re=L&&!_e;if(!E&&Q){T=Re?T:new Ve(this);var be=r.apply(T,k);return be.__actions__.push({func:Na,args:[se],thisArg:n}),new En(be,he)}return Ee&&Re?r.apply(this,k):(be=this.thru(se),Ee?p?be.value()[0]:be.value():be)})}),wn(["pop","push","shift","sort","splice","unshift"],function(r){var s=ta[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",p=/^(?:pop|shift)$/.test(r);C.prototype[r]=function(){var y=arguments;if(p&&!this.__chain__){var E=this.value();return s.apply(Ne(E)?E:[],y)}return this[c](function(T){return s.apply(Ne(T)?T:[],y)})}}),Jn(Ve.prototype,function(r,s){var c=C[s];if(c){var p=c.name+"";tt.call(zi,p)||(zi[p]=[]),zi[p].push({name:s,func:c})}}),zi[wa(n,_).name]=[{name:"wrapper",func:n}],Ve.prototype.clone=M1,Ve.prototype.reverse=O1,Ve.prototype.value=P1,C.prototype.at=fD,C.prototype.chain=hD,C.prototype.commit=pD,C.prototype.next=gD,C.prototype.plant=yD,C.prototype.reverse=vD,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=_D,C.prototype.first=C.prototype.head,Rs&&(C.prototype[Rs]=mD),C},Oi=p1();ri?((ri.exports=Oi)._=Oi,vc._=Oi):kt._=Oi}).call(qs)})(gu,gu.exports);var z6=gu.exports;const Et=wC(z6),L6=navigator.platform.includes("Mac"),g0={Ctrl:"⌘",Backspace:"⌫",Alt:"⌥"},eu={shortcut:e=>L6?Object.keys(g0).reduce((t,n)=>t.replaceAll(n,g0[n]),e):e},m0={},mu=(e,t)=>{const[n,i]=S.useState(()=>m0?.[e]??t);return S.useEffect(()=>{m0[e]=n},[n]),[n,i]};function y0(e,t=0){const n=performance.now(),i={};function o(){i.id=requestAnimationFrame(a=>{a-n>t?e():o()})}return o(),i}function v0(e){e.id&&cancelAnimationFrame(e.id)}function j6(e,t){const[n,i]=S.useState(e?"enter":"from"),o=S.useRef({}),[a,u]=S.useState(e);return S.useEffect(function(){return v0(o.current),e?(i("from"),u(!0),y0(()=>{i("enter")})):(i("leave"),o.current=y0(()=>{u(!1)},t)),()=>{v0(o.current)}},[e,t]),{stage:n,shouldMount:a}}function H6({state:e,timeout:t,children:n}){const{stage:i,shouldMount:o}=j6(e,t);return n(i,o)}const od=({className:e,...t})=>F.jsx("div",{className:Xe("grl-dn__graphCard",e),...t});od.__docgenInfo={description:"",methods:[],displayName:"GraphCard"};var Ni=(e=>(e.Blue="var(--node-color-blue)",e.Purple="var(--node-color-purple)",e.Orange="var(--node-color-orange)",e.Green="var(--node-color-green)",e))(Ni||{});const Gd=({icon:e,name:t,children:n,actions:i=[],disabled:o=!1,isSelected:a=!1,noBodyPadding:u=!1,color:l="primary",onNameChange:d,menuItems:f=[],status:h,diffStatus:g,compactMode:m,listMode:D,helper:w,details:v,detailsOpen:x=!1,detailsTitle:_="Details",onDetailsClose:b})=>{const[I,N]=S.useState(!1),M=S.useRef(null);S.useEffect(()=>{M.current&&I&&(M.current.value=t,M.current.focus(),M.current.select())},[I]);const z=Ze(l).with("primary",()=>Ni.Blue).otherwise(O=>O);return F.jsxs("div",{className:Xe("grl-dn",m&&"grl-dn--compact",D&&"grl-dn--list",!g&&a&&"grl-dn--selected",h&&`grl-dn--${h}`,g&&`grl-dn--diff-${g}`),style:{"--node-color":z},onKeyDown:O=>O.stopPropagation(),children:[F.jsxs(od,{children:[F.jsxs("div",{className:"grl-dn__status-bar",children:[Array.isArray(w)&&w.filter(O=>!!O).map((O,X)=>F.jsx("div",{className:Xe("grl-dn__status-icon"),children:O},X)),h==="error"&&F.jsx("div",{className:Xe("grl-dn__status-icon",`grl-dn__status-icon--${h}`),children:F.jsx(go,{})}),F.jsx(L0,{status:g,style:{fontSize:16}})]}),F.jsxs("div",{className:Xe("grl-dn__header",m&&"compact"),children:[F.jsx("div",{className:Xe("grl-dn__header__icon",m&&"compact"),children:e}),F.jsxs("div",{className:"grl-dn__header__text",children:[!I&&F.jsx($t.Text,{className:Xe("grl-dn__header__text__name"),onClick:()=>{o||N(!0)},children:t}),I&&F.jsx("input",{ref:M,className:Xe("grl-dn__header__text__name-input","nodrag"),onBlur:O=>{O.target.value?.trim?.()?.length>0&&d?.(M?.current?.value),O.preventDefault(),N(!1)},onKeyDown:O=>{O.key==="Enter"?(O.currentTarget.blur(),O.preventDefault()):O.key==="Escape"&&(M.current&&(M.current.value=t),N(!1),O.preventDefault())}})]}),f.length>0&&F.jsx("div",{className:Xe("grl-dn__header__actions","nodrag"),children:F.jsx(mo,{trigger:["click"],overlayStyle:{minWidth:250},menu:{items:f},children:F.jsx(ct,{type:"text",size:"small",icon:F.jsx(eE,{})})})})]}),n&&F.jsx("div",{className:Xe("grl-dn__body",i.length===0&&"grl-dn__body--no-footer",u&&"grl-dn__body--no-padding"),children:n}),i.length>0&&F.jsx("div",{className:Xe("grl-dn__footer","nodrag"),children:F.jsx("div",{className:"grl-dn__footer__actions",children:i})})]}),F.jsx(H6,{state:x,timeout:100,children:(O,X)=>X&&F.jsx(od,{className:"nodrag",style:{transition:"0.1s ease-in-out",transform:O==="enter"?"translateY(0)":"translateY(-10px)",opacity:O==="enter"?1:0},children:F.jsxs("div",{className:"grl-dn__details",children:[F.jsxs("div",{className:"grl-dn__details__header",children:[F.jsx($t.Text,{className:"grl-dn__details__header__text",children:_}),F.jsx(ct,{type:"text",size:"small",className:"grl-dn__details__header__close",icon:F.jsx(go,{style:{fontSize:8}}),onClick:b})]}),F.jsx("div",{className:"grl-dn__details__body",children:v})]})})})]})};Gd.__docgenInfo={description:"",methods:[],displayName:"DecisionNode",props:{name:{required:!1,tsType:{name:"string"},description:""},icon:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},type:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},helper:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(React.ReactNode | false)[]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSelected:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},actions:{required:!1,tsType:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},description:"",defaultValue:{value:"[]",computed:!1}},status:{required:!1,tsType:{name:"union",raw:"'error' | 'success' | 'warning'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'warning'"}]},description:""},diffStatus:{required:!1,tsType:{name:"union",raw:"'removed' | 'added' | 'modified' | 'moved'",elements:[{name:"literal",value:"'removed'"},{name:"literal",value:"'added'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'moved'"}]},description:""},noBodyPadding:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},color:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | string",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"string"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},menuItems:{required:!1,tsType:{name:"MenuProps['items']",raw:"MenuProps['items']"},description:"",defaultValue:{value:"[]",computed:!1}},onNameChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(name: string) => void",signature:{arguments:[{type:{name:"string"},name:"name"}],return:{name:"void"}}},description:""},compactMode:{required:!1,tsType:{name:"boolean"},description:""},listMode:{required:!1,tsType:{name:"boolean"},description:""},details:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},detailsOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},detailsTitle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Details'",computed:!1}},onDetailsClose:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ei=j.forwardRef(({id:e,handleLeft:t=!0,handleRight:n=!0,className:i,specification:o,name:a,displayError:u,helper:l,actions:d,...f},h)=>{const[g,m]=mu(`node:details:${e}`,0),[D,w]=mu(`node:detailsOpen:${e}`,!1),v=Tt(),{nodeError:x,nodeTrace:_,disabled:b,compactMode:I}=lt(({simulate:O,disabled:X,compactMode:B})=>({disabled:X,nodeTrace:Ze(O).with({result:Ge._},({result:U})=>U?.trace?.[e]).otherwise(()=>null),nodeError:Ze(O).with({error:{data:{nodeId:e}}},({error:U})=>U).otherwise(()=>null),compactMode:B})),{diff:N}=zu(e),M=o.renderSettings,z=[o.documentationUrl?{key:"documentation",label:F.jsx(no,{left:"Documentation",right:F.jsx(rg,{})}),onClick:()=>window.open(o.documentationUrl,"_href")}:null,o.documentationUrl?{key:"divider-1",type:"divider"}:null,!u&&{key:"copy-clipboard",label:F.jsx(no,{left:"Copy to clipboard",right:eu.shortcut("Ctrl + C")}),onClick:()=>{}},!u&&{key:"duplicate",disabled:b,label:F.jsx(no,{left:"Duplicate",right:eu.shortcut("Ctrl + D")}),onClick:()=>v.duplicateNodes([e])},!u&&{key:"divider-2",type:"divider"},{key:"delete",danger:!0,label:F.jsx(no,{left:"Delete",right:eu.shortcut("Backspace")}),disabled:b,onClick:()=>_d.confirm({icon:null,title:"Delete node",content:F.jsxs($t.Text,{children:["Are you sure you want to delete ",F.jsx($t.Text,{strong:!0,children:a})," node."]}),okButtonProps:{danger:!0},onOk:()=>v.removeNodes([e])})}].filter(O=>O!==!1);return F.jsxs("div",{className:Xe("grl-graph-node",i),style:{minWidth:220,maxWidth:220},ref:h,onClick:O=>{const X=Ze(navigator.platform.includes("Mac")).with(!0,()=>O.metaKey).otherwise(()=>O.ctrlKey);v.triggerNodeSelect(e,X?"toggle":"only")},children:[t&&F.jsx(Xr,{className:Xe("grl-graph-node__handle-left",I&&"compact"),type:"target",position:De.Left,...typeof t!="boolean"?t:{}}),F.jsx(Gd,{menuItems:z,...f,disabled:b,icon:o.icon,color:o.color,type:o.displayName,helper:l,name:a,details:M?F.jsx(M,{id:e}):void 0,detailsOpen:D,detailsTitle:Ze(g).with(0,()=>"Settings").otherwise(()=>{}),onDetailsClose:()=>w(!1),actions:M?[...d??[],F.jsx(ct,{type:"text",style:{marginLeft:"auto"},onClick:()=>{w(g===0?!D:!0),m(0)},children:"Settings"},"settings")]:d,status:Ze([_,x,u]).with([Ge._,Ge._,!0],()=>"error").with([Ge._,Ge.not(Ge.nullish),Ge._],()=>"error").with([Ge.not(Ge.nullish),Ge._,Ge._],()=>"success").otherwise(()=>{}),diffStatus:Ze([N]).with([{status:"added"}],()=>"added").with([{status:"modified"}],()=>"modified").with([{status:"removed"}],()=>"removed").with([{status:"moved"}],()=>"moved").otherwise(()=>{}),onNameChange:O=>{v.updateNode(e,X=>(X.name=O,X))},compactMode:I}),n&&F.jsx(Xr,{className:Xe("grl-graph-node__handle-right",I&&"compact"),type:"source",position:De.Right,...typeof n!="boolean"?n:{}})]})});ei.__docgenInfo={description:"",methods:[],displayName:"GraphNode",props:{handleLeft:{defaultValue:{value:"true",computed:!1},required:!1},handleRight:{defaultValue:{value:"true",computed:!1},required:!1}}};const{createElement:vs,createContext:V6,createRef:EN,forwardRef:Fm,useCallback:tn,useContext:Nm,useEffect:Di,useImperativeHandle:Tm,useLayoutEffect:U6,useMemo:G6,useRef:rn,useState:ls}=z0,_0=z0[`useId${Math.random()}`.slice(0,5)],Z6=U6,Mu=V6(null);Mu.displayName="PanelGroupContext";const xi=Z6,W6=typeof _0=="function"?_0:()=>null;let q6=0;function Zd(e=null){const t=W6(),n=rn(e||t||null);return n.current===null&&(n.current=""+q6++),e??n.current}function Im({children:e,className:t="",collapsedSize:n,collapsible:i,defaultSize:o,forwardedRef:a,id:u,maxSize:l,minSize:d,onCollapse:f,onExpand:h,onResize:g,order:m,style:D,tagName:w="div",...v}){const x=Nm(Mu);if(x===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:_,expandPanel:b,getPanelSize:I,getPanelStyle:N,groupId:M,isPanelCollapsed:z,reevaluatePanelConstraints:O,registerPanel:X,resizePanel:B,unregisterPanel:U}=x,K=Zd(u),q=rn({callbacks:{onCollapse:f,onExpand:h,onResize:g},constraints:{collapsedSize:n,collapsible:i,defaultSize:o,maxSize:l,minSize:d},id:K,idIsFromProps:u!==void 0,order:m});rn({didLogMissingDefaultSizeWarning:!1}),xi(()=>{const{callbacks:A,constraints:$}=q.current,P={...$};q.current.id=K,q.current.idIsFromProps=u!==void 0,q.current.order=m,A.onCollapse=f,A.onExpand=h,A.onResize=g,$.collapsedSize=n,$.collapsible=i,$.defaultSize=o,$.maxSize=l,$.minSize=d,(P.collapsedSize!==$.collapsedSize||P.collapsible!==$.collapsible||P.maxSize!==$.maxSize||P.minSize!==$.minSize)&&O(q.current,P)}),xi(()=>{const A=q.current;return X(A),()=>{U(A)}},[m,K,X,U]),Tm(a,()=>({collapse:()=>{_(q.current)},expand:A=>{b(q.current,A)},getId(){return K},getSize(){return I(q.current)},isCollapsed(){return z(q.current)},isExpanded(){return!z(q.current)},resize:A=>{B(q.current,A)}}),[_,b,I,z,K,B]);const G=N(q.current,o);return vs(w,{...v,children:e,className:t,id:u,style:{...G,...D},"data-panel":"","data-panel-collapsible":i||void 0,"data-panel-group-id":M,"data-panel-id":K,"data-panel-size":parseFloat(""+G.flexGrow).toFixed(1)})}const tu=Fm((e,t)=>vs(Im,{...e,forwardedRef:t}));Im.displayName="Panel";tu.displayName="forwardRef(Panel)";let ad=null,vi=null;function X6(e,t){if(t){const n=(t&Om)!==0,i=(t&Pm)!==0,o=(t&$m)!==0,a=(t&zm)!==0;if(n)return o?"se-resize":a?"ne-resize":"e-resize";if(i)return o?"sw-resize":a?"nw-resize":"w-resize";if(o)return"s-resize";if(a)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Y6(){vi!==null&&(document.head.removeChild(vi),ad=null,vi=null)}function Ml(e,t){const n=X6(e,t);ad!==n&&(ad=n,vi===null&&(vi=document.createElement("style"),document.head.appendChild(vi)),vi.innerHTML=`*{cursor: ${n}!important;}`)}function km(e){return e.type==="keydown"}function Bm(e){return e.type.startsWith("pointer")}function Rm(e){return e.type.startsWith("mouse")}function Ou(e){if(Bm(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Rm(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function K6(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function J6(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Q6(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:w0(e),b:w0(t)};let i;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),i=e;Oe(i,"Stacking order can only be calculated for elements with a common ancestor");const o={a:x0(D0(n.a)),b:x0(D0(n.b))};if(o.a===o.b){const a=i.childNodes,u={a:n.a.at(-1),b:n.b.at(-1)};let l=a.length;for(;l--;){const d=a[l];if(d===u.a)return 1;if(d===u.b)return-1}}return Math.sign(o.a-o.b)}const e4=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function t4(e){var t;const n=getComputedStyle((t=Mm(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function n4(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||t4(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||e4.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function D0(e){let t=e.length;for(;t--;){const n=e[t];if(Oe(n,"Missing node"),n4(n))return n}return null}function x0(e){return e&&Number(getComputedStyle(e).zIndex)||0}function w0(e){const t=[];for(;e;)t.push(e),e=Mm(e);return t}function Mm(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Om=1,Pm=2,$m=4,zm=8,r4=K6()==="coarse";let Gn=[],ds=!1,Ur=new Map,Pu=new Map;const bo=new Set;function i4(e,t,n,i,o){var a;const{ownerDocument:u}=t,l={direction:n,element:t,hitAreaMargins:i,setResizeHandlerState:o},d=(a=Ur.get(u))!==null&&a!==void 0?a:0;return Ur.set(u,d+1),bo.add(l),yu(),function(){var h;Pu.delete(e),bo.delete(l);const g=(h=Ur.get(u))!==null&&h!==void 0?h:1;if(Ur.set(u,g-1),yu(),g===1&&Ur.delete(u),Gn.includes(l)){const m=Gn.indexOf(l);m>=0&&Gn.splice(m,1),qd(),o("up",!0,null)}}}function C0(e){const{target:t}=e,{x:n,y:i}=Ou(e);ds=!0,Wd({target:t,x:n,y:i}),yu(),Gn.length>0&&(vu("down",e),e.preventDefault(),e.stopPropagation())}function eo(e){const{x:t,y:n}=Ou(e);if(ds&&e.buttons===0&&(ds=!1,vu("up",e)),!ds){const{target:i}=e;Wd({target:i,x:t,y:n})}vu("move",e),qd(),Gn.length>0&&e.preventDefault()}function Yi(e){const{target:t}=e,{x:n,y:i}=Ou(e);Pu.clear(),ds=!1,Gn.length>0&&e.preventDefault(),vu("up",e),Wd({target:t,x:n,y:i}),qd(),yu()}function Wd({target:e,x:t,y:n}){Gn.splice(0);let i=null;e instanceof HTMLElement&&(i=e),bo.forEach(o=>{const{element:a,hitAreaMargins:u}=o,l=a.getBoundingClientRect(),{bottom:d,left:f,right:h,top:g}=l,m=r4?u.coarse:u.fine;if(t>=f-m&&t<=h+m&&n>=g-m&&n<=d+m){if(i!==null&&document.contains(i)&&a!==i&&!a.contains(i)&&!i.contains(a)&&Q6(i,a)>0){let w=i,v=!1;for(;w&&!w.contains(a);){if(J6(w.getBoundingClientRect(),l)){v=!0;break}w=w.parentElement}if(v)return}Gn.push(o)}})}function Ol(e,t){Pu.set(e,t)}function qd(){let e=!1,t=!1;Gn.forEach(i=>{const{direction:o}=i;o==="horizontal"?e=!0:t=!0});let n=0;Pu.forEach(i=>{n|=i}),e&&t?Ml("intersection",n):e?Ml("horizontal",n):t?Ml("vertical",n):Y6()}function yu(){Ur.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",Yi),n.removeEventListener("pointerdown",C0),n.removeEventListener("pointerleave",eo),n.removeEventListener("pointermove",eo)}),window.removeEventListener("pointerup",Yi),window.removeEventListener("pointercancel",Yi),bo.size>0&&(ds?(Gn.length>0&&Ur.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",Yi),n.addEventListener("pointerleave",eo),n.addEventListener("pointermove",eo))}),window.addEventListener("pointerup",Yi),window.addEventListener("pointercancel",Yi)):Ur.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",C0,{capture:!0}),n.addEventListener("pointermove",eo))}))}function vu(e,t){bo.forEach(n=>{const{setResizeHandlerState:i}=n,o=Gn.includes(n);i(e,o,t)})}function s4(){const[e,t]=ls(0);return tn(()=>t(n=>n+1),[])}function Oe(e,t){if(!e)throw console.error(t),Error(t)}const Xd=10;function bi(e,t,n=Xd){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Er(e,t,n=Xd){return bi(e,t,n)===0}function pn(e,t,n){return bi(e,t,n)===0}function o4(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){const o=e[i],a=t[i];if(!pn(o,a,n))return!1}return!0}function rs({panelConstraints:e,panelIndex:t,size:n}){const i=e[t];Oe(i!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:a,maxSize:u=100,minSize:l=0}=i;if(bi(n,l)<0)if(a){const d=(o+l)/2;bi(n,d)<0?n=o:n=l}else n=l;return n=Math.min(u,n),n=parseFloat(n.toFixed(Xd)),n}function oo({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:i,prevLayout:o,trigger:a}){if(pn(e,0))return t;const u=[...t],[l,d]=i;Oe(l!=null,"Invalid first pivot index"),Oe(d!=null,"Invalid second pivot index");let f=0;if(a==="keyboard"){{const g=e<0?d:l,m=n[g];Oe(m,`Panel constraints not found for index ${g}`);const{collapsedSize:D=0,collapsible:w,minSize:v=0}=m;if(w){const x=t[g];if(Oe(x!=null,`Previous layout not found for panel index ${g}`),pn(x,D)){const _=v-x;bi(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}{const g=e<0?l:d,m=n[g];Oe(m,`No panel constraints found for index ${g}`);const{collapsedSize:D=0,collapsible:w,minSize:v=0}=m;if(w){const x=t[g];if(Oe(x!=null,`Previous layout not found for panel index ${g}`),pn(x,v)){const _=x-D;bi(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}}{const g=e<0?1:-1;let m=e<0?d:l,D=0;for(;;){const v=t[m];Oe(v!=null,`Previous layout not found for panel index ${m}`);const _=rs({panelConstraints:n,panelIndex:m,size:100})-v;if(D+=_,m+=g,m<0||m>=n.length)break}const w=Math.min(Math.abs(e),Math.abs(D));e=e<0?0-w:w}{let m=e<0?l:d;for(;m>=0&&m<n.length;){const D=Math.abs(e)-Math.abs(f),w=t[m];Oe(w!=null,`Previous layout not found for panel index ${m}`);const v=w-D,x=rs({panelConstraints:n,panelIndex:m,size:v});if(!pn(w,x)&&(f+=w-x,u[m]=x,f.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?m--:m++}}if(o4(o,u))return o;{const g=e<0?d:l,m=t[g];Oe(m!=null,`Previous layout not found for panel index ${g}`);const D=m+f,w=rs({panelConstraints:n,panelIndex:g,size:D});if(u[g]=w,!pn(w,D)){let v=D-w,_=e<0?d:l;for(;_>=0&&_<n.length;){const b=u[_];Oe(b!=null,`Previous layout not found for panel index ${_}`);const I=b+v,N=rs({panelConstraints:n,panelIndex:_,size:I});if(pn(b,N)||(v-=N-b,u[_]=N),pn(v,0))break;e>0?_--:_++}}}const h=u.reduce((g,m)=>m+g,0);return pn(h,100)?u:o}function a4({layout:e,panelsArray:t,pivotIndices:n}){let i=0,o=100,a=0,u=0;const l=n[0];Oe(l!=null,"No pivot index found"),t.forEach((g,m)=>{const{constraints:D}=g,{maxSize:w=100,minSize:v=0}=D;m===l?(i=v,o=w):(a+=v,u+=w)});const d=Math.min(o,100-a),f=Math.max(i,100-u),h=e[l];return{valueMax:d,valueMin:f,valueNow:h}}function Ao(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function Lm(e,t,n=document){const o=Ao(e,n).findIndex(a=>a.getAttribute("data-panel-resize-handle-id")===t);return o??null}function jm(e,t,n){const i=Lm(e,t,n);return i!=null?[i,i+1]:[-1,-1]}function Hm(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const i=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return i||null}function $u(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function u4(e,t,n,i=document){var o,a,u,l;const d=$u(t,i),f=Ao(e,i),h=d?f.indexOf(d):-1,g=(o=(a=n[h])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null,m=(u=(l=n[h+1])===null||l===void 0?void 0:l.id)!==null&&u!==void 0?u:null;return[g,m]}function c4({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:i,panelDataArray:o,panelGroupElement:a,setLayout:u}){rn({didWarnAboutMissingResizeHandle:!1}),xi(()=>{if(!a)return;const l=Ao(n,a);for(let d=0;d<o.length-1;d++){const{valueMax:f,valueMin:h,valueNow:g}=a4({layout:i,panelsArray:o,pivotIndices:[d,d+1]}),m=l[d];if(m!=null){const D=o[d];Oe(D,`No panel data found for index "${d}"`),m.setAttribute("aria-controls",D.id),m.setAttribute("aria-valuemax",""+Math.round(f)),m.setAttribute("aria-valuemin",""+Math.round(h)),m.setAttribute("aria-valuenow",g!=null?""+Math.round(g):"")}}return()=>{l.forEach((d,f)=>{d.removeAttribute("aria-controls"),d.removeAttribute("aria-valuemax"),d.removeAttribute("aria-valuemin"),d.removeAttribute("aria-valuenow")})}},[n,i,o,a]),Di(()=>{if(!a)return;const l=t.current;Oe(l,"Eager values not found");const{panelDataArray:d}=l,f=Hm(n,a);Oe(f!=null,`No group found for id "${n}"`);const h=Ao(n,a);Oe(h,`No resize handles found for group id "${n}"`);const g=h.map(m=>{const D=m.getAttribute("data-panel-resize-handle-id");Oe(D,"Resize handle element has no handle id attribute");const[w,v]=u4(n,D,d,a);if(w==null||v==null)return()=>{};const x=_=>{if(!_.defaultPrevented)switch(_.key){case"Enter":{_.preventDefault();const b=d.findIndex(I=>I.id===w);if(b>=0){const I=d[b];Oe(I,`No panel data found for index ${b}`);const N=i[b],{collapsedSize:M=0,collapsible:z,minSize:O=0}=I.constraints;if(N!=null&&z){const X=oo({delta:pn(N,M)?O-M:M-N,initialLayout:i,panelConstraints:d.map(B=>B.constraints),pivotIndices:jm(n,D,a),prevLayout:i,trigger:"keyboard"});i!==X&&u(X)}}break}}};return m.addEventListener("keydown",x),()=>{m.removeEventListener("keydown",x)}});return()=>{g.forEach(m=>m())}},[a,e,t,n,i,o,u])}function E0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Vm(e,t){const n=e==="horizontal",{x:i,y:o}=Ou(t);return n?i:o}function l4(e,t,n,i,o){const a=n==="horizontal",u=$u(t,o);Oe(u,`No resize handle element found for id "${t}"`);const l=u.getAttribute("data-panel-group-id");Oe(l,"Resize handle element has no group id attribute");let{initialCursorPosition:d}=i;const f=Vm(n,e),h=Hm(l,o);Oe(h,`No group element found for id "${l}"`);const g=h.getBoundingClientRect(),m=a?g.width:g.height;return(f-d)/m*100}function d4(e,t,n,i,o,a){if(km(e)){const u=n==="horizontal";let l=0;e.shiftKey?l=100:o!=null?l=o:l=10;let d=0;switch(e.key){case"ArrowDown":d=u?0:l;break;case"ArrowLeft":d=u?-l:0;break;case"ArrowRight":d=u?l:0;break;case"ArrowUp":d=u?0:-l;break;case"End":d=100;break;case"Home":d=-100;break}return d}else return i==null?0:l4(e,t,n,i,a)}function f4({panelDataArray:e}){const t=Array(e.length),n=e.map(a=>a.constraints);let i=0,o=100;for(let a=0;a<e.length;a++){const u=n[a];Oe(u,`Panel constraints not found for index ${a}`);const{defaultSize:l}=u;l!=null&&(i++,t[a]=l,o-=l)}for(let a=0;a<e.length;a++){const u=n[a];Oe(u,`Panel constraints not found for index ${a}`);const{defaultSize:l}=u;if(l!=null)continue;const d=e.length-i,f=o/d;i++,t[a]=f,o-=f}return t}function Ki(e,t,n){t.forEach((i,o)=>{const a=e[o];Oe(a,`Panel data not found for index ${o}`);const{callbacks:u,constraints:l,id:d}=a,{collapsedSize:f=0,collapsible:h}=l,g=n[d];if(g==null||i!==g){n[d]=i;const{onCollapse:m,onExpand:D,onResize:w}=u;w&&w(i,g),h&&(m||D)&&(D&&(g==null||Er(g,f))&&!Er(i,f)&&D(),m&&(g==null||!Er(g,f))&&Er(i,f)&&m())}})}function Wa(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function h4({defaultSize:e,dragState:t,layout:n,panelData:i,panelIndex:o,precision:a=3}){const u=n[o];let l;return u==null?l=e!=null?e.toPrecision(a):"1":i.length===1?l="1":l=u.toPrecision(a),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function p4(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function b0(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Um(e){return`react-resizable-panels:${e}`}function Gm(e){return e.map(t=>{const{constraints:n,id:i,idIsFromProps:o,order:a}=t;return o?i:a?`${a}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Zm(e,t){try{const n=Um(e),i=t.getItem(n);if(i){const o=JSON.parse(i);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function g4(e,t,n){var i,o;const a=(i=Zm(e,n))!==null&&i!==void 0?i:{},u=Gm(t);return(o=a[u])!==null&&o!==void 0?o:null}function m4(e,t,n,i,o){var a;const u=Um(e),l=Gm(t),d=(a=Zm(e,o))!==null&&a!==void 0?a:{};d[l]={expandToSizes:Object.fromEntries(n.entries()),layout:i};try{o.setItem(u,JSON.stringify(d))}catch(f){console.error(f)}}function A0({layout:e,panelConstraints:t}){const n=[...e],i=n.reduce((a,u)=>a+u,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(a=>`${a}%`).join(", ")}`);if(!pn(i,100)&&n.length>0)for(let a=0;a<t.length;a++){const u=n[a];Oe(u!=null,`No layout data found for index ${a}`);const l=100/i*u;n[a]=l}let o=0;for(let a=0;a<t.length;a++){const u=n[a];Oe(u!=null,`No layout data found for index ${a}`);const l=rs({panelConstraints:t,panelIndex:a,size:u});u!=l&&(o+=u-l,n[a]=l)}if(!pn(o,0))for(let a=0;a<t.length;a++){const u=n[a];Oe(u!=null,`No layout data found for index ${a}`);const l=u+o,d=rs({panelConstraints:t,panelIndex:a,size:l});if(u!==d&&(o-=d-u,n[a]=d,pn(o,0)))break}return n}const y4=100,ao={getItem:e=>(b0(ao),ao.getItem(e)),setItem:(e,t)=>{b0(ao),ao.setItem(e,t)}},S0={};function Wm({autoSaveId:e=null,children:t,className:n="",direction:i,forwardedRef:o,id:a=null,onLayout:u=null,keyboardResizeBy:l=null,storage:d=ao,style:f,tagName:h="div",...g}){const m=Zd(a),D=rn(null),[w,v]=ls(null),[x,_]=ls([]),b=s4(),I=rn({}),N=rn(new Map),M=rn(0),z=rn({autoSaveId:e,direction:i,dragState:w,id:m,keyboardResizeBy:l,onLayout:u,storage:d}),O=rn({layout:x,panelDataArray:[],panelDataArrayChanged:!1});rn({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),Tm(o,()=>({getId:()=>z.current.id,getLayout:()=>{const{layout:W}=O.current;return W},setLayout:W=>{const{onLayout:ie}=z.current,{layout:ue,panelDataArray:de}=O.current,fe=A0({layout:W,panelConstraints:de.map(le=>le.constraints)});E0(ue,fe)||(_(fe),O.current.layout=fe,ie&&ie(fe),Ki(de,fe,I.current))}}),[]),xi(()=>{z.current.autoSaveId=e,z.current.direction=i,z.current.dragState=w,z.current.id=m,z.current.onLayout=u,z.current.storage=d}),c4({committedValuesRef:z,eagerValuesRef:O,groupId:m,layout:x,panelDataArray:O.current.panelDataArray,setLayout:_,panelGroupElement:D.current}),Di(()=>{const{panelDataArray:W}=O.current;if(e){if(x.length===0||x.length!==W.length)return;let ie=S0[e];ie==null&&(ie=p4(m4,y4),S0[e]=ie);const ue=[...W],de=new Map(N.current);ie(e,ue,de,x,d)}},[e,x,d]),Di(()=>{});const X=tn(W=>{const{onLayout:ie}=z.current,{layout:ue,panelDataArray:de}=O.current;if(W.constraints.collapsible){const fe=de.map(nt=>nt.constraints),{collapsedSize:le=0,panelSize:ge,pivotIndices:we}=pi(de,W,ue);if(Oe(ge!=null,`Panel size not found for panel "${W.id}"`),!Er(ge,le)){N.current.set(W.id,ge);const Je=Qi(de,W)===de.length-1?ge-le:le-ge,Le=oo({delta:Je,initialLayout:ue,panelConstraints:fe,pivotIndices:we,prevLayout:ue,trigger:"imperative-api"});Wa(ue,Le)||(_(Le),O.current.layout=Le,ie&&ie(Le),Ki(de,Le,I.current))}}},[]),B=tn((W,ie)=>{const{onLayout:ue}=z.current,{layout:de,panelDataArray:fe}=O.current;if(W.constraints.collapsible){const le=fe.map(He=>He.constraints),{collapsedSize:ge=0,panelSize:we=0,minSize:nt=0,pivotIndices:Je}=pi(fe,W,de),Le=ie??nt;if(Er(we,ge)){const He=N.current.get(W.id),Qe=He!=null&&He>=Le?He:Le,Be=Qi(fe,W)===fe.length-1?we-Qe:Qe-we,ve=oo({delta:Be,initialLayout:de,panelConstraints:le,pivotIndices:Je,prevLayout:de,trigger:"imperative-api"});Wa(de,ve)||(_(ve),O.current.layout=ve,ue&&ue(ve),Ki(fe,ve,I.current))}}},[]),U=tn(W=>{const{layout:ie,panelDataArray:ue}=O.current,{panelSize:de}=pi(ue,W,ie);return Oe(de!=null,`Panel size not found for panel "${W.id}"`),de},[]),K=tn((W,ie)=>{const{panelDataArray:ue}=O.current,de=Qi(ue,W);return h4({defaultSize:ie,dragState:w,layout:x,panelData:ue,panelIndex:de})},[w,x]),q=tn(W=>{const{layout:ie,panelDataArray:ue}=O.current,{collapsedSize:de=0,collapsible:fe,panelSize:le}=pi(ue,W,ie);return Oe(le!=null,`Panel size not found for panel "${W.id}"`),fe===!0&&Er(le,de)},[]),G=tn(W=>{const{layout:ie,panelDataArray:ue}=O.current,{collapsedSize:de=0,collapsible:fe,panelSize:le}=pi(ue,W,ie);return Oe(le!=null,`Panel size not found for panel "${W.id}"`),!fe||bi(le,de)>0},[]),A=tn(W=>{const{panelDataArray:ie}=O.current;ie.push(W),ie.sort((ue,de)=>{const fe=ue.order,le=de.order;return fe==null&&le==null?0:fe==null?-1:le==null?1:fe-le}),O.current.panelDataArrayChanged=!0,b()},[b]);xi(()=>{if(O.current.panelDataArrayChanged){O.current.panelDataArrayChanged=!1;const{autoSaveId:W,onLayout:ie,storage:ue}=z.current,{layout:de,panelDataArray:fe}=O.current;let le=null;if(W){const we=g4(W,fe,ue);we&&(N.current=new Map(Object.entries(we.expandToSizes)),le=we.layout)}le==null&&(le=f4({panelDataArray:fe}));const ge=A0({layout:le,panelConstraints:fe.map(we=>we.constraints)});E0(de,ge)||(_(ge),O.current.layout=ge,ie&&ie(ge),Ki(fe,ge,I.current))}}),xi(()=>{const W=O.current;return()=>{W.layout=[]}},[]);const $=tn(W=>function(ue){ue.preventDefault();const de=D.current;if(!de)return()=>null;const{direction:fe,dragState:le,id:ge,keyboardResizeBy:we,onLayout:nt}=z.current,{layout:Je,panelDataArray:Le}=O.current,{initialLayout:He}=le??{},Qe=jm(ge,W,de);let gt=d4(ue,W,fe,le,we,de);const Be=fe==="horizontal";document.dir==="rtl"&&Be&&(gt=-gt);const ve=Le.map(bt=>bt.constraints),_t=oo({delta:gt,initialLayout:He??Je,panelConstraints:ve,pivotIndices:Qe,prevLayout:Je,trigger:km(ue)?"keyboard":"mouse-or-touch"}),Mt=!Wa(Je,_t);(Bm(ue)||Rm(ue))&&M.current!=gt&&(M.current=gt,!Mt&&gt!==0?Be?Ol(W,gt<0?Om:Pm):Ol(W,gt<0?$m:zm):Ol(W,0)),Mt&&(_(_t),O.current.layout=_t,nt&&nt(_t),Ki(Le,_t,I.current))},[]),P=tn((W,ie)=>{const{onLayout:ue}=z.current,{layout:de,panelDataArray:fe}=O.current,le=fe.map(He=>He.constraints),{panelSize:ge,pivotIndices:we}=pi(fe,W,de);Oe(ge!=null,`Panel size not found for panel "${W.id}"`);const Je=Qi(fe,W)===fe.length-1?ge-ie:ie-ge,Le=oo({delta:Je,initialLayout:de,panelConstraints:le,pivotIndices:we,prevLayout:de,trigger:"imperative-api"});Wa(de,Le)||(_(Le),O.current.layout=Le,ue&&ue(Le),Ki(fe,Le,I.current))},[]),Z=tn((W,ie)=>{const{layout:ue,panelDataArray:de}=O.current,{collapsedSize:fe=0,collapsible:le}=ie,{collapsedSize:ge=0,collapsible:we,maxSize:nt=100,minSize:Je=0}=W.constraints,{panelSize:Le}=pi(de,W,ue);Le!=null&&(le&&we&&Er(Le,fe)?Er(fe,ge)||P(W,ge):Le<Je?P(W,Je):Le>nt&&P(W,nt))},[P]),ee=tn((W,ie)=>{const{direction:ue}=z.current,{layout:de}=O.current;if(!D.current)return;const fe=$u(W,D.current);Oe(fe,`Drag handle element not found for id "${W}"`);const le=Vm(ue,ie);v({dragHandleId:W,dragHandleRect:fe.getBoundingClientRect(),initialCursorPosition:le,initialLayout:de})},[]),H=tn(()=>{v(null)},[]),ne=tn(W=>{const{panelDataArray:ie}=O.current,ue=Qi(ie,W);ue>=0&&(ie.splice(ue,1),delete I.current[W.id],O.current.panelDataArrayChanged=!0,b())},[b]),re=G6(()=>({collapsePanel:X,direction:i,dragState:w,expandPanel:B,getPanelSize:U,getPanelStyle:K,groupId:m,isPanelCollapsed:q,isPanelExpanded:G,reevaluatePanelConstraints:Z,registerPanel:A,registerResizeHandle:$,resizePanel:P,startDragging:ee,stopDragging:H,unregisterPanel:ne,panelGroupElement:D.current}),[X,w,i,B,U,K,m,q,G,Z,A,$,P,ee,H,ne]),ae={display:"flex",flexDirection:i==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return vs(Mu.Provider,{value:re},vs(h,{...g,children:t,className:n,id:a,ref:D,style:{...ae,...f},"data-panel-group":"","data-panel-group-direction":i,"data-panel-group-id":m}))}const qm=Fm((e,t)=>vs(Wm,{...e,forwardedRef:t}));Wm.displayName="PanelGroup";qm.displayName="forwardRef(PanelGroup)";function Qi(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function pi(e,t,n){const i=Qi(e,t),a=i===e.length-1?[i-1,i]:[i,i+1],u=n[i];return{...t.constraints,panelSize:u,pivotIndices:a}}function v4({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:i}){Di(()=>{if(e||n==null||i==null)return;const o=$u(t,i);if(o==null)return;const a=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),n(u);break}case"F6":{u.preventDefault();const l=o.getAttribute("data-panel-group-id");Oe(l,`No group element found for id "${l}"`);const d=Ao(l,i),f=Lm(l,t,i);Oe(f!==null,`No resize element found for id "${t}"`);const h=u.shiftKey?f>0?f-1:d.length-1:f+1<d.length?f+1:0;d[h].focus();break}}};return o.addEventListener("keydown",a),()=>{o.removeEventListener("keydown",a)}},[i,e,t,n])}function ud({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:i,id:o,onBlur:a,onDragging:u,onFocus:l,style:d={},tabIndex:f=0,tagName:h="div",...g}){var m,D;const w=rn(null),v=rn({onDragging:u});Di(()=>{v.current.onDragging=u});const x=Nm(Mu);if(x===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:_,groupId:b,registerResizeHandle:I,startDragging:N,stopDragging:M,panelGroupElement:z}=x,O=Zd(o),[X,B]=ls("inactive"),[U,K]=ls(!1),[q,G]=ls(null),A=rn({state:X});xi(()=>{A.current.state=X}),Di(()=>{if(n)G(null);else{const ee=I(O);G(()=>ee)}},[n,O,I]);const $=(m=i?.coarse)!==null&&m!==void 0?m:15,P=(D=i?.fine)!==null&&D!==void 0?D:5;return Di(()=>{if(n||q==null)return;const ee=w.current;return Oe(ee,"Element ref not attached"),i4(O,ee,_,{coarse:$,fine:P},(ne,re,ae)=>{if(re)switch(ne){case"down":{B("drag"),Oe(ae,'Expected event to be defined for "down" action'),N(O,ae);const{onDragging:W}=v.current;W&&W(!0);break}case"move":{const{state:W}=A.current;W!=="drag"&&B("hover"),Oe(ae,'Expected event to be defined for "move" action'),q(ae);break}case"up":{B("hover"),M();const{onDragging:W}=v.current;W&&W(!1);break}}else B("inactive")})},[$,_,n,P,I,O,q,N,M]),v4({disabled:n,handleId:O,resizeHandler:q,panelGroupElement:z}),vs(h,{...g,children:e,className:t,id:o,onBlur:()=>{K(!1),a?.()},onFocus:()=>{K(!0),l?.()},ref:w,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...d},tabIndex:f,"data-panel-group-direction":_,"data-panel-group-id":b,"data-resize-handle":"","data-resize-handle-active":X==="drag"?"pointer":U?"keyboard":void 0,"data-resize-handle-state":X,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":O})}ud.displayName="PanelResizeHandle";const _4=e=>{const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(n){console.error("Unable to copy to clipboard",n)}document.body.removeChild(t)},cd=async e=>{window.isSecureContext&&navigator.clipboard?await navigator.clipboard.writeText(e):_4(e)},D4=async()=>{try{return navigator.clipboard.readText()}catch{return""}};var Xm=(e=>(e.Output="Output",e.Input="Input",e.Trace="Trace",e))(Xm||{});const x4=({defaultRequest:e,onChange:t,onRun:n,onClear:i,loading:o=!1})=>{const[a,u]=S.useState(e),[l,d]=mu("simulation.search",""),[f,h]=mu("simulation.segment","Output"),{stateStore:g,actions:m}=bs(),{nodeTypes:D,simulate:w}=lt(({decisionGraph:b,simulate:I})=>({simulate:I,nodeTypes:(b.nodes??[]).reduce((N,M)=>({...N,[M.id]:M.type}),{})})),[v,x]=S.useState("graph");S.useEffect(()=>{if(!fo())return;const{decisionGraph:b}=g.getState(),I=b.nodes.find(N=>N.type==="inputNode");if(I)try{const N=a?Ji.parse(a):"Any";m.setNodeType(I.id,st.InferredOutput,new gn(N))}catch{}},[a]);const _=S.useMemo(()=>w?"result"in w?Object.entries(w.result?.trace??{}).map(([b,I])=>({...I,nodeId:b})).filter(b=>![Ye.Input,Ye.Output].includes(D?.[b.nodeId])).filter(b=>b.name.toLowerCase().includes(l?.toLowerCase()??"")).sort((b,I)=>(b.order??0)-(I.order??0)):[]:[],[w,l]);return F.jsxs(qm,{className:"grl-dg__simulator",direction:"horizontal",autoSaveId:"jdm-editor:simulator:layout",children:[F.jsxs(tu,{minSize:20,defaultSize:30,className:"grl-dg__simulator__section grl-dg__simulator__request",children:[F.jsxs("div",{className:"grl-dg__simulator__section__bar grl-dg__simulator__section__bar--request",children:[F.jsx($t.Text,{children:"Request (json5)"}),F.jsxs("div",{className:"grl-dg__simulator__section__bar__actions",children:[F.jsx(ss,{title:"Copy JSON to Clipboard",children:F.jsx(ct,{type:"text",size:"small",icon:F.jsx(UC,{}),onClick:async()=>{try{await cd(JSON.stringify(Ji.parse(a??""))),Rt.success("Copied to clipboard!")}catch{Rt.error("Failed to copy to clipboard.")}}})}),F.jsx(ss,{title:"Format json",children:F.jsx(ct,{size:"small",type:"text",icon:F.jsx(fE,{}),onClick:()=>{if((a||"").trim().length!==0)try{const b=Ji.stringify(Ji.parse(a||""),null,2);t?.(b),u(b)}catch{Ll.error({message:"Invalid format",description:"Unable to format request, invalid JSON format",placement:"top"})}}})}),n&&F.jsx(ct,{size:"small",type:"primary",loading:o,icon:F.jsx(F2,{}),onClick:()=>{try{const b=(a||"").trim().length===0?null:Ji.parse(a||"");n?.({graph:g.getState().decisionGraph,context:b})}catch{Ll.error({message:"Invalid format",description:"Unable to format request, invalid JSON format",placement:"top"})}},children:"Run"})]})]}),F.jsx("div",{className:"grl-dg__simulator__section__content",children:F.jsx(N0,{value:a,onChange:b=>{u(b),t?.(b??"")}})})]}),F.jsx(ud,{}),F.jsxs(tu,{minSize:20,maxSize:20,className:"grl-dg__simulator__section grl-dg__simulator__nodes",children:[F.jsxs("div",{className:"grl-dg__simulator__section__bar grl-dg__simulator__section__bar--nodes",children:[F.jsx("input",{className:"grl-dg__simulator__search",type:"text",placeholder:"Search nodes...",onChange:b=>d(b.target.value)}),F.jsx("div",{className:"grl-dg__simulator__section__bar__actions",children:i&&F.jsx(ss,{title:"Clear",children:F.jsx(ct,{size:"small",type:"text",icon:F.jsx(i2,{}),onClick:()=>{i?.(),x("graph")}})})})]}),F.jsx("div",{className:"grl-dg__simulator__section__content",children:F.jsx(xd,{spinning:o,children:F.jsxs("div",{className:"grl-dg__simulator__nodes-list",children:["graph".includes(l?.toLowerCase()??"")&&F.jsxs("div",{className:Xe("grl-dg__simulator__nodes-list__node",v==="graph"&&"active"),onClick:()=>x("graph"),children:[F.jsx($t.Text,{children:"Graph"}),F.jsx($t.Text,{type:"secondary",children:Ze(w).with({result:Ge._},({result:b})=>b?.performance).otherwise(()=>{})})]}),_.map(b=>F.jsxs("div",{className:Xe("grl-dg__simulator__nodes-list__node",b.nodeId===v&&"active"),onClick:()=>x(b.nodeId),children:[F.jsx($t.Text,{children:b.name}),F.jsx($t.Text,{type:"secondary",children:b.performance})]},b.nodeId))]})})})]}),F.jsx(ud,{}),F.jsxs(tu,{minSize:30,defaultSize:50,className:"grl-dg__simulator__section grl-dg__simulator__response",children:[F.jsx("div",{className:"grl-dg__simulator__section__bar grl-dg__simulator__section__bar--response",children:F.jsx("div",{children:Object.values(Xm).map(b=>F.jsx(ct,{className:"grl-dg__simulator__segmentButton",size:"small",type:"text","data-active":f===b,onClick:()=>h(b),children:b},b))})}),F.jsx("div",{className:"grl-dg__simulator__section__content",children:F.jsx(N0,{readOnly:!0,value:Ze(w).with({result:Ge._},({result:b})=>Ze(v).with("graph",()=>F0({traceData:b?.trace,output:b?.result},f??"Output")).otherwise(()=>F0(b?.trace[v],f??"Output"))).otherwise(()=>"")})})]})]})},F0=(e,t)=>{const n=Ze([t,e]).with(["Output",{output:Ge._}],([,{output:i}])=>i).with(["Input",{input:Ge._}],([,{input:i}])=>i).with(["Trace",{trace:Ge._}],([,{trace:i}])=>i).with(["Trace",{traceData:Ge._}],([,{traceData:i}])=>i).otherwise(()=>({}));return Ji.stringify(n,void 0,2)},N0=({value:e,onChange:t,readOnly:n})=>{const{token:i}=GC.useToken();return F.jsx(hE,{loading:F.jsx(xd,{size:"large"}),language:"javascript",value:e,onChange:t,theme:i.mode==="dark"?"vs-dark":"light",height:"100%",onMount:(o,a)=>{a.languages.typescript.javascriptDefaults.setDiagnosticsOptions({noSyntaxValidation:!0}),a.languages.typescript.javascriptDefaults.setModeConfiguration({codeActions:!1,inlayHints:!1})},options:{readOnly:n,automaticLayout:!0,contextmenu:!1,minimap:{enabled:!1},fontSize:12,fontFamily:"var(--mono-font-family)",tabSize:2,lineDecorationsWidth:2,find:{addExtraSpaceOnTop:!1,seedSearchStringFromSelection:"never"},scrollbar:{verticalSliderSize:4,verticalScrollbarSize:4,horizontalScrollbarSize:4,horizontalSliderSize:4},lineNumbersMinChars:3}})};x4.__docgenInfo={description:"",methods:[],displayName:"GraphSimulator",props:{defaultRequest:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(val: string) => void",signature:{arguments:[{type:{name:"string"},name:"val"}],return:{name:"void"}}},description:""},onRun:{required:!1,tsType:{name:"signature",type:"function",raw:"(payload: { graph: DecisionGraphType; context: unknown }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ graph: DecisionGraphType; context: unknown }",signature:{properties:[{key:"graph",value:{name:"signature",type:"object",raw:`{
  nodes: DecisionNode[];
  edges: DecisionEdge[];
  settings?: DecisionSettings;
}`,signature:{properties:[{key:"nodes",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  name: string;
  description?: string;
  type?: NodeSchema['type'] | string;
  content?: T;
  position: Position;
  [privateSymbol]?: {
    dimensions?: { height?: number; width?: number };
    selected?: boolean;
  };
  _diff?: {
    status: DiffStatus;
    fields?: Record<string, DiffMetadata>;
  };
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!0}},{key:"description",value:{name:"string",required:!1}},{key:"type",value:{name:"union",raw:"NodeSchema['type'] | string",elements:[{name:"z.infer['type']",raw:"NodeSchema['type']"},{name:"string"}],required:!1}},{key:"content",value:{name:"T",required:!1}},{key:"position",value:{name:"signature",type:"object",raw:`{
  x: number;
  y: number;
}`,signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]},required:!0}},{key:"@computed#privateSymbol",value:{name:"signature",type:"object",raw:`{
  dimensions?: { height?: number; width?: number };
  selected?: boolean;
}`,signature:{properties:[{key:"dimensions",value:{name:"signature",type:"object",raw:"{ height?: number; width?: number }",signature:{properties:[{key:"height",value:{name:"number",required:!1}},{key:"width",value:{name:"number",required:!1}}]},required:!1}},{key:"selected",value:{name:"boolean",required:!1}}]},required:!1}},{key:"_diff",value:{name:"signature",type:"object",raw:`{
  status: DiffStatus;
  fields?: Record<string, DiffMetadata>;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}},{key:"fields",value:{name:"Record",elements:[{name:"string"},{name:"signature",type:"object",raw:`{
  status?: DiffStatus;
  previousValue?: T;
  previousIndex?: number;
  currentIndex?: number;
  fields?: Record<string, DiffMetadata>;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}},{key:"previousValue",value:{name:"T",required:!1}},{key:"previousIndex",value:{name:"number",required:!1}},{key:"currentIndex",value:{name:"number",required:!1}},{key:"fields",value:{name:"Record",elements:[{name:"string"},{name:"DiffMetadata"}],raw:"Record<string, DiffMetadata>",required:!1}}]},required:!1}],raw:"Record<string, DiffMetadata>",required:!1}}]},required:!1}}]}}],raw:"DecisionNode[]",required:!0}},{key:"edges",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string;
  name?: string;
  sourceId: string;
  targetId: string;
  sourceHandle?: string | null;
  targetHandle?: string | null;
  type?: string;
  _diff?: {
    status: DiffStatus;
  };
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"name",value:{name:"string",required:!1}},{key:"sourceId",value:{name:"string",required:!0}},{key:"targetId",value:{name:"string",required:!0}},{key:"sourceHandle",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"targetHandle",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"type",value:{name:"string",required:!1}},{key:"_diff",value:{name:"signature",type:"object",raw:`{
  status: DiffStatus;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}}]},required:!1}}]}}],raw:"DecisionEdge[]",required:!0}},{key:"settings",value:{name:"intersection",raw:"z.infer<typeof decisionModelSchema>['settings'] & Diff",elements:[{name:"z.infer['settings']",raw:"z.infer<typeof decisionModelSchema>['settings']"},{name:"signature",type:"object",raw:`{
  _diff?: DiffMetadata<T>;
}`,signature:{properties:[{key:"_diff",value:{name:"signature",type:"object",raw:`{
  status?: DiffStatus;
  previousValue?: T;
  previousIndex?: number;
  currentIndex?: number;
  fields?: Record<string, DiffMetadata>;
}`,signature:{properties:[{key:"status",value:{name:"union",raw:"'added' | 'removed' | 'modified' | 'unchanged' | 'moved'",elements:[{name:"literal",value:"'added'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'modified'"},{name:"literal",value:"'unchanged'"},{name:"literal",value:"'moved'"}],required:!0}},{key:"previousValue",value:{name:"T",required:!1}},{key:"previousIndex",value:{name:"number",required:!1}},{key:"currentIndex",value:{name:"number",required:!1}},{key:"fields",value:{name:"Record",elements:[{name:"string"},{name:"DiffMetadata"}],raw:"Record<string, DiffMetadata>",required:!1}}]},required:!1}}]}}],required:!1}}]},required:!0}},{key:"context",value:{name:"unknown",required:!0}}]}},name:"payload"}],return:{name:"void"}}},description:""},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const w4=(e,t)=>e[t]?.[st.Input]??e[t]?.[st.InferredInput]??gn.fromJson({Object:{}}),Cs=(e,{attachGlobals:t=!0,disabled:n=!1}={})=>{const i=lt(({nodeTypes:o,globalType:a})=>{if(!(!fo()||n))return{nodeTypes:o,globalType:a}});return S.useMemo(()=>{if(!i?.nodeTypes)return;const o=w4(i.nodeTypes,e);return t&&Object.entries(i?.globalType??{}).forEach(([a,u])=>o.set(a,u)),o},[i?.globalType,i?.nodeTypes,t])},Ym=({id:e,manager:t})=>{const n=Tt(),i=Cs(e,{attachGlobals:!1}),{nodeTrace:o,disabled:a,configurable:u,content:l,globalType:d}=lt(({simulate:g,disabled:m,configurable:D,decisionGraph:w,globalType:v})=>({nodeTrace:Ze(g).with({result:Ge._},({result:x})=>x?.trace?.[e]).otherwise(()=>null),disabled:m,configurable:D,content:(w?.nodes??[]).find(x=>x.id===e)?.content,globalType:v})),f=o?.traceData!==void 0?Array.isArray(o?.traceData)?o?.traceData?.map(g=>g?.rule?._id):[o?.traceData?.rule?._id]:[],h=S.useMemo(()=>{if(!i)return;const g=Ze(l?.inputField).with(Ge.string,D=>i.get(D)).otherwise(()=>i),m=l?.executionMode==="loop"?g.arrayItem():g;return Object.entries(d).forEach(([D,w])=>m.set(D,w)),m},[i,d,l?.inputField,l?.executionMode]);return F.jsx(tE,{tableHeight:"100%",value:l,onChange:g=>{n.updateNode(e,m=>(Object.assign(m.content,g),m))},manager:t,disabled:a,configurable:u,inputData:h,activeRules:(f||[]).filter(g=>!!g)})};Ym.__docgenInfo={description:"",methods:[],displayName:"TabDecisionTable",props:{id:{required:!0,tsType:{name:"string"},description:""},manager:{required:!1,tsType:{name:"DragDropManager"},description:""}}};const Yd={type:Ye.DecisionTable,icon:F.jsx(B2,{}),displayName:"Decision table",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/decision-tables",shortDescription:"Rules spreadsheet",renderTab:({id:e,manager:t})=>F.jsx(Ym,{id:e,manager:t}),getDiffContent:(e,t)=>yt(e,n=>{const i={};(e.executionMode??"single")!==(t.executionMode??"single")&&Et.set(i,"executionMode",{status:"modified",previousValue:t.executionMode}),(e.hitPolicy??"first")!==(t.hitPolicy??"first")&&Et.set(i,"hitPolicy",{status:"modified",previousValue:t.hitPolicy}),(e.inputField??"")!==(t.inputField??"")&&Et.set(i,"inputField",{status:"modified",previousValue:t.inputField}),(e.outputPath??"")!==(t.outputPath??"")&&Et.set(i,"outputPath",{status:"modified",previousValue:t.outputPath}),(e.passThrough??!1)!==(t.passThrough??!1)&&Et.set(i,"passThrough",{status:"modified",previousValue:t.passThrough});const o=po(e?.inputs||[],t?.inputs||[],{compareFields:(l,d)=>{const f=(l.name??"")!==(d.name??""),h=(l.field??"")!==(d.field??""),g=(l.defaultValue??"")!==(d.defaultValue??"");return{hasChanges:f||h||g,fields:{...f&&{name:{status:"modified",previousValue:d.name}},...h&&{field:{status:"modified",previousValue:d.field}},...g&&{defaultValue:{status:"modified",previousValue:d.defaultValue}}}}}}),a=po(e?.outputs||[],t?.outputs||[],{compareFields:(l,d)=>{const f=(l.name??"")!==(d.name??""),h=(l.field??"")!==(d.field??""),g=(l.defaultValue??"")!==(d.defaultValue??"");return{hasChanges:f||h||g,fields:{...f&&{name:{status:"modified",previousValue:d.name}},...h&&{field:{status:"modified",previousValue:d.field}},...g&&{defaultValue:{status:"modified",previousValue:d.defaultValue}}}}}}),u=po(e?.rules||[],t?.rules||[],{idField:"_id",compareFields:(l,d)=>{const f=(l._description??"")!==(d._description??""),h={};o.forEach(m=>{m._diff?.status==="added"?h[m.id]={status:"added"}:m._diff?.status==="removed"?h[m.id]={status:"removed"}:(l?.[m.id]??"")!==(d?.[m.id]??"")&&(h[m.id]={status:"modified",previousValue:d?.[m.id]})});const g={};return a.forEach(m=>{m?._diff?.status==="added"?g[m.id]={status:"added"}:m?._diff?.status==="removed"?g[m.id]={status:"removed"}:(l?.[m.id]??"")!==(d?.[m.id]??"")&&(g[m.id]={status:"modified",previousValue:d?.[m.id]})}),{hasChanges:f||Object.keys(h).length>0||Object.keys(g).length>0,fields:{...f&&{_description:{status:"modified",previousValue:d._description}},...h,...g}}}});return n.inputs=o,n.outputs=a,n.rules=u,o.find(l=>l?._diff?.status==="modified"||l?._diff?.status==="added"||l?._diff?.status==="removed")&&Et.set(i,"inputs",{status:"modified"}),a.find(l=>l?._diff?.status==="modified"||l?._diff?.status==="added"||l?._diff?.status==="removed")&&Et.set(i,"outputs",{status:"modified"}),u.find(l=>l?._diff?.status==="modified"||l?._diff?.status==="added"||l?._diff?.status==="removed")&&Et.set(i,"rules",{status:"modified"}),Object.keys(i).length>0&&(n._diff={status:"modified",fields:i}),n}),inferTypes:{needsUpdate:(e,t)=>!mn(e,t),determineOutputType:({content:e,input:t})=>{let n=t.clone(),i=gn.fromJson({Object:{}});if(e.inputField&&(n=t.calculateType(e.inputField)),e.executionMode==="loop"&&(n=n.arrayItem()),(e?.outputs||[]).filter(a=>!!a.field).forEach(a=>{for(const u of e.rules){if(!u[a.id])continue;const l=n.calculateType(u[a.id]),d=l.toJson();if(d!=="Any"&&d!=="Null"){i.set(a.field,l);return}}i.setJson(a.field,"Any")}),e.hitPolicy==="collect"&&(i=i.toArray()),e.executionMode==="loop"&&(i=i.toArray()),e.outputPath){const a=gn.fromJson({Object:{}});a.set(e.outputPath,i),i=a}return e.passThrough&&(i=t.merge(i)),i}},generateNode:({index:e})=>({name:`decisionTable${e}`,content:{hitPolicy:"first",inputs:[{id:crypto.randomUUID(),name:"Input"}],outputs:[{id:crypto.randomUUID(),field:"output",name:"Output"}],rules:[],inputField:null,outputPath:null,passThrough:!0,executionMode:"single"}}),renderNode:({id:e,data:t,selected:n,specification:i})=>{const o=Tt(),{passThrough:a,executionMode:u}=lt(({decisionGraph:l})=>{const d=(l?.nodes??[]).find(f=>f.id===e)?.content;return{passThrough:d?.passThrough||!1,executionMode:d?.executionMode}});return F.jsx(ei,{id:e,specification:i,name:t.name,isSelected:n,helper:[u==="loop"&&F.jsx(ig,{}),a&&F.jsx(Dd,{})],actions:[F.jsx(ct,{type:"text",onClick:()=>o.openTab(e),children:"Edit Table"},"edit-table")]})},renderSettings:({id:e})=>{const t=Tt(),n=Cs(e),{contentDiff:i}=zu(e),{fields:o,disabled:a}=lt(({decisionGraph:l,disabled:d})=>{const f=(l?.nodes??[]).find(h=>h.id===e)?.content;return{disabled:d,fields:{passThrough:f?.passThrough||!1,inputField:f?.inputField,outputPath:f?.outputPath,executionMode:f?.executionMode||"single",hitPolicy:f?.hitPolicy||"first"}}}),u=l=>{t.updateNode(e,d=>(Object.assign(d.content,l),d))};return F.jsxs("div",{className:"settings-form",children:[F.jsx(wr.Item,{label:"Hit Policy",children:F.jsx(nE,{direction:"vertical",size:2,children:F.jsx($l,{size:"small",previousValue:i?.fields?.hitPolicy?.previousValue,displayDiff:i?.fields?.hitPolicy?.status==="modified",disabled:a,value:o?.hitPolicy,onChange:l=>u({hitPolicy:l?.target?.value}),options:[{value:"first",label:"First"},{value:"collect",label:"Collect"}]})})}),F.jsx(wr.Item,{label:"Passthrough",children:F.jsx(Z0,{disabled:a,size:"small",displayDiff:i?.fields?.passThrough?.status==="modified",checked:o?.passThrough,previousChecked:i?.fields?.passThrough?.previousValue,onChange:l=>u({passThrough:l})})}),F.jsx(wr.Item,{label:"Input field",children:F.jsx(Au,{variableType:n,disabled:a,displayDiff:i?.fields?.inputField?.status==="modified",previousValue:i?.fields?.inputField?.previousValue,style:{fontSize:12,lineHeight:"20px",width:"100%"},expectedVariableType:o?.executionMode==="loop"?{Array:"Any"}:void 0,maxRows:4,value:o?.inputField??"",onChange:l=>u({inputField:l?.trim()||null})})}),F.jsx(wr.Item,{label:"Output path",children:F.jsx(j0,{size:"small",readOnly:a,displayDiff:i?.fields?.outputPath?.status==="modified",previousValue:i?.fields?.outputPath?.previousValue,value:o?.outputPath??"",onChange:l=>u({outputPath:l?.target?.value?.trim()||null})})}),F.jsx(wr.Item,{label:"Execution mode",children:F.jsx($l,{size:"small",disabled:a,displayDiff:i?.fields?.executionMode?.status==="modified",previousValue:i?.fields?.executionMode?.previousValue,value:o?.executionMode,onChange:l=>u({executionMode:l?.target?.value}),options:[{value:"single",label:"Single"},{value:"loop",label:"Loop"}]})})]})}},Km=({id:e,manager:t})=>{const n=Tt(),i=Cs(e,{attachGlobals:!1}),{disabled:o,configurable:a,content:u,trace:l,globalType:d}=lt(({disabled:h,configurable:g,decisionGraph:m,simulate:D,globalType:w})=>({disabled:h,configurable:g,content:(m?.nodes??[]).find(v=>v.id===e)?.content,trace:D&&"result"in D?D.result?.trace[e]:void 0,globalType:w})),f=S.useMemo(()=>{if(!i)return;const h=Ze(u?.inputField).with(Ge.string,m=>i.get(m)).otherwise(()=>i),g=u?.executionMode==="loop"?h.arrayItem():h;return Object.entries(d).forEach(([m,D])=>g.set(m,D)),g},[i,d,u?.inputField,u?.executionMode]);return F.jsx("div",{style:{height:"100%",overflowY:"auto",boxSizing:"border-box"},children:F.jsx(lE,{traceData:l?.traceData,value:u?.expressions,disabled:o,configurable:a,manager:t,inputData:f,onChange:h=>{n.updateNode(e,g=>(g.content.expressions=h,g))}})})};Km.__docgenInfo={description:"",methods:[],displayName:"TabExpression",props:{id:{required:!0,tsType:{name:"string"},description:""},manager:{required:!1,tsType:{name:"DragDropManager"},description:""}}};const Kd={type:Ye.Expression,icon:F.jsx(b2,{}),displayName:"Expression",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/expression",shortDescription:"Mapping utility",renderTab:({id:e,manager:t})=>F.jsx(Km,{id:e,manager:t}),getDiffContent:(e,t)=>yt(e,i=>{const o={};(e.executionMode||!1)!==(t.executionMode||!1)&&Et.set(o,"executionMode",{status:"modified",previousValue:t.executionMode}),qa(e.inputField,t.inputField)||Et.set(o,"inputField",{status:"modified",previousValue:t.inputField}),qa(e.outputPath,t.outputPath)||Et.set(o,"outputPath",{status:"modified",previousValue:t.outputPath}),(e.passThrough||!1)!==(t.passThrough||!1)&&Et.set(o,"passThrough",{status:"modified",previousValue:t.passThrough});const a=po(e?.expressions||[],t?.expressions||[],{compareFields:(u,l)=>{const d=!qa(u.key,l.key),f=!qa(u.value,l.value);return{hasChanges:d||f,fields:{...d&&{key:{status:"modified",previousValue:l.key}},...f&&{value:{status:"modified",previousValue:l.value}}}}}});return i.expressions=a,a.find(u=>u?._diff?.status==="modified"||u?._diff?.status==="added"||u?._diff?.status==="removed")&&Et.set(o,"expressions",{status:"modified"}),Object.keys(o).length>0&&(i._diff={status:"modified",fields:o}),i}),inferTypes:{needsUpdate:(e,t)=>!mn(e,t),determineOutputType:({input:e,content:t})=>{let n=e.clone(),i=gn.fromJson({Object:{}});if(t.inputField&&(n=e.calculateType(t.inputField)),t.executionMode==="loop"&&(n=n.arrayItem()),(t.expressions||[]).forEach(o=>{if(!o.key||!o.value)return;const a=n.calculateType(o.value);n.set(`$.${o.key}`,a),i.set(o.key,a)}),t.executionMode==="loop"&&(i=i.toArray()),t.outputPath){const o=gn.fromJson({Object:{}});o.set(t.outputPath,i),i=o}return t.passThrough&&(i=e.merge(i)),i}},generateNode:({index:e})=>({name:`expression${e}`,content:{inputField:null,outputPath:null,expressions:[],passThrough:!0,executionMode:"single"}}),renderNode:({id:e,data:t,selected:n,specification:i})=>{const o=Tt(),{passThrough:a,executionMode:u}=lt(({decisionGraph:l})=>{const d=(l?.nodes??[]).find(f=>f.id===e)?.content;return{passThrough:d?.passThrough||!1,executionMode:d?.executionMode}});return F.jsx(ei,{id:e,specification:i,name:t.name,isSelected:n,actions:[F.jsx(ct,{type:"text",onClick:()=>o.openTab(e),children:"Edit Expression"},"edit-table")],helper:[u==="loop"&&F.jsx(ig,{}),a&&F.jsx(Dd,{})]})},renderSettings:({id:e})=>{const t=Tt(),n=Cs(e),{contentDiff:i}=zu(e),{fields:o,disabled:a}=lt(({decisionGraph:l,disabled:d})=>{const f=(l?.nodes??[]).find(h=>h.id===e)?.content;return{disabled:d,fields:{passThrough:f?.passThrough||!1,inputField:f?.inputField,outputPath:f?.outputPath,executionMode:f?.executionMode||"single"}}}),u=l=>{t.updateNode(e,d=>(Object.assign(d.content,l),d))};return F.jsxs("div",{className:"settings-form",children:[F.jsx(wr.Item,{label:"Passthrough",children:F.jsx(Z0,{disabled:a,size:"small",displayDiff:i?.fields?.passThrough?.status==="modified",checked:o?.passThrough,previousChecked:i?.fields?.passThrough?.previousValue,onChange:l=>u({passThrough:l})})}),F.jsx(wr.Item,{label:"Input field",children:F.jsx(Au,{variableType:n,disabled:a,displayDiff:i?.fields?.inputField?.status==="modified",previousValue:i?.fields?.inputField?.previousValue,style:{fontSize:12,lineHeight:"20px",width:"100%"},expectedVariableType:o?.executionMode==="loop"?{Array:"Any"}:void 0,maxRows:4,value:o?.inputField??"",onChange:l=>{u({inputField:l?.trim()||null})}})}),F.jsx(wr.Item,{label:"Output path",children:F.jsx(j0,{size:"small",readOnly:a,displayDiff:i?.fields?.outputPath?.status==="modified",previousValue:i?.fields?.outputPath?.previousValue,value:o?.outputPath??"",onChange:l=>u({outputPath:l?.target?.value?.trim()||null})})}),F.jsx(wr.Item,{label:"Execution mode",children:F.jsx($l,{size:"small",disabled:a,displayDiff:i?.fields?.executionMode?.status==="modified",previousValue:i?.fields?.executionMode?.previousValue,value:o?.executionMode,onChange:l=>u({executionMode:l?.target?.value}),options:[{value:"single",label:"Single"},{value:"loop",label:"Loop"}]})})]})}},C4=j.lazy(async()=>({default:(await gE(()=>import("./index-2uN6teXX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url)).Function})),Jm=({id:e})=>{const t=Qm(e),n=Tt(),i=ny(v=>v.onFunctionReady),[o,a]=S.useState(),u=Cs(e),{nodeTrace:l,disabled:d,content:f,additionalModules:h,nodeError:g}=lt(({simulate:v,disabled:x,configurable:_,decisionGraph:b})=>({nodeTrace:Ze(v).with({result:Ge._},({result:I})=>I?.trace?.[e]).otherwise(()=>null),nodeError:Ze(v).with({error:{data:{nodeId:e}}},({error:I})=>I).otherwise(()=>null),disabled:x,configurable:_,content:(b?.nodes??[]).find(I=>I.id===e)?.content,additionalModules:(b?.nodes??[]).filter(I=>I.type==="functionNode").map(I=>({id:I.id,name:I.name,content:I.content}))})),{diff:m,contentDiff:D}=zu(e),w=S.useMemo(()=>t===nu.Stable?D?.fields?.source?.previousValue:m?.fields?.content?.previousValue,[m,D]);return S.useEffect(()=>{if(!o)return;const v=o.languages.typescript.javascriptDefaults.getExtraLibs(),x=Object.entries(v).map(([_,b])=>({filePath:_,content:b.content})).filter(_=>!_.filePath.startsWith("node:"));h.forEach(_=>{x.push({filePath:`node:${_.name}`,content:`declare module 'node:${_.name}' { ${_.content} }`})}),o.languages.typescript.javascriptDefaults.setExtraLibs(x),i?.(o)},[JSON.stringify(h),o,i]),F.jsx(S.Suspense,{fallback:F.jsx(xd,{}),children:F.jsx(C4,{onMonacoReady:v=>a(v),value:t===nu.Stable?f.source:f,previousValue:typeof w=="string"?w:void 0,error:g??void 0,inputData:u,onChange:v=>{n.updateNode(e,x=>(t===nu.Stable?x.content={source:v}:x.content=v,x))},disabled:d,trace:l})})};Jm.__docgenInfo={description:"",methods:[],displayName:"TabFunction",props:{id:{required:!0,tsType:{name:"string"},description:""}}};const Jd={type:Ye.Function,icon:F.jsx($t.Text,{style:{color:"white"},children:"JS"}),displayName:"Function",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/functions",shortDescription:"Javascript lambda",color:Ni.Orange,renderTab:({id:e})=>F.jsx(Jm,{id:e}),getDiffContent:(e,t)=>{const n={},i=Ze(e).with(Ge.string,()=>0).otherwise(()=>1);Ze([e,t]).with([Ge.string,Ge.string],([a,u])=>{a!==u&&Et.set(n,"source",{previousValue:u,status:"modified"})}).with([{source:Ge.string},{source:Ge.string}],([a,u])=>{a?.source!==u?.source&&Et.set(n,"source",{previousValue:u.source,status:"modified"})}).otherwise(()=>{});const o=Object.keys(n).length>0;return{...i===0?{source:e}:e,...o&&{_diff:{status:"modified",fields:n}}}},generateNode:({index:e})=>({name:`function${e}`,content:{source:pE}}),renderNode:({id:e,data:t,selected:n,specification:i})=>{const o=Tt(),a=Qm(e);return F.jsx(ei,{id:e,specification:{...i,displayName:a===1?"Function":F.jsxs("span",{children:["Function v1 ",F.jsx(T0,{})]})},name:t.name,isSelected:n,helper:[a===0&&F.jsx(T0,{size:16})],actions:[F.jsx(ct,{type:"text",onClick:()=>o.openTab(e),children:"Edit Function"},"edit-function")]})}};var nu=(e=>(e[e.Deprecated=0]="Deprecated",e[e.Stable=1]="Stable",e))(nu||{});const Qm=e=>{const{kind:t}=lt(n=>({kind:Ze(n.decisionGraph.nodes.find(i=>i.id===e)?.content).with(Ge.string,()=>0).otherwise(()=>1)}));return t},T0=({size:e})=>F.jsx(ss,{placement:"top",title:'Function v1 will be deprecated in one of the upcoming releases. To use a new Function, drag and drop a new Function Node and copy your logic. For more information click "Documentation". ',children:F.jsx(O2,{style:{color:"var(--grl-color-warning-text)",fontSize:e}})}),ey={type:Ye.Switch,icon:F.jsx(t2,{}),displayName:"Switch",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions/switch",shortDescription:"Conditional branching",color:Ni.Purple,getDiffContent:(e,t)=>yt(e,n=>{const i={};(e.hitPolicy??"")!==(t.hitPolicy??"")&&Et.set(i,"hitPolicy",{status:"modified",previousValue:e.hitPolicy});const o=po(e?.statements||[],t?.statements||[],{compareFields:(a,u)=>{const l=(a.condition??"")!==u.condition;return{hasChanges:l,fields:{...l&&{condition:{status:"modified",previousValue:u.condition}}}}}});return n.statements=o,o.find(a=>a?._diff?.status==="modified"||a?._diff?.status==="added"||a?._diff?.status==="removed")&&Et.set(i,"statements",{status:"modified"}),Object.keys(i).length>0&&(n._diff={status:"modified",fields:i}),n}),inferTypes:{needsUpdate:()=>!1,determineOutputType:e=>e.input},generateNode:({index:e})=>({name:`switch${e}`,content:{hitPolicy:"first",statements:[{id:crypto.randomUUID(),condition:"",isDefault:!1}]}}),renderNode:({specification:e,...t})=>F.jsx(E4,{specification:e,...t})},E4=({id:e,data:t,selected:n,specification:i})=>{const o=Tt(),{content:a,disabled:u,nodeTrace:l,compactMode:d,isGraphActive:f}=lt(({decisionGraph:v,disabled:x,simulate:_,compactMode:b,activeTab:I})=>({nodeTrace:Ze(_).with({result:Ge._},({result:N})=>N?.trace?.[e]).otherwise(()=>null),content:(v?.nodes||[]).find(N=>N?.id===e)?.content,disabled:x,compactMode:b,isGraphActive:I==="graph"})),h=Cs(e,{disabled:!f}),g=a?.statements||[],m=a?.hitPolicy||"first",D=v=>{o.updateNode(e,x=>(x.content.hitPolicy=v,x))},w=S.useMemo(()=>d?A4:b4,[d]);return F.jsx(ei,{id:e,className:Xe(["switch"]),specification:i,name:t.name,handleRight:!1,helper:[F.jsx(Dd,{},"arrow-right")],noBodyPadding:!0,isSelected:n,actions:[F.jsx(ct,{type:"text",disabled:u,onClick:()=>{m==="first"&&g?.length>0?o.updateNode(e,v=>(v.content.statements=(v.content.statements||[]).map(x=>(x.isDefault&&(x.isDefault=!1),x)),v.content.statements.push({id:crypto.randomUUID(),condition:"",isDefault:!0}),v)):o.updateNode(e,v=>(v.content.statements=(v.content.statements||[]).map(x=>(x.isDefault&&(x.isDefault=!1),x)),v.content.statements.push({id:crypto.randomUUID(),condition:"",isDefault:!1}),v))},children:"Add Condition"},"add condition"),F.jsx(mo,{trigger:["click"],placement:"bottomRight",menu:{items:[{key:"first",label:"First",onClick:()=>D("first"),disabled:u},{key:"collect",label:"Collect",disabled:u,onClick:()=>{o.updateNode(e,v=>(v.content.statements=(v.content.statements||[]).map(x=>(x.isDefault&&(x.isDefault=!1),x)),v)),D("collect")}}]},children:F.jsxs(ct,{type:"text",style:{textTransform:"capitalize",marginLeft:"auto"},children:[m," ",F.jsx(aE,{})]})},"hitPolicy")],children:F.jsx("div",{className:"switchNode",children:F.jsxs("div",{className:"switchNode__body edit nodrag",children:[!(g?.length>0)&&F.jsx($t.Text,{type:"secondary",className:"no-conditions",children:"No conditions"}),g.map((v,x)=>F.jsx(w,{index:x,value:v.condition,diff:v?._diff,id:v.id,isDefault:v.isDefault,totalStatements:g.length,disabled:u,hitPolicy:m,variableType:h,onSetIsDefault:_=>{o.updateNode(e,b=>{const I=b.content.statements.find(N=>N.id===v.id);return _&&(I.condition=""),I.isDefault=_,b})},isActive:Ze(l?.traceData).with({statements:Ge.array(Ge._)},({statements:_})=>_.some(b=>typeof b=="object"&&b&&"id"in b&&b.id===v?.id)).otherwise(()=>!1),onDelete:()=>{o.updateNode(e,_=>(_.content.statements=_.content.statements.filter(b=>b?.id!==v?.id),(_.content.statements||[]).length===1&&(_.content.statements=(_.content.statements||[]).map(b=>(b.isDefault&&(b.isDefault=!1),b))),_)),o.removeEdgeByHandleId(v?.id)},onChange:_=>{o.updateNode(e,b=>{const I=b.content.statements.find(N=>N.id===v.id);return I.condition=_,b})}},v.id))]})})})},b4=({id:e,value:t,diff:n,onChange:i,disabled:o,configurable:a=!0,onDelete:u,isActive:l,index:d=0,isDefault:f=!1,onSetIsDefault:h,totalStatements:g,hitPolicy:m,variableType:D})=>{const[w,v]=S.useState(t);S.useLayoutEffect(()=>{w!==t&&v(t)},[t]);const x=I=>{v(I),i?.(I)},_=d===g-1,b=f&&m==="first"&&_&&d>0&&(t||"")?.trim?.()?.length===0;return F.jsxs("div",{className:Xe("switchNode__statement",l&&"active",n?.status&&`diff-${n?.status}`),children:[F.jsxs("div",{className:Xe("switchNode__statement__heading",b&&"switchNode__statement__heading--without-input"),children:[(d===0||m==="collect")&&F.jsx(ct,{disabled:o,className:Xe("switchNode__statement__heading__action"),size:"small",type:"text",children:"If"}),m!=="collect"&&d>0&&F.jsx(ct,{className:Xe("switchNode__statement__heading__action",b&&"inactive"),size:"small",type:"text",disabled:o,onClick:()=>{_&&m==="first"&&h?.(!1)},children:"Else If"}),m!=="collect"&&d>0&&_&&F.jsx(ct,{className:Xe("switchNode__statement__heading__action",!b&&"inactive"),size:"small",type:"text",disabled:o,onClick:()=>{_&&m==="first"&&h?.(!0)},children:"Else"}),F.jsx("div",{style:{flexGrow:1}}),!o&&a&&F.jsx(H0,{title:"Remove condition?",okText:"Remove",onConfirm:()=>u?.(),children:F.jsx(ct,{className:"switchNode__statement__delete",size:"small",type:"text",icon:F.jsx(Su,{})})}),F.jsx(Xr,{id:e,type:"source",position:De.Right,className:Xe(l&&"switchNode__activeHandle")})]}),!b&&F.jsx("div",{className:"switchNode__statement__inputArea",children:F.jsx(Au,{style:{fontSize:12,lineHeight:"20px",width:"100%"},displayDiff:n?.fields?.condition?.status==="modified",previousValue:n?.fields?.condition?.previousValue,value:w,maxRows:4,disabled:o,onChange:x,variableType:D})})]})},A4=({id:e,value:t,diff:n,onChange:i,disabled:o,configurable:a=!0,onDelete:u,isActive:l,variableType:d})=>{const[f,h]=S.useState(t);S.useLayoutEffect(()=>{f!==t&&h(t)},[t]);const g=m=>{h(m),i?.(m)};return F.jsxs("div",{className:Xe("switchNode__statement","compact",l&&"active",n?.status&&`diff-${n?.status}`),children:[F.jsx("div",{className:Xe("switchNode__statement__inputArea"),children:F.jsx(Au,{style:{fontSize:12,lineHeight:"20px",width:"100%"},displayDiff:n?.fields?.condition?.status==="modified",previousValue:n?.fields?.condition?.previousValue,value:f,maxRows:4,disabled:o,onChange:g,variableType:d})}),!o&&a&&F.jsx("div",{className:"switchNode__statement__button",children:F.jsx(H0,{title:"Remove condition?",okText:"Remove",onConfirm:()=>u?.(),children:F.jsx(ct,{className:"switchNode__statement__delete",size:"small",type:"text",icon:F.jsx(Su,{})})})}),F.jsx(Xr,{id:e,type:"source",position:De.Right,className:Xe(l&&"switchNode__activeHandle")})]})},qa=(e,t)=>{const n=(e||"").trim(),i=(t||"").trim();return n===i},S4=(e,t,n)=>{const i=F4(e?.nodes??[],t?.nodes??[],n),o=N4(e?.edges??[],t?.edges??[]);return{nodes:i,edges:o,settings:e?.settings}},F4=(e,t,n)=>{const i=n?.components||[],o=n?.customNodes||[],a=new Map;return(e||[]).forEach(u=>{const l=(t||[]).find(d=>d.id===u.id);if(!l)a.set(u.id,{...u,_diff:{status:"added"}});else{const d={};(l.position.x!==u.position.x||l.position.y!==u.position.y)&&Et.set(d,"position",{status:"moved",previousValue:l.position}),l.name!==u.name&&Et.set(d,"name",{status:"modified",previousValue:l.name});const f=Ze([u.type,l.type]).with([Ye.Expression,Ye.Expression],()=>Kd?.getDiffContent?.(u?.content,l?.content)).with([Ye.DecisionTable,Ye.DecisionTable],()=>Yd?.getDiffContent?.(u?.content,l?.content)).with([Ye.Function,Ye.Function],()=>{const h=Jd?.getDiffContent?.(u?.content,l?.content);return Ze(u?.content).with(Ge.string,()=>(h?._diff?.fields?.source?.status==="modified"&&Et.set(d,"content",{status:"modified",previousValue:h?._diff?.fields?.source?.previousValue}),h?.source)).otherwise(()=>h)}).with([Ye.Switch,Ye.Switch],()=>ey?.getDiffContent?.(u?.content,l?.content)).otherwise(()=>{const h=i.find(m=>m.type===u.type);if(h)return h?.getDiffContent?.(u?.content,l?.content);const g=o.find(m=>u?.type==="customNode"&&u?.content?.kind===m?.kind);return g?g?.calculateDiff?.(u?.content,l?.content):null});Object.keys(d||{}).filter(h=>h!=="position").length>0||f?._diff?.status==="modified"?a.set(u.id,{...u,content:f??u.content,_diff:{status:"modified",fields:d}}):Object.keys(d||{}).length===1&&d?.position?.status==="moved"?a.set(u.id,{...u,content:f??u.content,_diff:{status:"moved",fields:d}}):a.set(u.id,{...u,_diff:{status:"unchanged"}})}}),(t||[]).forEach(u=>{a.has(u.id)||a.set(u.id,{...u,_diff:{status:"removed"}})}),Array.from(a.values())},N4=(e,t)=>{const n=new Map;return(e||[]).forEach(i=>{(t||[]).find(a=>a.id===i.id)?n.set(i.id,{...i,_diff:{status:"unchanged"}}):n.set(i.id,{...i,_diff:{status:"added"}})}),(t||[]).forEach(i=>{n.has(i.id)||n.set(i.id,{...i,_diff:{status:"removed"}})}),Array.from(n.values())},po=(e,t,n={})=>{const{idField:i="id",compareFields:o}=n,a=m=>m[i]||m._id,u=new Map(t.map((m,D)=>[a(m),{...m,index:D}])),l=new Map(e.map((m,D)=>[a(m),{...m,index:D}])),d=[],f=new Set,h=new Set;e.forEach((m,D)=>{u.has(a(m))||f.add(D)}),t.forEach((m,D)=>{l.has(a(m))||h.add(D)});const g=(m,D)=>{const w=Array.from(f).filter(b=>b<D).length,v=Array.from(h).filter(b=>b<m).length,x=D-w;return m-v!==x};return e.forEach((m,D)=>{const w=u.get(a(m));if(!w)d.push({...m,originalIndex:D,_diff:{status:"added",newIndex:D}});else{const v=g(w.index,D),x=o?o(m,w):{hasChanges:!1};x.hasChanges||v?d.push({...m,originalIndex:D,_diff:{status:"modified",positionChanged:v,previousIndex:w.index,newIndex:D,...x.fields?{fields:x.fields}:{}}}):d.push({...m,originalIndex:D,_diff:{status:"unchanged"}})}}),t.forEach((m,D)=>{if(!l.has(a(m))){let w=D;for(;w<d.length&&u.get(a(d[w]))?.index<D;)w++;d.splice(w,0,{...m,originalIndex:D,isRemoved:!0,_diff:{status:"removed",previousIndex:D}})}}),d.map(({originalIndex:m,isRemoved:D,...w})=>w)},nn=Symbol("private"),T4=e=>({id:e?.id,sourceId:e?.source,type:e?.type,targetId:e?.target,name:e?.label,sourceHandle:e.sourceHandle??void 0,targetHandle:e.targetHandle??void 0}),ld=e=>({id:e.id,type:e.type,position:e.position,height:e[nn]?.dimensions?.height,width:e[nn]?.dimensions?.width,selected:e[nn]?.selected,data:{name:e.name,kind:e?.content?.kind}}),uo=e=>e.map(ld),dd=e=>({id:e.id,source:e.sourceId,type:e?.type||"edge",target:e.targetId,label:e.name,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle,markerEnd:{type:Co.ArrowClosed,width:20,height:20}}),fd=e=>e.filter(t=>t.sourceId&&t.targetId).map(dd);var st=(e=>(e[e.Input=0]="Input",e[e.Output=1]="Output",e[e.InferredInput=2]="InferredInput",e[e.InferredOutput=3]="InferredOutput",e))(st||{});const Es=j.createContext({}),ty=e=>{const{children:t}=e,n=S.useMemo(()=>Cl()(()=>({id:void 0,simulate:void 0,decisionGraph:{nodes:[],edges:[]},hoveredEdgeId:null,openTabs:[],activeTab:"graph",name:"graph.json",disabled:!1,configurable:!0,components:[],customNodes:[],activePanel:void 0,panels:[],compactMode:localStorage.getItem("jdm-compact-mode")==="true",nodeTypes:{},globalType:{}})),[]),i=S.useMemo(()=>Cl(()=>({onChange:void 0,onPanelsChange:void 0})),[]),o=S.useMemo(()=>Cl(()=>({nodesState:S.createRef(),edgesState:S.createRef(),graphClipboard:S.createRef()})),[]),a=S.useMemo(()=>({handleNodesChange:(u=[])=>{const{nodesState:l}=o.getState(),{decisionGraph:d}=n.getState(),[,,f]=l.current;let h=!1;f?.(u);const g=yt(d,m=>{u.forEach(D=>Ze(D).with({type:"position"},w=>{const v=m.nodes.find(x=>x.id===w.id);v&&w.position&&!mn(v.position,w.position)&&(h=!0,v.position=w.position)}).with({type:"dimensions"},w=>{const v=m.nodes.find(x=>x.id===w.id);v&&!mn(v[nn]?.dimensions,w.dimensions)&&(h=!0,v[nn]??={},v[nn].dimensions={height:w.dimensions?.height,width:w.dimensions?.width})}).with({type:"select"},w=>{const v=m.nodes.find(x=>x.id===w.id);v&&v[nn]?.selected!==w.selected&&(h=!0,v[nn]??={},v[nn].selected=w.selected)}).otherwise(()=>{}))});h&&(n.setState({decisionGraph:g}),i.getState().onChange?.(g))},handleEdgesChange:(u=[])=>{const{decisionGraph:l}=n.getState(),{edgesState:d}=o.getState();if(d?.current?.[2](u),u.find(f=>f.type==="remove")){const f=yt(l,h=>{const g=(h.edges||[]).map(m=>u.find(w=>"id"in w&&w.id===m.id)?.type==="remove"?null:m).filter(m=>!!m);h.edges=g});n.setState({decisionGraph:f}),i.getState().onChange?.(f)}},setNodes:(u=[])=>{const{nodesState:l}=o.getState(),{decisionGraph:d}=n.getState();l?.current?.[1](uo(u));const f=yt(d,h=>{h.nodes=u});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},addNodes:u=>{const{nodesState:l}=o.getState(),{decisionGraph:d}=n.getState();l.current[0]?.some(g=>g.type===Ye.Input)&&(u=u.filter(g=>g.type!==Ye.Input)),l.current[1]?.(g=>g.concat(uo(u)));const h=yt(d,g=>{g.nodes=(g.nodes||[]).concat(u)});n.setState({decisionGraph:h}),i.getState().onChange?.(h)},duplicateNodes:u=>{const{nodesState:l,edgesState:d}=o.getState(),{decisionGraph:f}=n.getState();let h=(f?.nodes||[]).filter(_=>u.includes(_.id));if(l.current[0]?.some(_=>_.type===Ye.Input)&&(h=h.filter(_=>_.type!==Ye.Input)),h.length===0)return;const m=h.reduce((_,b)=>({..._,[b.id]:crypto.randomUUID()}),{}),D=h.map(_=>({..._,id:m[_.id],position:{x:_.position?.x||0,y:(_.position?.y||0)+140}})),w=Object.keys(m),v=[];D.length>0&&(d.current?.[0]||[]).forEach(_=>{w.includes(_.source)&&w.includes(_.target)&&v.push({id:crypto.randomUUID(),type:_.type,sourceId:m[_.source],targetId:m[_.target],sourceHandle:_.sourceHandle??void 0,targetHandle:_.targetHandle??void 0})}),l.current[1]?.(_=>_.concat(D.map(ld))),d.current[1]?.(_=>_.concat(v.map(dd)));const x=yt(f,_=>{_.nodes.push(...D),_.edges.push(...v)});n.setState({decisionGraph:x}),i.getState().onChange?.(x)},copyNodes:u=>{const{graphClipboard:l,nodesState:d}=o.getState();if(!l.current||!d.current)return;const[f]=d.current,h=f.filter(g=>u.includes(g.id));l.current.copyNodes(h)},pasteNodes:()=>{const{graphClipboard:u}=o.getState();u.current?.pasteNodes?.()},removeNodes:(u=[])=>{const{nodesState:l,edgesState:d}=o.getState(),{decisionGraph:f,nodeTypes:h}=n.getState();l.current[1]?.(D=>D.filter(w=>u.every(v=>w.id!==v))),d.current[1]?.(D=>D.filter(w=>u.every(v=>w.source!==v&&w.target!==v&&w.sourceHandle!==v&&w.targetHandle!==v)));const g=yt(f,D=>{const w=D.nodes||[],v=D.edges||[];D.nodes=w.filter(x=>u.every(_=>x.id!==_)),D.edges=v.filter(x=>u.every(_=>x.sourceId!==_&&x.targetId!==_&&x.sourceHandle!==_&&x.targetHandle!==_))}),m=yt(h,D=>{u.forEach(w=>{w in D&&delete D[w]})});n.setState({decisionGraph:g,nodeTypes:m}),i.getState().onChange?.(g)},addEdges:u=>{const{edgesState:l}=o.getState(),{decisionGraph:d}=n.getState();l.current?.[1]?.(h=>h.concat(u.map(dd)));const f=yt(d,h=>{h.edges=(h.edges||[]).concat(u)});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},setEdges:(u=[])=>{const{edgesState:l}=o.getState(),{decisionGraph:d}=n.getState();l?.current?.[1]?.(fd(u));const f=yt(d,h=>{h.edges=u});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},removeEdges:u=>{const{edgesState:l}=o.getState(),{decisionGraph:d}=n.getState();l?.current?.[1]?.(h=>h.filter(g=>!u.find(m=>g.id===m)));const f=yt(d,h=>{h.edges=h.edges.filter(g=>!u.find(m=>g.id===m))});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},removeEdgeByHandleId:u=>{if(!u)return;const{edgesState:l}=o.getState(),{decisionGraph:d}=n.getState();l?.current?.[1]?.(h=>h.filter(g=>g.sourceHandle!==u));const f=yt(d,h=>{h.edges=h.edges.filter(g=>g.sourceHandle!==u)});n.setState({decisionGraph:f}),i.getState().onChange?.(f)},updateNode:(u,l)=>{const{decisionGraph:d}=n.getState(),{nodesState:f}=o.getState(),[h,g]=f.current,m=yt(d,x=>{const _=(x.nodes??[]).find(b=>b?.id===u);_&&l(_)}),D=m.nodes.find(x=>x.id===u);if(!D)return;const w=ld(D),v=h.find(x=>x.id===u);mn(w,v)||g(x=>x.map(_=>_.id===u?w:_)),n.setState({decisionGraph:m}),i.getState().onChange?.(m)},setDecisionGraph:(u,l={})=>{const{decisionGraph:d}=n.getState(),{edgesState:f,nodesState:h}=o.getState(),{skipOnChangeEvent:g=!1}=l,m=yt(d,D=>{Object.assign(D,u)});f?.current?.[1](fd(m?.edges??[])),h?.current?.[1](uo(m?.nodes??[])),n.setState({decisionGraph:m}),g||i.getState().onChange?.(m)},calculateDiffGraph:(u,l)=>{const{components:d,customNodes:f}=n.getState();return S4(u,l,{components:d,customNodes:f})},setHoveredEdgeId:u=>n.setState({hoveredEdgeId:u}),openTab:u=>{const{openTabs:l}=n.getState(),d=l.find(f=>f===u);if(u==="graph")return n.setState({activeTab:u});d?n.setState({activeTab:d}):n.setState({openTabs:[...l,u],activeTab:u})},closeTab:(u,l)=>{const{openTabs:d,activeTab:f}=n.getState(),h=d?.findIndex(v=>v===u),g=d?.[h],m=Ze(l).with(void 0,()=>d.filter(v=>v!==g)).with("close",()=>d.filter(v=>v!==g)).with("close-all",()=>[]).with("close-other",()=>d.filter(v=>v===g)).with("close-right",()=>d.slice(0,h+1)).with("close-left",()=>d.slice(h)).otherwise(()=>d),D={openTabs:m};m?.find(v=>v===f)||(D.activeTab=m?.[h-1]??"graph"),n.setState(D)},setActivePanel:u=>{const{panels:l}=n.getState(),d={activePanel:u===void 0?void 0:(l||[]).find(f=>f.id===u)?.id};i.getState()?.onPanelsChange?.(u),n.setState(d)},setCompactMode:u=>{const l={compactMode:u};localStorage.setItem("jdm-compact-mode",`${u}`),n.setState(l)},toggleCompactMode:()=>{const{compactMode:u}=n.getState(),l=!u,d={compactMode:l};localStorage.setItem("jdm-compact-mode",`${l}`),n.setState(d)},setNodeType:(u,l,d)=>{const{nodeTypes:f}=n.getState(),h=yt(f,g=>{g[u]??={},g[u][l]=d});n.setState({nodeTypes:h})},removeNodeType:(u,l)=>{const{nodeTypes:d}=n.getState(),f=yt(d,h=>{u in h&&(l?l in h[u]&&delete h[u][l]:delete h[u])});n.setState({nodeTypes:f})},triggerNodeSelect:(u,l)=>{const{decisionGraph:d}=n.getState(),{nodesState:f,edgesState:h}=o.getState(),[,g]=f.current,[,m]=h.current,D=yt(d,w=>{const v=w.nodes.find(x=>x.id===u);v&&(l==="only"&&w.nodes.forEach(x=>{x[nn]&&(x[nn].selected=!1)}),v[nn]??={},v[nn].selected=Ze(l).with("only",()=>!0).otherwise(()=>!v[nn]?.selected))});g(uo(D.nodes)),l=="only"&&m(w=>w.map(v=>({...v,selected:!1}))),n.setState({decisionGraph:D}),i.getState().onChange?.(D)}}),[]);return F.jsx(Es.Provider,{value:{stateStore:n,referenceStore:o,listenerStore:i,actions:a},children:t})};function lt(e,t=mn){return j.useContext(Es).stateStore(e,t)}function ny(e,t=mn){return j.useContext(Es).listenerStore(e,t)}function I4(e,t=mn){return j.useContext(Es).referenceStore(e,t)}function Tt(){return j.useContext(Es).actions}function bs(){return j.useContext(Es)}const zu=e=>{const{diff:t,contentDiff:n}=lt(i=>{const o=(i?.decisionGraph?.nodes??[]).find(a=>a.id===e);return{diff:o?._diff,contentDiff:o?.content?._diff}});return{diff:t,contentDiff:n}},k4=e=>{const{diff:t}=lt(n=>({diff:(n?.decisionGraph?.edges??[]).find(o=>o.id===e)?._diff}));return{diff:t}};ty.__docgenInfo={description:"",methods:[],displayName:"DecisionGraphProvider"};const B4=({id:e,defaultValue:t,value:n,name:i,disabled:o=!1,configurable:a=!0,onChange:u,components:l,customNodes:d,defaultActivePanel:f,panels:h,simulate:g,onPanelsChange:m,onReactFlowInit:D,onCodeExtension:w,onFunctionReady:v})=>{const x=S.useRef(!1),_=Tt(),{stateStore:b,listenerStore:I}=bs(),{decisionGraph:N}=lt(({decisionGraph:z})=>({decisionGraph:z})),M=uE(z=>{u?.(z)},100);return S.useEffect(()=>{b.setState({id:e,disabled:o,configurable:a,components:Array.isArray(l)?l:[],customNodes:Array.isArray(d)?d:[],panels:h})},[e,o,a,l,d,h]),S.useEffect(()=>{b.setState({name:i??"graph.json"})},[i]),S.useEffect(()=>{b.setState({simulate:g})},[g]),S.useEffect(()=>{I.setState({onReactFlowInit:D,onPanelsChange:m,onCodeExtension:w,onFunctionReady:v})},[D,m,w,v]),S.useEffect(()=>{I.setState({onChange:M})},[M]),S.useEffect(()=>{x.current&&n!==void 0&&!mn(n,N)&&_.setDecisionGraph(n)},[n]),S.useEffect(()=>{n!==void 0?_.setDecisionGraph(n):t!==void 0&&_.setDecisionGraph(t),b.setState({activePanel:f}),x.current=!0},[]),null},R4=()=>{let e=null;return{walk:function*(t){const n=M4(t);if(e&&mn(n,e.digest)){yield*P4(t,e.iterator);return}const i=[];for(const o of O4(t))i.push({id:o.node.id,incomers:o.incomers.map(a=>a.id)}),yield o;e={digest:n,iterator:i}}}},M4=e=>{const t=e.nodes.map(i=>i.id),n=e.edges;return{nodes:t,edges:n}};function*O4(e){const t=uo(e.nodes),n=fd(e.edges),i=e.nodes.find(l=>l.type==="inputNode"),o=t.find(l=>l.id===i?.id);if(!i||!o||$4(o,t,n))return;yield{node:i,incomers:[]};const a=new Set;a.add(i.id);const u=pu(o,t,n);for(;u.length>0;){const l=u.pop();if(a.has(l.id))continue;const d=Y3(l,t,n),f=d.filter(m=>!a.has(m.id));if(f.length>0){u.push(l,...f);continue}a.add(l.id);const h=e.nodes.find(m=>m.id===l.id);if(h){const m=e.nodes.filter(D=>d.some(w=>w.id===D.id));yield{node:h,incomers:m}}const g=pu(l,t,n);u.push(...g)}}function*P4(e,t){for(const n of t){const i=e.nodes.find(a=>a.id===n.id);if(!i)continue;const o=e.nodes.filter(a=>n.incomers.includes(a.id));yield{node:i,incomers:o}}}const $4=(e,t,n)=>{const i=new Set,o=new Set,a=u=>{i.add(u.id),o.add(u.id);const l=pu(u,t,n);for(const d of l)if(i.has(d.id)){if(o.has(d.id))return!0}else if(a(d))return!0;return o.delete(u.id),!1};return a(e)},z4={type:Ye.Input,icon:F.jsx(_2,{}),displayName:"Request",color:Ni.Green,documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions",shortDescription:"Provides input context",generateNode:()=>({name:"request"}),renderNode:({id:e,data:t,selected:n,specification:i})=>{const o=Tt(),{disabled:a}=lt(({disabled:u})=>({disabled:u}));return F.jsx(ei,{id:e,specification:i,name:t.name,isSelected:n,handleLeft:!1,menuItems:[{key:"documentation",icon:F.jsx(rg,{}),label:"Documentation",onClick:()=>window.open(i.documentationUrl,"_href")},{key:"delete",icon:F.jsx(Su,{}),danger:!0,label:F.jsx(no,{left:"Delete",right:eu.shortcut("Backspace")}),disabled:a,onClick:()=>_d.confirm({icon:null,title:"Delete node",content:F.jsxs($t.Text,{children:["Are you sure you want to delete ",F.jsx($t.Text,{strong:!0,children:t.name})," node."]}),okButtonProps:{danger:!0},onOk:()=>o.removeNodes([e])})}]})}},L4={type:Ye.Output,icon:F.jsx(w2,{}),color:Ni.Green,displayName:"Response",documentationUrl:"https://gorules.io/docs/user-manual/decision-modeling/decisions",shortDescription:"Outputs the context",generateNode:()=>({name:"response"}),renderNode:({id:e,data:t,selected:n,specification:i})=>F.jsx(ei,{id:e,specification:i,name:t.name,isSelected:n,handleRight:!1})};const Ai={[Ye.Input]:z4,[Ye.Output]:L4,[Ye.DecisionTable]:Yd,[Ye.Expression]:Kd,[Ye.Function]:Jd,[Ye.Switch]:ey},j4=()=>{const{stateStore:e}=bs();return S.useEffect(()=>{if(fo())return e.subscribe(({simulate:t,nodeTypes:n,decisionGraph:i},o)=>{if(mn(t,o?.simulate))return;const a=Ze(t).with({result:Ge.nonNullable},({result:d})=>d.trace).otherwise(()=>null);if(a===null){const d=yt(n,f=>{Object.values(f).forEach(h=>{delete h[st.Input],delete h[st.Output]})});e.setState({nodeTypes:d});return}const u=Object.values(a);if(u.length===0)return;const l=yt(n,d=>{u.forEach(f=>{i.nodes.find(g=>g.id===f.id)?.type!=="inputNode"&&(d[f.id]??={},d[f.id][st.Output]=new gn(f.output??{}),d[f.id][st.Input]=new gn(f.input??{}))})});e.setState({nodeTypes:l})})},[]),S.useEffect(()=>{if(!fo())return;const t=R4();return e.subscribe((n,i)=>{const o=I0(n),a=I0(i),u=V4(n,i);if(mn(o,a)&&!u)return;const l=H4(n,i,t);l.isModified&&e.setState({nodeTypes:l.nodeTypes})})},[]),S.useEffect(()=>{if(fo())return e.subscribe((t,n)=>{const i=k0(t),o=k0(n);if(mn(i,o))return;const a=gn.fromJson({Object:{}});t.decisionGraph.nodes.forEach(u=>{const l=t.nodeTypes[u.id],d=l?.[st.Output]??l?.[st.InferredOutput]??gn.fromJson({Object:{}});a.set(u.name,d)}),e.setState({globalType:{$nodes:a}})})},[]),null},H4=({decisionGraph:e,nodeTypes:t,customNodes:n},i,o)=>{let a=!1;const u=yt(t,l=>{o.walk(e).forEach(({node:d,incomers:f})=>{if(d.type==="inputNode")return;const h=f.map(N=>{const M=l[N.id]??{};return M[st.Output]??M[st.InferredOutput]}).filter(N=>!!N).map(N=>N.clone()),g=Ze(h.length).with(1,()=>h[0]).otherwise(()=>gn.fromIncoming(h));l?.[d.id]?.[st.InferredInput]?.equal(g)||(a=!0,l[d.id]??={},l[d.id][st.InferredInput]=g);const D=Ai[d.type]?.inferTypes??n.find(N=>N.kind===d.type)?.inferTypes;if(!D)return;const w=l?.[d.id]?.[st.Input]??l?.[d.id]?.[st.InferredInput]??gn.fromJson("Any"),v=i.nodeTypes?.[d.id]?.[st.Input]??i.nodeTypes?.[d.id]?.[st.InferredInput]??gn.fromJson("Any"),x=i.decisionGraph.nodes.find(N=>N.id===d.id)?.content;if(!(D.needsUpdate(d.content,x)||!w.equal(v))&&l?.[d.id]?.[st.InferredOutput])return;const b=D.determineOutputType({input:w,content:d.content});l?.[d.id]?.[st.InferredOutput]?.equal(b)||(a=!0,l[d.id]??={},l[d.id][st.InferredOutput]=b)})});return{isModified:a,nodeTypes:u}},I0=({decisionGraph:e,nodeTypes:t,customNodes:n})=>{const i=e.edges,o=e.nodes.map(({id:f,type:h})=>({id:f,type:h})),a=n.map(f=>f.kind),u=Object.entries(t).map(([f,h])=>({id:f,input:hd(h[st.Input]),output:hd(h[st.Output])})),l=e.nodes.find(f=>f.type==="inputNode")?.id,d=Ze(t?.[l??""]?.[st.InferredOutput]).with(Ge.nonNullable,f=>f.hash()).otherwise(()=>null);return{edgesData:i,nodesData:o,typesData:u,customNodesData:a,inputNodeType:d}},V4=({decisionGraph:e,customNodes:t},n)=>e.nodes.map(o=>{const a=Ai[o.type]?.inferTypes??t.find(l=>l.kind===o.type)?.inferTypes;if(!a)return!1;const u=n.decisionGraph.nodes.find(l=>l.id===o.id);return u?a.needsUpdate(o.content,u.content):!0}).some(o=>o),hd=e=>{if(e)return e.__hash||(e.__hash=e.hash()),e.__hash},k0=e=>({nodeInfo:e.decisionGraph.nodes.map(n=>{const i=e.nodeTypes[n.id],o=i?.[st.Output]??i?.[st.InferredOutput];return{id:n.id,type:hd(o),name:n.name}})}),ry=()=>{const e=Tt(),{panels:t,activePanel:n}=lt(({panels:o,activePanel:a})=>({panels:o,activePanel:a})),i=S.useMemo(()=>n===void 0?void 0:(t||[]).find(o=>o.id===n),[n,t]);return i?F.jsxs("div",{className:"grl-dg__panel",children:[F.jsxs("div",{className:"grl-dg__panel__toolbar",children:[F.jsx("div",{className:"grl-dg__panel__toolbar__content",children:F.jsx($t.Text,{children:i.title})}),F.jsx("div",{className:"grl-dg__panel__toolbar__actions",children:F.jsx(ss,{placement:"topLeft",title:"Close panel",children:F.jsx(ct,{size:"small",type:"text",icon:F.jsx(go,{}),onClick:()=>e.setActivePanel(void 0)})})})]}),F.jsx("div",{className:"grl-dg__panel__content",children:i?.renderPanel?.({})})]}):null};ry.__docgenInfo={description:"",methods:[],displayName:"GraphPanel"};var qe;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const a={};for(const u of o)a[u]=u;return a},e.getValidEnumValues=o=>{const a=e.objectKeys(o).filter(l=>typeof o[o[l]]!="number"),u={};for(const l of a)u[l]=o[l];return e.objectValues(u)},e.objectValues=o=>e.objectKeys(o).map(function(a){return o[a]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.push(u);return a},e.find=(o,a)=>{for(const u of o)if(a(u))return u},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function i(o,a=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}e.joinValues=i,e.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(qe||(qe={}));var pd;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(pd||(pd={}));const me=qe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Gr=e=>{switch(typeof e){case"undefined":return me.undefined;case"string":return me.string;case"number":return isNaN(e)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(e)?me.array:e===null?me.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?me.promise:typeof Map<"u"&&e instanceof Map?me.map:typeof Set<"u"&&e instanceof Set?me.set:typeof Date<"u"&&e instanceof Date?me.date:me.object;default:return me.unknown}},oe=qe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),U4=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class yn extends Error{constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(a){return a.message},i={_errors:[]},o=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)i._errors.push(n(u));else{let l=i,d=0;for(;d<u.path.length;){const f=u.path[d];d===u.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(n(u))):l[f]=l[f]||{_errors:[]},l=l[f],d++}}};return o(this),i}static assert(t){if(!(t instanceof yn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):i.push(t(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}yn.create=e=>new yn(e);const _s=(e,t)=>{let n;switch(e.code){case oe.invalid_type:e.received===me.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case oe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,qe.jsonStringifyReplacer)}`;break;case oe.unrecognized_keys:n=`Unrecognized key(s) in object: ${qe.joinValues(e.keys,", ")}`;break;case oe.invalid_union:n="Invalid input";break;case oe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${qe.joinValues(e.options)}`;break;case oe.invalid_enum_value:n=`Invalid enum value. Expected ${qe.joinValues(e.options)}, received '${e.received}'`;break;case oe.invalid_arguments:n="Invalid function arguments";break;case oe.invalid_return_type:n="Invalid function return type";break;case oe.invalid_date:n="Invalid date";break;case oe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:qe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case oe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case oe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case oe.custom:n="Invalid input";break;case oe.invalid_intersection_types:n="Intersection results could not be merged";break;case oe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case oe.not_finite:n="Number must be finite";break;default:n=t.defaultError,qe.assertNever(e)}return{message:n}};let iy=_s;function G4(e){iy=e}function _u(){return iy}const Du=e=>{const{data:t,path:n,errorMaps:i,issueData:o}=e,a=[...n,...o.path||[]],u={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let l="";const d=i.filter(f=>!!f).slice().reverse();for(const f of d)l=f(u,{data:t,defaultError:l}).message;return{...o,path:a,message:l}},Z4=[];function pe(e,t){const n=_u(),i=Du({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===_s?void 0:_s].filter(o=>!!o)});e.common.issues.push(i)}class Lt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const o of n){if(o.status==="aborted")return Se;o.status==="dirty"&&t.dirty(),i.push(o.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const o of n){const a=await o.key,u=await o.value;i.push({key:a,value:u})}return Lt.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const o of n){const{key:a,value:u}=o;if(a.status==="aborted"||u.status==="aborted")return Se;a.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(i[a.value]=u.value)}return{status:t.value,value:i}}}const Se=Object.freeze({status:"aborted"}),is=e=>({status:"dirty",value:e}),Gt=e=>({status:"valid",value:e}),gd=e=>e.status==="aborted",md=e=>e.status==="dirty",So=e=>e.status==="valid",Fo=e=>typeof Promise<"u"&&e instanceof Promise;function xu(e,t,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function sy(e,t,n,i,o){if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var xe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(xe||(xe={}));var co,lo;class ir{constructor(t,n,i,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const B0=(e,t)=>{if(So(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new yn(e.common.issues);return this._error=n,this._error}}};function Ie(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:o}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(u,l)=>{var d,f;const{message:h}=e;return u.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(d=h??i)!==null&&d!==void 0?d:l.defaultError}:u.code!=="invalid_type"?{message:l.defaultError}:{message:(f=h??n)!==null&&f!==void 0?f:l.defaultError}},description:o}}class Pe{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Gr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Gr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Lt,ctx:{common:t.parent.common,data:t.data,parsedType:Gr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Fo(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){var i;const o={common:{issues:[],async:(i=n?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gr(t)},a=this._parseSync({data:t,path:o.path,parent:o});return B0(o,a)}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Gr(t)},o=this._parse({data:t,path:i.path,parent:i}),a=await(Fo(o)?o:Promise.resolve(o));return B0(i,a)}refine(t,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,a)=>{const u=t(o),l=()=>a.addIssue({code:oe.custom,...i(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(d=>d?!0:(l(),!1)):u?!0:(l(),!1)})}refinement(t,n){return this._refinement((i,o)=>t(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(t){return new qn({schema:this,typeName:Ae.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return rr.create(this,this._def)}nullable(){return Qr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zn.create(this,this._def)}promise(){return xs.create(this,this._def)}or(t){return ko.create([this,t],this._def)}and(t){return Bo.create(this,t,this._def)}transform(t){return new qn({...Ie(this._def),schema:this,typeName:Ae.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new $o({...Ie(this._def),innerType:this,defaultValue:n,typeName:Ae.ZodDefault})}brand(){return new Qd({typeName:Ae.ZodBranded,type:this,...Ie(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new zo({...Ie(this._def),innerType:this,catchValue:n,typeName:Ae.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Go.create(this,t)}readonly(){return Lo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const W4=/^c[^\s-]{8,}$/i,q4=/^[0-9a-z]+$/,X4=/^[0-9A-HJKMNP-TV-Z]{26}$/,Y4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,K4=/^[a-z0-9_-]{21}$/i,J4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Q4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pl;const tF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nF=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,rF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oy="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",iF=new RegExp(`^${oy}$`);function ay(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function sF(e){return new RegExp(`^${ay(e)}$`)}function uy(e){let t=`${oy}T${ay(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function oF(e,t){return!!((t==="v4"||!t)&&tF.test(e)||(t==="v6"||!t)&&nF.test(e))}class Hn extends Pe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==me.string){const a=this._getOrReturnCtx(t);return pe(a,{code:oe.invalid_type,expected:me.string,received:a.parsedType}),Se}const i=new Lt;let o;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")t.data.length>a.value&&(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){const u=t.data.length>a.value,l=t.data.length<a.value;(u||l)&&(o=this._getOrReturnCtx(t,o),u?pe(o,{code:oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&pe(o,{code:oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")Q4.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"email",code:oe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")Pl||(Pl=new RegExp(eF,"u")),Pl.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"emoji",code:oe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")Y4.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"uuid",code:oe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")K4.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"nanoid",code:oe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")W4.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"cuid",code:oe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")q4.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"cuid2",code:oe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")X4.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"ulid",code:oe.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),pe(o,{validation:"url",code:oe.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"regex",code:oe.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?uy(a).test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?iF.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?sF(a).test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?J4.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"duration",code:oe.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?oF(t.data,a.version)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"ip",code:oe.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?rF.test(t.data)||(o=this._getOrReturnCtx(t,o),pe(o,{validation:"base64",code:oe.invalid_string,message:a.message}),i.dirty()):qe.assertNever(a);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(o=>t.test(o),{validation:n,code:oe.invalid_string,...xe.errToObj(i)})}_addCheck(t){return new Hn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xe.errToObj(t)})}datetime(t){var n,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,local:(i=t?.local)!==null&&i!==void 0?i:!1,...xe.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...xe.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...xe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...xe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...xe.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...xe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...xe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...xe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...xe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...xe.errToObj(n)})}nonempty(t){return this.min(1,xe.errToObj(t))}trim(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Hn.create=e=>{var t;return new Hn({checks:[],typeName:Ae.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ie(e)})};function aF(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=n>i?n:i,a=parseInt(e.toFixed(o).replace(".","")),u=parseInt(t.toFixed(o).replace(".",""));return a%u/Math.pow(10,o)}class Yr extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==me.number){const a=this._getOrReturnCtx(t);return pe(a,{code:oe.invalid_type,expected:me.number,received:a.parsedType}),Se}let i;const o=new Lt;for(const a of this._def.checks)a.kind==="int"?qe.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),pe(i,{code:oe.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),pe(i,{code:oe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),pe(i,{code:oe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?aF(t.data,a.value)!==0&&(i=this._getOrReturnCtx(t,i),pe(i,{code:oe.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),pe(i,{code:oe.not_finite,message:a.message}),o.dirty()):qe.assertNever(a);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,i,o){return new Yr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:xe.toString(o)}]})}_addCheck(t){return new Yr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:xe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&qe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Yr.create=e=>new Yr({checks:[],typeName:Ae.ZodNumber,coerce:e?.coerce||!1,...Ie(e)});class Kr extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==me.bigint){const a=this._getOrReturnCtx(t);return pe(a,{code:oe.invalid_type,expected:me.bigint,received:a.parsedType}),Se}let i;const o=new Lt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(i=this._getOrReturnCtx(t,i),pe(i,{code:oe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(i=this._getOrReturnCtx(t,i),pe(i,{code:oe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),pe(i,{code:oe.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):qe.assertNever(a);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,xe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,xe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,xe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,xe.toString(n))}setLimit(t,n,i,o){return new Kr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:xe.toString(o)}]})}_addCheck(t){return new Kr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Kr.create=e=>{var t;return new Kr({checks:[],typeName:Ae.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Ie(e)})};class No extends Pe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==me.boolean){const i=this._getOrReturnCtx(t);return pe(i,{code:oe.invalid_type,expected:me.boolean,received:i.parsedType}),Se}return Gt(t.data)}}No.create=e=>new No({typeName:Ae.ZodBoolean,coerce:e?.coerce||!1,...Ie(e)});class Si extends Pe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==me.date){const a=this._getOrReturnCtx(t);return pe(a,{code:oe.invalid_type,expected:me.date,received:a.parsedType}),Se}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return pe(a,{code:oe.invalid_date}),Se}const i=new Lt;let o;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(o=this._getOrReturnCtx(t,o),pe(o,{code:oe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):qe.assertNever(a);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Si({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:xe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:xe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Si.create=e=>new Si({checks:[],coerce:e?.coerce||!1,typeName:Ae.ZodDate,...Ie(e)});class wu extends Pe{_parse(t){if(this._getType(t)!==me.symbol){const i=this._getOrReturnCtx(t);return pe(i,{code:oe.invalid_type,expected:me.symbol,received:i.parsedType}),Se}return Gt(t.data)}}wu.create=e=>new wu({typeName:Ae.ZodSymbol,...Ie(e)});class To extends Pe{_parse(t){if(this._getType(t)!==me.undefined){const i=this._getOrReturnCtx(t);return pe(i,{code:oe.invalid_type,expected:me.undefined,received:i.parsedType}),Se}return Gt(t.data)}}To.create=e=>new To({typeName:Ae.ZodUndefined,...Ie(e)});class Io extends Pe{_parse(t){if(this._getType(t)!==me.null){const i=this._getOrReturnCtx(t);return pe(i,{code:oe.invalid_type,expected:me.null,received:i.parsedType}),Se}return Gt(t.data)}}Io.create=e=>new Io({typeName:Ae.ZodNull,...Ie(e)});class Ds extends Pe{constructor(){super(...arguments),this._any=!0}_parse(t){return Gt(t.data)}}Ds.create=e=>new Ds({typeName:Ae.ZodAny,...Ie(e)});class wi extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Gt(t.data)}}wi.create=e=>new wi({typeName:Ae.ZodUnknown,...Ie(e)});class Nr extends Pe{_parse(t){const n=this._getOrReturnCtx(t);return pe(n,{code:oe.invalid_type,expected:me.never,received:n.parsedType}),Se}}Nr.create=e=>new Nr({typeName:Ae.ZodNever,...Ie(e)});class Cu extends Pe{_parse(t){if(this._getType(t)!==me.undefined){const i=this._getOrReturnCtx(t);return pe(i,{code:oe.invalid_type,expected:me.void,received:i.parsedType}),Se}return Gt(t.data)}}Cu.create=e=>new Cu({typeName:Ae.ZodVoid,...Ie(e)});class Zn extends Pe{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),o=this._def;if(n.parsedType!==me.array)return pe(n,{code:oe.invalid_type,expected:me.array,received:n.parsedType}),Se;if(o.exactLength!==null){const u=n.data.length>o.exactLength.value,l=n.data.length<o.exactLength.value;(u||l)&&(pe(n,{code:u?oe.too_big:oe.too_small,minimum:l?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(pe(n,{code:oe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(pe(n,{code:oe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((u,l)=>o.type._parseAsync(new ir(n,u,n.path,l)))).then(u=>Lt.mergeArray(i,u));const a=[...n.data].map((u,l)=>o.type._parseSync(new ir(n,u,n.path,l)));return Lt.mergeArray(i,a)}get element(){return this._def.type}min(t,n){return new Zn({...this._def,minLength:{value:t,message:xe.toString(n)}})}max(t,n){return new Zn({...this._def,maxLength:{value:t,message:xe.toString(n)}})}length(t,n){return new Zn({...this._def,exactLength:{value:t,message:xe.toString(n)}})}nonempty(t){return this.min(1,t)}}Zn.create=(e,t)=>new Zn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ae.ZodArray,...Ie(t)});function es(e){if(e instanceof pt){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=rr.create(es(i))}return new pt({...e._def,shape:()=>t})}else return e instanceof Zn?new Zn({...e._def,type:es(e.element)}):e instanceof rr?rr.create(es(e.unwrap())):e instanceof Qr?Qr.create(es(e.unwrap())):e instanceof sr?sr.create(e.items.map(t=>es(t))):e}class pt extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=qe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==me.object){const f=this._getOrReturnCtx(t);return pe(f,{code:oe.invalid_type,expected:me.object,received:f.parsedType}),Se}const{status:i,ctx:o}=this._processInputParams(t),{shape:a,keys:u}=this._getCached(),l=[];if(!(this._def.catchall instanceof Nr&&this._def.unknownKeys==="strip"))for(const f in o.data)u.includes(f)||l.push(f);const d=[];for(const f of u){const h=a[f],g=o.data[f];d.push({key:{status:"valid",value:f},value:h._parse(new ir(o,g,o.path,f)),alwaysSet:f in o.data})}if(this._def.catchall instanceof Nr){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of l)d.push({key:{status:"valid",value:h},value:{status:"valid",value:o.data[h]}});else if(f==="strict")l.length>0&&(pe(o,{code:oe.unrecognized_keys,keys:l}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of l){const g=o.data[h];d.push({key:{status:"valid",value:h},value:f._parse(new ir(o,g,o.path,h)),alwaysSet:h in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of d){const g=await h.key,m=await h.value;f.push({key:g,value:m,alwaysSet:h.alwaysSet})}return f}).then(f=>Lt.mergeObjectSync(i,f)):Lt.mergeObjectSync(i,d)}get shape(){return this._def.shape()}strict(t){return xe.errToObj,new pt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var o,a,u,l;const d=(u=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,n,i).message)!==null&&u!==void 0?u:i.defaultError;return n.code==="unrecognized_keys"?{message:(l=xe.errToObj(t).message)!==null&&l!==void 0?l:d}:{message:d}}}:{}})}strip(){return new pt({...this._def,unknownKeys:"strip"})}passthrough(){return new pt({...this._def,unknownKeys:"passthrough"})}extend(t){return new pt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new pt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ae.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new pt({...this._def,catchall:t})}pick(t){const n={};return qe.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new pt({...this._def,shape:()=>n})}omit(t){const n={};return qe.objectKeys(this.shape).forEach(i=>{t[i]||(n[i]=this.shape[i])}),new pt({...this._def,shape:()=>n})}deepPartial(){return es(this)}partial(t){const n={};return qe.objectKeys(this.shape).forEach(i=>{const o=this.shape[i];t&&!t[i]?n[i]=o:n[i]=o.optional()}),new pt({...this._def,shape:()=>n})}required(t){const n={};return qe.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])n[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof rr;)a=a._def.innerType;n[i]=a}}),new pt({...this._def,shape:()=>n})}keyof(){return cy(qe.objectKeys(this.shape))}}pt.create=(e,t)=>new pt({shape:()=>e,unknownKeys:"strip",catchall:Nr.create(),typeName:Ae.ZodObject,...Ie(t)});pt.strictCreate=(e,t)=>new pt({shape:()=>e,unknownKeys:"strict",catchall:Nr.create(),typeName:Ae.ZodObject,...Ie(t)});pt.lazycreate=(e,t)=>new pt({shape:e,unknownKeys:"strip",catchall:Nr.create(),typeName:Ae.ZodObject,...Ie(t)});class ko extends Pe{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function o(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const u=a.map(l=>new yn(l.ctx.common.issues));return pe(n,{code:oe.invalid_union,unionErrors:u}),Se}if(n.common.async)return Promise.all(i.map(async a=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(o);{let a;const u=[];for(const d of i){const f={...n,common:{...n.common,issues:[]},parent:null},h=d._parseSync({data:n.data,path:n.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:f}),f.common.issues.length&&u.push(f.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=u.map(d=>new yn(d));return pe(n,{code:oe.invalid_union,unionErrors:l}),Se}}get options(){return this._def.options}}ko.create=(e,t)=>new ko({options:e,typeName:Ae.ZodUnion,...Ie(t)});const xr=e=>e instanceof Mo?xr(e.schema):e instanceof qn?xr(e.innerType()):e instanceof Oo?[e.value]:e instanceof Jr?e.options:e instanceof Po?qe.objectValues(e.enum):e instanceof $o?xr(e._def.innerType):e instanceof To?[void 0]:e instanceof Io?[null]:e instanceof rr?[void 0,...xr(e.unwrap())]:e instanceof Qr?[null,...xr(e.unwrap())]:e instanceof Qd||e instanceof Lo?xr(e.unwrap()):e instanceof zo?xr(e._def.innerType):[];class Lu extends Pe{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==me.object)return pe(n,{code:oe.invalid_type,expected:me.object,received:n.parsedType}),Se;const i=this.discriminator,o=n.data[i],a=this.optionsMap.get(o);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(pe(n,{code:oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,i){const o=new Map;for(const a of n){const u=xr(a.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of u){if(o.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);o.set(l,a)}}return new Lu({typeName:Ae.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...Ie(i)})}}function yd(e,t){const n=Gr(e),i=Gr(t);if(e===t)return{valid:!0,data:e};if(n===me.object&&i===me.object){const o=qe.objectKeys(t),a=qe.objectKeys(e).filter(l=>o.indexOf(l)!==-1),u={...e,...t};for(const l of a){const d=yd(e[l],t[l]);if(!d.valid)return{valid:!1};u[l]=d.data}return{valid:!0,data:u}}else if(n===me.array&&i===me.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let a=0;a<e.length;a++){const u=e[a],l=t[a],d=yd(u,l);if(!d.valid)return{valid:!1};o.push(d.data)}return{valid:!0,data:o}}else return n===me.date&&i===me.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Bo extends Pe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=(a,u)=>{if(gd(a)||gd(u))return Se;const l=yd(a.value,u.value);return l.valid?((md(a)||md(u))&&n.dirty(),{status:n.value,value:l.data}):(pe(i,{code:oe.invalid_intersection_types}),Se)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,u])=>o(a,u)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Bo.create=(e,t,n)=>new Bo({left:e,right:t,typeName:Ae.ZodIntersection,...Ie(n)});class sr extends Pe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==me.array)return pe(i,{code:oe.invalid_type,expected:me.array,received:i.parsedType}),Se;if(i.data.length<this._def.items.length)return pe(i,{code:oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Se;!this._def.rest&&i.data.length>this._def.items.length&&(pe(i,{code:oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...i.data].map((u,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new ir(i,u,i.path,l)):null}).filter(u=>!!u);return i.common.async?Promise.all(a).then(u=>Lt.mergeArray(n,u)):Lt.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new sr({...this._def,rest:t})}}sr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sr({items:e,typeName:Ae.ZodTuple,rest:null,...Ie(t)})};class Ro extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==me.object)return pe(i,{code:oe.invalid_type,expected:me.object,received:i.parsedType}),Se;const o=[],a=this._def.keyType,u=this._def.valueType;for(const l in i.data)o.push({key:a._parse(new ir(i,l,i.path,l)),value:u._parse(new ir(i,i.data[l],i.path,l)),alwaysSet:l in i.data});return i.common.async?Lt.mergeObjectAsync(n,o):Lt.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof Pe?new Ro({keyType:t,valueType:n,typeName:Ae.ZodRecord,...Ie(i)}):new Ro({keyType:Hn.create(),valueType:t,typeName:Ae.ZodRecord,...Ie(n)})}}class Eu extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==me.map)return pe(i,{code:oe.invalid_type,expected:me.map,received:i.parsedType}),Se;const o=this._def.keyType,a=this._def.valueType,u=[...i.data.entries()].map(([l,d],f)=>({key:o._parse(new ir(i,l,i.path,[f,"key"])),value:a._parse(new ir(i,d,i.path,[f,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of u){const f=await d.key,h=await d.value;if(f.status==="aborted"||h.status==="aborted")return Se;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(f.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const d of u){const f=d.key,h=d.value;if(f.status==="aborted"||h.status==="aborted")return Se;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(f.value,h.value)}return{status:n.value,value:l}}}}Eu.create=(e,t,n)=>new Eu({valueType:t,keyType:e,typeName:Ae.ZodMap,...Ie(n)});class Fi extends Pe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==me.set)return pe(i,{code:oe.invalid_type,expected:me.set,received:i.parsedType}),Se;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(pe(i,{code:oe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(pe(i,{code:oe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const a=this._def.valueType;function u(d){const f=new Set;for(const h of d){if(h.status==="aborted")return Se;h.status==="dirty"&&n.dirty(),f.add(h.value)}return{status:n.value,value:f}}const l=[...i.data.values()].map((d,f)=>a._parse(new ir(i,d,i.path,f)));return i.common.async?Promise.all(l).then(d=>u(d)):u(l)}min(t,n){return new Fi({...this._def,minSize:{value:t,message:xe.toString(n)}})}max(t,n){return new Fi({...this._def,maxSize:{value:t,message:xe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Fi.create=(e,t)=>new Fi({valueType:e,minSize:null,maxSize:null,typeName:Ae.ZodSet,...Ie(t)});class fs extends Pe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==me.function)return pe(n,{code:oe.invalid_type,expected:me.function,received:n.parsedType}),Se;function i(l,d){return Du({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_u(),_s].filter(f=>!!f),issueData:{code:oe.invalid_arguments,argumentsError:d}})}function o(l,d){return Du({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_u(),_s].filter(f=>!!f),issueData:{code:oe.invalid_return_type,returnTypeError:d}})}const a={errorMap:n.common.contextualErrorMap},u=n.data;if(this._def.returns instanceof xs){const l=this;return Gt(async function(...d){const f=new yn([]),h=await l._def.args.parseAsync(d,a).catch(D=>{throw f.addIssue(i(d,D)),f}),g=await Reflect.apply(u,this,h);return await l._def.returns._def.type.parseAsync(g,a).catch(D=>{throw f.addIssue(o(g,D)),f})})}else{const l=this;return Gt(function(...d){const f=l._def.args.safeParse(d,a);if(!f.success)throw new yn([i(d,f.error)]);const h=Reflect.apply(u,this,f.data),g=l._def.returns.safeParse(h,a);if(!g.success)throw new yn([o(h,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new fs({...this._def,args:sr.create(t).rest(wi.create())})}returns(t){return new fs({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,i){return new fs({args:t||sr.create([]).rest(wi.create()),returns:n||wi.create(),typeName:Ae.ZodFunction,...Ie(i)})}}class Mo extends Pe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Mo.create=(e,t)=>new Mo({getter:e,typeName:Ae.ZodLazy,...Ie(t)});class Oo extends Pe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return pe(n,{received:n.data,code:oe.invalid_literal,expected:this._def.value}),Se}return{status:"valid",value:t.data}}get value(){return this._def.value}}Oo.create=(e,t)=>new Oo({value:e,typeName:Ae.ZodLiteral,...Ie(t)});function cy(e,t){return new Jr({values:e,typeName:Ae.ZodEnum,...Ie(t)})}class Jr extends Pe{constructor(){super(...arguments),co.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return pe(n,{expected:qe.joinValues(i),received:n.parsedType,code:oe.invalid_type}),Se}if(xu(this,co)||sy(this,co,new Set(this._def.values)),!xu(this,co).has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return pe(n,{received:n.data,code:oe.invalid_enum_value,options:i}),Se}return Gt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Jr.create(t,{...this._def,...n})}exclude(t,n=this._def){return Jr.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}co=new WeakMap;Jr.create=cy;class Po extends Pe{constructor(){super(...arguments),lo.set(this,void 0)}_parse(t){const n=qe.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==me.string&&i.parsedType!==me.number){const o=qe.objectValues(n);return pe(i,{expected:qe.joinValues(o),received:i.parsedType,code:oe.invalid_type}),Se}if(xu(this,lo)||sy(this,lo,new Set(qe.getValidEnumValues(this._def.values))),!xu(this,lo).has(t.data)){const o=qe.objectValues(n);return pe(i,{received:i.data,code:oe.invalid_enum_value,options:o}),Se}return Gt(t.data)}get enum(){return this._def.values}}lo=new WeakMap;Po.create=(e,t)=>new Po({values:e,typeName:Ae.ZodNativeEnum,...Ie(t)});class xs extends Pe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==me.promise&&n.common.async===!1)return pe(n,{code:oe.invalid_type,expected:me.promise,received:n.parsedType}),Se;const i=n.parsedType===me.promise?n.data:Promise.resolve(n.data);return Gt(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}xs.create=(e,t)=>new xs({type:e,typeName:Ae.ZodPromise,...Ie(t)});class qn extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=this._def.effect||null,a={addIssue:u=>{pe(i,u),u.fatal?n.abort():n.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const u=o.transform(i.data,a);if(i.common.async)return Promise.resolve(u).then(async l=>{if(n.value==="aborted")return Se;const d=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return d.status==="aborted"?Se:d.status==="dirty"||n.value==="dirty"?is(d.value):d});{if(n.value==="aborted")return Se;const l=this._def.schema._parseSync({data:u,path:i.path,parent:i});return l.status==="aborted"?Se:l.status==="dirty"||n.value==="dirty"?is(l.value):l}}if(o.type==="refinement"){const u=l=>{const d=o.refinement(l,a);if(i.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Se:(l.status==="dirty"&&n.dirty(),u(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?Se:(l.status==="dirty"&&n.dirty(),u(l.value).then(()=>({status:n.value,value:l.value}))))}if(o.type==="transform")if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!So(u))return u;const l=o.transform(u.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>So(u)?Promise.resolve(o.transform(u.value,a)).then(l=>({status:n.value,value:l})):u);qe.assertNever(o)}}qn.create=(e,t,n)=>new qn({schema:e,typeName:Ae.ZodEffects,effect:t,...Ie(n)});qn.createWithPreprocess=(e,t,n)=>new qn({schema:t,effect:{type:"preprocess",transform:e},typeName:Ae.ZodEffects,...Ie(n)});class rr extends Pe{_parse(t){return this._getType(t)===me.undefined?Gt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rr.create=(e,t)=>new rr({innerType:e,typeName:Ae.ZodOptional,...Ie(t)});class Qr extends Pe{_parse(t){return this._getType(t)===me.null?Gt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qr.create=(e,t)=>new Qr({innerType:e,typeName:Ae.ZodNullable,...Ie(t)});class $o extends Pe{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===me.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}$o.create=(e,t)=>new $o({innerType:e,typeName:Ae.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ie(t)});class zo extends Pe{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Fo(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new yn(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new yn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}zo.create=(e,t)=>new zo({innerType:e,typeName:Ae.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ie(t)});class bu extends Pe{_parse(t){if(this._getType(t)!==me.nan){const i=this._getOrReturnCtx(t);return pe(i,{code:oe.invalid_type,expected:me.nan,received:i.parsedType}),Se}return{status:"valid",value:t.data}}}bu.create=e=>new bu({typeName:Ae.ZodNaN,...Ie(e)});const uF=Symbol("zod_brand");class Qd extends Pe{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Go extends Pe{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?Se:a.status==="dirty"?(n.dirty(),is(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Se:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(t,n){return new Go({in:t,out:n,typeName:Ae.ZodPipeline})}}class Lo extends Pe{_parse(t){const n=this._def.innerType._parse(t),i=o=>(So(o)&&(o.value=Object.freeze(o.value)),o);return Fo(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}Lo.create=(e,t)=>new Lo({innerType:e,typeName:Ae.ZodReadonly,...Ie(t)});function ly(e,t={},n){return e?Ds.create().superRefine((i,o)=>{var a,u;if(!e(i)){const l=typeof t=="function"?t(i):typeof t=="string"?{message:t}:t,d=(u=(a=l.fatal)!==null&&a!==void 0?a:n)!==null&&u!==void 0?u:!0,f=typeof l=="string"?{message:l}:l;o.addIssue({code:"custom",...f,fatal:d})}}):Ds.create()}const cF={object:pt.lazycreate};var Ae;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ae||(Ae={}));const lF=(e,t={message:`Input not instance of ${e.name}`})=>ly(n=>n instanceof e,t),dy=Hn.create,fy=Yr.create,dF=bu.create,fF=Kr.create,hy=No.create,hF=Si.create,pF=wu.create,gF=To.create,mF=Io.create,yF=Ds.create,vF=wi.create,_F=Nr.create,DF=Cu.create,xF=Zn.create,wF=pt.create,CF=pt.strictCreate,EF=ko.create,bF=Lu.create,AF=Bo.create,SF=sr.create,FF=Ro.create,NF=Eu.create,TF=Fi.create,IF=fs.create,kF=Mo.create,BF=Oo.create,RF=Jr.create,MF=Po.create,OF=xs.create,R0=qn.create,PF=rr.create,$F=Qr.create,zF=qn.createWithPreprocess,LF=Go.create,jF=()=>dy().optional(),HF=()=>fy().optional(),VF=()=>hy().optional(),UF={string:e=>Hn.create({...e,coerce:!0}),number:e=>Yr.create({...e,coerce:!0}),boolean:e=>No.create({...e,coerce:!0}),bigint:e=>Kr.create({...e,coerce:!0}),date:e=>Si.create({...e,coerce:!0})},GF=Se;var ce=Object.freeze({__proto__:null,defaultErrorMap:_s,setErrorMap:G4,getErrorMap:_u,makeIssue:Du,EMPTY_PATH:Z4,addIssueToContext:pe,ParseStatus:Lt,INVALID:Se,DIRTY:is,OK:Gt,isAborted:gd,isDirty:md,isValid:So,isAsync:Fo,get util(){return qe},get objectUtil(){return pd},ZodParsedType:me,getParsedType:Gr,ZodType:Pe,datetimeRegex:uy,ZodString:Hn,ZodNumber:Yr,ZodBigInt:Kr,ZodBoolean:No,ZodDate:Si,ZodSymbol:wu,ZodUndefined:To,ZodNull:Io,ZodAny:Ds,ZodUnknown:wi,ZodNever:Nr,ZodVoid:Cu,ZodArray:Zn,ZodObject:pt,ZodUnion:ko,ZodDiscriminatedUnion:Lu,ZodIntersection:Bo,ZodTuple:sr,ZodRecord:Ro,ZodMap:Eu,ZodSet:Fi,ZodFunction:fs,ZodLazy:Mo,ZodLiteral:Oo,ZodEnum:Jr,ZodNativeEnum:Po,ZodPromise:xs,ZodEffects:qn,ZodTransformer:qn,ZodOptional:rr,ZodNullable:Qr,ZodDefault:$o,ZodCatch:zo,ZodNaN:bu,BRAND:uF,ZodBranded:Qd,ZodPipeline:Go,ZodReadonly:Lo,custom:ly,Schema:Pe,ZodSchema:Pe,late:cF,get ZodFirstPartyTypeKind(){return Ae},coerce:UF,any:yF,array:xF,bigint:fF,boolean:hy,date:hF,discriminatedUnion:bF,effect:R0,enum:RF,function:IF,instanceof:lF,intersection:AF,lazy:kF,literal:BF,map:NF,nan:dF,nativeEnum:MF,never:_F,null:mF,nullable:$F,number:fy,object:wF,oboolean:VF,onumber:HF,optional:PF,ostring:jF,pipeline:LF,preprocess:zF,promise:OF,record:FF,set:TF,strictObject:CF,string:dy,symbol:pF,transformer:R0,tuple:SF,undefined:gF,union:EF,unknown:vF,void:DF,NEVER:GF,ZodIssueCode:oe,quotelessJson:U4,ZodError:yn});const jo=ce.string().default(crypto.randomUUID);var py=(e=>(e.Input="inputNode",e.Output="outputNode",e.DecisionTable="decisionTableNode",e.Function="functionNode",e.Expression="expressionNode",e.Switch="switchNode",e.Decision="decisionNode",e))(py||{});const ZF="customNode",Tr=ce.object({id:jo,name:ce.string(),position:ce.object({x:ce.number(),y:ce.number()}).default({x:0,y:0})}),WF=ce.object({type:ce.literal("inputNode")}).merge(Tr),qF=ce.object({type:ce.literal("outputNode")}).merge(Tr),XF=ce.object({type:ce.literal("decisionTableNode"),content:ce.object({hitPolicy:ce.enum(["first","collect"]).nullish().transform(e=>e??"first"),rules:ce.array(ce.record(ce.string(),ce.string().nullish().transform(e=>e??""))).default([]),inputs:ce.array(ce.object({id:jo,name:ce.string().nullish(),field:ce.string().nullish(),defaultValue:ce.string().nullish()})),outputs:ce.array(ce.object({id:jo,name:ce.string(),field:ce.string(),defaultValue:ce.string().nullish()})),passThrough:ce.boolean().nullish().transform(e=>e??!1),inputField:ce.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),outputPath:ce.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),executionMode:ce.enum(["single","loop"]).nullish().transform(e=>e??"single")})}).merge(Tr),YF=ce.object({type:ce.literal("functionNode"),content:ce.string().or(ce.object({source:ce.string().default("")})).nullish()}).merge(Tr),KF=ce.object({type:ce.literal("expressionNode"),content:ce.object({expressions:ce.array(ce.object({id:jo,key:ce.string().default(""),value:ce.string().default("")})),passThrough:ce.boolean().nullish().transform(e=>e??!1),inputField:ce.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),outputPath:ce.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),executionMode:ce.enum(["single","loop"]).nullish().transform(e=>e??"single")})}).merge(Tr),JF=ce.object({type:ce.literal("decisionNode"),content:ce.object({key:ce.string(),passThrough:ce.boolean().nullish().transform(e=>e??!1),inputField:ce.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),outputPath:ce.string().nullish().default(null).transform(e=>e&&e.trim().length>0?e:null),executionMode:ce.enum(["single","loop"]).nullish().transform(e=>e??"single")})}).merge(Tr),QF=ce.object({type:ce.literal("switchNode"),content:ce.object({hitPolicy:ce.enum(["first","collect"]).nullish().transform(e=>e??"first"),statements:ce.array(ce.object({id:jo,condition:ce.string().nullish().transform(e=>e??""),isDefault:ce.boolean().nullish().transform(e=>e??!1)}))})}).merge(Tr),eN=ce.object({type:ce.literal(ZF),content:ce.object({kind:ce.string(),config:ce.any()})}).merge(Tr),tN=ce.object({type:ce.string().refine(e=>!Object.values(py).includes(e),{message:"Invalid type"}),content:ce.any().nullish()}).merge(Tr),vd=ce.discriminatedUnion("type",[JF,KF,YF,XF,QF,eN,WF,qF]).or(tN),nN=ce.object({id:ce.string(),sourceId:ce.string(),targetId:ce.string(),sourceHandle:ce.string().nullish(),type:ce.enum(["edge"])}),rN=ce.object({inputSchema:ce.any().nullish().default(null),outputSchema:ce.any().nullish().default(null)}),iN=ce.object({validation:rN}).default({validation:{inputSchema:null,outputSchema:null}}),M0=ce.object({nodes:ce.array(vd).default([]),edges:ce.array(nN).default([]),settings:iN}),gy=e=>{const t=Tt(),{id:n,sourceX:i,sourceY:o,targetX:a,targetY:u,sourcePosition:l,targetPosition:d,style:f={},markerEnd:h}=e,{isHovered:g,disabled:m}=lt(({hoveredEdgeId:_,disabled:b})=>({isHovered:_===n,disabled:b})),{diff:D}=k4(n),[w,v,x]=Pd({sourceX:i,sourceY:o,sourcePosition:l,targetX:a,targetY:u,targetPosition:d});return F.jsxs(F.Fragment,{children:[F.jsx(ws,{path:w,markerEnd:h,style:{...f||{},stroke:Ze(D).with({status:"added"},()=>"var(--grl-color-success)").with({status:"removed"},()=>"var(--grl-color-error)").otherwise(()=>{})}}),F.jsx(C6,{children:F.jsx("div",{className:"nodrag nopan edge-renderer",style:{transform:`translate(-50%, -50%) translate(${v}px,${x}px)`},children:!m&&F.jsx(ct,{type:"primary",shape:"round",icon:F.jsx(Su,{}),danger:!0,className:Xe("grl-edge-delete-button"),"data-visible":g,onClick:()=>t.removeEdges([n])})})})]})},sN=e=>t=>F.jsx(gy,{...t,...e});gy.__docgenInfo={description:"",methods:[],displayName:"CustomEdge"};const oN=e=>typeof e!="object"?!1:Array.isArray(e?.nodes),aN=(e,t)=>{const n=bs(),i=Tt(),o=S.useCallback(async u=>{try{if(!e.current)return;const l=(n.stateStore.getState()?.decisionGraph?.nodes||[]).filter(g=>u.some(m=>m.id===g.id)),d=l.map(g=>g.id),f=[];l.length>0&&e.current.getEdges().forEach(m=>{d.includes(m.source)&&d.includes(m.target)&&f.push({id:m.id,type:m.type,sourceId:m.source,targetId:m.target,sourceHandle:m.sourceHandle??void 0,targetHandle:m.targetHandle??void 0})}),await cd(JSON.stringify({nodes:l,edges:f})),Rt.success("Copied to clipboard!")}catch(l){Rt.error(l.message)}},[n]),a=S.useCallback(async()=>{try{if(!e?.current)return;const u=await D4();if(!u)return;const l=JSON.parse(u);if(!oN(l))throw new Error("invalid clipboard");const d=l.nodes.reduce((v,x)=>({...v,[x.id]:crypto.randomUUID()}),{}),f=Object.keys(d),h=e.current.getNodes().find(v=>f.includes(v.id)),g=l.nodes.find(v=>v.id===h?.id),m={x:l.nodes.reduce((v,x)=>v+x.position.x,0)/l.nodes.length,y:l.nodes.reduce((v,x)=>v+x.position.y,0)/l.nodes.length},D=l.nodes.map(v=>{const x={x:v?.position?.x||0,y:v?.position?.y||0};if(h&&g)v.id===h.id?(x.x=h.position.x,x.y=h.position.y-20):(x.x=h.position.x-g.position.x+v.position.x,x.y=h.position.y-g.position.y+v.position.y-20);else if(t.current){const _=t.current.getBoundingClientRect(),b={x:_.width/2,y:_.height/2},I=e.current.project(b);x.x=v.position.x+I.x-m.x/2,x.y=v.position.y+I.y-m.y/2}return{...v,position:x,id:d[v.id]}}),w=(l.edges||[]).map(v=>({id:crypto.randomUUID(),type:v.type,sourceId:d[v.sourceId],targetId:d[v.targetId],sourceHandle:v.sourceHandle??void 0,targetHandle:v.targetHandle??void 0}));if(i.addNodes(D),i.addEdges(w),Rt.success("Pasted from clipboard!"),h)try{await cd(JSON.stringify({nodes:D}))}catch{}}catch{Rt.error("Failed to paste from clipboard")}},[e,t]);return S.useMemo(()=>({copyNodes:o,pasteNodes:a}),[o,a])},my=j.memo(({inputDisabled:e,disabled:t})=>{const n=lt(f=>f.components||[]),i=lt(f=>f.customNodes||[]),[o,a]=S.useState(""),u=S.useCallback((f,h,g)=>{const m=f.target;if(!m)return;const{offsetX:D,offsetY:w}=f.nativeEvent,{height:v,width:x}=m.getBoundingClientRect(),_={x:D/x,y:w/v};f.dataTransfer.effectAllowed="move",f.dataTransfer.setData("application/reactflow",h),f.dataTransfer.setData("relativePosition",JSON.stringify(_)),g&&f.dataTransfer.setData("customNodeComponent",g)},[]),l=S.useMemo(()=>{const f={core:Object.values(Ai)};return n?.length>0&&(f.extended=n),(i||[]).forEach(h=>{const g=h.group?.trim?.()||"";g.length>0&&(f?.[g]?f[g].push({...h,type:"customNode"}):f[g]=[{...h,type:"customNode"}])}),(i||[]).forEach(h=>{h?.group||(f?.custom?f.custom.push({...h,type:"customNode"}):f.custom=[{...h,type:"customNode"}])}),f},[n,i]),d=S.useMemo(()=>Object.keys(l).reduce((f,h)=>({...f,[h]:(l[h]||[]).filter(g=>!(o?.trim?.().length>0)||(g.type||"").toLowerCase().indexOf(o.toLowerCase())>-1||(g.displayName||"").toLowerCase().indexOf(o.toLowerCase())>-1||(g.shortDescription||"").toLowerCase().indexOf(o.toLowerCase())>-1||(g.group||"").toLowerCase().indexOf(o.toLowerCase())>-1)}),{}),[l,o]);return F.jsxs("div",{children:[F.jsx(SC,{placeholder:"Type to search",value:o,onChange:f=>a(f.target.value||""),allowClear:!0,className:"grl-dg__aside__menu__components__search"}),F.jsx("div",{className:"grl-dg__aside__menu__components",children:Object.keys(d).map(f=>Ze(f).with("core",()=>d.core?.length>0&&F.jsx(j.Fragment,{children:(d.core||[]).map(h=>F.jsx(j.Fragment,{children:F.jsx(O0,{disabled:Ze(h.type).with(Ye.Input,()=>t||e).otherwise(()=>t),specification:h,onDragStart:g=>Ai[h.type]!==void 0?u(g,h.type):u(g,"customNode","kind"in h?h.kind:"")})},"kind"in h?h.kind:h.type))},f)).otherwise(h=>d[h]?.length>0&&F.jsx(j.Fragment,{children:(d?.[h]||[]).map(g=>F.jsx(O0,{disabled:t,specification:g,onDragStart:m=>h==="extended"?u(m,g.type):u(m,"customNode","kind"in g?g.kind:"")},"kind"in g?g.kind:g.type))},h)))})]})}),O0=({specification:e,disabled:t=!1,...n})=>F.jsx("div",{className:Xe("draggable-component"),draggable:!t,...n,children:F.jsx("div",{style:{pointerEvents:"none"},children:F.jsx(Gd,{listMode:!0,compactMode:!0,color:e.color,icon:e.icon,name:e.displayName,type:e.shortDescription})})});my.__docgenInfo={description:"",methods:[],displayName:"GraphComponents",props:{inputDisabled:{required:!1,tsType:{name:"boolean"},description:""},components:{required:!1,tsType:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const uN=Object.entries(Ai).reduce((e,[t,n])=>({...e,[t]:j.memo(i=>n.renderNode({specification:n,...i}),(i,o)=>i.id===o.id&&i.selected===o.selected&&i.data===o.data)}),{}),cN={edge:j.memo(sN(null))},yy=S.forwardRef(function({reactFlowProOptions:t,className:n},i){const o=S.useRef(null),a=S.useRef(null),u=E6([]),l=b6([]),[d,f]=S.useState(!0),h=bs(),g=Tt(),m=I4(B=>B),{onReactFlowInit:D}=ny(({onReactFlowInit:B})=>({onReactFlowInit:B})),{disabled:w,hasInputNode:v,components:x,customNodes:_}=lt(({disabled:B,components:U,customNodes:K,decisionGraph:q})=>({disabled:B,components:U,customNodes:K,hasInputNode:(q?.nodes||[]).some(G=>G.type===Ye.Input)}));m.nodesState.current=u,m.edgesState.current=l,m.graphClipboard.current=aN(a,o);const b=S.useMemo(()=>j.memo(B=>{const U=_.find(K=>K.kind===B?.data?.kind);return U?U.renderNode({specification:U,...B}):(console.warn("node not found",B,_),F.jsx(ei,{id:B.id,specification:{displayName:`${B.data?.kind}`,color:"var(--grl-color-error)",icon:F.jsx(z2,{})},name:B?.data?.name,isSelected:B.selected,displayError:!0,noBodyPadding:!0,handleLeft:!0,handleRight:!0}))},(B,U)=>B.id===U.id&&B.selected===U.selected&&B.data===U.data),[_]),I=S.useMemo(()=>x.reduce((B,U)=>({...B,[U.type]:j.memo(K=>U.renderNode({specification:U,...K}),(K,q)=>K.id===q.id&&K.selected===q.selected&&K.data===q.data)}),{...uN,customNode:b}),[x,b]),N=async(B,U,K)=>{if(!o.current||!a.current)return;if(!U){const $=o.current.getBoundingClientRect(),P={x:$.width/2,y:$.height/2};U=a.current.project(P)}const q=Ze(B).with("customNode",()=>_.find($=>$.kind===K)).otherwise(()=>[...Object.values(Ai),...x].find(P=>P.type===B));if(!q){Rt.error(`Unknown node type ${B} - ${K}.`);return}let G=Ze(q).with({kind:Ge.string},$=>{const P=(a.current?.getNodes()||[]).filter(ee=>ee.data?.kind===$.kind).length+1,Z=$.generateNode({index:P});return{id:crypto.randomUUID(),type:"customNode",name:Z.name,position:U,content:{kind:$.kind,config:Z?.config}}}).with({type:Ge.string},$=>{const P=(a.current?.getNodes()||[]).filter(ee=>ee.type===$.type).length+1,Z=$.generateNode({index:P});return{id:crypto.randomUUID(),type:$.type,position:U,...Z}}).otherwise(()=>null);if(!G){Rt.error(`Unknown node type ${B} - ${K}.`);return}if(q.onNodeAdd)try{G=await q.onNodeAdd(G)}catch{return}const A=vd.safeParse(G);if(A.success)return g.addNodes([vd.parse(G)]);Rt.error(A.error?.message)},M=B=>{if(B.source===B.target||w)return!1;const[U]=u,[K]=l,q=K.some($=>$.source===B.source&&$.target===B.target&&($.sourceHandle??null)===(B.sourceHandle??null)&&($.targetHandle??null)===(B.targetHandle??null)),G=U.find($=>$.id===B.target);if(!G||G.id===B.source)return!1;const A=($,P=new Set)=>{if(P.has($.id))return!1;P.add($.id);for(const Z of pu($,U,K))if(Z.id===B.source||A(Z,P))return!0};return!q&&!A(G)},z=B=>{if(B.preventDefault(),B.stopPropagation(),!o.current||!a.current)return;const U=o.current.getBoundingClientRect(),K=B.dataTransfer.getData("application/reactflow");let q;try{q=JSON.parse(B.dataTransfer.getData("relativePosition"))}catch{return}const G=a.current.project({x:B.clientX-U.left,y:B.clientY-U.top});G.x-=Math.round(q.x*226/10)*10,G.y-=Math.round(q.y*60/10)*10;const A=Ze(B.dataTransfer.getData("customNodeComponent")).with(Ge.string,$=>$).otherwise(()=>{});N(K,G,A)},O=B=>{B.preventDefault(),B.dataTransfer.dropEffect="move"},X=B=>{const U={...B,type:"edge",id:crypto.randomUUID()};w||g.addEdges([T4(U)])};return S.useImperativeHandle(i,()=>({...g,stateStore:h.stateStore})),F.jsx("div",{className:Xe(["tab-content",n]),tabIndex:0,onKeyDown:B=>{B.key==="v"&&B.metaKey&&!w&&g.pasteNodes()},children:F.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",display:"flex"},children:[!w&&!d&&F.jsx("div",{className:"grl-dg__components__floating",style:{position:"absolute",top:8,right:8,zIndex:1},children:F.jsx(ss,{placement:"right",title:"Components",children:F.jsx(ct,{icon:F.jsx(rE,{}),onClick:()=>f(!0)})})}),F.jsx("div",{tabIndex:0,className:"content-wrapper",onKeyDown:B=>{const[U]=u,[K]=l;if(B.key==="c"&&B.metaKey){const q=u[0].filter(G=>G.selected).map(({id:G})=>G);if(q.length===0)return;g.copyNodes(q),B.preventDefault()}else if(B.key==="d"&&B.metaKey){if(!w){const q=U.filter(G=>G.selected).map(({id:G})=>G);if(q.length===0)return;g.duplicateNodes(q)}B.preventDefault()}else if(B.key==="Backspace"){if(!w){const q=U.filter(A=>A.selected),G=K.filter(A=>A.selected);if(q.length>0){const A=q.length,$=A>1?"nodes":"node";_d.confirm({icon:null,title:`Delete ${$}`,content:F.jsxs($t.Text,{children:["Are you sure you want to delete ",A>1?`${A} ${$}`:$,"?"]}),okButtonProps:{danger:!0},onOk:()=>{G.length>0&&g.removeEdges(G.map(P=>P.id)),g.removeNodes(q.map(P=>P.id))}})}else G.length>0&&g.removeEdges(G.map(A=>A.id))}B.stopPropagation(),B.preventDefault()}},children:F.jsx("div",{className:Xe(["react-flow"]),ref:o,children:F.jsxs(Em,{onlyRenderVisibleElements:!0,deleteKeyCode:null,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,zoomOnDoubleClick:!1,connectionRadius:35,nodes:u[0],edges:l[0],onInit:B=>{a.current=B,D?.(B)},snapToGrid:!0,snapGrid:[5,5],minZoom:.25,selectionMode:ys.Partial,nodeTypes:I,edgeTypes:cN,onDrop:z,onDragOver:O,onConnect:X,isValidConnection:M,proOptions:t,nodesConnectable:!w,nodesDraggable:!w,edgesUpdatable:!w,onNodesChange:g.handleNodesChange,onEdgesChange:g.handleEdgesChange,onNodesDelete:B=>{B.forEach(U=>{g.closeTab(U?.id)})},onEdgeMouseEnter:(B,U)=>g.setHoveredEdgeId(U.id),onEdgeMouseLeave:()=>g.setHoveredEdgeId(null),children:[F.jsx(k6,{showInteractive:!1,children:F.jsx(ns,{onClick:()=>g.toggleCompactMode(),children:F.jsx(h2,{})})}),F.jsx($6,{color:"var(--grl-color-border)",gap:20})]})})}),!w&&d&&F.jsx("div",{className:"grl-dg__aside__menu",children:F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"grl-dg__aside__menu__heading",children:[F.jsx("div",{className:"grl-dg__aside__menu__heading__text",children:F.jsx($t.Text,{strong:!0,style:{marginBottom:0},children:"Components"})}),F.jsx(ct,{type:"text",size:"small",icon:F.jsx(go,{}),onClick:()=>f(!1)})]}),F.jsx("div",{className:"grl-dg__aside__menu__content",children:F.jsx(my,{inputDisabled:v,disabled:w})})]})})]})})});yy.__docgenInfo={description:"",methods:[],displayName:"Graph"};const P0="application/vnd.gorules.decision",vy=()=>{const e=bs(),t=S.useRef(null),n=S.useRef(null),{setDecisionGraph:i,setActivePanel:o}=Tt(),{disabled:a,panels:u,activePanel:l}=lt(({disabled:w,panels:v,activePanel:x})=>({disabled:w,panels:v,activePanel:x})),d=async w=>{const v=w?.target?.files,x=new FileReader;x.onload=function(_){try{const b=JSON.parse(_?.target?.result);if(b?.contentType!==P0)throw new Error("Invalid content type");const I=Array.isArray(b?.nodes)?b.nodes:[],N=I.map(O=>O.id),M=b.edges.filter(O=>N.includes(O?.targetId)&&N.includes(O?.sourceId)),z=M0.safeParse({nodes:I,edges:M,settings:b?.settings});if(!z.success){console.log(z.error?.message),Rt.error(z.error?.message);return}i(z.data)}catch(b){Rt.error(b.message)}},x.readAsText(Array.from(v)?.[0],"UTF-8")},f=w=>{const v=w?.target?.files[0],x=new FileReader;try{x.readAsArrayBuffer(v),x.onload=async()=>{const _=x.result;if(!_)return;const b=await iE(_),{decisionGraph:I}=e.stateStore.getState(),N=I.nodes.map(O=>{let X=O;return b.forEach(B=>{B.id===O.id&&(X={...O,content:B.content})}),X}),M=b.filter(O=>!N.some(X=>X.id===O.id)).map((O,X)=>({...O,position:{x:X*250,y:0}})),z=M0.safeParse({nodes:[...N,...M],edges:I.edges,settings:I.settings});if(!z.success){console.log(z.error?.message),Rt.error(z.error?.message);return}i(z.data),Rt.success("Excel file has been uploaded successfully!")}}catch{Rt.error("Failed to upload Excel!")}},h=async()=>{try{const{name:w}=e.stateStore.getState(),{decisionGraph:v}=e.stateStore.getState(),x=`${w.replaceAll(".json","")}.json`,_=JSON.stringify({contentType:P0,nodes:v.nodes,edges:v.edges,settings:v.settings},null,2),b=new Blob([_],{type:"application/json"}),I=URL.createObjectURL(b),N=window.document.createElement("a");N.href=I,N.download=x,window.document.body.appendChild(N),N.click(),window.document.body.removeChild(N),URL.revokeObjectURL(I)}catch(w){Rt.error(w.message)}},g=async(w="decision tables")=>{try{const{decisionGraph:v}=e.stateStore.getState(),x=v.nodes.filter(_=>_.type===Ye.DecisionTable).map(_=>({..._.content,id:_.id,name:_.name}));await sE(w,x),Rt.success("Excel file has been downloaded successfully!")}catch{Rt.error("Failed to download Excel file!")}},m=[{key:"upload-json",label:"Upload JSON",onClick:()=>t?.current?.click?.()},{key:"upload-excel",label:"Upload Excel",onClick:()=>n?.current?.click?.()}],D=[{key:"download-json",label:"Download JSON",onClick:()=>h()},{key:"download-excel",label:"Download Excel",onClick:()=>g()}];return F.jsxs("div",{className:"grl-dg__aside",children:[F.jsx("input",{hidden:!0,accept:"application/json",type:"file",ref:t,onChange:d,onClick:w=>{w.target.value=null}}),F.jsx("input",{hidden:!0,accept:".xlsx",type:"file",ref:n,onChange:f,onClick:w=>{w.target.value=null}}),F.jsxs("div",{className:"grl-dg__aside__side-bar",children:[F.jsxs("div",{className:"grl-dg__aside__side-bar__top",children:[!a&&F.jsx(mo,{menu:{items:m},placement:"bottomRight",trigger:["click"],arrow:!0,children:F.jsx(ct,{type:"text",disabled:a,icon:F.jsx(l2,{})})}),F.jsx(mo,{menu:{items:D},placement:"bottomRight",trigger:["click"],arrow:!0,children:F.jsx(ct,{type:"text",icon:F.jsx(a2,{})})})]}),F.jsx("div",{className:"grl-dg__aside__side-bar__bottom",children:(u||[]).map(w=>F.jsx(ct,{type:l===w.id?"default":"text",icon:w.icon,onClick:()=>{if(w?.onClick)return w.onClick();w?.renderPanel&&o(l===w.id?void 0:w.id)}},w.id))})]})]})};vy.__docgenInfo={description:"",methods:[],displayName:"GraphSideToolbar"};const _y=({disabled:e})=>{const t=Tt(),{openNodes:n,activeNodeId:i}=lt(({decisionGraph:o,activeTab:a,openTabs:u})=>({activeNodeId:(o?.nodes??[]).find(l=>l.id===a)?.id,openNodes:(u||[]).map(l=>{const d=(o?.nodes??[]).find(f=>f.id===l);if(d)return{id:d?.id,name:d.name,type:d.type,diff:d?._diff}}).filter(l=>!!l)}));return F.jsx("div",{children:F.jsx(oE,{hideAdd:!0,type:"editable-card",size:"small",className:"tabs",activeKey:i||"graph",onEdit:(o,a)=>{a==="remove"&&t.closeTab(o)},onChange:o=>t.openTab(o),items:[{closable:!1,key:"graph",label:F.jsx($0,{total:n?.length,icon:F.jsx(m2,{}),name:"Graph",onContextClick:o=>{t.closeTab("graph",o)}})},...n.map((o,a)=>{const u=Ai[o.type];return{disabled:e,key:o.id,label:F.jsx($0,{onContextClick:l=>{t.closeTab(o.id,l)},icon:u?.icon,name:o?.name??o?.type,diffStatus:o?.diff?.status,color:u?.color,index:a,total:n?.length}),closable:!0}})]})})},$0=({total:e=0,index:t=-1,icon:n,name:i,diffStatus:o,color:a=Ni.Blue,onContextClick:u})=>{const l=[e>0&&t!==-1&&{key:"close",label:"Close",onClick:()=>u?.("close")},e>0&&t!==-1&&{key:"close-all",label:"Close all Tabs",onClick:()=>u?.("close-all")},e>0&&t!==-1&&{key:"close-other",label:"Close other Tabs",onClick:()=>u?.("close-other")},e>0&&t+1<e&&{key:"close-right",label:"Close Tabs to the right",onClick:()=>u?.("close-right")},e>0&&t>0&&t>0&&{key:"close-left",label:"Close Tabs to the left",onClick:()=>u?.("close-left")}].filter(d=>!!d);return F.jsx(mo,{menu:{items:l},trigger:["contextMenu"],children:F.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[F.jsx(tg,{size:"small",shape:"square",style:{background:a,fontSize:14,width:20,height:20,lineHeight:"18px"},icon:n}),i,F.jsx(L0,{status:o,style:{fontSize:16}})]})})};_y.__docgenInfo={description:"",methods:[],displayName:"GraphTabs",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""}}};const Dy=j.memo(S.forwardRef(function({reactFlowProOptions:t},n){const[i,o]=S.useState(!1),a=lt(({decisionGraph:u,activeTab:l})=>(u?.nodes??[]).some(d=>d.id===l));return F.jsxs(F.Fragment,{children:[F.jsx(vy,{}),F.jsxs("div",{className:"grl-dg__graph",children:[F.jsx(_y,{disabled:i}),F.jsx(yy,{ref:n,className:Xe([!a&&"active"]),reactFlowProOptions:t,onDisableTabs:o}),F.jsx(lN,{})]}),F.jsx(ry,{})]})})),lN=j.memo(()=>{const{openNodes:e,activeNodeId:t,components:n}=lt(({decisionGraph:a,openTabs:u,activeTab:l,components:d})=>{const f=(a?.nodes??[]).find(g=>g.id===l)?.id;return{openNodes:(a?.nodes??[]).filter(g=>u.includes(g.id)).map(({id:g,type:m})=>({id:g,type:m})),activeNodeId:f,components:d}}),i=S.useRef(null),o=S.useMemo(()=>FC(NC,void 0,{rootElement:i.current}),[i.current]);return F.jsx("div",{style:{display:"contents"},ref:i,children:e.map(a=>F.jsx("div",{className:Xe(["tab-content",t===a?.id&&"active"]),children:Ze(a?.type).with(Ye.DecisionTable,()=>Yd?.renderTab?.({id:a?.id,manager:o})).with(Ye.Function,()=>Jd?.renderTab?.({id:a?.id,manager:o})).with(Ye.Expression,()=>Kd?.renderTab?.({id:a?.id,manager:o})).otherwise(()=>{const u=n.find(l=>l.type===a.type);return u?u?.renderTab?.({id:a.id,manager:o}):null})},a?.id))})});Dy.__docgenInfo={description:"",methods:[],displayName:"DecisionGraphWrapper"};const dN=S.forwardRef(({manager:e,reactFlowProOptions:t,...n},i)=>F.jsx("div",{className:"grl-dg",children:F.jsx(Ud,{children:F.jsxs(ty,{children:[F.jsx(Dy,{ref:i,reactFlowProOptions:t}),F.jsx(j4,{}),F.jsx(B4,{...n})]})})}));dN.__docgenInfo={description:"",methods:[],displayName:"DecisionGraph"};export{dN as D,ei as G,F2 as R,lt as a,x4 as b,S4 as c,Ji as l,Tt as u};
