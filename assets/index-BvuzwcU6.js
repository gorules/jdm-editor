import{r as a,R as Q}from"./index-CDs2tPxN.js";import{_ as U,u as Y,a as Z,c as w,b as T,d as ee,e as F,C as W,F as te,D as ae,f as q,o as ne,g as L}from"./index-B6ko2aXS.js";import{T as le,W as re}from"./libs-Tdb3HpoV.js";import{u as z}from"./dg-DW-tjq_e.js";var se=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ce=a.forwardRef(function(e,f){var c=e.prefixCls,t=c===void 0?"rc-checkbox":c,s=e.className,V=e.style,h=e.checked,p=e.disabled,O=e.defaultChecked,x=O===void 0?!1:O,u=e.type,g=u===void 0?"checkbox":u,$=e.title,r=e.onChange,_=U(e,se),C=a.useRef(null),d=a.useRef(null),n=Y(x,{value:h}),E=Z(n,2),N=E[0],y=E[1];a.useImperativeHandle(f,function(){return{focus:function(i){var m;(m=C.current)===null||m===void 0||m.focus(i)},blur:function(){var i;(i=C.current)===null||i===void 0||i.blur()},input:C.current,nativeElement:d.current}});var v=w(t,s,T(T({},"".concat(t,"-checked"),N),"".concat(t,"-disabled"),p)),o=function(i){p||("checked"in e||y(i.target.checked),r==null||r({target:F(F({},e),{},{type:g,checked:i.target.checked}),stopPropagation:function(){i.stopPropagation()},preventDefault:function(){i.preventDefault()},nativeEvent:i.nativeEvent}))};return a.createElement("span",{className:v,title:$,style:V,ref:d},a.createElement("input",ee({},_,{className:"".concat(t,"-input"),ref:C,onChange:o,disabled:p,checked:!!N,type:g})),a.createElement("span",{className:"".concat(t,"-inner")}))});const oe=Q.createContext(null),B=oe;var ie=function(e,f){var c={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&f.indexOf(t)<0&&(c[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)f.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(c[t[s]]=e[t[s]]);return c};const ue=(e,f)=>{var c;const{prefixCls:t,className:s,rootClassName:V,children:h,indeterminate:p=!1,style:O,onMouseEnter:x,onMouseLeave:u,skipGroup:g=!1,disabled:$}=e,r=ie(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:_,direction:C,checkbox:d}=a.useContext(W),n=a.useContext(B),{isFormItemInput:E}=a.useContext(te),N=a.useContext(ae),y=(c=(n==null?void 0:n.disabled)||$)!==null&&c!==void 0?c:N,v=a.useRef(r.value);a.useEffect(()=>{n==null||n.registerValue(r.value)},[]),a.useEffect(()=>{if(!g)return r.value!==v.current&&(n==null||n.cancelValue(v.current),n==null||n.registerValue(r.value),v.current=r.value),()=>n==null?void 0:n.cancelValue(r.value)},[r.value]);const o=_("checkbox",t),b=q(o),[i,m,j]=z(o,b),k=Object.assign({},r);n&&!g&&(k.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),n.toggleOption&&n.toggleOption({label:h,value:r.value})},k.name=n.name,k.checked=n.value.includes(r.value));const R=w(`${o}-wrapper`,{[`${o}-rtl`]:C==="rtl",[`${o}-wrapper-checked`]:k.checked,[`${o}-wrapper-disabled`]:y,[`${o}-wrapper-in-form-item`]:E},d==null?void 0:d.className,s,V,j,b,m),I=w({[`${o}-indeterminate`]:p},le,m),G=p?"mixed":void 0;return i(a.createElement(re,{component:"Checkbox",disabled:y},a.createElement("label",{className:R,style:Object.assign(Object.assign({},d==null?void 0:d.style),O),onMouseEnter:x,onMouseLeave:u},a.createElement(ce,Object.assign({"aria-checked":G},k,{prefixCls:o,className:I,disabled:y,ref:f})),h!==void 0&&a.createElement("span",null,h))))},de=a.forwardRef(ue),H=de;var fe=function(e,f){var c={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&f.indexOf(t)<0&&(c[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)f.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(c[t[s]]=e[t[s]]);return c};const ve=a.forwardRef((e,f)=>{const{defaultValue:c,children:t,options:s=[],prefixCls:V,className:h,rootClassName:p,style:O,onChange:x}=e,u=fe(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:g,direction:$}=a.useContext(W),[r,_]=a.useState(u.value||c||[]),[C,d]=a.useState([]);a.useEffect(()=>{"value"in u&&_(u.value||[])},[u.value]);const n=a.useMemo(()=>s.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l),[s]),E=l=>{d(P=>P.filter(S=>S!==l))},N=l=>{d(P=>[].concat(L(P),[l]))},y=l=>{const P=r.indexOf(l.value),S=L(r);P===-1?S.push(l.value):S.splice(P,1),"value"in u||_(S),x==null||x(S.filter(M=>C.includes(M)).sort((M,K)=>{const X=n.findIndex(D=>D.value===M),J=n.findIndex(D=>D.value===K);return X-J}))},v=g("checkbox",V),o=`${v}-group`,b=q(v),[i,m,j]=z(v,b),k=ne(u,["value","disabled"]),R=s.length?n.map(l=>a.createElement(H,{prefixCls:v,key:l.value.toString(),disabled:"disabled"in l?l.disabled:u.disabled,value:l.value,checked:r.includes(l.value),onChange:l.onChange,className:`${o}-item`,style:l.style,title:l.title,id:l.id,required:l.required},l.label)):t,I={toggleOption:y,value:r,disabled:u.disabled,name:u.name,registerValue:N,cancelValue:E},G=w(o,{[`${o}-rtl`]:$==="rtl"},h,p,j,b,m);return i(a.createElement("div",Object.assign({className:G,style:O},k,{ref:f}),a.createElement(B.Provider,{value:I},R)))}),me=ve,A=H;A.Group=me;A.__ANT_CHECKBOX=!0;const xe=A;export{xe as C};
