import{_ as oe}from"./extends-CCbyfPlC.js";import{r as c,g as Ke,R as cr}from"./index-CDs2tPxN.js";import{A as ie,e as ur,a0 as lr,C as he,a1 as fr,c as pe,F as le,h as dr,m as gr,a2 as hr,a3 as pr,a4 as ve,w as vr,f as mr,N as xt,a5 as yr,x as st,g as Sr,a6 as Or,o as Dr,s as Rt,M as Cr,i as at,a7 as Er,j as Tr}from"./index-cEm7Zbb8.js";import{B as Nt,c as br}from"./button-CiSirhIM.js";var wr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const Ir=wr;var Pr=function(e,r){return c.createElement(ie,oe({},e,{ref:r,icon:Ir}))},_r=c.forwardRef(Pr);const hs=_r;var xr=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Rr=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Nr="".concat(xr," ").concat(Rr).split(/[\s\n]+/),Mr="aria-",Ar="data-";function ct(t,e){return t.indexOf(e)===0}function Lr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;e===!1?r={aria:!0,data:!0,attr:!0}:e===!0?r={aria:!0}:r=ur({},e);var n={};return Object.keys(t).forEach(function(o){(r.aria&&(o==="role"||ct(o,Mr))||r.data&&ct(o,Ar)||r.attr&&Nr.includes(o))&&(n[o]=t[o])}),n}function ut(t){return!!(t&&t.then)}const jr=t=>{const{type:e,children:r,prefixCls:n,buttonProps:o,close:i,autoFocus:s,emitEvent:a,isSilent:u,quitOnNullishReturnValue:d,actionFn:f}=t,g=c.useRef(!1),m=c.useRef(null),[l,p]=lr(!1),h=function(){i==null||i.apply(void 0,arguments)};c.useEffect(()=>{let S=null;return s&&(S=setTimeout(()=>{var D;(D=m.current)===null||D===void 0||D.focus()})),()=>{S&&clearTimeout(S)}},[]);const C=S=>{ut(S)&&(p(!0),S.then(function(){p(!1,!0),h.apply(void 0,arguments),g.current=!1},D=>{if(p(!1,!0),g.current=!1,!(u!=null&&u()))return Promise.reject(D)}))},E=S=>{if(g.current)return;if(g.current=!0,!f){h();return}let D;if(a){if(D=f(S),d&&!ut(D)){g.current=!1,h(S);return}}else if(f.length)D=f(i),g.current=!1;else if(D=f(),!D){h();return}C(D)};return c.createElement(Nt,Object.assign({},br(e),{onClick:E,loading:l,prefixCls:n},o,{ref:m}),r)},ps=jr;var kr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const zr=kr;var $r=function(e,r){return c.createElement(ie,oe({},e,{ref:r,icon:zr}))},Fr=c.forwardRef($r);const Hr=Fr;var Ur={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const qr=Ur;var Br=function(e,r){return c.createElement(ie,oe({},e,{ref:r,icon:qr}))},Vr=c.forwardRef(Br);const vs=Vr,Gr=t=>{const{getPrefixCls:e,direction:r}=c.useContext(he),{prefixCls:n,className:o}=t,i=e("input-group",n),s=e("input"),[a,u]=fr(s),d=pe(i,{[`${i}-lg`]:t.size==="large",[`${i}-sm`]:t.size==="small",[`${i}-compact`]:t.compact,[`${i}-rtl`]:r==="rtl"},u,o),f=c.useContext(le),g=c.useMemo(()=>Object.assign(Object.assign({},f),{isFormItemInput:!1}),[f]);return a(c.createElement("span",{className:d,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},c.createElement(le.Provider,{value:g},t.children)))},Wr=Gr,Xr=t=>{const{componentCls:e,paddingXS:r}=t;return{[`${e}`]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:r,"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:t.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:t.paddingXS}}}},Yr=dr(["Input","OTP"],t=>{const e=gr(t,hr(t));return[Xr(e)]},pr);var Kr=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const Qr=c.forwardRef((t,e)=>{const{value:r,onChange:n,onActiveChange:o,index:i,mask:s}=t,a=Kr(t,["value","onChange","onActiveChange","index","mask"]),u=r&&typeof s=="string"?s:r,d=p=>{n(i,p.target.value)},f=c.useRef(null);c.useImperativeHandle(e,()=>f.current);const g=()=>{vr(()=>{var p;const h=(p=f.current)===null||p===void 0?void 0:p.input;document.activeElement===h&&h&&h.select()})},m=p=>{let{key:h}=p;h==="ArrowLeft"?o(i-1):h==="ArrowRight"&&o(i+1),g()},l=p=>{p.key==="Backspace"&&!r&&o(i-1),g()};return c.createElement(ve,Object.assign({},a,{ref:f,value:u,onInput:d,onFocus:g,onKeyDown:m,onKeyUp:l,onMouseDown:g,onMouseUp:g,type:s===!0?"password":"text"}))}),Jr=Qr;var Zr=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};function ae(t){return(t||"").split("")}const en=c.forwardRef((t,e)=>{const{prefixCls:r,length:n=6,size:o,defaultValue:i,value:s,onChange:a,formatter:u,variant:d,disabled:f,status:g,autoFocus:m,mask:l}=t,p=Zr(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","variant","disabled","status","autoFocus","mask"]),{getPrefixCls:h,direction:C}=c.useContext(he),E=h("otp",r),S=Lr(p,{aria:!0,data:!0,attr:!0}),D=mr(E),[A,H,_]=Yr(E,D),k=xt(v=>o??v),$=c.useContext(le),x=yr($.status,g),R=c.useMemo(()=>Object.assign(Object.assign({},$),{status:x,hasFeedback:!1,feedbackIcon:null}),[$,x]),G=c.useRef(null),L=c.useRef({});c.useImperativeHandle(e,()=>({focus:()=>{var v;(v=L.current[0])===null||v===void 0||v.focus()},blur:()=>{var v;for(let O=0;O<n;O+=1)(v=L.current[O])===null||v===void 0||v.blur()},nativeElement:G.current}));const Z=v=>u?u(v):v,[F,z]=c.useState(ae(Z(i||"")));c.useEffect(()=>{s!==void 0&&z(ae(s))},[s]);const se=st(v=>{z(v),a&&v.length===n&&v.every(O=>O)&&v.some((O,b)=>F[b]!==O)&&a(v.join(""))}),Ie=st((v,O)=>{let b=Sr(F);for(let w=0;w<v;w+=1)b[w]||(b[w]="");O.length<=1?b[v]=O:b=b.slice(0,v).concat(ae(O)),b=b.slice(0,n);for(let w=b.length-1;w>=0&&!b[w];w-=1)b.pop();const ee=Z(b.map(w=>w||" ").join(""));return b=ae(ee).map((w,it)=>w===" "&&!b[it]?b[it]:w),b}),Pe=(v,O)=>{var b;const ee=Ie(v,O),w=Math.min(v+O.length,n-1);w!==v&&((b=L.current[w])===null||b===void 0||b.focus()),se(ee)},_e=v=>{var O;(O=L.current[v])===null||O===void 0||O.focus()},T={variant:d,disabled:f,status:x,mask:l};return A(c.createElement("div",Object.assign({},S,{ref:G,className:pe(E,{[`${E}-sm`]:k==="small",[`${E}-lg`]:k==="large",[`${E}-rtl`]:C==="rtl"},_,H)}),c.createElement(le.Provider,{value:R},Array.from({length:n}).map((v,O)=>{const b=`otp-${O}`,ee=F[O]||"";return c.createElement(Jr,Object.assign({ref:w=>{L.current[O]=w},key:b,index:O,size:k,htmlSize:1,className:`${E}-input`,onChange:Pe,value:ee,onActiveChange:_e,autoFocus:O===0&&m},T))}))))}),tn=en;var rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const nn=rn;var on=function(e,r){return c.createElement(ie,oe({},e,{ref:r,icon:nn}))},sn=c.forwardRef(on);const an=sn;var cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const un=cn;var ln=function(e,r){return c.createElement(ie,oe({},e,{ref:r,icon:un}))},fn=c.forwardRef(ln);const dn=fn;var gn=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const hn=t=>t?c.createElement(dn,null):c.createElement(an,null),pn={click:"onClick",hover:"onMouseOver"},vn=c.forwardRef((t,e)=>{const{disabled:r,action:n="click",visibilityToggle:o=!0,iconRender:i=hn}=t,s=typeof o=="object"&&o.visible!==void 0,[a,u]=c.useState(()=>s?o.visible:!1),d=c.useRef(null);c.useEffect(()=>{s&&u(o.visible)},[s,o]);const f=Or(d),g=()=>{r||(a&&f(),u($=>{var x;const R=!$;return typeof o=="object"&&((x=o.onVisibleChange)===null||x===void 0||x.call(o,R)),R}))},m=$=>{const x=pn[n]||"",R=i(a),G={[x]:g,className:`${$}-icon`,key:"passwordIcon",onMouseDown:L=>{L.preventDefault()},onMouseUp:L=>{L.preventDefault()}};return c.cloneElement(c.isValidElement(R)?R:c.createElement("span",null,R),G)},{className:l,prefixCls:p,inputPrefixCls:h,size:C}=t,E=gn(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:S}=c.useContext(he),D=S("input",h),A=S("input-password",p),H=o&&m(A),_=pe(A,l,{[`${A}-${C}`]:!!C}),k=Object.assign(Object.assign({},Dr(E,["suffix","iconRender","visibilityToggle"])),{type:a?"text":"password",className:_,prefixCls:D,suffix:H});return C&&(k.size=C),c.createElement(ve,Object.assign({ref:Rt(e,d)},k))}),mn=vn;var yn=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const Sn=c.forwardRef((t,e)=>{const{prefixCls:r,inputPrefixCls:n,className:o,size:i,suffix:s,enterButton:a=!1,addonAfter:u,loading:d,disabled:f,onSearch:g,onChange:m,onCompositionStart:l,onCompositionEnd:p}=t,h=yn(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:C,direction:E}=c.useContext(he),S=c.useRef(!1),D=C("input-search",r),A=C("input",n),{compactSize:H}=Cr(D,E),_=xt(T=>{var v;return(v=i??H)!==null&&v!==void 0?v:T}),k=c.useRef(null),$=T=>{T&&T.target&&T.type==="click"&&g&&g(T.target.value,T,{source:"clear"}),m&&m(T)},x=T=>{var v;document.activeElement===((v=k.current)===null||v===void 0?void 0:v.input)&&T.preventDefault()},R=T=>{var v,O;g&&g((O=(v=k.current)===null||v===void 0?void 0:v.input)===null||O===void 0?void 0:O.value,T,{source:"input"})},G=T=>{S.current||d||R(T)},L=typeof a=="boolean"?c.createElement(Hr,null):null,Z=`${D}-button`;let F;const z=a||{},se=z.type&&z.type.__ANT_BUTTON===!0;se||z.type==="button"?F=at(z,Object.assign({onMouseDown:x,onClick:T=>{var v,O;(O=(v=z==null?void 0:z.props)===null||v===void 0?void 0:v.onClick)===null||O===void 0||O.call(v,T),R(T)},key:"enterButton"},se?{className:Z,size:_}:{})):F=c.createElement(Nt,{className:Z,type:a?"primary":void 0,size:_,disabled:f,key:"enterButton",onMouseDown:x,onClick:R,loading:d,icon:L},a),u&&(F=[F,at(u,{key:"addonAfter"})]);const Ie=pe(D,{[`${D}-rtl`]:E==="rtl",[`${D}-${_}`]:!!_,[`${D}-with-button`]:!!a},o),Pe=T=>{S.current=!0,l==null||l(T)},_e=T=>{S.current=!1,p==null||p(T)};return c.createElement(ve,Object.assign({ref:Rt(k,e),onPressEnter:G},h,{size:_,onCompositionStart:Pe,onCompositionEnd:_e,prefixCls:A,addonAfter:F,suffix:s,onChange:$,className:Ie,disabled:f}))}),On=Sn,Q=ve;Q.Group=Wr;Q.Search=On;Q.TextArea=Er;Q.Password=mn;Q.OTP=tn;const ms=Q;var Mt={exports:{}},At={},Lt={exports:{}},jt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X=c;function Dn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:Dn,En=X.useState,Tn=X.useEffect,bn=X.useLayoutEffect,wn=X.useDebugValue;function In(t,e){var r=e(),n=En({inst:{value:r,getSnapshot:e}}),o=n[0].inst,i=n[1];return bn(function(){o.value=r,o.getSnapshot=e,xe(o)&&i({inst:o})},[t,r,e]),Tn(function(){return xe(o)&&i({inst:o}),t(function(){xe(o)&&i({inst:o})})},[t]),wn(r),r}function xe(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Cn(t,r)}catch{return!0}}function Pn(t,e){return e()}var _n=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Pn:In;jt.useSyncExternalStore=X.useSyncExternalStore!==void 0?X.useSyncExternalStore:_n;Lt.exports=jt;var xn=Lt.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var me=c,Rn=xn;function Nn(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:Nn,An=Rn.useSyncExternalStore,Ln=me.useRef,jn=me.useEffect,kn=me.useMemo,zn=me.useDebugValue;At.useSyncExternalStoreWithSelector=function(t,e,r,n,o){var i=Ln(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=kn(function(){function u(l){if(!d){if(d=!0,f=l,l=n(l),o!==void 0&&s.hasValue){var p=s.value;if(o(p,l))return g=p}return g=l}if(p=g,Mn(f,l))return p;var h=n(l);return o!==void 0&&o(p,h)?p:(f=l,g=h)}var d=!1,f,g,m=r===void 0?null:r;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,r,n,o]);var a=An(t,i[0],i[1]);return jn(function(){s.hasValue=!0,s.value=a},[a]),zn(a),a};Mt.exports=At;var $n=Mt.exports;const Fn=Ke($n);var Hn={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const lt=t=>{let e;const r=new Set,n=(f,g)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const l=e;e=g??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(p=>p(e,l))}},o=()=>e,u={setState:n,getState:o,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(Hn?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=e=t(n,o,u);return u},Un=t=>t?lt(t):lt;var qn=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(o of e.entries())if(!r.has(o[0]))return!1;for(o of e.entries())if(!t(o[1],r.get(o[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(o of e.entries())if(!r.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(e[o]!==r[o])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var s=i[o];if(!(s==="_owner"&&e.$$typeof)&&!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const ys=Ke(qn);var kt=Symbol.for("immer-nothing"),ft=Symbol.for("immer-draftable"),I=Symbol.for("immer-state");function j(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Y=Object.getPrototypeOf;function K(t){return!!t&&!!t[I]}function q(t){var e;return t?zt(t)||Array.isArray(t)||!!t[ft]||!!((e=t.constructor)!=null&&e[ft])||Se(t)||Oe(t):!1}var Bn=Object.prototype.constructor.toString();function zt(t){if(!t||typeof t!="object")return!1;const e=Y(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Bn}function fe(t,e){ye(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function ye(t){const e=t[I];return e?e.type_:Array.isArray(t)?1:Se(t)?2:Oe(t)?3:0}function $e(t,e){return ye(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $t(t,e,r){const n=ye(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Vn(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Se(t){return t instanceof Map}function Oe(t){return t instanceof Set}function U(t){return t.copy_||t.base_}function Fe(t,e){if(Se(t))return new Map(t);if(Oe(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=zt(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[I];let o=Reflect.ownKeys(n);for(let i=0;i<o.length;i++){const s=o[i],a=n[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Y(t),n)}else{const n=Y(t);if(n!==null&&r)return{...t};const o=Object.create(n);return Object.assign(o,t)}}function Qe(t,e=!1){return De(t)||K(t)||!q(t)||(ye(t)>1&&(t.set=t.add=t.clear=t.delete=Gn),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Qe(n,!0))),t}function Gn(){j(2)}function De(t){return Object.isFrozen(t)}var Wn={};function B(t){const e=Wn[t];return e||j(0,t),e}var re;function Ft(){return re}function Xn(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dt(t,e){e&&(B("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function He(t){Ue(t),t.drafts_.forEach(Yn),t.drafts_=null}function Ue(t){t===re&&(re=t.parent_)}function gt(t){return re=Xn(re,t)}function Yn(t){const e=t[I];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ht(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[I].modified_&&(He(e),j(4)),q(t)&&(t=de(e,t),e.parent_||ge(e,t)),e.patches_&&B("Patches").generateReplacementPatches_(r[I].base_,t,e.patches_,e.inversePatches_)):t=de(e,r,[]),He(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kt?t:void 0}function de(t,e,r){if(De(e))return e;const n=e[I];if(!n)return fe(e,(o,i)=>pt(t,n,e,o,i,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return ge(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let i=o,s=!1;n.type_===3&&(i=new Set(o),o.clear(),s=!0),fe(i,(a,u)=>pt(t,n,o,a,u,r,s)),ge(t,o,!1),r&&t.patches_&&B("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function pt(t,e,r,n,o,i,s){if(K(o)){const a=i&&e&&e.type_!==3&&!$e(e.assigned_,n)?i.concat(n):void 0,u=de(t,o,a);if($t(r,n,u),K(u))t.canAutoFreeze_=!1;else return}else s&&r.add(o);if(q(o)&&!De(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;de(t,o),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&ge(t,o)}}function ge(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Qe(e,r)}function Kn(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:Ft(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,i=Je;r&&(o=[n],i=ne);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return n.draft_=a,n.revoke_=s,a}var Je={get(t,e){if(e===I)return t;const r=U(t);if(!$e(r,e))return Qn(t,r,e);const n=r[e];return t.finalized_||!q(n)?n:n===Re(t.base_,e)?(Ne(t),t.copy_[e]=Be(n,t)):n},has(t,e){return e in U(t)},ownKeys(t){return Reflect.ownKeys(U(t))},set(t,e,r){const n=Ht(U(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const o=Re(U(t),e),i=o==null?void 0:o[I];if(i&&i.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Vn(r,o)&&(r!==void 0||$e(t.base_,e)))return!0;Ne(t),qe(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Re(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ne(t),qe(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=U(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){j(11)},getPrototypeOf(t){return Y(t.base_)},setPrototypeOf(){j(12)}},ne={};fe(Je,(t,e)=>{ne[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ne.deleteProperty=function(t,e){return ne.set.call(this,t,e,void 0)};ne.set=function(t,e,r){return Je.set.call(this,t[0],e,r,t[0])};function Re(t,e){const r=t[I];return(r?U(r):t)[e]}function Qn(t,e,r){var o;const n=Ht(e,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(t.draft_):void 0}function Ht(t,e){if(!(e in t))return;let r=Y(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Y(r)}}function qe(t){t.modified_||(t.modified_=!0,t.parent_&&qe(t.parent_))}function Ne(t){t.copy_||(t.copy_=Fe(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Jn=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const i=r;r=e;const s=this;return function(u=i,...d){return s.produce(u,f=>r.call(this,f,...d))}}typeof r!="function"&&j(6),n!==void 0&&typeof n!="function"&&j(7);let o;if(q(e)){const i=gt(this),s=Be(e,void 0);let a=!0;try{o=r(s),a=!1}finally{a?He(i):Ue(i)}return dt(i,n),ht(o,i)}else if(!e||typeof e!="object"){if(o=r(e),o===void 0&&(o=e),o===kt&&(o=void 0),this.autoFreeze_&&Qe(o,!0),n){const i=[],s=[];B("Patches").generateReplacementPatches_(e,o,i,s),n(i,s)}return o}else j(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,u=>e(u,...a));let n,o;return[this.produce(e,r,(s,a)=>{n=s,o=a}),n,o]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){q(t)||j(8),K(t)&&(t=Zn(t));const e=gt(this),r=Be(t,void 0);return r[I].isManual_=!0,Ue(e),r}finishDraft(t,e){const r=t&&t[I];(!r||!r.isManual_)&&j(9);const{scope_:n}=r;return dt(n,e),ht(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const o=e[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(e=e.slice(r+1));const n=B("Patches").applyPatches_;return K(t)?n(t,e):this.produce(t,o=>n(o,e))}};function Be(t,e){const r=Se(t)?B("MapSet").proxyMap_(t,e):Oe(t)?B("MapSet").proxySet_(t,e):Kn(t,e);return(e?e.scope_:Ft()).drafts_.push(r),r}function Zn(t){return K(t)||j(10,t),Ut(t)}function Ut(t){if(!q(t)||De(t))return t;const e=t[I];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Fe(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Fe(t,!0);return fe(r,(n,o)=>{$t(r,n,Ut(o))}),e&&(e.finalized_=!1),r}var P=new Jn,Ss=P.produce;P.produceWithPatches.bind(P);P.setAutoFreeze.bind(P);P.setUseStrictShallowCopy.bind(P);P.applyPatches.bind(P);P.createDraft.bind(P);P.finishDraft.bind(P);var qt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const{useDebugValue:eo}=cr,{useSyncExternalStoreWithSelector:to}=Fn;let vt=!1;const ro=t=>t;function no(t,e=ro,r){(qt?"production":void 0)!=="production"&&r&&!vt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),vt=!0);const n=to(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return eo(n),n}const mt=t=>{(qt?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Un(t):t,r=(n,o)=>no(e,n,o);return Object.assign(r,e),r},Os=t=>t?mt(t):mt;function N(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var yt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Me=function(){return Math.random().toString(36).substring(7).split("").join(".")},St={INIT:"@@redux/INIT"+Me(),REPLACE:"@@redux/REPLACE"+Me(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Me()}};function oo(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Bt(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(N(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(N(1));return r(Bt)(t,e)}if(typeof t!="function")throw new Error(N(2));var o=t,i=e,s=[],a=s,u=!1;function d(){a===s&&(a=s.slice())}function f(){if(u)throw new Error(N(3));return i}function g(h){if(typeof h!="function")throw new Error(N(4));if(u)throw new Error(N(5));var C=!0;return d(),a.push(h),function(){if(C){if(u)throw new Error(N(6));C=!1,d();var S=a.indexOf(h);a.splice(S,1),s=null}}}function m(h){if(!oo(h))throw new Error(N(7));if(typeof h.type>"u")throw new Error(N(8));if(u)throw new Error(N(9));try{u=!0,i=o(i,h)}finally{u=!1}for(var C=s=a,E=0;E<C.length;E++){var S=C[E];S()}return h}function l(h){if(typeof h!="function")throw new Error(N(10));o=h,m({type:St.REPLACE})}function p(){var h,C=g;return h={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(N(11));function D(){S.next&&S.next(f())}D();var A=C(D);return{unsubscribe:A}}},h[yt]=function(){return this},h}return m({type:St.INIT}),n={dispatch:m,subscribe:g,getState:f,replaceReducer:l},n[yt]=p,n}function y(t,e,...r){if(io()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let n;if(e===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;n=new Error(e.replace(/%s/g,function(){return r[o++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function io(){return typeof process<"u"&&!0}function so(t,e,r){return e.split(".").reduce((n,o)=>n&&n[o]?n[o]:r||null,t)}function ao(t,e){return t.filter(r=>r!==e)}function Vt(t){return typeof t=="object"}function co(t,e){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};t.forEach(n),e.forEach(n);const o=[];return r.forEach((i,s)=>{i===1&&o.push(s)}),o}function uo(t,e){return t.filter(r=>e.indexOf(r)>-1)}const Ze="dnd-core/INIT_COORDS",Ce="dnd-core/BEGIN_DRAG",et="dnd-core/PUBLISH_DRAG_SOURCE",Ee="dnd-core/HOVER",Te="dnd-core/DROP",be="dnd-core/END_DRAG";function Ot(t,e){return{type:Ze,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const lo={type:Ze,payload:{clientOffset:null,sourceClientOffset:null}};function fo(t){return function(r=[],n={publishSource:!0}){const{publishSource:o=!0,clientOffset:i,getSourceClientOffset:s}=n,a=t.getMonitor(),u=t.getRegistry();t.dispatch(Ot(i)),go(r,a,u);const d=vo(r,a);if(d==null){t.dispatch(lo);return}let f=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");ho(s),f=s(d)}t.dispatch(Ot(i,f));const m=u.getSource(d).beginDrag(a,d);if(m==null)return;po(m),u.pinSource(d);const l=u.getSourceType(d);return{type:Ce,payload:{itemType:l,item:m,sourceId:d,clientOffset:i||null,sourceClientOffset:f||null,isSourcePublic:!!o}}}}function go(t,e,r){y(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){y(r.getSource(n),"Expected sourceIds to be registered.")})}function ho(t){y(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function po(t){y(Vt(t),"Item must be an object.")}function vo(t,e){let r=null;for(let n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function mo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){mo(t,o,r[o])})}return t}function So(t){return function(r={}){const n=t.getMonitor(),o=t.getRegistry();Oo(n),Eo(n).forEach((s,a)=>{const u=Do(s,a,o,n),d={type:Te,payload:{dropResult:yo({},r,u)}};t.dispatch(d)})}}function Oo(t){y(t.isDragging(),"Cannot call drop while not dragging."),y(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Do(t,e,r,n){const o=r.getTarget(t);let i=o?o.drop(n,t):void 0;return Co(i),typeof i>"u"&&(i=e===0?{}:n.getDropResult()),i}function Co(t){y(typeof t>"u"||Vt(t),"Drop result must either be an object or undefined.")}function Eo(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function To(t){return function(){const r=t.getMonitor(),n=t.getRegistry();bo(r);const o=r.getSourceId();return o!=null&&(n.getSource(o,!0).endDrag(r,o),n.unpinSource()),{type:be}}}function bo(t){y(t.isDragging(),"Cannot call endDrag while not dragging.")}function Ve(t,e){return e===null?t===null:Array.isArray(t)?t.some(r=>r===e):t===e}function wo(t){return function(r,{clientOffset:n}={}){Io(r);const o=r.slice(0),i=t.getMonitor(),s=t.getRegistry(),a=i.getItemType();return _o(o,s,a),Po(o,i,s),xo(o,i,s),{type:Ee,payload:{targetIds:o,clientOffset:n||null}}}}function Io(t){y(Array.isArray(t),"Expected targetIds to be an array.")}function Po(t,e,r){y(e.isDragging(),"Cannot call hover while not dragging."),y(!e.didDrop(),"Cannot call hover after drop.");for(let n=0;n<t.length;n++){const o=t[n];y(t.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(o);y(i,"Expected targetIds to be registered.")}}function _o(t,e,r){for(let n=t.length-1;n>=0;n--){const o=t[n],i=e.getTargetType(o);Ve(i,r)||t.splice(n,1)}}function xo(t,e,r){t.forEach(function(n){r.getTarget(n).hover(e,n)})}function Ro(t){return function(){if(t.getMonitor().isDragging())return{type:et}}}function No(t){return{beginDrag:fo(t),publishDragSource:Ro(t),hover:wo(t),drop:So(t),endDrag:To(t)}}class Mo{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store;function n(i){return(...s)=>{const a=i.apply(e,s);typeof a<"u"&&r(a)}}const o=No(this);return Object.keys(o).reduce((i,s)=>{const a=o[s];return i[s]=n(a),i},{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function Ao(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Gt(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lo(t){const{clientOffset:e,initialClientOffset:r,initialSourceClientOffset:n}=t;return!e||!r||!n?null:Gt(Ao(e,n),r)}function jo(t){const{clientOffset:e,initialClientOffset:r}=t;return!e||!r?null:Gt(e,r)}const te=[],tt=[];te.__IS_NONE__=!0;tt.__IS_ALL__=!0;function ko(t,e){return t===te?!1:t===tt||typeof e>"u"?!0:uo(e,t).length>0}class zo{subscribeToStateChange(e,r={}){const{handlerIds:n}=r;y(typeof e=="function","listener must be a function."),y(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const i=()=>{const s=this.store.getState(),a=s.stateId;try{a===o||a===o+1&&!ko(s.dirtyHandlerIds,n)||e()}finally{o=a}};return this.store.subscribe(i)}subscribeToOffsetChange(e){y(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const o=this.store.getState().dragOffset;o!==r&&(r=o,e())};return this.store.subscribe(n)}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return y(r,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);if(y(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(e),o=this.getItemType();return Ve(n,o)&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);if(y(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(e),o=this.getItemType();return n!==o?!1:r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),i=this.getItemType();if(i&&!Ve(o,i))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(e);return n?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Lo(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return jo(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const Dt=typeof global<"u"?global:self,Wt=Dt.MutationObserver||Dt.WebKitMutationObserver;function Xt(t){return function(){const r=setTimeout(o,0),n=setInterval(o,50);function o(){clearTimeout(r),clearInterval(n),t()}}}function $o(t){let e=1;const r=new Wt(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const Fo=typeof Wt=="function"?$o:Xt;class Ho{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,o=e.length-this.index;n<o;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Fo(this.flush),this.requestErrorThrow=Xt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Uo{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class qo{create(e){const r=this.freeTasks,n=r.length?r.pop():new Uo(this.onError,o=>r[r.length]=o);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Yt=new Ho,Bo=new qo(Yt.registerPendingError);function Vo(t){Yt.enqueueTask(Bo.create(t))}const rt="dnd-core/ADD_SOURCE",nt="dnd-core/ADD_TARGET",ot="dnd-core/REMOVE_SOURCE",we="dnd-core/REMOVE_TARGET";function Go(t){return{type:rt,payload:{sourceId:t}}}function Wo(t){return{type:nt,payload:{targetId:t}}}function Xo(t){return{type:ot,payload:{sourceId:t}}}function Yo(t){return{type:we,payload:{targetId:t}}}function Ko(t){y(typeof t.canDrag=="function","Expected canDrag to be a function."),y(typeof t.beginDrag=="function","Expected beginDrag to be a function."),y(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Qo(t){y(typeof t.canDrop=="function","Expected canDrop to be a function."),y(typeof t.hover=="function","Expected hover to be a function."),y(typeof t.drop=="function","Expected beginDrag to be a function.")}function Ge(t,e){if(e&&Array.isArray(t)){t.forEach(r=>Ge(r,!1));return}y(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var M;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(M||(M={}));let Jo=0;function Zo(){return Jo++}function ei(t){const e=Zo().toString();switch(t){case M.SOURCE:return`S${e}`;case M.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Ct(t){switch(t[0]){case"S":return M.SOURCE;case"T":return M.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Et(t,e){const r=t.entries();let n=!1;do{const{done:o,value:[,i]}=r.next();if(i===e)return!0;n=!!o}while(!n);return!1}class ti{addSource(e,r){Ge(e),Ko(r);const n=this.addHandler(M.SOURCE,e,r);return this.store.dispatch(Go(n)),n}addTarget(e,r){Ge(e,!0),Qo(r);const n=this.addHandler(M.TARGET,e,r);return this.store.dispatch(Wo(n)),n}containsHandler(e){return Et(this.dragSources,e)||Et(this.dropTargets,e)}getSource(e,r=!1){return y(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return y(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return y(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return y(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Ct(e)===M.SOURCE}isTargetId(e){return Ct(e)===M.TARGET}removeSource(e){y(this.getSource(e),"Expected an existing source."),this.store.dispatch(Xo(e)),Vo(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){y(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Yo(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);y(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){y(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,n){const o=ei(e);return this.types.set(o,r),e===M.SOURCE?this.dragSources.set(o,n):e===M.TARGET&&this.dropTargets.set(o,n),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const ri=(t,e)=>t===e;function ni(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function oi(t,e,r=ri){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function ii(t=te,e){switch(e.type){case Ee:break;case rt:case nt:case we:case ot:return te;case Ce:case et:case be:case Te:default:return tt}const{targetIds:r=[],prevTargetIds:n=[]}=e.payload,o=co(r,n);if(!(o.length>0||!oi(r,n)))return te;const s=n[n.length-1],a=r[r.length-1];return s!==a&&(s&&o.push(s),a&&o.push(a)),o}function si(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){si(t,o,r[o])})}return t}const Tt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ci(t=Tt,e){const{payload:r}=e;switch(e.type){case Ze:case Ce:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Ee:return ni(t.clientOffset,r.clientOffset)?t:ai({},t,{clientOffset:r.clientOffset});case be:case Te:return Tt;default:return t}}function ui(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){ui(t,o,r[o])})}return t}const li={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function fi(t=li,e){const{payload:r}=e;switch(e.type){case Ce:return W({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case et:return W({},t,{isSourcePublic:!0});case Ee:return W({},t,{targetIds:r.targetIds});case we:return t.targetIds.indexOf(r.targetId)===-1?t:W({},t,{targetIds:ao(t.targetIds,r.targetId)});case Te:return W({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case be:return W({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function di(t=0,e){switch(e.type){case rt:case nt:return t+1;case ot:case we:return t-1;default:return t}}function gi(t=0){return t+1}function hi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){hi(t,o,r[o])})}return t}function vi(t={},e){return{dirtyHandlerIds:ii(t.dirtyHandlerIds,{type:e.type,payload:pi({},e.payload,{prevTargetIds:so(t,"dragOperation.targetIds",[])})}),dragOffset:ci(t.dragOffset,e),refCount:di(t.refCount,e),dragOperation:fi(t.dragOperation,e),stateId:gi(t.stateId)}}function mi(t,e=void 0,r={},n=!1){const o=yi(n),i=new zo(o,new ti(o)),s=new Mo(o,i),a=t(s,e,r);return s.receiveBackend(a),s}function yi(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Bt(vi,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Kt(t){let e=null;return()=>(e==null&&(e=t()),e)}function Si(t,e){return t.filter(r=>r!==e)}function Oi(t,e){const r=new Set,n=i=>r.add(i);t.forEach(n),e.forEach(n);const o=[];return r.forEach(i=>o.push(i)),o}class Di{enter(e){const r=this.entered.length,n=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=Oi(this.entered.filter(n),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;return this.entered=Si(this.entered.filter(this.isNodeInDocument),e),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Ci{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const o=this.config.exposeProperties[n];o!=null&&(r[n]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Qt="__NATIVE_FILE__",Jt="__NATIVE_URL__",Zt="__NATIVE_TEXT__",er="__NATIVE_HTML__",bt=Object.freeze(Object.defineProperty({__proto__:null,FILE:Qt,HTML:er,TEXT:Zt,URL:Jt},Symbol.toStringTag,{value:"Module"}));function Ae(t,e,r){const n=e.reduce((o,i)=>o||t.getData(i),"");return n??r}const We={[Qt]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[er]:{exposeProperties:{html:(t,e)=>Ae(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Jt]:{exposeProperties:{urls:(t,e)=>Ae(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Zt]:{exposeProperties:{text:(t,e)=>Ae(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Ei(t,e){const r=We[t];if(!r)throw new Error(`native type ${t} has no configuration`);const n=new Ci(r);return n.loadDataTransfer(e),n}function Le(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(We).filter(r=>{const n=We[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const Ti=Kt(()=>/firefox/i.test(navigator.userAgent)),tr=Kt(()=>!!window.safari);class wt{interpolate(e){const{xs:r,ys:n,c1s:o,c2s:i,c3s:s}=this;let a=r.length-1;if(e===r[a])return n[a];let u=0,d=s.length-1,f;for(;u<=d;){f=Math.floor(.5*(u+d));const l=r[f];if(l<e)u=f+1;else if(l>e)d=f-1;else return n[f]}a=Math.max(0,d);const g=e-r[a],m=g*g;return n[a]+o[a]*g+i[a]*m+s[a]*g*m}constructor(e,r){const{length:n}=e,o=[];for(let l=0;l<n;l++)o.push(l);o.sort((l,p)=>e[l]<e[p]?-1:1);const i=[],s=[];let a,u;for(let l=0;l<n-1;l++)a=e[l+1]-e[l],u=r[l+1]-r[l],i.push(a),s.push(u/a);const d=[s[0]];for(let l=0;l<i.length-1;l++){const p=s[l],h=s[l+1];if(p*h<=0)d.push(0);else{a=i[l];const C=i[l+1],E=a+C;d.push(3*E/((E+C)/p+(E+a)/h))}}d.push(s[s.length-1]);const f=[],g=[];let m;for(let l=0;l<d.length-1;l++){m=s[l];const p=d[l],h=1/i[l],C=p+d[l+1]-m-m;f.push((m-p-C)*h),g.push(C*h*h)}this.xs=e,this.ys=r,this.c1s=d,this.c2s=f,this.c3s=g}}const bi=1;function rr(t){const e=t.nodeType===bi?t:t.parentElement;if(!e)return null;const{top:r,left:n}=e.getBoundingClientRect();return{x:n,y:r}}function ce(t){return{x:t.clientX,y:t.clientY}}function wi(t){var e;return t.nodeName==="IMG"&&(Ti()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function Ii(t,e,r,n){let o=t?e.width:r,i=t?e.height:n;return tr()&&t&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}function Pi(t,e,r,n,o){const i=wi(e),a=rr(i?t:e),u={x:r.x-a.x,y:r.y-a.y},{offsetWidth:d,offsetHeight:f}=t,{anchorX:g,anchorY:m}=n,{dragPreviewWidth:l,dragPreviewHeight:p}=Ii(i,e,d,f),h=()=>{let _=new wt([0,.5,1],[u.y,u.y/f*p,u.y+p-f]).interpolate(m);return tr()&&i&&(_+=(window.devicePixelRatio-1)*p),_},C=()=>new wt([0,.5,1],[u.x,u.x/d*l,u.x+l-d]).interpolate(g),{offsetX:E,offsetY:S}=o,D=E===0||E,A=S===0||S;return{x:D?E:C(),y:A?S:h()}}class _i{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,r){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=r}}function xi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable}))),n.forEach(function(o){xi(t,o,r[o])})}return t}class Ri{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,r,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,n){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,n);const o=s=>this.handleDragStart(s,e),i=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",o),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",o),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const n=s=>this.handleDragEnter(s,e),o=s=>this.handleDragOver(s,e),i=s=>this.handleDrop(s,e);return r.addEventListener("dragenter",n),r.addEventListener("dragover",o),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",o),r.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return It({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(e);return It({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(bt).some(r=>bt[r]===e)}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Ei(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const i=this.sourceNodes.get(o);return i&&rr(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const s=ce(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=o,u=Le(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const f=this.monitor.getSourceId(),g=this.sourceNodes.get(f),m=this.sourcePreviewNodes.get(f)||g;if(m){const{anchorX:l,anchorY:p,offsetX:h,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),D=Pi(g,m,s,{anchorX:l,anchorY:p},{offsetX:h,offsetY:C});a.setDragImage(m,D.x,D.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(u)this.beginDragNativeItem(u);else{if(a&&!a.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:a}=o,u=Le(a);u&&this.beginDragNativeItem(u,a)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,i.length>0&&this.actions.hover(i,{clientOffset:ce(o)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=ce(o),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;o.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(o.dataTransfer)}else Le(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:ce(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const i=o.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(o.preventDefault(),i.dragDrop()))},this.options=new _i(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Di(this.isNodeInDocument)}}const Ds=function(e,r,n){return new Ri(e,r,n)},nr=c.createContext({dragDropManager:void 0});function Ni(t,e){if(t==null)return{};var r=Mi(t,e),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Mi(t,e){if(t==null)return{};var r={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(e.indexOf(o)>=0)&&(r[o]=t[o]);return r}let Pt=0;const ue=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Cs=c.memo(function(e){var{children:r}=e,n=Ni(e,["children"]);const[o,i]=Ai(n);return c.useEffect(()=>{if(i){const s=or();return++Pt,()=>{--Pt===0&&(s[ue]=null)}}},[]),Tr.jsx(nr.Provider,{value:o,children:r})});function Ai(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=Li(t.backend,t.context,t.options,t.debugMode),r=!t.context;return[e,r]}function Li(t,e=or(),r,n){const o=e;return o[ue]||(o[ue]={dragDropManager:mi(t,e,r,n)}),o[ue]}function or(){return typeof global<"u"?global:window}var ji=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var s=i[o];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r};const ki=Ke(ji),V=typeof window<"u"?c.useLayoutEffect:c.useEffect;function zi(t,e,r){const[n,o]=c.useState(()=>e(t)),i=c.useCallback(()=>{const s=e(t);ki(n,s)||(o(s),r&&r())},[n,t,r]);return V(i),[n,i]}function $i(t,e,r){const[n,o]=zi(t,e,r);return V(function(){const s=t.getHandlerId();if(s!=null)return t.subscribeToStateChange(o,{handlerIds:[s]})},[t,o]),n}function ir(t,e,r){return $i(e,t||(()=>({})),()=>r.reconnect())}function sr(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),c.useMemo(()=>typeof t=="function"?t():t,r)}function Fi(t){return c.useMemo(()=>t.hooks.dragSource(),[t])}function Hi(t){return c.useMemo(()=>t.hooks.dragPreview(),[t])}let je=!1,ke=!1;class Ui{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){y(!je,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return je=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{je=!1}}isDragging(){if(!this.sourceId)return!1;y(!ke,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ke=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ke=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let ze=!1;class qi{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;y(!ze,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ze=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ze=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Bi(t,e,r){const n=r.getRegistry(),o=n.addTarget(t,e);return[o,()=>n.removeTarget(o)]}function Vi(t,e,r){const n=r.getRegistry(),o=n.addSource(t,e);return[o,()=>n.removeSource(o)]}function Xe(t,e,r,n){let o=r?r.call(n,t,e):void 0;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let u=0;u<i.length;u++){const d=i[u];if(!a(d))return!1;const f=t[d],g=e[d];if(o=r?r.call(n,f,g,d):void 0,o===!1||o===void 0&&f!==g)return!1}return!0}function Ye(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Gi(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function Wi(t){return(e=null,r=null)=>{if(!c.isValidElement(e)){const i=e;return t(i,r),i}const n=e;return Gi(n),Xi(n,r?i=>t(i,r):t)}}function ar(t){const e={};return Object.keys(t).forEach(r=>{const n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const o=Wi(n);e[r]=()=>o}}),e}function _t(t,e){typeof t=="function"?t(e):t.current=e}function Xi(t,e){const r=t.ref;return y(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?c.cloneElement(t,{ref:n=>{_t(r,n),_t(e,n)}}):c.cloneElement(t,{ref:e})}class Yi{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Xe(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Xe(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=ar({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Ye(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Ye(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Ki{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Xe(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=ar({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Ye(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function J(){const{dragDropManager:t}=c.useContext(nr);return y(t!=null,"Expected drag drop context"),t}function Qi(t,e){const r=J(),n=c.useMemo(()=>new Yi(r.getBackend()),[r]);return V(()=>(n.dragSourceOptions=t||null,n.reconnect(),()=>n.disconnectDragSource()),[n,t]),V(()=>(n.dragPreviewOptions=e||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,e]),n}function Ji(){const t=J();return c.useMemo(()=>new Ui(t),[t])}class Zi{beginDrag(){const e=this.spec,r=this.monitor;let n=null;return typeof e.item=="object"?n=e.item:typeof e.item=="function"?n=e.item(r):n={},n??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(r):!0}isDragging(e,r){const n=this.spec,o=this.monitor,{isDragging:i}=n;return i?i(o):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,n=this.connector,{end:o}=e;o&&o(r.getItem(),r),n.reconnect()}constructor(e,r,n){this.spec=e,this.monitor=r,this.connector=n}}function es(t,e,r){const n=c.useMemo(()=>new Zi(t,e,r),[e,r]);return c.useEffect(()=>{n.spec=t},[t]),n}function ts(t){return c.useMemo(()=>{const e=t.type;return y(e!=null,"spec.type must be defined"),e},[t])}function rs(t,e,r){const n=J(),o=es(t,e,r),i=ts(t);V(function(){if(i!=null){const[a,u]=Vi(i,o,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),u}},[n,e,r,o,i])}function Es(t,e){const r=sr(t,e);y(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Ji(),o=Qi(r.options,r.previewOptions);return rs(r,n,o),[ir(r.collect,n,o),Fi(o),Hi(o)]}function ns(t){return c.useMemo(()=>t.hooks.dropTarget(),[t])}function os(t){const e=J(),r=c.useMemo(()=>new Ki(e.getBackend()),[e]);return V(()=>(r.dropTargetOptions=t||null,r.reconnect(),()=>r.disconnectDropTarget()),[t]),r}function is(){const t=J();return c.useMemo(()=>new qi(t),[t])}function ss(t){const{accept:e}=t;return c.useMemo(()=>(y(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class as{canDrop(){const e=this.spec,r=this.monitor;return e.canDrop?e.canDrop(r.getItem(),r):!0}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function cs(t,e){const r=c.useMemo(()=>new as(t,e),[e]);return c.useEffect(()=>{r.spec=t},[t]),r}function us(t,e,r){const n=J(),o=cs(t,e),i=ss(t);V(function(){const[a,u]=Bi(i,o,n);return e.receiveHandlerId(a),r.receiveHandlerId(a),u},[n,e,o,r,i.map(s=>s.toString()).join("|")])}function Ts(t,e){const r=sr(t,e),n=is(),o=os(r.options);return us(r,n,o),[ir(r.collect,n,o),ns(o)]}export{ps as A,Cs as D,hs as E,Ds as H,ms as I,vs as P,Hr as S,Os as a,Es as b,mi as c,ki as d,ys as e,Fn as f,Un as g,Lr as h,Ss as p,Ts as u};
