import{r as a,R as Q}from"./index-uubelm5h.js";import{_ as U,u as Y,a as Z,c as $,b as A,d as T,C as L,F as ee,D as te,e as W,o as ae,f as F}from"./index-BDvOFeIn.js";import{_ as ne}from"./wrapNativeSuper-ezTqcbMv.js";import{T as le,W as re}from"./libs-CzXcnTAy.js";import{u as q}from"./dg-B28_aKi8.js";var se=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ce=a.forwardRef(function(e,f){var c=e.prefixCls,t=c===void 0?"rc-checkbox":c,s=e.className,V=e.style,h=e.checked,p=e.disabled,O=e.defaultChecked,g=O===void 0?!1:O,u=e.type,x=u===void 0?"checkbox":u,w=e.title,r=e.onChange,_=U(e,se),C=a.useRef(null),d=a.useRef(null),n=Y(g,{value:h}),E=Z(n,2),N=E[0],y=E[1];a.useImperativeHandle(f,function(){return{focus:function(i){var m;(m=C.current)===null||m===void 0||m.focus(i)},blur:function(){var i;(i=C.current)===null||i===void 0||i.blur()},input:C.current,nativeElement:d.current}});var v=$(t,s,A(A({},"".concat(t,"-checked"),N),"".concat(t,"-disabled"),p)),o=function(i){p||("checked"in e||y(i.target.checked),r?.({target:T(T({},e),{},{type:x,checked:i.target.checked}),stopPropagation:function(){i.stopPropagation()},preventDefault:function(){i.preventDefault()},nativeEvent:i.nativeEvent}))};return a.createElement("span",{className:v,title:w,style:V,ref:d},a.createElement("input",ne({},_,{className:"".concat(t,"-input"),ref:C,onChange:o,disabled:p,checked:!!N,type:x})),a.createElement("span",{className:"".concat(t,"-inner")}))});const z=Q.createContext(null);var oe=function(e,f){var c={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&f.indexOf(t)<0&&(c[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)f.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(c[t[s]]=e[t[s]]);return c};const ie=(e,f)=>{var c;const{prefixCls:t,className:s,rootClassName:V,children:h,indeterminate:p=!1,style:O,onMouseEnter:g,onMouseLeave:u,skipGroup:x=!1,disabled:w}=e,r=oe(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:_,direction:C,checkbox:d}=a.useContext(L),n=a.useContext(z),{isFormItemInput:E}=a.useContext(ee),N=a.useContext(te),y=(c=n?.disabled||w)!==null&&c!==void 0?c:N,v=a.useRef(r.value);a.useEffect(()=>{n?.registerValue(r.value)},[]),a.useEffect(()=>{if(!x)return r.value!==v.current&&(n?.cancelValue(v.current),n?.registerValue(r.value),v.current=r.value),()=>n?.cancelValue(r.value)},[r.value]);const o=_("checkbox",t),b=W(o),[i,m,j]=q(o,b),k=Object.assign({},r);n&&!x&&(k.onChange=function(){r.onChange&&r.onChange.apply(r,arguments),n.toggleOption&&n.toggleOption({label:h,value:r.value})},k.name=n.name,k.checked=n.value.includes(r.value));const R=$(`${o}-wrapper`,{[`${o}-rtl`]:C==="rtl",[`${o}-wrapper-checked`]:k.checked,[`${o}-wrapper-disabled`]:y,[`${o}-wrapper-in-form-item`]:E},d?.className,s,V,j,b,m),I=$({[`${o}-indeterminate`]:p},le,m),M=p?"mixed":void 0;return i(a.createElement(re,{component:"Checkbox",disabled:y},a.createElement("label",{className:R,style:Object.assign(Object.assign({},d?.style),O),onMouseEnter:g,onMouseLeave:u},a.createElement(ce,Object.assign({"aria-checked":M},k,{prefixCls:o,className:I,disabled:y,ref:f})),h!==void 0&&a.createElement("span",null,h))))},B=a.forwardRef(ie);var ue=function(e,f){var c={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&f.indexOf(t)<0&&(c[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)f.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(c[t[s]]=e[t[s]]);return c};const de=a.forwardRef((e,f)=>{const{defaultValue:c,children:t,options:s=[],prefixCls:V,className:h,rootClassName:p,style:O,onChange:g}=e,u=ue(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:x,direction:w}=a.useContext(L),[r,_]=a.useState(u.value||c||[]),[C,d]=a.useState([]);a.useEffect(()=>{"value"in u&&_(u.value||[])},[u.value]);const n=a.useMemo(()=>s.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l),[s]),E=l=>{d(P=>P.filter(S=>S!==l))},N=l=>{d(P=>[].concat(F(P),[l]))},y=l=>{const P=r.indexOf(l.value),S=F(r);P===-1?S.push(l.value):S.splice(P,1),"value"in u||_(S),g?.(S.filter(D=>C.includes(D)).sort((D,K)=>{const X=n.findIndex(G=>G.value===D),J=n.findIndex(G=>G.value===K);return X-J}))},v=x("checkbox",V),o=`${v}-group`,b=W(v),[i,m,j]=q(v,b),k=ae(u,["value","disabled"]),R=s.length?n.map(l=>a.createElement(B,{prefixCls:v,key:l.value.toString(),disabled:"disabled"in l?l.disabled:u.disabled,value:l.value,checked:r.includes(l.value),onChange:l.onChange,className:`${o}-item`,style:l.style,title:l.title,id:l.id,required:l.required},l.label)):t,I={toggleOption:y,value:r,disabled:u.disabled,name:u.name,registerValue:N,cancelValue:E},M=$(o,{[`${o}-rtl`]:w==="rtl"},h,p,j,b,m);return i(a.createElement("div",Object.assign({className:M,style:O},k,{ref:f}),a.createElement(z.Provider,{value:I},R)))}),H=B;H.Group=de;H.__ANT_CHECKBOX=!0;export{H as C};
